function e(a){throw a;}var i=!0,j=null,k=!1;function ca(a){return function(b){this[a]=b}}function l(a){return function(){return a}}
var n,q={xl:function(){try{var a=document.getElementById("login_password").value;if(4>document.getElementById("login_user_name").value.length)return o.B("User name is too short"),k;if(4>a.length)return o.B("Password is too short"),k;document.getElementById("login_password_md5").value=MD5(a);return i}catch(b){return da(b),k}},Ln:function(){try{q.xl()&&(o.qa(),ea("api/user.php",{UserName:document.getElementById("login_user_name").value,Password:document.getElementById("login_password_md5").value,Cookie:document.getElementById("login_cookie").checked},
new t(q.Pl,q),j))}catch(a){o.B(a)}},Pl:function(a){try{var b=u(a);g_settings.sessionId=b.session_id;g_settings.userId=b.user_id;g_settings.userData=b.user_data;document.getElementById("ix_login_form").style.display="none";document.getElementById("ix_logout_form").style.display="block";document.getElementById("ix_self_link").innerHTML=b.user_name;document.getElementById("ix_self_link").href="?user="+b.user_id;g_settings.isPlanner&&w.Jn();o.enable()}catch(c){o.B(c)}},Mn:function(){try{o.qa(),fa("php/interface/user/logout.php",
new t(q.Ql,q),j)}catch(a){o.B(a)}},Ql:function(){g_settings.sessionId="";g_settings.userId=0;g_settings.userName="";g_settings.userData=j;document.getElementById("ix_login_form").style.display="block";document.getElementById("ix_logout_form").style.display="none";g_settings.isPlanner&&w.Kn();o.enable()},Om:function(a){var b=ga("topic_title"),c=ga("topic_content"),d=ga("thread_type");2>b.length?o.B("The title of your post is too short!"):2>c.length?o.B("The content of your topic is too short!"):(document.getElementById("topic_submit").disabled=
i,o.qa(),ea("api/forum.php",{action:"new_thread",hook:a,title:b,type:d?d:"thread",content:c},new t(q.Il,q),j))},Il:function(a){try{u(a)}catch(b){o.B(b),document.getElementById("topic_submit").disabled=k}},Sm:function(a){confirm("Are you sure you want to delete this thread?")&&(o.qa(),ea("api/forum.php",{action:"delete_thread",thread:a},new t(q.Nl,q),j))},Nl:function(a){try{var b=u(a);window.location.href=ja()+b}catch(c){o.B(c)}},In:function(a){o.qa();ea("api/forum.php",{action:"lock_thread",thread:a},
new t(q.wj,q),j)},dp:function(a){o.qa();ea("api/forum.php",{action:"unlock_thread",thread:a},new t(q.wj,q),j)},wj:function(a){try{u(a),window.location.reload(i)}catch(b){o.B(b)}},Nm:function(a){var b=document.getElementById("reply_content").value;2>b.length?o.B("The content of your post is too short!"):(document.getElementById("reply_submit").disabled=i,o.qa(),ea("api/forum.php",{action:"reply",thread:a,content:b},new t(q.Hl,q),j))},Hl:function(a){try{u(a)}catch(b){o.B(b),document.getElementById("reply_submit").disabled=
k}},Mm:function(a){var b=document.getElementById("edit_content").value;2>b.length?o.B("The content of your post is too short!"):(document.getElementById("edit_submit").disabled=i,o.qa(),ea("api/forum.php",{action:"edit",post:a,content:b},new t(q.Gl,q),j))},Gl:function(a){try{u(a)}catch(b){o.B(b),document.getElementById("edit_submit").disabled=k}},Zo:function(a,b,c){b?new ka(a,b,"user_information_parent"):c&&(a=new la,a.Ga.t.Ri(k),a.Ga.A.S("ismine",i),a.Ga.set("ismine.eq.1;",j,j,1),a.Ga.update(),x("ui_profiles_parent",
a.Ga.t.b))},Qm:function(a,b){new ma(a,b)},$o:function(a,b,c,d,f){if(a){var g=new na;g.t.setProperty("setStaticLink",f);g.setData(a);c&&(g.set(c,"","",b),g.t.Ri(i));document.getElementById(d).appendChild(g.t.b);a=new y(["show_tooltip","move_tooltip","hide_tooltip","update"],new t(function(a){if(a.is("show_tooltip"))w.bl.call(w,a.get("entity").id);else if(a.is("move_tooltip"))o.move();else if(a.is("hide_tooltip"))o.hide();else if(a.is("update")){a=z("form",{method:"GET",action:""});A(a,"input",{name:"a",
value:g.Ja().replace(/\;/g,"_")});A(a,"input",{name:"p",value:g.page});A(a,"input",{name:"o",value:g.jd+"."+(g.je==oa?"asc":"desc")+"_"});a.submit()}},this));g.w(a)}},Dm:function(a,b,c){if(a){var d=new pa,c=document.getElementById(c),a=new qa(a);d.show(ra(a,j));x(b,d.u);d.u.style.position="relative";b=document.createElement("img");b.className="dbi_icon";b.src="/images/icons/large/"+a.q+".png";c.appendChild(b)}},Jm:function(){var a=$("[name=change_new_password]").val(),b=$("[name=change_user_id]").val();
o.qa();sa(ja()+"api/user.php",{UserId:b,Password:a},function(a){try{a.get(),o.enable(),$("#ui_pc_p").empty().append($("<div />",{"class":"fm_note",text:"Password successfully changed!"}))}catch(b){o.B(b)}})}};window.Chardev||(window.Chardev={validateLogin:q.xl,login:q.Ln,logout:q.Mn,checkTopic:q.Om,checkEdit:q.Mm,checkReply:q.Nm,deleteThread:q.Sm,lockThread:q.In,unlockThread:q.dp,showUserInformation:q.Zo,createAvatarPicker:q.Qm,staticItemList:q.$o,addItemTooltipTo:q.Dm,changePassword:q.Jm});function ta(){}
ta.prototype={hg:j,c:j,Ge:j,jc:j,nh:j,w:function(a){this.c.w(a)},Ye:function(a){this.c=new D;this.c.g("character_change",["character"]);this.c.g("logged_in",[]);this.c.g("logged_out",[]);this.nh=a;if(a.isPlanner){var b=new ua;this.Ge=new va(this,b);this.hg=new wa;this.hg.c.ca("character_change",this.c);var c=new xa;this.hg.zm(c);a.profile&&(c.load(a.profile),b.$d.show(ya));a.profileLoadError&&o.B(a.profileLoadError);document.getElementById("mtf_p").className="ix_center cp_mm_p";document.getElementById("mtf_p").appendChild(b.$d.Kg);document.getElementById("planner_parent").appendChild(b.b)}},
H:function(){return this.hg.H()},Jn:function(){this.c.fire("logged_in",{})},Kn:function(){this.c.fire("logged_out",{})},bl:function(a){o.show("Loading Tooltip...");this.jc={item:a};E.Id(a,new t(function(a){var c=E.get(a);c!=j&&this.jc!=j&&this.jc.item==a&&(o.Cb(ra(c,j)),this.jc=j)},this),[a])},Xo:function(a){o.show("Loading Tooltip...");this.jc={spell:a};F.Id(a,new t(function(a){var c=F.get(a);c!=j&&this.jc!=j&&this.jc.spell==a&&(o.Cb(za(c,j,0,j)),this.jc=j)},this),[a])}};var w=new ta;
window.__engine_init=function(a){w.Ye.call(w,a)};window.g_showItemTooltip=function(a){w.bl.call(w,a)};window.g_hideItemTooltip=function(){w.jc=j;o.hide()};window.g_showSpellTooltip=function(a){w.Xo.call(w,a)};function ea(a,b,c,d){var f=Ba();a||e(new Ca(a));d||(d=[]);a=-1==a.search(/\?/)?a+("?_="+(new Date).getTime()):a+("&_="+(new Date).getTime());f.open("POST",ja()+a,i);f.onreadystatechange=c?function(){Da(this,c,d,i)}:function(){};f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; Charset=utf-8");f.send(Ea(b))}function Ba(){var a=j;window.XMLHttpRequest?a=new XMLHttpRequest:window.ActiveXObject?a=new ActiveXObject("MSXML2.XMLHTTP.3.0"):e(new Fa);return a}
function fa(a,b,c){Ga(a,b,c,i)}function Ga(a,b,c,d){var f=Ba();a||e(new Ca(a));c||(c=[]);a=-1==a.search(/\?/)?a+("?_="+(new Date).getTime()):a+("&_="+(new Date).getTime());f.open("GET",ja()+a,i);f.onreadystatechange=b?function(){Da(this,b,c,d)}:function(){};f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; Charset=utf-8");f.send(j)}
function Da(a,b,c,d){4==a.readyState&&(!d&&200==a.status?((d=a.getResponseHeader("error"))&&e(new Ha(d)),c.splice(0,0,eval("("+a.responseText+")")),b.notify(c)):d?(c.splice(0,0,a),b.notify(c)):e(new Ia(a)))}function u(a){if(200==a.status){a.getResponseHeader("error")&&e(new Ha(eval("("+a.responseText+")")));if(""==a.responseText)return j;var b=eval("("+a.responseText+")");a.getResponseHeader("auto_redirect")&&(window.location.href=ja()+b.toString());return b}e(new Ia(a))}
function Ca(a){this.url=a}Ca.prototype={url:j};function Ia(a){this.response=a}Ia.prototype={response:j};function Fa(){}function Ha(a){this.message=a}Ha.prototype={message:"",toString:function(){return this.message}};function sa(a,b,c){$.post(a,b,function(a,b,g){c(new Ja(a,g))},"json")}function Ja(a,b){b.getResponseHeader("error")?this.Nj=i:b.getResponseHeader("auto_redirect")&&(window.location.href=a);this.Fh=a}Ja.prototype={Fh:j,Nj:k,get:function(){this.Nj&&e(Error(this.Fh));return this.Fh}};var Ma=[6,13,14,31,32,36,37,49],Na={"-1":-1,6:0,13:1,14:2,31:3,32:4,36:5,37:6,49:7},Oa={"0":32,1:13,2:37,3:36,4:31,5:49,6:14,7:6},Pa={"0":0,1:1,2:2,3:3,4:4,5:7,6:8,7:9,8:10,9:11,10:12,11:13,12:14,13:15,14:16,15:17,16:18},Qa={6:4,5:3,7:2,3:1,4:0},Ra={1:0,2:1,3:2,16:3,5:4,4:5,20:4,19:6,9:7,10:8,6:9,7:10,8:11,21:16,14:17,28:18,24:19,15:18,22:17,23:17,25:18,26:18},Sa="head,neck,shoulder,back,chest,shirt,tabard,wrist,hands,waist,legs,feet,finger1,finger2,trinket1,trinket2,mainHand,offHand,ranged".split(","),
Ta={164:"Blacksmithing",165:"Leatherworking",171:"Alchemy",182:"Herbalism",186:"Mining",197:"Tailoring",202:"Engineering",333:"Enchanting",393:"Skinning",755:"Jewelcrafting",773:"Inscription"};function Ua(a,b,c,d,f){var b=100*(0<b?b-1:11)+(f-1),g=f=0;return 0!=c&&b<Va.length?(f=Va[b]*c*a,g=f*d,[f-g/2,g]):j}function Wa(a,b,c,d){return a!=b&&0<c&&0<b&&0<a?(a=Math.min(b,a+(b-a)/c*(d-1)),[a,a/b]):j}
var Xa=[164,165,171,182,186,197,202,333,393,755,773],Ya="#bbbbbb,#FFFFFF,#00DD00,#40A0FF,#DD80FF,#FF8000,#E5CC80,#E5CC80".split(","),Za={"0":[0,0,0,0,0],1:[20,20,20,20,20],2:[23,17,21,17,22],3:[25,16,21,19,19],4:[16,24,20,20,20],5:[19,18,20,18,25],6:[25,16,21,16,22],7:[15,22,20,23,20],8:[21,22,21,16,21],9:[17,22,20,23,18],10:[17,22,20,23,18],11:[21,17,20,20,22],22:[23,22,20,16,19]},$a=[0,0,0.00652,-0.01532,-0.00295,0.031765,0,0.02922,0.03454,0.02622,0,0.074755],ab=[0,0,0.033355,0,0,0.012375,0,0.02201,
0.009075,0.017,0,0.018515],bb=[0,3.75955,3.65168-3,-5.43889,-0.588581,3.18783,3.66584,1.67504,3.47569,2.04144,0,4.97143],cb=[0,1,0,2,1,0,0,0,0,0,0,0],db=[0,1,0,2,1,0,0,0,0,0,0,0],eb=[0,-10,0,-20,-10,0,0,0,0,0,0,0],fb=[[0,0,0,0,0],[2,0,0,0,0],[2,0,0,0,0],[1,1,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[2,0,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[2,0,0,0,0]],gb=[2,2,0,0,0],hb=[2,2,0,0,0],ib=[2,0,0,0,0],jb=[5,5.5,6,8],kb=[24,24.5,25,27],lb=[4,5,6,17],mb=[5,5.5,6,8],nb=[5,5.5,6,14],ob=[5,5.5,6,6.5],
pb=[0,3,3,2,2,0,3,2,0,0,0,3],qb=[0.956,0.956,0.988,0.988,0.953,0.956,0.988,0.953,0.953,0,0.972],rb=[65.63144,65.63144,145.560408,145.560408,0,65.63144,145.560408,0,0,0,0],sb=[65.63144,65.63144,145.560408,145.560408,150.37594,65.63144,145.560408,150.37594,150.37594,0,116.890707],G=[[0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.144231,0.192308,0.240385,0.288462,0.336538,0.384615,0.432692,0.480769,0.528846,0.576923,0.625,0.673077,0.721154,0.769231,0.817308,
0.865385,0.913462,0.961538,1.00961,1.05769,1.10577,1.15385,1.20192,1.25,1.29808,1.34615,1.39423,1.44231,1.49039,1.53846,1.58654,1.63461,1.68269,1.73077,1.77885,1.82692,1.875,1.92308,1.97115,2.01923,2.06731,2.11539,2.16346,2.21154,2.25961,2.30769,2.35577,2.40385,2.45192,2.5,2.59494,2.69737,2.80822,2.92857,3.0597,3.20313,3.36066,3.53448,3.72727,3.94231,4.24173,4.56391,4.91054,5.28351,5.68481,6.11658,6.58115,7.08101,7.61883,8.1975,10.764,14.1349,18.5689,24.3818,32.0143,12.7186,13.6846,14.724,15.8423,
17.0456,18.3402,19.7332,21.232,22.8446,24.5797,26.4466,28.4553,30.6166,32.942,35.444],[0.0576922,0.0576922,0.0576922,0.0576922,0.0576923,0.0576923,0.0576923,0.0576922,0.0576922,0.0576922,0.0865385,0.115385,0.144231,0.173077,0.201923,0.230769,0.259615,0.288462,0.317308,0.346154,0.375,0.403846,0.432692,0.461538,0.490385,0.519231,0.548077,0.576923,0.605769,0.634615,0.663462,0.692308,0.721154,0.75,0.778846,0.807692,0.836538,0.865385,0.894231,0.923077,0.951923,0.980769,1.00961,1.03846,1.06731,1.09615,
1.125,1.15385,1.18269,1.21154,1.24039,1.26923,1.29808,1.32692,1.35577,1.38461,1.41346,1.44231,1.47115,1.5,1.55696,1.61842,1.68493,1.75714,1.83582,1.92188,2.01639,2.12069,2.23636,2.36539,2.54504,2.73834,2.94633,3.17011,3.41089,3.66995,3.94869,4.2486,4.5713,4.9185,6.4584,8.48096,11.1413,14.6291,19.2086,7.63117,8.21077,8.8344,9.5054,10.2274,11.0041,11.8399,12.7392,13.7068,14.7478,15.868,17.0732,18.3699,19.7652,21.2664],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,
0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,7.43077,7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,27.1062,
29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,195.651],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,7.43077,
7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,27.1062,29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,195.651],
[0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.398077,0.530769,0.663461,0.796154,0.928846,1.06154,1.19423,1.32692,1.45962,1.59231,1.725,1.85769,1.99038,2.12308,2.25577,2.38846,2.52115,2.65385,2.78654,2.91923,3.05192,3.18462,3.31731,3.45,3.58269,3.71538,3.84808,3.98077,4.11346,4.24615,4.37885,4.51154,4.64423,4.77692,4.90962,5.04231,5.175,5.30769,5.44038,5.57308,5.70577,5.83846,5.97115,6.10385,6.23654,6.36923,6.50192,6.63461,6.76731,6.9,7.16202,7.44474,
7.75069,8.08286,8.44478,8.84063,9.27541,9.75517,10.2873,10.8808,11.7072,12.5964,13.5531,14.5825,15.6901,16.8818,18.164,19.5436,21.028,22.6251,29.7087,39.0124,51.2501,67.2938,88.3594,35.1034,37.7696,40.6382,43.7248,47.0458,50.6191,54.4637,58.6004,63.0512,67.8401,72.9927,78.5367,84.5018,90.9199,97.8255],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,2.88594,
3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,7.5756,7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,55.2404,
59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,2.88594,3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,7.5756,
7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,55.2404,59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.461538,0.615385,
0.769231,0.923077,1.07692,1.23077,1.38461,1.53846,1.69231,1.84615,2,2.15385,2.30769,2.46154,2.61539,2.76923,2.92308,3.07692,3.23077,3.38461,3.53846,3.69231,3.84615,4,4.15385,4.30769,4.46154,4.61539,4.76923,4.92308,5.07692,5.23077,5.38461,5.53846,5.69231,5.84615,6,6.15385,6.30769,6.46154,6.61539,6.76923,6.92308,7.07692,7.23077,7.38461,7.53846,7.69231,7.84615,8,8.3038,8.63158,8.9863,9.37143,9.79105,10.25,10.7541,11.3103,11.9273,12.6154,13.5736,14.6045,15.7137,16.9072,18.1914,19.5731,21.0597,22.6592,
24.3803,26.232,34.4448,45.2318,59.4204,78.0218,102.446,40.6996,43.7908,47.1168,50.6954,54.5459,58.6888,63.1463,67.9425,73.1029,78.6552,84.6292,91.057,97.973,105.414,113.421],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,
9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,0.538462,
0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,
23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,
7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,
198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.459472,0.612629,0.765786,0.918944,1.0721,1.22526,1.37842,1.53157,1.68473,1.83789,1.99104,2.1442,
2.29736,2.45052,2.60367,2.75683,2.90999,3.06315,3.2163,3.36946,3.52262,3.67577,3.82893,3.98209,4.13525,4.2884,4.44156,4.59472,4.74788,4.90103,5.05419,5.20735,5.3605,5.51366,5.66682,5.81998,5.97313,6.12629,6.27945,6.43261,6.58576,6.73892,6.89208,7.04523,7.19839,7.35155,7.50471,7.65786,7.81102,7.96418,8.26661,8.59293,8.94606,9.32947,9.7472,10.2041,10.7059,11.2597,11.8739,12.5589,13.5128,14.5391,15.6434,16.8315,18.1099,19.4854,20.9654,22.5578,24.2711,26.1145,32.5965,40.6875,50.7868,63.3928,79.1278,45.582,
49.044,52.7691,56.777,61.0893,65.7292,70.7215,76.093,81.8724,88.0909,94.7816,101.98,109.726,118.06,127.027],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,
3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,
68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,
8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,
1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,
56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.135279,0.180372,0.225465,0.270557,0.315649,0.360742,0.405835,0.450928,0.496021,0.541114,0.586207,0.6313,0.676393,0.721486,0.766579,0.811672,0.856764,
0.901856,0.946949,0.992042,1.03714,1.08223,1.12732,1.17241,1.21751,1.2626,1.30769,1.35279,1.39788,1.44297,1.48806,1.53316,1.57825,1.62334,1.66844,1.71353,1.75862,1.80371,1.84881,1.8939,1.93899,1.98409,2.02918,2.07427,2.11936,2.16446,2.20955,2.25464,2.29974,2.34483,2.43387,2.52995,2.63392,2.7468,2.86979,3.00431,3.15206,3.3151,3.49593,3.69761,3.97846,4.28063,4.60575,4.95557,5.33196,5.73693,6.17267,6.6415,7.14594,7.68869,10.0959,13.2576,17.4163,22.8685,30.0272,11.9292,12.8352,13.8101,14.859,15.9876,
17.2019,18.5084,19.9142,21.4267,23.0541,24.8051,26.6891,28.7162,30.8973,33.244],[0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.270872,0.361163,0.451454,0.541745,0.632036,0.722326,0.812617,0.902908,0.993199,1.08349,1.17378,1.26407,1.35436,1.44465,1.53494,1.62523,1.71553,1.80582,1.89611,1.9864,2.07669,2.16698,2.25727,2.34756,2.43785,2.52814,2.61843,2.70872,2.79902,2.88931,2.9796,3.06989,3.16018,3.25047,3.34076,3.43105,3.52134,3.61163,3.70192,3.79221,3.8825,
3.9728,4.06309,4.15338,4.24367,4.33396,4.42425,4.51454,4.60483,4.69512,4.87342,5.06579,5.27397,5.5,5.74627,6.01563,6.31147,6.63793,7,7.40385,7.96619,8.57124,9.22224,9.9227,10.6763,11.4872,12.3597,13.2985,14.3085,15.3953,20.2153,26.5461,34.8732,45.7902,60.1244,23.8862,25.7004,27.6524,29.7527,32.0124,34.4439,37.06,39.8748,42.9034,46.162,49.6681,53.4405,57.4994,61.8666,66.5656],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,
1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,
60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],tb=[0.020979,0.020515,0.020079,0.019516,0.018997,0.018646,0.018314,0.017997,0.017584,0.017197,0.016551,0.015729,0.015229,0.01458,0.014008,
0.01365,0.013175,0.012832,0.012475,0.012073,0.01184,0.011494,0.011292,0.01099,0.010761,0.010546,0.010321,0.010151,0.009949,0.00974,0.009597,0.009425,0.009278,0.009123,0.008974,0.008847,0.008698,0.008581,0.008457,0.008338,0.008235,0.008113,0.008018,0.007906,0.007798,0.007713,0.007612,0.007524,0.00743,0.00734,0.007268,0.007184,0.007116,0.007029,0.006945,0.006884,0.006805,0.006747,0.006667,0.0066,0.006421,0.006314,0.006175,0.006072,0.005981,0.005885,0.005791,0.005732,0.005668,0.005596,0.005316,0.005049,
0.004796,0.004555,0.004327,0.00411,0.003903,0.003708,0.003522,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345],H={1:[6,8,4,5,8,8,9,3,2,1,1,1,21,31,51,77,27,42,68,102,22,34,55,83,24,37,60,89,19,29,47,70,15,24,38,57,17,26,43,64,12,18,30,45,14],2:[6,9,4,6,9,9,9,3,3,2,1,1,22,34,56,84,30,46,75,112,24,37,61,91,26,40,66,98,21,32,52,77,17,26,42,63,19,29,47,70,13,20,
33,49,15],3:[7,9,4,6,9,10,12,4,3,2,1,1,24,37,61,91,32,50,81,122,26,41,66,99,28,44,71,107,22,34,56,84,18,28,46,69,20,31,51,76,14,22,35,53,16],4:[7,10,5,6,10,11,12,4,3,2,1,1,26,40,65,98,35,54,87,131,28,44,71,106,31,47,76,115,24,37,60,90,20,30,49,74,22,34,54,82,15,24,38,57,18],5:[8,10,5,7,10,12,15,5,4,3,2,2,28,43,70,105,38,57,94,141,31,46,76,115,33,50,82,123,26,39,65,97,21,32,53,79,24,36,59,88,17,25,41,62,19],6:[8,11,5,7,11,12,15,5,4,3,2,2,30,46,75,113,40,61,100,150,33,50,81,122,35,53,88,131,28,42,69,
103,23,34,56,84,25,38,63,94,18,27,44,66,20],7:[9,11,6,7,11,13,18,6,4,3,2,3,32,49,80,120,43,65,106,160,35,53,86,130,38,57,93,140,30,45,73,110,24,37,60,90,27,41,66,100,19,28,46,70,22],8:[9,12,6,8,12,14,21,7,5,4,2,3,34,52,85,127,45,69,113,169,37,56,92,137,39,60,99,148,31,47,78,116,25,39,64,95,28,43,71,106,20,30,49,74,23],9:[10,13,6,8,13,15,21,7,5,4,2,3,36,55,89,134,48,73,119,179,39,59,97,145,42,64,104,157,33,50,82,123,27,41,67,101,30,46,74,112,21,32,52,78,24],10:[10,13,7,9,13,16,24,8,6,4,2,3,38,58,94,
141,50,77,125,188,41,63,102,153,44,67,109,165,34,53,86,129,28,43,70,106,31,48,78,118,22,34,55,82,25],11:[11,14,7,9,14,16,24,8,6,5,3,4,40,61,99,149,53,81,132,198,43,66,107,161,46,71,116,173,36,56,91,136,30,46,74,111,33,51,83,124,23,35,58,87,27],12:[11,15,7,10,15,17,27,9,7,5,3,4,42,64,104,156,56,85,138,208,46,69,112,169,49,74,121,182,39,58,95,143,32,48,78,117,35,53,86,130,25,37,60,91,28],13:[12,16,8,10,16,18,27,9,7,5,3,4,44,67,108,163,58,89,145,217,47,72,118,176,51,78,127,190,40,61,100,149,33,50,82,
122,36,56,91,136,25,39,63,95,29],14:[12,16,8,11,16,19,30,10,8,6,3,4,45,69,113,170,61,93,151,227,50,76,123,184,53,81,132,199,42,64,104,156,34,52,85,128,38,58,94,142,27,41,66,99,31],15:[13,17,9,11,17,20,33,11,8,6,3,5,47,72,118,177,63,96,157,236,51,78,128,192,55,84,137,207,43,66,108,162,35,54,88,133,39,60,98,148,28,42,69,103,32],16:[14,18,9,12,18,21,33,11,8,6,4,5,49,75,123,184,66,100,164,246,54,81,133,200,58,88,144,215,45,69,113,169,37,56,92,138,41,63,103,154,29,44,72,108,33],17:[14,19,9,12,19,22,36,
12,9,7,4,5,51,78,128,192,68,104,170,255,55,85,138,207,60,91,149,223,47,72,117,175,38,59,96,143,43,65,106,159,30,46,74,112,34],18:[15,19,10,13,19,23,36,12,9,7,4,5,53,81,132,199,71,108,176,265,58,88,143,215,62,95,154,232,49,74,121,182,40,61,99,149,44,68,110,166,31,47,77,116,36],19:[15,20,10,13,20,24,39,13,10,7,4,6,55,84,137,206,73,112,183,275,59,91,149,223,64,98,160,241,50,77,126,189,41,63,103,155,46,70,114,172,32,49,80,120,37],20:[16,21,10,14,21,25,42,14,10,8,4,6,57,87,142,213,76,116,189,284,62,94,
154,231,67,102,165,249,52,80,130,195,43,65,106,160,48,73,118,178,33,51,83,124,38],21:[16,21,11,14,21,26,42,14,11,8,5,6,59,90,147,220,79,120,195,294,64,98,158,239,69,105,171,257,54,83,134,202,44,68,110,165,49,75,122,184,35,53,85,129,40],22:[17,22,11,14,22,27,45,15,11,8,5,6,61,93,151,227,81,124,202,303,66,101,164,246,71,109,177,265,56,85,139,208,46,70,114,170,51,78,126,189,35,54,88,133,41],23:[17,23,11,15,23,28,45,15,12,9,5,7,63,96,156,235,84,128,208,313,68,104,169,254,74,112,182,274,58,88,143,215,
47,72,117,176,53,80,130,196,37,56,91,137,42],24:[18,23,12,15,23,29,48,16,12,9,5,7,65,99,161,242,86,132,215,322,70,107,175,262,75,116,188,282,59,91,148,221,48,74,121,181,54,83,134,201,38,58,94,141,43],25:[19,24,12,16,24,30,51,17,12,9,5,7,67,102,166,249,89,136,221,332,72,111,180,270,78,119,193,291,61,94,152,228,50,77,124,187,56,85,138,208,39,60,97,145,45],26:[19,25,13,17,25,30,51,17,13,10,5,7,68,105,170,256,91,139,227,342,74,113,184,278,80,122,199,299,63,96,156,235,51,78,128,192,57,87,142,214,40,61,
99,150,46],27:[20,26,13,17,26,31,54,18,13,10,6,8,70,108,175,263,94,143,234,351,76,116,190,285,82,125,205,307,65,98,161,241,53,80,132,197,59,89,146,219,41,63,102,154,47],28:[21,27,14,18,27,32,54,18,14,10,6,8,72,110,180,270,96,147,240,361,78,119,195,293,84,129,210,316,66,101,165,248,54,83,135,203,60,92,150,226,42,64,105,158,48],29:[22,29,14,19,29,32,57,19,14,11,6,8,74,113,185,278,99,151,246,370,80,123,200,301,87,132,215,324,68,104,169,254,56,85,138,208,62,94,154,231,43,66,108,162,50],30:[23,30,15,20,
30,33,60,20,15,11,6,8,76,116,190,285,102,155,253,380,83,126,206,309,89,136,221,333,70,107,174,261,57,87,142,214,64,97,158,238,45,68,111,166,51],31:[24,31,16,20,31,34,60,20,15,11,6,9,78,119,194,292,104,159,259,389,85,129,210,316,91,139,227,340,72,109,178,267,59,89,146,219,65,99,162,243,46,70,113,170,52],32:[25,32,16,21,32,34,63,21,16,12,7,9,80,122,199,299,107,163,265,399,87,132,215,324,94,143,232,349,74,112,182,274,60,92,149,224,67,102,166,249,47,71,116,175,54],33:[25,33,17,22,33,35,63,21,16,12,7,
9,82,125,204,306,109,167,272,408,89,136,221,332,95,146,238,357,75,115,187,281,61,94,153,230,68,104,170,255,48,73,119,179,55],34:[26,34,17,23,34,36,66,22,16,12,7,9,84,128,209,314,112,171,278,418,91,139,226,340,98,150,243,366,77,118,191,287,63,96,156,235,70,107,174,261,49,75,122,183,56],35:[27,35,18,23,35,37,69,23,17,13,7,10,86,131,213,321,114,175,285,428,93,142,232,348,100,153,249,375,78,120,196,294,64,98,160,241,71,109,178,268,50,77,125,187,57],36:[28,36,18,24,36,38,69,23,17,13,7,10,88,134,218,328,
117,178,291,437,95,145,236,355,102,156,255,382,80,122,200,300,66,100,164,246,73,111,182,273,51,78,127,191,59],37:[28,37,19,24,37,39,72,24,18,13,8,10,90,137,223,335,119,182,297,447,97,148,241,363,104,159,260,391,82,125,204,307,67,102,167,251,74,114,186,279,52,80,130,196,60],38:[29,38,19,25,38,40,72,24,18,14,8,10,92,140,228,342,122,186,304,456,99,151,247,371,107,163,266,399,84,128,209,314,69,105,171,257,76,116,190,285,53,81,133,200,61],39:[29,38,19,25,38,41,75,25,19,14,8,11,93,143,233,349,125,190,310,
466,102,154,252,379,109,166,271,408,86,131,213,320,70,107,174,262,78,119,194,291,55,83,136,204,63],40:[30,39,20,26,39,42,78,26,19,14,8,11,95,146,237,357,127,194,316,475,103,158,257,386,111,170,277,416,87,133,217,327,71,109,178,267,79,121,198,297,56,85,138,208,64],41:[31,40,20,26,40,43,78,26,20,15,8,11,97,149,242,364,130,198,323,485,106,161,262,394,114,173,283,424,89,136,222,333,73,111,182,273,81,124,202,303,57,87,141,212,65],42:[31,41,21,27,41,44,81,27,20,15,8,11,99,151,247,371,132,202,329,495,107,
164,267,402,116,177,288,433,91,139,226,340,74,114,185,278,83,126,206,309,58,88,144,217,66],43:[32,41,21,27,41,45,81,27,20,15,9,12,101,154,252,378,135,206,336,504,110,167,273,410,118,180,294,441,93,142,231,347,76,116,189,284,84,129,210,315,59,90,147,221,68],44:[32,42,21,28,42,47,84,28,21,16,9,12,103,157,256,385,137,210,342,514,111,171,278,418,120,184,299,450,94,144,235,353,77,118,192,289,86,131,214,321,60,92,150,225,69],45:[33,43,22,29,43,48,84,28,21,16,9,12,105,160,261,392,140,214,348,523,114,174,
283,425,123,187,305,458,96,147,239,360,79,120,196,294,88,134,218,327,61,94,152,229,70],46:[34,44,22,29,44,50,87,29,22,16,9,12,107,163,266,400,142,218,355,533,115,177,288,433,124,191,311,466,98,150,244,366,80,123,200,300,89,136,222,333,62,95,155,233,71],47:[34,45,23,30,45,51,90,30,22,17,9,13,109,166,271,407,145,221,361,542,118,180,293,440,127,193,316,474,100,152,248,373,82,124,203,305,91,138,226,339,63,97,158,237,73],48:[35,45,23,30,45,52,90,30,23,17,10,13,111,169,276,414,148,225,367,552,120,183,298,
449,130,197,321,483,102,155,252,380,83,127,206,311,93,141,229,345,65,98,161,242,74],49:[35,46,23,31,46,53,93,31,23,17,10,13,113,172,280,421,150,229,374,561,122,186,304,456,131,200,327,491,103,157,257,386,84,129,210,316,94,143,234,351,66,100,164,245,75],50:[36,47,24,31,47,54,93,31,24,18,10,13,115,175,285,428,153,233,380,571,124,189,309,464,134,204,333,500,105,160,261,393,86,131,214,321,96,146,238,357,67,102,166,250,77],51:[37,48,24,32,48,54,96,32,24,18,10,14,116,178,290,435,155,237,386,581,126,193,
314,472,136,207,338,508,107,163,265,399,87,133,217,327,97,148,241,363,68,104,169,254,78],52:[37,49,25,32,49,55,99,33,24,18,10,14,118,181,295,443,158,241,393,590,128,196,319,479,138,211,344,516,109,166,270,406,89,136,221,332,99,151,246,369,69,105,172,258,79],53:[38,49,25,33,49,57,99,33,25,19,11,14,120,183,297,445,160,243,396,593,130,197,322,482,140,213,347,519,110,167,272,408,90,137,223,334,100,152,248,371,70,106,173,259,80],54:[38,50,25,33,50,58,102,34,25,19,11,14,122,184,299,447,162,246,398,596,
132,200,323,484,142,215,348,522,111,169,274,410,91,138,224,335,101,154,249,373,71,108,174,261,81],55:[39,51,26,34,51,59,102,34,26,19,11,15,123,186,301,450,165,248,401,600,134,202,326,488,144,217,351,525,113,171,276,413,93,140,226,338,103,155,251,375,72,109,175,263,83],56:[40,52,26,34,52,61,105,35,26,20,11,15,125,188,303,452,167,251,404,603,136,204,328,490,146,220,354,528,115,173,278,415,94,141,227,339,104,157,253,377,73,110,177,264,84],57:[40,53,27,35,53,62,108,36,27,20,11,15,127,190,305,455,169,
253,407,606,137,206,331,492,148,221,356,530,116,174,280,417,95,142,229,341,106,158,254,379,74,111,178,265,85],58:[50,65,33,43,65,85,139,46,34,25,14,19,157,223,342,497,210,297,456,663,171,241,371,539,184,260,399,580,144,204,314,456,118,167,257,373,131,186,285,414,92,130,200,290,105],59:[51,67,34,44,67,88,142,47,36,27,15,20,163,229,349,505,217,305,465,674,176,248,378,548,190,267,407,590,149,210,320,463,122,172,262,379,136,191,291,421,95,133,203,295,109],60:[53,68,35,45,68,91,148,49,37,28,16,21,171,
240,365,513,228,320,487,684,185,260,396,556,200,280,426,599,157,220,335,470,128,180,274,385,143,200,304,428,100,140,213,299,114],61:[54,70,36,47,70,94,154,51,39,29,16,22,181,254,386,533,242,338,515,711,197,275,418,578,212,296,451,622,166,232,354,489,136,190,290,400,151,211,322,444,106,148,225,311,121],62:[55,72,36,48,72,97,160,53,40,30,17,22,192,269,409,578,255,358,545,771,207,291,443,626,223,313,477,675,175,246,375,530,143,201,307,434,159,224,341,482,112,157,238,337,128],63:[56,73,37,49,73,100,163,
54,41,31,17,23,203,284,433,623,270,379,577,831,219,308,469,675,236,332,505,727,186,261,397,571,152,213,325,467,169,237,361,519,118,166,252,364,135],64:[58,75,38,50,75,104,166,55,42,31,18,24,214,301,458,668,286,401,611,890,232,326,496,723,250,351,535,779,197,276,420,612,161,226,344,501,179,251,382,556,125,175,267,389,143],65:[60,78,40,52,78,109,172,57,43,32,18,24,227,318,485,713,302,424,647,950,245,345,526,772,264,371,566,831,208,292,445,653,170,239,364,534,189,265,404,594,132,186,283,416,151],66:[62,
81,41,54,81,113,175,58,44,33,18,25,240,337,514,757,320,449,685,1010,260,365,557,821,280,393,599,884,220,309,471,694,180,253,385,568,200,281,428,631,140,196,300,442,160],67:[65,84,43,56,84,117,178,59,45,34,19,25,254,356,544,802,338,475,725,1070,275,386,589,869,296,416,634,936,232,327,498,736,190,267,408,602,211,297,453,669,148,208,317,468,169],68:[91,119,61,79,119,168,253,84,62,47,26,36,361,498,749,1091,482,664,998,1454,392,540,811,1181,422,581,873,1272,331,457,686,1E3,271,374,561,818,301,415,624,
909,211,291,437,636,241],69:[93,121,62,81,121,172,262,87,64,48,27,37,375,518,779,1144,500,691,1039,1526,406,561,844,1240,438,605,909,1335,344,475,714,1049,281,389,584,858,313,432,649,954,219,302,455,668,250],70:[95,124,63,82,124,175,271,90,67,50,28,39,389,539,811,1198,519,718,1082,1597,422,583,879,1298,454,628,947,1397,357,494,744,1098,292,404,609,898,324,449,676,998,227,314,473,699,260],71:[97,127,65,84,127,179,280,93,69,52,29,40,404,560,845,1252,539,746,1126,1669,438,606,915,1356,472,653,985,1460,
371,513,774,1147,303,420,633,939,337,466,704,1043,236,326,493,730,270],72:[99,129,66,86,129,183,292,97,72,54,30,42,419,582,879,1306,559,776,1172,1741,454,631,952,1415,489,679,1026,1523,384,534,806,1197,314,437,659,979,349,485,733,1088,245,340,513,762,280],73:[102,132,68,88,132,187,304,101,75,56,32,43,435,605,915,1359,580,806,1220,1813,471,655,991,1473,508,705,1068,1586,399,554,839,1246,326,453,686,1020,363,504,763,1133,254,353,534,793,290],74:[104,135,69,90,135,191,313,104,78,58,33,45,451,628,952,
1414,601,838,1269,1885,488,681,1031,1532,526,733,1110,1649,413,576,872,1296,338,471,714,1060,376,524,793,1178,263,367,555,825,301],75:[106,138,71,92,138,196,325,108,81,60,34,46,468,653,990,1468,624,870,1320,1957,507,707,1073,1590,546,761,1155,1712,429,598,908,1345,351,489,743,1101,390,544,825,1223,273,381,578,856,312],76:[109,141,72,94,141,200,340,113,84,63,35,48,485,678,1030,1522,647,904,1373,2029,526,735,1116,1649,566,791,1201,1775,445,622,944,1395,364,509,772,1141,404,565,858,1268,283,396,601,
888,324],77:[111,145,74,96,145,205,352,117,87,65,37,50,503,704,1071,1576,670,939,1429,2102,544,763,1161,1708,586,822,1250,1839,461,646,982,1445,377,528,804,1182,419,587,893,1314,293,411,625,920,335],78:[114,148,76,99,148,210,364,121,90,68,38,52,521,731,1114,1631,695,975,1486,2174,565,792,1207,1766,608,853,1300,1902,478,670,1022,1495,391,548,836,1223,434,609,929,1359,304,427,650,951,348],79:[117,152,78,101,152,215,380,126,94,71,40,54,534,751,1146,1660,713,1001,1528,2213,579,813,1242,1798,624,876,1337,
1936,490,688,1051,1521,401,563,860,1245,446,626,955,1383,312,438,669,968,357],80:[120,156,80,104,156,220,395,131,97,73,41,56,546,762,1156,1668,729,1016,1541,2224,592,826,1252,1807,638,889,1348,1946,501,699,1059,1529,410,572,867,1251,456,635,963,1390,319,445,674,973,365],81:[225,293,150,195,293,414,928,308,229,172,97,132,813,1017,1390,1875,1084,1356,1854,2500,881,1102,1506,2031,949,1187,1622,2188,745,932,1275,1719,610,763,1043,1406,678,848,1159,1563,474,593,811,1094,542],82:[262,353,175,235,353,498,
1108,368,273,205,116,158,829,1062,1485,2034,1105,1416,1981,2713,898,1151,1610,2204,967,1239,1733,2374,760,974,1362,1865,622,797,1114,1526,691,885,1238,1696,483,620,867,1187,553],83:[309,417,206,278,417,590,1310,435,323,242,137,186,844,1104,1577,2189,1125,1472,2102,2919,914,1196,1708,2372,984,1288,1839,2554,773,1012,1445,2007,633,828,1182,1642,703,920,1314,1824,492,644,920,1277,563],84:[336,454,224,302,454,641,1425,473,351,263,149,203,852,1126,1624,2271,1136,1501,2166,3028,923,1220,1760,2460,994,1313,
1895,2650,781,1032,1489,2082,639,844,1218,1703,710,938,1354,1893,497,657,948,1325,568],85:[362,489,241,326,489,691,1533,509,378,284,160,218,858,1145,1668,2346,1145,1527,2224,3128,930,1241,1807,2542,1002,1336,1946,2737,787,1050,1529,2151,644,859,1251,1760,716,954,1390,1955,501,668,973,1369,573]},Va=[23.3107,24.1651,24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,
95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,237.558,246.991,256.628,266.467,276.51,286.755,297.203,307.853,318.707,329.763,341.022,352.484,364.149,376.016,388.086,400.36,412.835,425.514,478.257,491.95,512.169,532.943,554.279,576.187,598.672,621.743,645.407,669.673,694.546,720.036,746.15,772.895,800.278,828.309,856.993,886.339,916.355,947.048,978.425,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,
1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,34.6214,35.4356,35.5984,35.8589,36.038,36.2139,36.3562,36.4902,37.8794,38.6922,39.413,40.0417,40.5784,42.3805,44.1849,45.9759,47.738,49.4556,51.1132,52.6953,54.4846,56.2322,57.9299,59.5701,61.1453,62.6485,64.0733,65.4135,66.6632,67.8171,70.2758,72.7271,75.1662,77.5882,79.9881,82.3611,84.7021,87.0064,89.2691,91.4851,94.5168,97.5646,100.626,103.699,106.78,109.868,112.959,116.052,119.144,122.232,125.314,128.387,131.45,134.499,
137.532,140.547,143.541,293.024,327.008,332.962,354.075,375.985,398.707,422.256,446.646,471.89,498.002,524.997,552.889,581.691,611.418,642.083,673.701,706.285,739.849,774.407,809.974,846.562,884.185,922.858,943.72,964.814,986.142,1007.7,1029.49,1051.52,1073.77,1096.26,1118.98,1141.93,1165.11,1188.51,1212.15,1236.02,1260.12,1284.45,1309,1333.79,1358.8,1384.04,5.2216,5.7727,6.27696,6.74717,7.1928,7.72152,8.5082,9.33304,10.196,11.0972,12.0365,13.0139,14.0295,15.5282,17.1514,18.9051,20.7947,22.826,25.0047,
27.3363,29.7556,32.3265,35.0535,37.9411,40.9935,44.215,47.6099,51.1823,54.9364,58.8762,63.0058,67.3291,71.8499,76.5723,81.4999,86.6366,91.9859,97.5516,103.337,109.346,116.451,123.889,131.668,139.798,148.289,157.15,166.392,176.025,186.057,196.501,207.366,218.662,230.4,242.591,255.245,268.373,281.986,296.095,338.963,355.055,376.742,399.409,423.086,447.802,473.588,500.474,528.491,557.67,588.043,619.643,652.502,686.653,722.129,758.966,797.196,836.855,877.979,920.602,964.762,1010.49,1032.93,1055.63,1078.57,
1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,37.2971,38.6641,39.5754,40.1829,40.588,41.398,43.4485,45.4989,47.5494,49.5998,51.6503,53.7007,55.7512,59.5064,63.4644,67.6252,71.9888,76.5552,81.3244,86.2964,90.3279,94.4277,98.5882,102.802,107.061,111.358,115.686,120.036,124.402,128.775,133.148,137.513,141.863,146.19,150.486,154.745,158.957,163.117,167.215,171.245,182.128,193.477,205.302,217.615,230.425,243.742,257.576,
271.937,286.836,302.283,318.287,334.86,352.01,369.749,388.086,407.032,426.597,446.79,510.141,532.946,552.215,571.938,592.122,612.77,633.888,655.481,677.554,700.112,723.161,746.704,770.748,795.297,820.357,845.932,872.028,898.65,925.802,953.49,981.719,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,22.555,22.8271,22.8815,22.9686,23.0284,23.0872,23.1348,23.1796,23.5733,23.9155,24.209,24.4536,
24.6495,25.7049,26.7761,27.8523,28.923,29.9776,31.0057,31.9966,33.6486,35.3325,37.0434,38.7764,40.5265,42.2887,44.0578,45.8288,47.5965,49.3556,52.144,55.0287,58.0102,61.0891,64.2659,67.5409,70.9147,74.3878,77.9607,81.6337,84.8264,88.0704,91.3642,94.7066,98.0965,101.533,105.013,108.538,112.105,115.713,119.361,123.047,126.771,130.531,134.326,138.154,142.015,291.813,328.421,336.625,355.277,374.585,394.558,415.208,436.546,458.581,481.326,504.79,528.985,553.92,579.607,606.055,633.277,661.281,690.078,719.679,
750.095,781.334,813.409,846.328,865.675,885.235,905.007,924.992,945.189,965.597,986.215,1007.04,1028.08,1049.33,1070.78,1092.45,1114.32,1136.39,1158.68,1181.16,1203.86,1226.75,1249.85,1273.16,23.3107,24.1651,24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,
235.578,242.875,250.212,257.585,264.988,272.417,279.866,287.33,294.804,302.283,309.762,317.236,324.699,332.148,339.576,346.978,354.35,361.687,402.533,409.958,432.076,454.951,478.595,503.02,528.24,554.267,581.114,608.793,637.318,666.7,696.953,728.089,760.121,793.062,826.923,861.719,897.461,934.163,971.836,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,30.0793,30.7255,30.8547,31.0615,
31.2037,31.3433,31.4562,31.5626,32.6485,33.3104,33.8949,34.4021,34.832,36.3846,37.9444,39.4977,41.0304,42.5288,43.9789,45.367,46.6013,47.7707,48.8674,49.8842,50.8144,51.6517,52.3907,53.0262,53.5537,53.9691,55.3766,56.7193,57.9908,59.1841,60.2929,61.3102,62.2297,63.0445,63.7481,64.3338,66.6823,69.059,71.4627,73.892,76.3458,78.8229,81.3219,83.8416,86.3809,88.9384,91.5129,94.1033,96.7081,99.3263,101.957,104.598,107.248,219.815,246.45,251.971,274.168,297.331,321.476,346.622,372.788,399.993,428.254,457.591,
488.021,519.562,552.234,586.053,621.039,657.21,694.583,733.177,773.01,814.099,856.463,900.12,920.54,941.187,962.061,983.161,1004.49,1026.04,1047.82,1069.82,1092.05,1114.5,1137.18,1160.08,1183.2,1206.55,1230.12,1253.91,1277.92,1302.15,1326.61,1351.28,31.0214,31.4306,31.5124,31.6433,31.7334,31.8217,31.8933,31.9606,32.5713,33.0673,33.4947,33.8535,34.1437,35.6445,37.1693,38.7032,40.231,41.7376,43.208,44.6273,46.8581,49.1244,51.4189,53.7345,56.064,58.4003,60.7361,63.0644,65.378,67.6698,71.3599,75.1661,
79.0884,83.1267,87.2807,91.5504,95.9356,100.436,105.052,109.783,113.1,116.4,119.677,122.928,126.146,129.329,132.47,135.565,138.61,141.599,144.529,147.394,150.189,152.911,155.554,158.114,160.585,325.929,362.339,366.621,384.399,402.743,421.66,441.159,461.248,481.937,503.232,525.144,547.679,570.847,594.656,619.113,644.228,670.008,696.462,723.597,751.422,779.945,809.174,839.117,858.338,877.77,897.413,917.266,937.33,957.603,978.085,998.776,1019.67,1040.78,1062.09,1083.61,1105.33,1127.26,1149.39,1171.72,
1194.26,1217,1239.94,1263.08,32.2214,32.7267,32.8278,32.9895,33.1006,33.2098,33.2981,33.3813,34.1745,34.7479,35.2466,35.6706,36.0198,37.5977,39.1938,40.7928,42.3796,43.939,45.4558,46.9148,48.8949,50.8768,52.8527,54.8151,56.7566,58.67,60.5484,62.3851,64.1734,65.907,68.9589,72.0684,75.233,78.4502,81.7176,85.0327,88.393,91.7962,95.2397,98.7212,101.446,104.135,106.785,109.391,111.947,114.45,116.894,119.274,121.587,123.827,125.989,128.069,130.062,131.964,133.769,135.473,137.072,277.12,306.629,308.962,
328.7,349.192,370.449,392.487,415.318,438.956,463.412,488.702,514.837,541.831,569.697,598.448,628.097,658.656,690.139,722.558,755.927,790.257,825.563,861.855,881.517,901.397,921.494,941.807,962.336,983.08,1004.04,1025.21,1046.6,1068.2,1090.02,1112.04,1134.28,1156.73,1179.39,1202.26,1225.35,1248.64,1272.13,1295.84,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,25.7771,26.4755,26.6152,26.8387,26.9923,27.1432,27.2653,27.3802,28.5971,29.2692,29.8687,30.3957,30.8502,32.1517,33.4634,34.773,36.0683,37.3369,38.5667,39.7455,41.294,42.8351,44.3625,45.8701,47.3519,48.8023,50.2157,51.5869,52.9107,54.1822,56.5272,58.9058,61.3156,63.7541,66.2189,68.7075,71.2174,73.7463,76.2916,78.851,81.422,84.0022,86.5891,89.1804,91.7735,94.3661,96.9557,99.5399,102.116,104.683,107.236,109.775,112.296,114.797,117.276,119.73,122.157,249.109,277.898,282.633,303.65,325.525,
348.274,371.914,396.46,421.927,448.333,475.691,504.019,533.332,563.645,594.974,627.334,660.742,695.212,730.76,767.402,805.152,844.027,884.04,904.113,924.408,944.926,965.665,986.626,1007.81,1029.21,1050.83,1072.68,1094.74,1117.02,1139.52,1162.24,1185.17,1208.33,1231.7,1255.28,1279.08,1303.1,1327.33,3,3,4,4,5,5,6,7,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,18,19,20,20,21,21,22,23,23,24,24,25,26,26,27,27,28,28,29,30,30,31,31,32,33,33,34,34,35,36,36,37,37,54,55,56,57,59,60,61,63,68,70,89,93,
96,100,104,107,112,116,120,125,305,338,375,407,443,1083,1200,1330,1446,1573,3847,4262,4722,5135,5584,13659,15134,16767,18234,19829],ub=[["Consumable","Consumable,Potion,Elixir,Flask,Scroll,Food & Drink,Item Enhancement,Bandage,Other".split(",")],["Container","Bag,Soul Bag,Herb Bag,Enchanting Bag,Engineering Bag,Gem Bag,Mining Bag,Leatherworking Bag,Inscription Bag,Tackle Box".split(",")],["Weapon","One-Handed Axes,Two-Handed Axes,Bows,Guns,One-Handed Maces,Two-Handed Maces,Polearms,One-Handed Swords,Two-Handed Swords,Obsolete,Staves,One-Handed Exotics,Two-Handed Exotics,Fist Weapons,Miscellaneous,Daggers,Thrown,Spears,Crossbows,Wands,Fishing Poles".split(",")],
["Gem","Red,Blue,Yellow,Purple,Green,Orange,Meta,Simple,Prismatic,Hydraulic,Cogwheel".split(",")],["Armor","Miscellaneous,Cloth,Leather,Mail,Plate,Bucklers,Shields,Librams,Idols,Totems,Sigils,Relic".split(",")],["Reagent",["Reagent"]],["Projectile",["Wand(OBSOLETE)","Bolt(OBSOLETE)","Arrow","Bullet","Thrown(OBSOLETE)"]],["Trade Goods","Trade Goods,Parts,Explosives,Devices,Jewelcrafting,Cloth,Leather,Metal & Stone,Meat,Herb,Elemental,Other,Enchanting,Materials,Item Enchantment,Weapon Enchantment - Obsolete".split(",")],
["Generic(OBSOLETE)",["Generic(OBSOLETE)"]],["Recipe","Book,Leatherworking,Tailoring,Engineering,Blacksmithing,Cooking,Alchemy,First Aid,Enchanting,Fishing,Jewelcrafting,Inscription".split(",")],["Money",["Money(OBSOLETE)"]],["Quiver",["Quiver(OBSOLETE)","Quiver(OBSOLETE)","Quiver","Ammo Pouch"]],["Quest",["Quest"]],["Key",["Key","Lockpick"]],["Permanent(OBSOLETE)",["Permanent"]],["Miscellaneous","Junk,Reagent,Pet,Holiday,Other,Mount".split(",")],["Glyph",{1:"Warrior",2:"Paladin",3:"Hunter",4:"Rogue",
5:"Priest",6:"Death Knight",7:"Shaman",8:"Mage",9:"Warlock",11:"Druid"}]],vb={164:[164,"Schmiedekunst","Eine hohe Schmiedefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schmiedepl\u00e4ne zu benutzen. Pl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schmiedepl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],165:[165,"Lederverarbeitung","Eine hohe Lederverarbeitungsfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],171:[171,"Alchemie","Eine hohe Alchemiefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Rezepte zu benutzen. Alchemierezepte k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Rezepte oder Ihr erhaltet sie als Questbelohnung.",[]],182:[182,"Kr\u00e4uterkunde","Eine hohe Kr\u00e4uterkundefertigkeit erm\u00f6glicht es Euch, schwierigere Kr\u00e4uter zu ernten. Wenn Ihr ein bestimmtes Kraut nicht ernten k\u00f6nnt, steigert Eure Kr\u00e4uterkundefertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Kr\u00e4uter erntet.",
[[22119,[81708,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,11,0,0,26,0,0,0,0,0,68781],[0,6,189,0,5,0,0,0,917504,0,0,0,0,87571],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 5 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,1,55428],[19355,[55428,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,29,0,0,61,0,0,0,0,0,48361],[0,6,189,0,15,0,0,0,917504,0,0,0,0,87572],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 15 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,75,55480],[19356,[55480,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,47,0,0,97,0,0,0,0,0,48439],[0,6,189,0,35,0,0,0,917504,0,0,0,0,87573],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 35 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,150,55500],[19357,[55500,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,71,0,0,145,0,0,0,0,0,48442],[0,6,189,0,55,0,0,0,917504,0,0,0,0,87574],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 55 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,225,55501],[19358,[55501,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,89,0,0,181,0,0,0,0,0,48443],[0,6,189,0,70,0,0,0,917504,0,0,0,0,87575],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 70 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,300,55502],[19359,[55502,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,119,0,0,241,0,0,0,0,0,48444],[0,6,189,0,120,0,0,0,917504,0,0,0,0,87576],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 120 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,375,55503],[19360,[55503,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,359,0,0,721,0,0,0,0,0,48445],[0,6,189,0,240,0,0,0,917504,0,0,0,0,87577],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 240 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74497],[21619,[74497,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,719,0,0,1441,0,0,0,0,0,74358],[0,6,189,0,480,0,0,0,917504,0,0,0,0,87594],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 480 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],186:[186,"Bergbau","Eine hohe Bergbaufertigkeit erm\u00f6glicht es Euch, schwierigere Erzvorkommen abzubauen. Wenn Ihr ein bestimmtes Erzvorkommen nicht abbauen k\u00f6nnt, steigert Eure Bergbaufertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Erzvorkommen abbaut.",[[17987,[53120,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,
0,0,j,[[0,6,29,0,3,0,0,0,2,0,0,0,0,45755],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 3.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,75,53121],[17988,[53121,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,5,0,0,0,2,0,0,0,0,45756],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 5.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,150,53122],[17989,[53122,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,7,0,0,0,2,0,0,0,0,45757],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 7.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,225,53123],[17990,[53123,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,10,0,0,0,2,0,0,0,0,45758],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 10.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,300,53124],[17991,[53124,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,30,0,0,0,2,0,0,0,0,45759],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 30.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,375,53040],[17984,[53040,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,60,0,0,0,2,0,0,0,0,45636],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 60.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74496],[21618,[74496,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,120,0,0,0,2,0,0,0,0,74357],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 120.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],197:[197,"Schneiderei","Eine hohe Schneiderfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],202:[202,"Ingenieurskunst","Eine hohe Ingenieursfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Baupl\u00e4ne zu benutzen. Baupl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Baupl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],333:[333,"Verzauberkunst","Eine hohe Verzauberungsfertigkeit erm\u00f6glicht es Euch, m\u00e4chtigere Formeln zu benutzen. Verzauberungsformeln k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben und auch bei toten Gegnern und beim Questen finden.",
[]],393:[393,"K\u00fcrschnerei","Eine hohe K\u00fcrschnerfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Monster zu h\u00e4uten. Sobald Euer Fertigkeitswert 100 \u00fcbersteigt, ist die maximale Stufe der Monster, die Ihr h\u00e4uten k\u00f6nnt, Euer Fertigkeitswert geteilt durch 5.",[[17993,[53125,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,
3,0,0,0,1792,0,0,0,0,45760],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 3.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,75,53662],[18277,[53662,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,6,0,0,0,1792,0,0,0,0,46349],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 6.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,150,53663],[18278,[53663,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,9,0,0,0,1792,0,0,0,0,46350],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 9.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,225,53664],[18279,[53664,"Master of Anatomy",
"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,12,0,0,0,1792,0,0,0,0,46351],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 12.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,300,53665],[18280,[53665,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.",
"inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,20,0,0,0,1792,0,0,0,0,46352],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 20.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,375,53666],[18281,[53666,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,40,0,0,0,1792,0,0,0,0,46353],j,
j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 40.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74495],[21617,[74495,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,80,0,0,0,1792,0,0,0,0,74356],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 80.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],755:[755,"Juwelenschleifen","Eine hohe Juwelenschleiferfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Vorlagen zu benutzen. Vorlagen bekommt Ihr bei allen Juwelierskunstlehrern, von toten Gegnern und als Questbelohnung.",[]],773:[773,"Inschriftenkunde","Eine h\u00f6here Inschriftenfertigkeit erm\u00f6glicht es Euch, fortgeschrittenere Inschriften zu erlernen. Inschriften k\u00f6nnt Ihr bei den gelehrten Schreibern \u00fcberall in der Welt erwerben.",
[]]};function t(a,b){this.zc=a;this.scope=b}t.prototype.zc=j;t.prototype.scope=j;t.prototype.notify=function(a){this.zc.apply(this.scope,a)};function I(a,b,c,d,f){function g(a){f?c.apply(d,f):c.apply(d,[a])}document.addEventListener?a.addEventListener(b,g,k):document.attachEvent&&a.attachEvent("on"+b,g)}function wb(a,b,c,d){document.addEventListener?a.addEventListener(b,function(){c.notify(d)},k):document.attachEvent&&a.attachEvent("on"+b,function(){c.notify(d)})};function xb(a){return Math.floor(10*a.ub)/10+(0==Math.floor(10*a.ub)%10?".0":"")}function yb(a){return 0==a.delay%1E3?a.delay/1E3+".00":0==a.delay%100?a.delay/1E3+"0":Math.floor(a.delay/10)/100+""}function J(a,b){if(!a)return b.join(" ");var c;for(c=0;c<b.length;c++){if(-1==a.search(/\$/)){for(;c<b.length;c++)a+=" "+b[c];break}a=a.replace(/\$/,b[c])}return a}function K(a,b){return!a?""+b:-1==a.search(/\$/)&&b?a:a.replace(/\$/,""+b)}function Ab(a){return"?"+Ea(a)}
function Ea(a){var b="",c=0,d,f;for(f in a)0<c&&(b+="&"),b+=f,d=a[f],""!==d&&(b+="="+encodeURIComponent(""+d)),c++;return b}
function Bb(a,b){if(!a)return[""];var c,d,f;for(f=a;d=a.match(/\$(\?.*)$/i);){a=a.replace(d[0],Cb(d[1],b?b.V:j));if(a==f)break;f=a}a=a.replace(/\$G(\w+):(\w+);/i,"$1 / $2");b?(d=b.f,a=a.replace(/\$pl\b/gi,""+b.e),a=a.replace(/\$max\b/gi,"Math.max"),a=a.replace(/\$hnd\b/gi,b.ma(16,0)?17==b.ma(16,0).wa&&j==b.ma(17,0)?"2":"1":"1"),a=a.replace(/\$ap\b/gi,""+Math.floor(d.pa)),a=a.replace(/\$rap\b/gi,""+Math.floor(d.jb)),a=a.replace(/\$ar\b/gi,""+Math.floor(d.la[0])),a=a.replace(/\$sp\b/gi,""+Math.floor(d.k[0])),
a=a.replace(/\$MWS\b/gi,L(d.Za,2)),a=a.replace(/\$mw/g,d.O[0][0]),a=a.replace(/\$MW/g,d.O[0][1]),a=a.replace(/\$z\b/gi,"[Location]")):(a=a.replace(/\$pl\b/gi,"[Player Level]"),a=a.replace(/\$max\b/gi,"[Maximum]"),a=a.replace(/\$hnd\b/gi,"[Hands]"),a=a.replace(/\$ap\b/gi,"[AP]"),a=a.replace(/\$rap\b/gi,"[rAP]"),a=a.replace(/\$ar\b/gi,"[Armor]"),a=a.replace(/\$sph\b/gi,"[SpDmg Holy]"),a=a.replace(/\$spn\b/gi,"[SpDmg Nature]"),a=a.replace(/\$spfr\b/gi,"[SpDmg Frost]"),a=a.replace(/\$spfi\b/gi,"[SpDmg Fire]"),
a=a.replace(/\$sps\b/gi,"[SpDmg Shadow]"),a=a.replace(/\$spa\b/gi,"[SpDmg Arcane]"),a=a.replace(/\$sp\b/gi,"[SpDmg]"),a=a.replace(/\$MWS\b/gi,"[Wpn Speed]"),a=a.replace(/\$mwb\b/g,"[Wpn minDmg]"),a=a.replace(/\$MWB\b/g,"[Wpn maxDmg]"),a=a.replace(/\$rwb\b/g,"[rWpn minDmg]"),a=a.replace(/\$RWB\b/g,"[rWpn maxDmg]"),a=a.replace(/\$mw\b/g,"[Wpn minDmg]"),a=a.replace(/\$MW\b/g,"[Wpn maxDmg]"),a=a.replace(/\$z/gi,"[Location]"));for(;c=a.match(/\$?\{([^{]*)\}(?:\.([\d]*))?/);)try{a=a.replace(c[0],function(){return Math.abs(Db(parseFloat(eval("("+
c[1]+")")),c[2]?parseInt(c[2],10):0))})}catch(g){a=a.replace(c[0],"<span class='yellow'>"+c[1]+"</span>")}return a.split("|")}function Eb(a,b){var c="",d="",c="",f,g=a.match(/^\?(!?)(a|s)(\d+)(.+)?$/i);if(!g)return["",a];f=Fb(g[4],b);c=f[0];f=Fb(f[1],b);d=f[0];if("!"==g[1])var h=c,c=d,d=h;c=b!=j&&b.Fa(parseInt(g[3],10))?c:d;return[c,f[1]]}function Fb(a,b){var c=a.match(/^(?:(\[([^\]]*)\])|(\?))(.*)$/i);return c[1]?[c[2],c[4]]:Eb(a,b)}function Cb(a,b){var c=Eb(a,b);return c[0]+c[1]}
function Gb(a,b){return 0<a?J(locale.ydRange2,[a,b]):K(locale.ydRange,b)}function L(a,b){for(var c="",a=Math.round(a*Math.pow(10,b));0<b;b--)if(0==a%10)c="0"+c,a/=10;else break;return 0==b?Math.floor(a)+"."+c:Math.floor(a)/Math.pow(10,b)+c}function M(a){var b,a=Math.round(100*a);b=a%10+"";a/=10;b=Math.floor(a%10)+b;return b=Math.floor(a/10)+"."+b}function Hb(a){a=Math.round(10*a);return Math.floor(a/10)+"."+a%10}
function Ib(a){a=Math.round(10*a)/10;return 0==a%3600?a/3600+" "+locale.h:0==a%60?a/60+" "+locale.m:a+" "+locale.s};function Jb(){if("undefined"!=typeof window.innerWidth)return[window.innerWidth,window.innerHeight];var a=window.document.compatMode&&"CSS1Compat"==window.document.compatMode?window.document.documentElement:window.document.body;return[parseInt(a.clientWidth,10),parseInt(a.clientHeight,10)]}var Kb=j;function ja(){if(Kb===j){var a=window.location.pathname.replace(/\?.+$/,"").split("/").length-2;Kb="";for(var b=0;b<a;b++)Kb+="../"}return Kb}
function Lb(a){var b=document.createElement("div");b.style.clear="both";a.appendChild(b)}function Mb(a){if(a)for(;a.firstChild;)a.removeChild(a.firstChild)}function Db(a,b){return b?Math.floor(Math.pow(10,b)*a)/Math.pow(10,b):Math.floor(a)}function O(a){return"<tr><td colspan='2'>"+a+"</td></tr>"}function P(a,b){return"<tr><td vAlign='bottom'>"+a+"</td><td vAlign='bottom' style='white-space:nowrap; padding-left:50px' align='right'>"+b+"</td></tr>"}
var Nb=[{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:-1},{x:0,y:1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:0}];
function Ob(a){for(var b=[],c=document.createElement("div"),d=0;9>d;d++)switch(b[d]=document.createElement("div"),b[d].innerHTML=a,b[d].style.position="absolute",b[d].style.textAlign="right",b[d].style.width="24px",b[d].style.top=Nb[d].y+"px",b[d].style.left=Nb[d].x+"px",b[d].style.zIndex=d,c.appendChild(b[d]),d){case 8:b[d].style.color="#FFFFFF";break;default:b[d].style.color="#000000"}c.style.position="relative";c.style.height="17px";c.style.marginTop="6px";c.style.fontSize="12px";return c}
function Pb(a,b){b["default"]||e("Default css class missing!");a.className=b["default"];a.tg=k;b.focus&&(a.onfocus=function(){this.tg=i;this.className=b["default"]+" "+b.focus});a.onblur=function(){this.tg=k;this.className=b["default"]};b.hover&&(a.onmouseover=b.focusHover?function(){this.className=this.tg?b["default"]+" "+b.focusHover:b["default"]+" "+b.hover}:function(){this.className=b["default"]+" "+b.hover},a.onmouseout=function(){this.className=this.tg&&b.focus?b["default"]+" "+b.focus:b["default"]})}
function da(a){a.stack&&e(a.stack);e(a)}function Qb(a){return!a?a:a.replace(/\./," ")}window.Tools||(window.Tools={removeDots:Qb});function Rb(a,b){return 75<=b?6:165==a||182==a||186==a?55<=b?5:40<=b?4:25<=b?3:10<=b?2:1:65<=b?5:50<=b?4:35<=b?3:20<=b?2:10<=b?1:5<=b?0:-1}function Sb(a,b){var c=Rb(a,b);return 0>c?0:75*(c+1)};function Tb(a,b){this.message="Called abstract method "+a+"::"+b;this.name="NotImplementedException"}Tb.prototype=Error();function Ub(){}Ub.prototype=Error();function Vb(a,b,c,d){this.nc=b;this.event=a;this.hl=c;this.Ak=d}Vb.prototype={event:"",nc:{},hl:j,Ak:j,get:function(a){this.nc.hasOwnProperty(a)||e(Error("The key "+a+" is not defined for this event!"));return this.nc[a]},is:function(a){this.hl.Cn(a)||e(Error("The event "+a+" is not registered for the subject!"));this.Ak.Hn(a)||e(Error("The event "+a+" is not registered for the observer!"));return this.event===a}};function D(){this.Ae={}}
D.prototype={Ae:{},g:function(a,b){this.Ae.hasOwnProperty(a)&&e(Error("The event "+a+" is already registered!"));"object"!==typeof b&&e(Error("Given arguments are not the correct type!"));for(var c in b)"string"!==typeof b[c]&&e(Error("The argument "+b[c]+" on index "+c+" is not of the type string!"));this.Ae[a]={args:b,observers:[],propagators:[]}},fire:function(a,b){var c=this.Ue(a),d,f=0;d=c.args;for(f in b)d.hasOwnProperty(f)&&e(Error("The argument "+b[f]+" was not defined when registering the event!"));for(f in d)b.hasOwnProperty(f)&&
e(Error("The required argument "+d[f]+" was found!"));d=c.observers;for(f in d)d[f].zc.notify([new Vb(a,b,this,d[f])]);c=c.propagators;for(f in c)c[f].fire(a,b)},Ei:function(a){this.im(a.event,a)},im:function(a,b){var c=this.Ue(a),d,f=0;d=c.args;for(f in b.nc)d.hasOwnProperty(f)&&e(Error("The argument "+b.nc[f]+" was not defined when registering the event!"));for(f in d)b.nc.hasOwnProperty(f)&&e(Error("The required argument "+d[f]+" was found!"));d=c.observers;for(f in d)d[f].zc.notify([new Vb(a,
b.nc,this,d[f])]);c=c.propagators;for(f in c)c[f].fire(a,b.nc)},w:function(a){for(var b in a.ad){var c=this.Ue(a.ad[b]);a instanceof y||e(Error("You may only add GenericObserver as observer!"));c.observers.push(a)}},lb:function(a){for(var b in a.ad){var c=a.ad[b],d=this.Ue(c).observers,f;for(f in d)if(a==d[f]){d.splice(f,1);return}e(Error("Unable to remove observer +"+a+" for event "+c+"!"))}},ca:function(a,b){this.Ue(a).propagators.push(b)},Ue:function(a){var b=this.Ae[a];("undefined"===typeof b||
b===j)&&e(Error("The event "+a+" is not registered!"));return b},Cn:function(a){a=this.Ae[a];return"undefined"!==typeof a&&a!==j}};function y(a,b){if(a==j||b==j)return j;"object"!==typeof a&&e(Error("Given events to listen to are not the correct type!"));for(var c in a)"string"!==typeof a[c]&&e(Error("The event "+a[c]+" on index "+c+" is not of the type string!"));b instanceof t||e(Error("Given handler is not an instance of handler!"));this.ad=a;this.zc=b}y.prototype={ad:{},zc:j,Hn:function(a){for(var b in this.ad)if(this.ad[b]===a)return i;return k}};var Wb={Oj:function(a,b){var c=j,d=j;try{c=u(a)}catch(f){d=f}b.notify([c,d])},xm:function(a,b){var c="",d=j;try{c=u(a)}catch(f){d=f}b.notify([c,d])},co:function(a,b,c,d){fa("api/battlenet_profile.php"+Ab({name:a,server:b,region:c}),new t(Wb.Oj,Wb),[d])},Al:function(a,b,c){ea("api/profile.php",{action:a?"update":"add",id:a,serialized:JSON.stringify(b.toArray())},new t(Wb.xm,Wb),[c,b])},op:function(a,b){fa("api/profile.php"+Ab({id:a}),new t(Wb.Oj,Wb),[b])},lp:function(a,b){ea("api/chardev_profile.php",
{action:"delete",id:a},b,[a])}};var Xb={jp:"DatabaseIO: Error - ",Xm:function(a,b){fa("api/character_class.php"+Ab({id:a}),new t(Xb.Ym,Xb),[b])},Ym:function(a,b){var c=j;200==a.status?(c=parseInt(a.getResponseHeader("error"),10))&&e(new Ha("DatabaseIO.getCharacterClass")):e(new Ia(a));b&&b.notify([eval("("+a.responseText+")")])},Zm:function(a,b){fa("api/character_race.php"+Ab({id:a}),new t(Xb.$m,Xb),[b])},$m:function(a,b){var c=j;200==a.status?(c=parseInt(a.getResponseHeader("error"),10))&&e(new Ha("DatabaseIO.getCharacterRace")):
e(new Ia(a));b&&b.notify([eval("("+a.responseText+")")])}};function Yb(a,b){this.k=a;this.Sa=b;this.Eg=k;this.cd=i;this.fe=this.Dn=k;this.$c=Zb;this.vd=this.k.Ke&&1<this.k.Ke.Sa}var Zb=0;Yb.prototype={k:j,Sa:0,Eg:k,cd:i,fe:k,$c:Zb,vd:k,Gd:function(){this.k.Ke&&this.k.Ke.Sa>this.Sa&&this.Sa++},oo:function(){1<this.Sa&&this.Sa--},So:ca("Eg"),To:function(a){this.fe=(this.cd=a)?k:this.fe},Ko:ca("$c"),Jo:function(a){this.cd=(this.fe=a)?k:this.cd}};function $b(a){this.id=a[0];this.type=a[1];this.k=a[2]?new R(a[2]):j;this.wk=a[3]}$b.prototype={id:0,type:0,k:j,wk:0};function qa(a){var b;this.I=[j,j,j];this.D=[];this.Xb=a;this.id=a[0];this.da=a[1];this.X=a[2];this.kl=this.W=a[3];this.wa=a[4];this.rc=a[5];this.e=a[6];this.Ab=a[7];this.oe=a[9];this.Ik=a[10];this.Kk=a[11];this.f=a[13];this.delay=a[14];this.K=[];for(b=0;b<a[15].length;b++)this.K[b]=a[15][b]!=j?new R(a[15][b]):j;this.Uj=a[17];this.ij=this.name=a[18];this.ia=a[19]!=j?new ac(a[19]):j;this.rg=a[20];this.U=a[21];this.td=a[22]!=j?new bc(a[22]):j;this.q=a[23];this.fc=a[24];this.ve=a[25];this.Mi=a[27];this.Fb=
a[28];this.unique=a[29];this.Jk=a[30];this.Yi=a[31];this.Ui=a[33];this.ta=a[36]!=j?new cc(a[36]):j;this.description=a[37];this.ub=a[38];this.Cc=a[39];this.Bc=a[40];this.Oa=j;if(a[41]){this.Oa=[];for(b=0;b<a[41].length;b++)this.Oa[b]=new dc(a[41][b])}else if(a[42]){this.Oa=[];for(b=0;b<a[42].length;b++)this.Oa[b]=new ec(a[42][b])}this.Vb=a[43];this.we=a[44];this.Yh=a[45];this.Fk=a[46]}
qa.prototype={I:j,Ib:j,Q:j,Uc:j,id:0,da:0,X:0,W:0,wa:0,rc:0,e:0,Ab:0,oe:0,Ik:0,Kk:0,f:0,delay:0,K:j,Uj:0,name:"",ia:0,rg:0,U:0,td:0,q:"",fc:"",ve:0,we:0,Mi:0,Fb:0,unique:0,Jk:0,Yi:0,Ui:0,ta:0,description:"",ub:0,Cc:0,Bc:0,Yh:0,Fk:0,ba:-1,fa:-1,oa:-1,ic:-1,Oa:j,ij:"",Vb:j,kl:0,ne:0,so:0,uo:0,ro:j,to:j,gh:function(a){this.Uc=a;for(var b=0;3>b;b++)this.I[b]&&this.I[b].gh(a)},ni:function(){return 200<=this.e},Fi:function(a,b){var c,d=k,f=-1,g=-1;-1!=this.oa&&e(new fc(this,0,0,hc));200>this.e&&e(new fc(this,
0,0,ic));for(c=0;c<Ma.length;c++)a==Ma[c]&&(d=i);d||e(new fc(this,0,0,jc));for(c=0;c<this.f.length;c++)this.f[c]&&(this.f[c][0]==b&&e(new fc(this,0,0,kc)),this.f[c][0]==a&&(f=c));if(this.Q)for(c=0;c<this.Q.D.length;c++)if((d=this.Q.D[c])&&5==d.types[0])d.cb[0]==b&&e(new fc(this,0,0,kc)),d.cb[0]==a&&(g=c);-1==f&&-1==g&&e(new fc(this,0,0,lc));this.oa=a;this.ba=b;-1!=f?(this.ic=this.f[f][1],this.fa=Math.floor(0.4*this.f[f][1]),this.f[f][1]-=this.fa):-1!=g&&(d=this.Q.D[g],this.ic=c=d.Nc[0],this.fa=Math.floor(0.4*
c),d.Y(c-this.fa))},restore:function(){var a;if(-1!=this.oa){for(a=0;a<this.f.length;a++)if(this.f[a]&&this.f[a][0]==this.oa){this.f[a][1]=this.ic;break}if(this.Q)for(a=0;a<this.Q.D.length;a++){var b=this.Q.D[a];b&&5==b.types[0]&&b.cb[0]==this.oa&&b.Y(this.ic)}}this.ic=this.oa=this.fa=this.ba=-1},Pi:function(a){if(this.Vb!=j){var b=0,c=0,d=0,a=Math.min(a,this.Vb[21]);this.f[b]!=j&&50<this.f[b][0]&&(this.f[9]=this.f[b],this.f[b]=j);if(4==this.X){switch(this.wa){case 1:this.Fb=H[a][19+this.W];c=H[a][7];
break;case 3:this.Fb=H[a][11+this.W];c=H[a][8];break;case 5:case 20:this.Fb=H[a][15+this.W];c=H[a][7];break;case 7:this.Fb=H[a][23+this.W];c=H[a][7];break;case 11:c=H[a][9];break;case 12:c=H[a][8];break;case 16:this.Fb=H[a][44],c=H[a][9]}switch(this.kl){case 4:this.W=40<=a?4:3;this.fc[0]=locale.a_armor[this.W];break;case 3:this.W=40<=a?3:2,this.fc[0]=locale.a_armor[this.W]}}else if(2==this.X){var f=1<<this.W;f&262156?(c=H[a][10],d=H[a][4]):f&43153?(c=H[a][11],d=H[a][this.we&512?2:0]):f&1185122&&(c=
H[a][7],d=H[a][this.we&512?3:1])}if(c){for(f=0;10>f;f++)0<this.Vb[f]&&(this.f[b++]=[this.Vb[f],Math.floor(this.Vb[f+10]*c/1E4)]);this.we&512&&2==this.X&&0<H[a][6]&&(this.f[b++]=[45,H[a][6]])}d&&(this.ub=d,this.Cc=Math.floor(this.ub*this.delay*(1-this.Yh/2)/1E3),this.Bc=Math.floor(this.ub*this.delay*(1+this.Yh/2)/1E3))}},Wk:function(a){if(!(this.Q&&a==this.Q.id))if(this.restore(),0==a)this.Q=j,this.name=this.ij;else{if(this.Oa)for(var b=0;b<this.Oa.length;b++)if(this.Oa[b].id==a){this.Q=this.Oa[b].clone();
this.name=this.ij+" "+this.Q.name;return}e(Error("Unable to set random property (ID:"+a+")"))}},Oc:function(a){if(!a)return j;for(var b=0;b<this.D.length;b++){var c=this.D[b];if(7==c.types[0]&&7==a.types[0]||7!=c.types[0]&&7!=a.types[0])return this.D[b]=a,c}this.D.push(a);return j},jo:function(a){if(a)for(var b=0;b<this.D.length;b++)if(this.D[b].id==a.id){this.D.splice(b,1);break}},Pc:function(a,b){this.Mj(a,b,k)},Qj:function(a,b){this.Mj(a,b,i)},Mj:function(a,b,c){if(a){!c&&this.Uc!=j&&(0<a.unique||
a.uk()==i)&&(this.I[b]==j||this.I[b].id!=a.id)&&!this.Uc.cj(a.id)&&e(new mc(0,0,nc));if(1!=this.U[b]&&6==a.W||1==this.U[b]&&6!=a.W)return;if(a.ta&&a.ta.$g>this.e){c||e(new mc(0,0,oc));return}a.gh(this.Uc)}this.I[b]=a},Ii:function(a){this.I[a]=j},oi:function(){if(!this.td)return k;for(var a=0;3>a;a++)if(this.U[a]){if(this.I[a]==j)return k;switch(this.U[a]){case 1:if(6!=this.I[a].W)return k;break;case 2:if(!(Math.pow(2,this.I[a].W)&297))return k;break;case 4:if(!(Math.pow(2,this.I[a].W)&308))return k;
break;case 8:if(!(Math.pow(2,this.I[a].W)&282))return k}}return i},Aa:function(){var a=this.Uc.V,b,c;for(b=0;5>b;b++)(c=this.K[b])&&1==this.Yi[b]&&a.add(this.K[b]);for(b=0;3>b;b++)(c=this.I[b])&&c.Aa(a);for(b=0;b<this.D.length;b++)this.D[b].Aa(a);this.td!=j&&this.oi()&&this.td.Aa(a);this.ta!=j&&this.ta.Ib.Fa(this.Uc)&&this.ta.Ib.Aa(a)},En:function(){return 0<this.unique},uk:function(){return 0!=(this.ve&524288)},xn:function(){for(var a=0,b=0,c=0;3>c;c++)this.I[c]&&b++,this.U[c]&&a++;return b>a},clone:function(){return new qa(this.Xb)},
hi:function(a){var b;for(b=0;b<this.f.length;b++)if(this.f[b]&&this.f[b][0]==a)return this.f[b][1];if(this.Q)for(b=0;b<this.Q.D.length;b++){var c=this.Q.D[b];if(c&&5==c.types[0]&&c.cb[0]==a)return c.Nc[0]}return 0}};function pc(a,b){this.id=b[0];this.name=b[1];this.description=b[2];this.fg=[];for(var c=0;c<b[3].length;c++){var d=new qc(b[3][c]);d&&(this.fg.push(d),F.set(d.k))}this.character=a;this.ea(Sb(this.id,a.e))}pc.prototype={id:0,name:"",description:"",fg:[],e:0,ea:function(a){var b=Sb(this.id,this.character.e);this.e=a>b?b:a},Wm:function(){for(var a=0,b=j,c=0;c<this.fg.length;c++){var d=this.fg[c];d.ne>a&&d.ne<=this.e&&(a=d.ne,b=d)}return b==j?j:b.k}};function rc(a){var b,c;this.id=a[0];this.n=[];for(b=0;b<a[1].length;b++)c=new R(a[1][b]),this.n.push(new Yb(c,1)),F.set(c);this.V=[];for(b=0;b<a[2].length;b++)this.V.push(new R(a[2][b]))}rc.prototype={n:[],V:[],id:0};function sc(a){this.id=a[0];this.name=a[1]}sc.prototype={id:0,name:""};function qc(a){this.id=a[0];this.k=a[1]?new R(a[1]):j;this.jg=a[3];this.ne=a[4]}qc.prototype={id:0,k:j,ne:0};function R(a){var b,c=a[17],d=j;if(c!=j)for(b=0;b<c.length;b++)(d=c[b])&&!F.contains(d[0])&&F.set(new R(d));this.e=85;this.Xb=a;this.id=a[0];this.name=a[1];this.q=a[3];this.duration=a[4];this.Pa=a[5];this.Xc=a[6];this.Wd=a[7];this.Ne=a[8];this.mg=a[9];this.Si=this.mg==j?0:Math.max(this.mg[0],this.mg[1])/1E3;this.C=Array(3);for(b=0;3>b;b++)this.C[b]=a[10][b]?new tc(a[10][b]):j;this.Ic=a[11]?new uc(a[11]):j;this.Vj=a[12]?a[12]:"";this.oh=a[14]?new vc(a[14]):j;this.Xa=a[15]?new wc(a[15]):j;this.type=
[];for(b=0;b<a[16].length;b++)c=a[16][b],0>c&&(c=~c+1),this.type[b]=c;this.Ke=a[18]?new xc(a[18]):j;this.$c=a[20];this.Kc=a[21]?new yc(a[21]):j;this.ea(this.e)}
R.prototype={e:0,Xb:j,id:j,name:j,q:j,duration:j,Pa:j,Xc:j,Wd:j,Ne:j,mg:j,Si:0,C:j,Ic:j,Vj:j,oh:j,Xa:j,Ke:j,type:j,$c:0,Kc:j,md:0,Kb:function(a){for(var b=this.Vj,c,d,f;(c=b.match(/\$(s|m|M)\(-?(\d+),(-?\d+),(-?\d+),(-?\d+),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?)\)/i))!=j;)f=parseFloat(c[8]),d=Wa(parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],10),this.e),d=Ua(d?d[1]:1,parseInt(c[5],10),parseFloat(c[6]),parseFloat(c[7]),this.e),b=b.replace(c[0],Math.floor(f*(Math.abs(d[0])+("M"==c[1]?
Math.abs(d[1]):0))));for(;(c=b.match(/\$d\((\d+),(\d+),(\d+),(\d+(?:\.\d+)?)\)/i))!=j;)d=Wa(parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],10),this.e),b=b.replace(c[0],d[0]);for(;c=b.match(/(\${[^}]*)\$time\((-?\d+(?:\.\d+)?)\)([^}]*})/i);)b=b.replace(c[0],c[1]+c[2]+c[3]);for(;c=b.match(/\$time\((-?\d+(?:\.\d+)?)\)/i);)b=b.replace(c[0],Ib(c[1]));return Bb(b.replace(/\$pl/ig,this.e),a)},ea:function(a){var b,c;this.e=a;if(this.Ic!=j){a=Wa(this.Ic.Yj,this.Ic.Xj,this.Ic.pk,this.e);a!=j&&(this.Ne=a[0]);
for(c=0;c<this.C.length;c++)this.C[c]!=j&&(b=Ua(a!=j?a[1]:1,this.Ic.Hb,this.Ic.Sh[c],this.Ic.ak[c],this.e),b!=j&&(this.C[c].value=b[0],this.C[c].Um=b[1]))}else for(c=0;c<this.C.length;c++)this.C[c]!=j&&this.C[c].ea(a)},qk:function(){return 0!=(this.type[0]&64)&&0>=this.duration},clone:function(){return new R(this.Xb)},toString:function(){return"Spell ["+this.id+"]: "+this.Kb(j)},kk:function(){for(var a=0;3>a;a++)if(this.C[a]&&23==this.C[a].Vd)return F.get(this.C[a].le)},gn:function(a,b){if(!this.Kc||
a<this.Kc.cg)return 0;var c=0,c=0<this.Kc.Jg&&a>this.Kc.Jg?this.Kc.Jg-this.Kc.cg:a-this.Kc.cg;return c*this.C[b].Fg}};function bc(a){var b;this.id=a[0];this.types=[];this.Nc=[];this.cb=[];for(b=0;5>b;b++)this.types[b]=a[1][b],this.Nc[b]=a[2][b],this.cb[b]=a[3][b];this.K=[];for(b=0;3>b;b++)this.K[b]=1==this.types[b]||3==this.types[b]||7==this.types[b]?new R(a[4][b]):a[4][b];this.description=a[5];this.sc=a[6];this.bh=a[7]?new sc(a[7]):j;this.oe=a[8];this.Ab=a[9];this.mb=a[10]}
bc.prototype={id:0,types:[],Nc:[],cb:[],description:"",hj:"",sc:j,bh:j,oe:0,Ab:0,K:[],mb:0,sk:function(a){if(a!=j&&this.sc!=j)for(var b=0;5>b;b++)if(!this.rk(b,a.v.vc))return k;return i},rk:function(a,b){var c=this.sc[1][a];c||(c=0);var d=this.sc[2][a];d||(d=0);var f=this.sc[3][a];f||(f=0);var g=this.sc[4][a];g||(g=0);if(!b||0==d&&0!=g&&b[c]!=g||2==d&&b[c]>=b[f])return k;if(3==d)if(0<g){if(b[c]<g+1)return k}else if(b[c]<=b[f])return k;return 0<c&&5==d&&b[c]<g?k:i},Y:function(a){5==this.types[0]||
4==this.types[0]?this.Nc[0]=a:3==this.types[0]&&this.K[0]!=j&&this.K[0].C[0]!=j&&(this.K[0].C[0].value=a);this.hj||(this.hj=this.description);this.description=this.hj.replace(/\$i/g,a)},ek:function(a){return 1>=this.Ab||a!=j&&this.Ab<=a.e},fk:function(a){return this.bh&&0<this.oe?a&&(a=a.ik(this.bh.id),a!=j&&a.e>=this.oe)?i:k:i},Fa:function(a){return this.ek(a)&&this.fk(a)&&this.sk(a)},ga:function(a){var b=this.ek(a),c=this.fk(a),d=this.sk(a),a="<table cellpadding = 0 cellspacing = 0>"+O("<span "+
(c&&b?d?"class='green'":"class='grey'":"class='red'")+">"+(7==this.types[0]&&this.K[0]?locale.use+": "+this.K[0].Kb(a).join("<br />"):this.description)+"</span>");b||(a+=O("<span class='red'>"+K(locale.reqLevel,this.Ab)+"</span>"));c||(a+=O("<span class='red'>"+locale.req+" "+this.bh.name+" ("+this.oe+")</span>"));return a+"</table>"},Aa:function(a){for(var b=0;3>b;b++)3==this.types[b]&&a.add(this.K[b])}};function zc(a,b){var c;this.R=0;this.id=b[0];this.ej=a;this.vf=b[1];this.Th=b[2];this.K=Array(5);for(c=this.zb=0;c<b[3].length;c++)b[3][c]?(this.K[c]=new R(b[3][c]),F.set(this.K[c]),this.zb++):this.K[c]=j;this.q=this.K[0].q;this.Lk=b[4];this.Bb=[j,j,j];this.Na=b[5]}
zc.prototype={id:0,K:j,zb:0,Lk:0,R:0,ej:0,vf:0,Th:0,id:0,Bb:[],q:"Temp",Ie:function(){for(var a=0;3>a;a++)if(this.Bb[a]!=j&&!this.Bb[a].ge())return k;return i},Ro:function(a,b){this.Bb[a]=b},getName:function(){return this.K[0]?this.K[0].name:j},jk:function(){return 0==this.R?j:this.K[this.R-1]},hn:function(){return this.R==this.zb?j:this.K[this.R]},ge:function(){return this.zb==this.R},An:function(a,b){return 4==b?3==a||31==a||35==a||41==a?(this.Na[0]&212992||0==this.Na[0])&&(this.Na[1]&2147483648||
0==this.Na[1])?i:k:this.Na[0]&21238021||0==this.Na[0]?i:k:1==b?7==a||37==a||44==a?(this.Na[0]&2064||0==this.Na[0])&&(this.Na[1]&268435456||0==this.Na[1])?i:k:(this.Na[0]&42476576||0==this.Na[0])&&(this.Na[1]&201326592||0==this.Na[1])?i:k:i}};function tc(a){this.Je=a[1];this.Vd=a[2];this.value=a[4];this.nd=53==this.Je?new bc(a[8]):a[8];this.wl=a[9];this.Fg=a[11];this.le=a[12];this.id=a[13];this.Tj=this.value}tc.prototype={id:0,Je:0,Vd:0,value:0,Um:0,nd:j,wl:0,Fg:0,le:0,Tj:0,ea:function(a){0!=this.Fg&&(this.value=Math.floor(this.Tj+this.Fg*(a-1)))},ln:function(){return 0>=this.le?j:F.get(this.le)}};function wc(a){this.Gb=a[0];this.mb=a[1];this.Ff=a[2]}wc.prototype={Gb:0,mb:0,Ff:0};function uc(a){this.Yj=a[0];this.Xj=a[1];this.pk=a[2];this.Hb=a[3];this.Sh=a[4];this.ak=a[5]}uc.prototype={Yj:0,Xj:0,pk:0,Sh:0,ak:0,Hb:0};function vc(a){this.di=a[2]}vc.prototype={di:0};function xc(a){this.Sa=a[0]}xc.prototype={Sa:0};function yc(a){this.cg=a[0];this.Jg=a[1]}yc.prototype={cg:0,Jg:0};function fc(a,b,c,d){this.sb=d;this.xa=a}fc.prototype={sb:j,xa:j,add:-1,red:-1,toString:function(){return"Unable to reforge "+this.xa+", reducing "+this.red+" and adding "+this.add+(this.sb?"!\n Cause:"+this.sb.toString():"")}};var jc=2,kc=3,lc=4,ic=5,hc=6;function Ac(a,b){this.sb=b;this.xa=a}
Ac.prototype={sb:j,xa:j,toString:function(){switch(this.sb){case Bc:return"You do not match the class requirement to wear this item!";case Cc:return"You do not match the requirement to wear this item!";case Dc:return"You are already wearing this item!";default:return"Unable to equip "+this.xa.name+" due to unknown reason!"}}};var Bc=0,Cc=1,Dc=3;function mc(a,b,c){this.sb=c}mc.prototype={sb:j};var oc=0,nc=3;function cc(a){this.Ib=new bc(a[0]);this.$g=a[1]}cc.prototype.Ib=j;cc.prototype.$g=0;function Ec(){}Ec.prototype={id:0,name:"",D:[],Xb:[],clone:l(j)};function dc(a){this.id=a[0];this.name=a[1];this.D=[];for(var b=0;5>b;b++)this.D[b]=a[2+b]?new bc(a[2+b]):j;this.Xb=a}dc.prototype=new Ec;dc.prototype.clone=function(){return new dc(this.Xb)};function ec(a){this.id=0-a[0];this.name=a[1];this.D=[];for(var b=0;5>b;b++)a[2+b]?(this.D[b]=new bc(a[2+b][1]),this.D[b].Y(a[2+b][0])):this.D[b]=j;this.Xb=a}ec.prototype=new Ec;ec.prototype.clone=function(){return new ec(this.Xb)};function ac(a){var b;this.id=a[0];this.name=a[1];this.Ld=[];for(b=0;b<a[3].length;b++)this.Ld[b]=a[3][b]!=j?new R(a[3][b]):j;this.Li=a[4];this.Gn=a[5];this.j=a[6]}ac.prototype={id:0,name:"",Ld:[],Li:[],Aa:function(a){for(var b=0;8>b;b++)this.Ld[b]!=j&&a.ei(this.id)>=this.Li[b]&&a.V.add(this.Ld[b])}};function Fc(a){this.character=a;this.C=[this.Mf(),this.Mf(),this.Mf(),this.Mf()];this.$e=[-1,-1];this.ef=[-1,-1];this.sf=[-1,-1];this.Me=this.Jd=this.ee=j}
Fc.prototype={character:j,V:[],n:[],C:[],$e:[-1,-1],ef:[-1,-1],sf:[-1,-1],ee:{},Jd:{},Me:{},Kh:{},Mf:function(){var a=Array(321);a[13]=Array(7);a[22]=Array(7);a[29]=Array(5);a[30]=Array(96);a[35]=Array(7);a[55]=Array(7);a[71]=Array(7);a[79]=Array(7);a[98]=Array(96);a[101]=Array(25);a[107]=Array(25);a[108]=Array(25);a[123]=Array(7);a[135]=Array(7);a[137]=Array(7);a[142]=Array(7);a[143]=Array(7);a[174]=Array(7);for(var b=0;7>b;b++)a[174][b]=Array(5);a[175]=Array(5);a[189]=Array(38);a[199]=Array(7);
a[212]=Array(5);a[219]=Array(5);a[220]=[];for(b=0;32>b;b++)a[220][b]=[0,0,0,0,0];a[237]=Array(7);a[238]=Array(7);a[268]=Array(5);return a},oj:function(a){if(a)for(var b=0;b<a.length;b++)"object"===typeof a[b]?this.oj(a[b]):a[b]=0},add:function(a){a&&!this.Jd[a.id]&&(this.V.push(a),this.Jd[a.id]=i)},Ed:function(a){a&&!this.Me[a.k.id]&&(this.n.push(a),this.Me[a.k.id]=i)},Fa:function(a){return this.Jd[a]||this.Me[a]?i:k},en:function(){var a=[],b={},c,d;c=j;this.V=[];this.n=[];this.oj(this.C);this.Jd=
{};this.Me={};this.Kh={};this.$e=[-1,-1];this.ef=[-1,-1];this.sf=[-1,-1];this.character.Aa();for(d=0;d<Gc;d++)if(c=this.character.ma(d,0))if(c.Aa(),16==d&&(this.$e=[c.X,c.W]),17==d&&(this.ef=[c.X,c.W]),18==d&&(this.sf=[c.X,c.W]),c.ia!=j&&b[c.ia.id]!==i)b[c.ia.id]=i,a[a.length]=c.ia;for(d=0;d<a.length;d++)a[d].Aa(this.character);this.ee={};for(d=0;d<this.V.length;d++)this.vj(this.V[d],1,k,k);for(d=0;d<this.n.length;d++)c=this.n[d],!c.fe&&!this.Kh[c.k.id]&&this.vj(c.k,c.Sa,i,c.Dn);return this.C},vj:function(a,
b,c,d){if(a&&(a.ea(this.character.e),!(79104!=a.id&&a.oh&&0!=a.oh.di&&0==(a.oh.di&1<<(this.character.d?this.character.d.ya-1:0))||!c&&!a.qk())))if(this.Kh[a.id]=i,a.Xa!=j&&-1!=a.Xa.Gb){if(a.Xa.Gb==this.$e[0]&&a.Xa.Ff&1<<this.$e[1]&&this.ye(a,this.C[1],b,c,d),a.Xa.Gb==this.ef[0]&&a.Xa.Ff&1<<this.ef[1]&&this.ye(a,this.C[2],b,c,d),a.Xa.Gb==this.sf[0]&&a.Xa.Ff&1<<this.sf[1]&&this.ye(a,this.C[3],b,c,d),4==a.Xa.Gb){var f,g,h=i;for(f=0;32>f&&h;f++)if(a.Xa.mb&1<<f&&(g=Ra[f],g=this.character.ma(g,0),!g||!(g.X==
a.Xa.Gb&&a.Xa.Ff&1<<g.W)))h=k;h&&this.ye(a,this.C[0],b,c,d)}}else this.ye(a,this.C[0],b,c,d)},ye:function(a,b,c,d,f){var g=a.C,h=0,m,r=k;if(d&&!f)for(d=0;3>d;d++)if(g[d]!=j&&65==g[d].Je){r=i;break}for(d=0;3>d;d++)if(f=g[d],f!=j&&(h=f.id,m=f.value+a.gn(this.character.e,d),!(r&&65!=f.Je))){switch(h){case 68368:if(this.ee[47203])continue;break;case 47203:if(this.ee[68368])continue;break;case 46325:case 68163:if(!this.Dd([46325,68163]))continue;this.Dd([44537,68341,68343,90962,90963])||(m-=6);break;case 44537:case 90962:case 90963:case 68341:case 68343:if(!this.Dd([44537,
68341,68343,90962,90963]))continue;if(!this.Dd([46325,68163]))continue;break;case 3549:case 45922:case 48552:if(!this.Dd([3549,45922,48552]))continue;break;case 86186:case 97691:case 48553:if(!this.Dd([86186,97691,48553]))continue}this.ee[h]=i;this.vh(b,f.Vd,m*c,f.nd,f.wl,h)}},Dd:function(a){for(var b in a)if(this.ee[a[b]])return k;return i},vh:function(a,b,c,d,f,g){var h;h=this.character.d?this.character.d.ya:0;switch(g){case 81812:c=120;break;case 88002:case 88004:case 88006:if(5!=h&&8!=h)return;
b=142;d=1;break;case 8697:case 8700:case 8694:if(5!=h&&8!=h)return;b=137;f=4;break;case 8699:case 8696:case 8693:if(1!=h)return;b=166}switch(b){case 13:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 22:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 29:if(-1==d)for(h=0;5>h;h++)this.vh(a,b,c,h,f,g);else a[b][d]+=c;break;case 30:a[b][d]+=c;break;case 35:a[b][d]+=c;break;case 55:0==d&&(d=127);for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 71:for(h=
0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 79:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 98:a[b][d]+=c;break;case 99:a[b]+=c;break;case 101:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 107:a[b][d]+=c;break;case 108:a[b][d]+=c;break;case 123:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 124:a[b]+=c;break;case 135:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 137:for(h=0;h<a[b].length;h++)if(f&
1<<h||-1==f)a[b][h]=100*((1+a[b][h]/100)*(1+c/100)-1);break;case 142:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]=100*((1+a[b][h]/100)*(1+c/100)-1));break;case 143:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]=Math.max(c,a[b][h]));break;case 174:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h][f]+=c);break;case 175:a[b][d]+=c;break;case 189:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 199:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 212:a[b][d]+=
c;break;case 219:a[b][d]+=c;break;case 220:for(h=0;32>h;h++)d&1<<h&&(a[b][h][f]+=c);break;case 237:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 238:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 240:21444==g&&this.Fa(56416)&&(c+=10);a[b]+=c;break;case 268:if(-1==d)for(h=0;5>h;h++)this.vh(a,b,c,h,f,g);else a[b][d]+=c;break;default:a[b]+=c}}};function Hc(){this.n={};this.c=new D;this.c.g("change",["silent"]);this.c.g("remove_buff",["buff","silent"]);this.c.g("remove_stack",["buff","silent"])}var Ic;
Ic=function(a,b){fa("api/buffs.php",new t(function(c){try{var d=u(c),c={},f;for(f in d){c[f]=[];for(var g=0;g<d[f].length;g++)if("Food"===f){var h=new qa(d[f][g]);E.set(h);var m=h.K[0]!=j&&h.K[0].kk()?new Jc(h.name,h.q,h.K[0].kk(),b):j;m&&c[f].push(m)}else{var r=new R(d[f][g]);F.set(r);c[f].push(Kc(r,b))}}a.notify([c,j])}catch(v){a.notify([j,v])}},Hc),[])};
Hc.prototype={n:{},w:function(a){this.c.w(a)},set:function(a){this.n[a.k.id]=a;this.c.fire("change",{silent:k})},Gd:function(a){(a=this.n[a])&&a.Gd();this.c.fire("change",{silent:k})},Xf:function(a,b,c){F.Id(a,new t(this.Lj,this),[a,b,i,i,c,Zb])},add:function(a,b){F.Id(a,new t(this.Lj,this),[a,k,k,b,k,Zb])},Lj:function(a,b,c,d,f,g){d=k;switch(a){case 79060:case 79062:this.pb([79060,79062])||(d=i);break;case 80353:case 32182:this.pb([80353,32182])||(d=i);break;case 79104:case 6307:case 469:this.pb([79104,
6307,469])||(d=i);break;case 79101:case 53138:case 30808:case 19506:this.pb([79101,53138,30808,19506])||(d=i);break;case 79057:case 54424:this.pb([79057,54424])||(d=i);break;case 77747:case 53646:this.pb([77747,53646])||(d=i);break;case 2895:case 49868:case 24907:this.pb([24907,49868,2895])||(d=i);break;case 53290:case 8515:case 55610:this.pb([8515,55610,53290])||(d=i);break;case 51701:case 29801:case 51470:case 24932:this.pb([51701,29801,51470,24932])||(d=i);break;case 6673:case 8076:case 57330:case 93435:this.pb([6673,
8076,57330,93435])||(d=i)}var h=F.get(a),m=[];if(h.$c){for(var r in this.n)0!=(this.n[r].k.$c&h.$c)&&m.push(this.n[r].k.id);d=!this.pb(m)}d||(this.n[a]!=j&&this.n[a].cd==(c?k:i)&&this.n[a].vd?this.n[a].Gd():(this.n[a]=new Yb(h,1),this.n[a].So(b),this.n[a].To(c?k:i),this.n[a].Ko(g),this.n[a].Jo(f)));this.c.fire("change",{silent:c?i:k})},Zg:function(a,b){b&&(!this.n[a]||!this.n[a].cd)?delete this.n[a]:this.Ej(a,i)},remove:function(a){this.Ej(a,k)},Ej:function(a,b){if(!(!this.n[a]||this.n[a].Eg||b&&
this.n[a].cd))if(this.n[a]&&1<this.n[a].Sa)this.n[a].oo(),this.c.fire("remove_stack",{buff:this.n[a],silent:b?i:k});else{var c=this.n[a];delete this.n[a];this.c.fire("remove_buff",{buff:c,silent:b?i:k})}},pb:function(a){for(var b=0;b<a.length;b++){if(this.n[a[b]]&&this.n[a[b]].Eg)return k;delete this.n[a[b]]}return i},Fa:function(a){return this.n[a]?i:k}};function Lc(a){this.j=Array(19);this.vc=[0,0,0,0,0];this.character=a;this.tf=j;for(a=0;a<this.j.length;a++)this.j[a]=[j,j,j,j,j]}var Mc=[1,2,3,16,[20,5],4,19,9,10,6,7,8,11,11,12,12,[21,17,13],[23,22,14,13,17],[28,26,25,15]],Gc=19;
Lc.prototype={j:[],Qg:j,Fc:0,hf:-1,vi:j,Bk:j,ai:k,bi:j,tf:{},vc:[],character:j,Sf:function(a){for(var b=this.j[a].length-1;0<b;b--)this.j[a][b]=this.j[a][b-1];this.j[a][0]=j},Ij:function(a,b){16==b&&!this.character.Oh()&&17==a.wa&&this.j[17][0]!=j&&this.Sf(17);17==b&&!this.character.Oh()&&this.j[16][0]&&17==this.j[16][0].wa&&this.Sf(16)},lh:function(a){this.Qa();this.tf=this.Gi();this.uf();this.Wg(a)},Tk:function(a,b,c){-1<c?(this.Bk=this.j[b][0].I[c],this.j[b][0].Qj(a,c)):(this.Qg=a)&&a.gh(this.character);
this.Fc=b;this.hf=c},Ni:function(a,b){if(this.j[b][0]!=j){var c=j;a!=j&&a.C[0]!=j&&a.C[0].nd&&(c=a.C[0].nd);this.bi=c;this.vi=this.j[b][0].Oc(c);this.Fc=b;this.ai=i}},Qa:function(){if(-1<this.Fc&&(-1<this.hf&&(this.j[this.Fc][0].Qj(this.Bk,this.hf,i),this.ol()),this.ai))this.j[this.Fc][0].jo(this.bi),this.j[this.Fc][0].Oc(this.vi);this.tf&&(this.uf(),this.Wg(this.tf),this.tf=j);this.Qg=this.vi=j;this.hf=this.Fc=-1;this.ai=k;this.bi=j},set:function(a,b){var c=k,d;if("object"==typeof Mc[a])for(d=0;d<
Mc[a].length;d++)b.wa==Mc[a][d]&&(c=i);else b.wa==Mc[a]&&(c=i);b.Pi(this.character.e);this.character.gg(b)||e(new Ac(b,Cc));this.character.sg(b)||e(new Ac(b,Bc));this.Jj(b,a)&&(this.Ij(b,a),c&&(this.Sf(a),(this.j[a][0]=b)&&b.gh(this.character)));return c},cj:function(a){var b,c,d,f;for(b=0;b<this.j.length;b++)if(d=this.j[b][0],d!=j)for(c=0;c<d.I.length;c++)if(f=d.I[c],f!=j&&f.id==a)return k;return i},Jj:function(a,b){var c;if(a.En()||a.uk()==i)for(c=0;c<this.j.length;c++)c!=b&&this.j[c][0]!=j&&a.id==
this.j[c][0].id&&e(new Ac(a,Dc));return i},remove:function(a){this.j[a][0]!=j&&this.Sf(a)},ap:function(a,b){if(this.Jj(this.j[a][b],a)){this.Ij(this.j[a][b],a);var c=this.j[a][0];this.j[a][0]=this.j[a][b];this.j[a][b]=c}},get:function(a){return this.Fc==a&&-1==this.hf&&this.Qg!=j?this.Qg:0<=a&&a<this.j.length?this.j[a][0]:j},ei:function(a){for(var b=0,c=j,d=0;19>d;d++)c=this.get(d),c!=j&&c.ia!=j&&c.ia.id==a&&b++;return b},ol:function(){var a=j,b=j,b=-1;this.vc=[0,0,0,0,0];for(var c=0;19>c;c++)if(a=
this.get(c))for(var d=0;3>d;d++)if(b=a.I[d])b=b.W,6==b&&this.vc[1]++,(0==b||3==b||5==b||8==b)&&this.vc[2]++,(2==b||4==b||5==b||8==b)&&this.vc[3]++,(1==b||3==b||4==b||8==b)&&this.vc[4]++},Ii:function(a){var b,c;for(b=0;b<this.j.length;b++)if(this.j[b][0]!=j)for(c=0;3>c;c++)this.j[b][0].I[c]&&this.j[b][0].I[c].id==a&&this.j[b][0].Pc(j,c)},uf:function(){var a;for(a=0;19>a;a++)this.j[a][0]&&this.j[a][0].restore()},Wg:function(a){this.uf();for(var b in a)if(this.j[b][0])if(-1==a[b][0])this.j[b][0].restore();
else try{this.j[b][0].Fi(a[b][0],a[b][1])}catch(c){e(c)}},Gi:function(){for(var a=[],b=0;19>b;b++)this.j[b][0]&&(a[b]=[this.j[b][0].oa,this.j[b][0].ba]);return a}};function Nc(a,b,c){this.c=new D;this.c.g("talents_reset",[]);this.c.g("talent_tree_reset",["tree"]);this.c.g("talent_tree_selected",["tree"]);this.c.g("talent_point_added",["tree","row","col","remainingPoints"]);this.c.g("talent_point_removed",["tree","row","col","remainingPoints"]);this.c.g("talent_distribution_set",["distribution"]);this.c.g("talents_init",[]);this.id=a;this.ao=0;this.$=(this.Lb=c)?1:3;this.rows=c?6:11;this.cols=4;this.Ob=c?20:10;this.ib=c?3:5;this.Ac=c?4:1;this.e=Oc;this.l=[];
this.na=[];this.ie=[];this.Hb=[];this.Rd=[];this.Yb=[];this.gj=[];this.fj=[];for(var d,f=[],a=0;a<this.$;a++){this.Yb[a]=b[a][0];this.gj[a]=b[a][2];this.fj[a]=b[a][1];this.l[a]=Array(this.rows);for(c=0;c<this.rows;c++)this.l[a][c]=Array(this.cols);for(c=0;c<b[a][3].length;c++)if(d=new zc(a,b[a][3][c]),!this.Lb||d.An(this.ao,this.id))this.l[a][d.vf][d.Th]=d,f[d.id]=d;for(c=0;c<this.rows;c++)for(d=0;d<this.cols;d++)if(this.l[a][c][d]!=j)for(var g=this.l[a][c][d],h=0;3>h;h++){var m=g.Lk[h];m&&g.Ro(h,
f[m])}this.ie[a]=[];for(c=0;c<b[a][4].length;c++)this.ie[a][c]=b[a][4][c]!=j?new R(b[a][4][c]):j;this.na[a]=[];for(c=0;c<b[a][5].length;c++)this.na[a][c]=new R(b[a][5][c])}this.lc(-1);this.c.fire("talents_init",{})}var Pc=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];
Nc.prototype={c:j,Ob:10,e:0,$:0,rows:0,cols:0,ib:0,Ac:1,l:[],Hb:[],Rd:[],Wc:"",sa:[],G:-1,Lb:k,ie:[],na:[],Yb:[],gj:[],fj:[],w:function(a){this.c.w(a)},lb:function(a){this.c.lb(a)},lc:function(a){this.G=a;this.Rf(i);this.c.fire("talent_tree_selected",{tree:a})},xc:function(){return this.wm<this.Ob?0:this.vg()-this.xg()},vg:function(){return this.e<this.Ob?0:this.Lb?Math.floor((this.e-this.Ob)/this.Ac+1):1+Math.min(35,this.e-9>>1)+Math.max(0,this.e-80)},xg:function(){for(var a=0,b=0;b<this.$;b++)a+=
this.sa[b];return a},ea:function(a){this.wm=a;0>this.xc()&&this.Rf(i)},Em:function(a,b,c){this.xj(a,b,c,1)&&this.c.fire("talent_point_added",{tree:a,row:b,col:c,remainingPoints:this.xc()})},lo:function(a,b,c){this.xj(a,b,c,-1)&&this.c.fire("talent_point_removed",{tree:a,row:b,col:c,remainingPoints:this.xc()})},xj:function(a,b,c,d){if(-1!=this.G&&this.l[a][b][c]!=j&&this.l[a][b][c].R+d<=this.l[a][b][c].zb&&0<=this.l[a][b][c].R+d&&0<=this.xc()-d&&this.sa[a]>=this.ib*b&&(31<=this.sa[this.G]||a==this.G)&&
(this.G!=a||31<=this.sa[a]+d||this.xg()==this.sa[a])){this.l[a][b][c].R+=d;this.sa[a]+=d;if(this.rm(a))return this.Fe(),i;this.l[a][b][c].R-=d;this.sa[a]-=d}return k},rm:function(a){var b=0,c,d,f,g=[];for(c=0;c<this.rows;c++){g[c]=[];for(d=0;d<this.cols;d++)if(g[c][d]=-1,f=this.l[a][c][d],f!=j&&0<f.R){if(b<c*this.ib||!f.Ie())return k;b+=f.R}}return i},reset:function(){this.Rf(k);this.Fe();this.c.fire("talents_reset",{})},Rf:function(a){for(var b=0;b<this.$;b++)this.Fj(b);a||this.lc(-1)},zo:function(a){a==
this.G&&this.xg()!=this.sa[a]?(this.Rf(i),this.Fe(),this.c.fire("talents_reset",{})):(this.Fj(a),this.Fe(),this.c.fire("talent_tree_reset",{tree:a}))},Fj:function(a){for(var b,c=0;c<this.rows;c++)for(var d=0;d<this.cols;d++)b=this.l[a][c][d],b!=j&&(b.R=0);this.sa[a]=0},yh:function(a){a=9<a?35<a?65+a-36:97+a-10:48+a;return unescape("%"+Pc[Math.floor(a/16)]+Pc[Math.floor(a%16)])},Fe:function(){this.Hb=[];this.Rd=[];this.Wc="";var a=0,b=0,c=-1,d="",f,g,h;for(f=0;f<this.$;f++)for(g=0;g<this.rows;g++)for(h=
0;h<this.cols;h++)this.l[f][g][h]!=j?(this.Rd[a++]=this.l[f][g][h].R,this.Hb[b++]=this.l[f][g][h].R,-1==c?c=this.l[f][g][h].R:(c=6*c+this.l[f][g][h].R,d+=this.yh(c),c=-1)):this.Hb[b++]=0;-1!=c&&(d+=this.yh(6*c));for(g=0;g<d.length;g++)if(48==d.charCodeAt(g)){for(a=0;48==d.charCodeAt(g)&&g<d.length;)g++,a++;g!=d.length&&(g--,this.Wc+=","+this.yh(a))}else this.Wc+=d.charAt(g)},Io:function(a,b){var c=0,d,f,g,h,m=[];for(f=0;f<this.$;f++)for(g=m[f]=0;g<this.rows;g++)for(h=0;h<this.cols;h++)this.l[f][g][h]!=
j&&(d=parseInt(a[c],10),d=isNaN(d)?0:d,m[f]+=d,b&&c++),b||c++;c=0;d=-1;for(g=0;g<this.$;g++){if(31<=m[g]){d=g;break}m[g]>c&&(d=g,c=m[g])}-1!=d&&this.lc(d);for(f=c=0;f<this.$;f++)for(g=this.sa[f]=0;g<this.rows;g++)for(h=0;h<this.cols;h++)this.l[f][g][h]!=j&&(d=parseInt(a[c],10),this.l[f][g][h].R=isNaN(d)?0:d,this.sa[f]+=d,b&&c++),b||c++;this.Fe();this.c.fire("talent_distribution_set",{distribution:this.ug(k)})},ug:function(a){return a?this.Rd:this.Hb},Aa:function(a){var b=j,c,d,f;for(c=0;c<this.$;c++){for(d=
0;d<this.rows;d++)for(f=0;f<this.cols;f++)this.l[c][d][f]!=j&&(b=this.l[c][d][f].jk(),b!=j&&a.add(b));if(c==this.G){for(d=0;d<this.na[c].length;d++)a.add(this.na[c][d]);for(d=0;d<this.ie[c].length;d++)a.add(this.ie[c][d])}}}};function wa(){this.ig=[];this.c=new D;this.c.g("character_change",["character"])}wa.prototype={ig:[],c:j,cursor:-1,zm:function(a){this.ig.push(a);this.cursor=this.ig.length-1;this.c.fire("character_change",{character:a})},H:function(){return-1==this.cursor?j:this.ig[this.cursor]}};function xa(){this.c=new D;this.c.g("race_change",["race"]);this.c.g("class_change",["class"]);this.c.g("level_change",["level"]);this.c.g("character_loaded",["character"]);this.c.g("stats_change",["stats"]);this.c.g("preview_stats_change",["previewStats"]);this.c.g("profession_change",["index","profession"]);this.c.g("profession_level_change",["index","level"]);this.c.g("item_change",["slot"]);this.c.g("gem_change",["slot","socket"]);this.c.g("enchant_change",["slot"]);this.c.g("reforge_change",
["slot"]);this.c.g("random_enchant_change",["slot"]);this.c.g("talents_reset",[]);this.c.g("talent_tree_reset",["tree"]);this.c.g("talent_tree_selected",["tree"]);this.c.g("talent_point_added",["tree","row","col","remainingPoints"]);this.c.g("talent_point_removed",["tree","row","col","remainingPoints"]);this.c.g("talent_distribution_set",["distribution"]);this.c.g("talents_init",[]);this.c.g("buffs_change",[]);this.c.g("shapeform_change",["new_shape","old_shape"]);this.c.g("presence_change",["new_presence",
"old_presence"]);var a=new t(function(a){this.c.Ei(a)},this);this.ja=[j,j];this.f=new Qc(this);this.zi=new Qc(this);this.v=new Lc(this);this.V=new Fc(this);this.n=new Hc;this.bj=new y("talents_reset,talent_tree_reset,talent_tree_selected,talent_point_added,talent_point_removed,talent_distribution_set,talents_init".split(","),a);this.n.w(new y(["change","remove_buff","remove_stack"],new t(function(a){if(a.is("remove_buff")){var c=this.d?this.d.shape:j;if(c)for(var d in c.n)if(a.get("buff").k.id==c.n[d].k.id){this.qd(0);
break}}a.get("silent")||this.T();this.c.fire("buffs_change",{})},this)));this.Rh=new y(["shapeform_change","presence_change"],new t(function(a){if(a.is("shapeform_change")){var c=a.get("old_shape"),d=a.get("new_shape"),f;if(c)for(f=0;f<c.n.length;f++)this.n.Zg(c.n[f].k.id,i);if(d)for(f=0;f<d.n.length;f++)this.n.Xf(d.n[f].k.id,1==this.d.id,i);this.c.Ei(a)}else a.is("presence_change")&&(c=a.get("old_presence"),d=a.get("new_presence"),c&&this.n.Zg(c.k.id,i),d&&this.n.Xf(d.k.id,i,i),this.c.Ei(a))},this));
this.ea(Oc);this.description=this.name=""}var Oc=85;
xa.prototype={c:j,bj:j,Rh:j,J:j,d:j,e:Oc,v:j,n:j,ja:j,f:j,zi:j,V:j,description:"",name:"",w:function(a){this.c.w(a)},lb:function(a){this.c.lb(a)},ea:function(a){if(a>=this.gi()&&85>=a){this.d!=j&&this.d.ea(a);this.e=a;for(var b=0;2>b;b++)this.ja[b]&&(0==Sb(this.ja[b].id,this.e)&&(this.ja[b]=j),this.ja[b].ea(this.e))}else e(new Rc(a));this.T();this.c.fire("level_change",{level:a})},hh:function(a){this.d!=j&&(this.d.l.lb(this.bj),this.d.lb(this.Rh));if(a!=j){(this.J==j||!this.J.vk(a.id))&&e(new Sc(this.J,
a));this.d=a;try{this.d.ea(this.e)}catch(b){b instanceof Rc?b.e>Oc?this.d.ea(Oc):this.d.ea(this.gi()):da(b)}this.d.l.w(this.bj);this.d.w(this.Rh)}else this.d=j;this.T();this.c.fire("class_change",{"class":a})},Vk:function(a){a==j?this.hh(j):(this.d!=j&&!a.vk(this.d.id)&&this.hh(j),this.J=a);this.T();this.c.fire("race_change",{race:a})},T:function(){Tc(this.f,k);this.c.fire("stats_change",{stats:this.f})},Va:function(){Tc(this.zi,i);this.c.fire("preview_stats_change",{previewStats:this.zi});this.v.Qa()},
kc:function(){this.c.fire("preview_stats_change",{previewStats:j})},gg:function(a){if(4==a.X){if(0!=(1<<a.W&this.Vm()))return i}else if(2==a.X)return i;return k},sg:function(a){return 0==a.rc||1535==(a.rc&1535)||this.d!=j&&0!=(a.rc&1<<this.d.id-1)},Km:function(a){switch(a){case 0:return 2;case 1:return 4;case 2:return 8;case 3:return 65536;case 4:return 1048608;case 5:return 16;case 6:return 524288;case 7:return 512;case 8:return 1024;case 9:return 64;case 10:return 128;case 11:return 256;case 12:return 2048;
case 13:return 2048;case 14:return 4096;case 15:return 4096;case 16:if(this.d!=j)switch(this.d.id){case 4:break;default:return 2236416}return 2105344;case 17:if(this.d!=j)switch(this.d.id){case 1:return 8404992|(1==this.d.l.G?4202496:0)|(this.Oh()?131072:0);case 2:return 8404992;case 3:return 12591104;case 4:return 12591104;case 6:return 12591104;case 7:return 8404992|(1==this.d.l.G?4202496:0)}return 8388608}return 0},dn:function(){var a=31;if(this.d!=j)switch(this.d.id){case 1:a=40<=this.e?16:8;
break;case 2:a=40<=this.e?16:8;break;case 3:a=40<=this.e?8:4;break;case 4:a=4;break;case 5:a=2;break;case 6:a=16;break;case 7:a=40<=this.e?8:4;break;case 8:a=2;break;case 9:a=2;break;case 11:a=4}return a},Lm:function(a){switch(a){case 0:case 2:case 4:case 7:case 8:case 9:case 10:case 11:return[4,this.dn()];case 3:return[4,2];case 5:case 6:return[4,3];case 1:case 12:case 13:case 14:case 15:return[4,1];case 18:if(this.d!=j)switch(this.d.id){case 9:case 8:case 5:return[2,524288];case 1:case 3:case 4:return[2,
327692];case 2:case 7:case 6:case 11:return[4,2048]}return[100,1]}return[-1,0]},Vm:function(){if(this.d!=j)switch(this.d.id){case 1:return(40<=this.e?31:15)+64;case 2:return(40<=this.e?31:15)+2112;case 6:return(40<=this.e?31:15)+2048;case 3:return 40<=this.e?15:7;case 7:return(40<=this.e?15:7)+2112;case 11:return 2055;case 4:return 7;case 5:case 8:case 9:return 3}return 31},Oh:function(){return this.d!=j&&1==this.d.id&&0<this.d.l.l[1][6][1].R},mk:function(){return this.d==j?k:0==(1<<this.d.id&90)},
Uk:function(a,b){this.ja[a]=0<b?new pc(this,vb[b]):j;this.T();this.c.fire("profession_change",{index:a,profession:this.ja[a]})},Po:function(a,b){this.ja[a].ea(b);this.T();this.c.fire("profession_level_change",{index:a,level:this.ja[a].e})},lk:function(a){var b=this.ik(164);return(7==a||8==a)&&this.v.get(a)!=j&&60<=this.v.get(a).e&&b!=j&&400<=b.e||9==a&&70<=this.e&&this.v.get(a)!=j&&80<=this.v.get(a).e?i:k},ik:function(a){return this.ja[0]&&this.ja[0].id==a?this.ja[0]:this.ja[1]&&this.ja[1].id==a?
this.ja[1]:j},Cd:function(a){this.V.Fa(a)&&!this.n.Fa(a)?this.n.Xf(a,k,i):!this.V.Fa(a)&&this.n.Fa(a)&&this.n.Zg(a,k)},Aa:function(){var a=this.n.n,b=0;this.d&&this.d.Aa(this.V);this.J&&this.J.Aa(this.V);for(b=0;2>b;b++)if(this.ja[b]){var c=this.ja[b].Wm();c&&this.V.add(c)}if(this.d)switch(this.d.id){case 1:this.Cd(29801);break;case 3:this.Cd(53290);break;case 4:this.Cd(51701);this.Cd(31223);break;case 6:this.Cd(55610);break;case 7:this.Cd(51470);break;case 11:this.V.Fa(17007)&&this.d!=j&&0!=(1<<
this.d.ya&290)?this.n.Xf(24932,k,k):this.n.Zg(24932,k)}for(b in a)this.V.Ed(a[b])},Fn:function(a){return 16==a||17==a&&this.d!=j&&0!=(1<<this.d.id&154)||18==a&&this.d!=j&&0!=(1<<this.d.id&826)},load:function(a){var b,c=0,d,f;if(a!=j){this.name=a[0][0];this.description=a[0][1];this.Vk(new Uc(this,a[0][2]));this.hh(new Vc(a[0][3]));this.ea(a[0][4]);this.d&&this.d.qd(a[0][5]?a[0][5]:0);b=a[0][6]?a[0][6]:0;if(0==b&&this.d!=j&&6==this.d.id)switch(a[4]){case 0:b=48263;break;case 1:b=48266;break;case 2:b=
48265;break;default:b=48263}this.d.re(b);if(this.d){(2===a[4]||1===a[4]||0===a[4])&&this.d.l.lc(a[4]);a[2]&&this.d.l.Io(a[2],i);if(a[5])for(b=0;b<a[5].length;b++)a[5][b]&&(this.Uk(b,a[5][b][0]),this.ja[b].ea(a[5][b][1]));for(b=0;b<a[3].length;b++)a[3][b]&&this.d.Wf(new $b(a[3][b]))}for(b=0;19>b;b++)if(a[1][b])if(a[1][b][0]){d=new qa(a[1][b][0]);try{this.v.set(b,d)}catch(g){if(g instanceof Ac)continue;da(g)}for(c=0;3>c;c++)a[1][b][1+c]&&(f=new qa(a[1][b][1+c]),d.Pc(f,c),E.set(f.clone()));a[1][b][4]&&
d.Oc(new bc(a[1][b][4]));a[1][b][6]!=j&&0!=a[1][b][6]&&d.Wk(a[1][b][6]);if(a[1][b][5]&&-1!=a[1][b][5][0]&&-1!=a[1][b][5][1])try{d.Fi(a[1][b][5][0],a[1][b][5][1])}catch(h){h instanceof fc||da(h)}if(a[1][b][7])for(c=0;c<a[1][b][7].length;c++)d.Oc(new bc(a[1][b][7][c]));E.set(d.clone())}else this.v.remove(b);for(b in a[6])c=new R(a[6][b][0]),F.set(c),this.n.set(new Yb(c,a[6][b][1]));this.T();this.c.fire("character_loaded",{character:this})}},gi:function(){return this.d!=j&&6==this.d.id?55:1},toArray:function(){var a=
[],b,c,d,f=this.d?this.d.ya:0,g=this.d!=j&&this.d.xb!=j?this.d.xb.k.id:0;this.d.qd(0);this.d.re(0);a[0]=[this.name,this.description,this.J?this.J.id:0,this.d?this.d.id:0,this.e,f,g];a[1]=[];for(b=0;19>b;b++)if(d=this.v.j[b][0],d==j)a[1][b]=j;else{a[1][b]=[];a[1][b][0]=d.id;a[1][b][1]=d.I[0]?d.I[0].id:0;a[1][b][2]=d.I[1]?d.I[1].id:0;a[1][b][3]=d.I[2]?d.I[2].id:0;a[1][b][4]=0<d.D.length?d.D[0].id:j;a[1][b][5]=[d.oa,d.ba];a[1][b][6]=d.Q?d.Q.id:0;a[1][b][7]=[];for(c=1;c<d.D.length;c++)a[1][b][7].push(d.D[c].id)}a[2]=
this.d?this.d.l.ug(i):[];a[3]=[];if(this.d)for(b=0;b<this.d.N.length;b++)for(c=0;c<this.d.N[b].length;c++)this.d.N[b][c]&&a[3].push(this.d.N[b][c].id);a[4]=this.d?this.d.l.G:-1;a[5]=[j,j];for(b=0;2>b;b++)c=this.ja[b],a[5][b]=c?[c.id,c.e]:j;a[6]=[];c=this.n.n;for(b in c)c[b]&&!c[b].fe&&a[6].push([c[b].k.id,c[b].Sa]);this.d.qd(f);this.d.re(g);return a},cp:function(){var a,b,c,d={averageItemLevel:0,averageItemLevelEquipped:0},f,g,h,m=this.d!=j?this.d.l:j,r=[[],[],[]],v=[];for(a=0;19>a;a++)if(h=this.v.j[a][0],
h!=j){f=Sa[a];g={};for(b=0;b<h.D.length;b++)c=h.D[b],7==c.types[0]?g.tinker=c.id:g.enchant=c.id;for(b=0;3>b;b++)h.I[b]&&(g["gem"+b]=h.I[b].id);h.xn()&&(g.extraSocket=i);-1!=h.oa&&-1!=h.ba&&(g.reforge=7*Na[h.oa]+113+Na[h.ba]-(h.ba>h.oa?1:0));h.Q&&(g.suffix=h.Q.id);d[f]={icon:h.q,id:h.id,name:h.name,quality:h.da,tooltipParams:g}}if(this.d){for(a=0;a<this.d.N.length;a++)for(b=0;b<this.d.N[a].length;b++)(c=this.d.N[a][b])&&r[a].push({glyph:c.id,item:c.wk,name:c.k.name,icon:c.k.q});b=[{selected:i,name:-1!=
m.G?m.Yb[m.G]:"None",icon:"",build:m.ug(i).join(""),trees:[],glyphs:{prime:r[2],major:r[0],minor:r[1]}}]}else b=j;for(a=0;2>a;a++)(m=this.ja[a])&&v.push({id:m.id,name:Ta[m.id],rank:m.e});return JSON.stringify({name:this.name,race:this.J!=j?this.J.id:0,"class":this.d!=j?this.d.id:0,level:this.e,items:d,talents:b,professions:{primary:v,secondary:[]}})},Cm:function(a,b){this.v.Qa();this.kc();this.v.set(a,b);this.T();16==a||17==a?(this.c.fire("item_change",{slot:16}),this.c.fire("item_change",{slot:17})):
this.c.fire("item_change",{slot:a})},removeItem:function(a){this.v.Qa();this.kc();this.v.remove(a);this.T();this.c.fire("item_change",{slot:a})},Pc:function(a,b,c){this.v.Qa();this.kc();this.v.j[a][0].Pc(c,b);this.T();this.c.fire("gem_change",{slot:a,socket:b})},Ii:function(a,b){this.v.Qa();this.kc();this.v.j[a][0].Pc(j,b);this.T();this.c.fire("gem_change",{slot:a,socket:b})},bp:function(a,b){this.v.Qa();this.kc();this.v.ap(a,b);this.T();16==a||17==a?(this.c.fire("item_change",{slot:16}),this.c.fire("item_change",
{slot:17})):this.c.fire("item_change",{slot:a})},Oc:function(a,b){this.v.Qa();this.kc();this.v.j[a][0].Oc(b);this.T();this.c.fire("enchant_change",{slot:a})},Ni:function(a,b){this.v.Ni(b,a);this.Va()},ko:function(){this.v.Qa();this.Va()},Mo:function(a,b){this.v.Qa();this.kc();this.v.j[a][0].Wk(b);this.T()},Rk:function(a,b){this.v.Tk(b,a,-1);this.Va()},Hk:function(){this.v.Qa();this.Va()},Qk:function(a,b,c){this.v.Tk(c,a,b);this.Va()},Gk:function(){this.v.Qa();this.Va()},ma:function(a,b){return"undefined"===
typeof b?this.v.j[a][0]:this.v.j[a][b]},cj:function(a){return this.v.cj(a)},ei:function(a){return this.v.ei(a)},fo:function(a,b,c){if(a=this.v.j[a][0])a.restore(),a.Fi(b,c),this.T()},Qo:function(a,b,c){var d=this.v.Gi();d[a]=[b,c];this.v.lh(d);this.Va()},lh:function(a){this.v.lh(a);this.Va()},mo:function(){this.v.Qa();this.Va()},no:function(){this.v.Qa();this.Va()},Co:function(a){if(a=this.v.j[a][0])a.restore(),this.T()},Bo:function(){this.v.uf();this.T();this.Va()},eo:function(a){var b=this.v.Gi();
try{this.v.uf(),this.v.Wg(a),this.T(),this.Va()}catch(c){this.v.Wg(b),this.T(),this.Va(),e(c)}},Ed:function(a){this.n.add(a,k)},Gd:function(a){this.n.Gd(a)},io:function(a){this.n.remove(a,k)},Bn:function(a){return this.n.Fa(a)},yo:function(){var a=this.d!=j?this.d.l:j;a&&(a.reset(),this.T())},xo:function(a){var b=this.d!=j?this.d.l:j;b&&(b.zo(a),this.T())},Gm:function(a,b,c){var d=this.d!=j?this.d.l:j;d&&(d.Em(a,b,c),this.T())},po:function(a,b,c){var d=this.d!=j?this.d.l:j;d&&(d.lo(a,b,c),this.T())},
Eo:function(a){var b=this.d!=j?this.d.l:j;b&&(b.lc(a),this.T())},mn:function(){var a=this.d!=j?this.d.l:j;return a?a.G:-1},sn:function(){return this.d!=j?this.d.l:j},Sk:ca("name"),Ho:ca("description"),Wf:function(a){this.d.Wf(a);this.T()},Ji:function(a){if(this.d!=j&&a!=j)for(var b=this.d.N[a.type],c=0;c<b.length;c++)if(b[c]!=j&&b[c].id==a.id){this.d.Ji(a.type,c);this.T();break}},qd:function(a){this.d!=j&&(this.d.qd(a),this.T())},re:function(a){this.d!=j&&(this.d.re(a),this.T())}};
function Sc(a,b){this.J=a;this.d=b}Sc.prototype={J:j,d:j,toString:function(){return"Illegal combination of race ("+this.J+") and class("+this.d+")."}};function Rc(a){this.e=a}Rc.prototype={e:j};function Uc(a,b){this.character=a;this.id=b[0];this.name=b[1];this.mf=[];for(var c=0;c<b[2].length;c++)this.mf[c]=new qc(b[2][c])}
Uc.prototype={id:0,character:j,name:"",mf:[],Aa:function(a){for(var b,c,d=0;d<this.mf.length;d++)b=this.mf[d],b.k!=j&&(c=this.character.d,(c!=j&&1<<c.id-1&b.jg||0>=b.jg)&&a.add(b.k))},toString:function(){return"CharacterRace ("+this.name+","+this.mf+")"},vk:function(a){switch(this.id){case 11:return 11!=a&&9!=a&&4!=a;case 3:return 11!=a;case 7:return 11!=a&&3!=a&&2!=a&&7!=a;case 1:return 11!=a&&7!=a;case 4:return 2!=a&&7!=a&&9!=a;case 22:return 2!=a&&7!=a;case 10:return 11!=a&&7!=a;case 9:return 11!=
a&&2!=a;case 2:return 11!=a&&5!=a;case 6:return 8!=a&&4!=a&&9!=a;case 8:return 2!=a;case 5:return 11!=a&&2!=a&&7!=a}return k}};function Vc(a){this.c=new D;this.c.g("shapeform_change",["new_shape","old_shape"]);this.c.g("presence_change",["new_presence","old_presence"]);this.c.g("glyph_added",["glyph"]);this.c.g("glyph_removed",["glyph"]);var b,c=0;this.Xb=a;this.f=[];this.e=-1;this.rd=j;this.N=[[j,j,j],[j,j,j],[j,j,j]];this.id=a[0];this.name=a[1];this.l=new Nc(a[0],a[2],k);this.Rj=a[3];this.yf={};this.kg=[];for(b=0;b<a[4].length;b++)this.kg[b]=new qc(a[4][b]);this.ag=[];for(c=0;c<a[5].length;c++)for(b=0;b<a[5][c].length;b++)this.ag.push(new $b(a[5][c][b]));
if(a[6]){this.rd=[];for(b=0;b<a[6].length;b++)this.rd[b]=new rc(a[6][b]),this.yf[this.rd[b].id]=this.rd[b]}if(a[7]){this.Ec=[];for(b=0;b<a[7].length;b++)c=new R(a[7][b]),this.Ec.push(c),F.set(c)}if(a[9]){this.Ec=[];for(b=0;b<a[9].length;b++)F.set(new R(a[9][b]))}this.Vh=a[8]}
Vc.prototype={c:j,id:0,name:"",e:0,ya:0,shape:j,rd:j,yf:j,N:j,ag:j,$f:0,l:j,xb:j,Ec:j,kg:j,Rj:j,ca:function(a,b){this.c.ca(a,b)},w:function(a){this.c.w(a)},lb:function(a){this.c.lb(a)},ea:function(a){this.e=a;this.l.ea(a);for(a=this.$f=25>a?0:50>a?1:75>a?2:3;3>a;a++)this.N[0][a]=j,this.N[1][a]=j,this.N[2][a]=j},qd:function(a){var b=this.shape;this.ya=a;0!=this.ya?this.yf[this.ya]?this.shape=this.yf[this.ya]:e(new Ub):this.shape=j;this.c.fire("shapeform_change",{new_shape:this.shape,old_shape:b})},
re:function(a){var b=this.xb;if(0==a)this.xb=j,this.c.fire("presence_change",{new_presence:this.xb,old_presence:b});else{for(var c=0;c<this.Ec.length;c++)if(this.Ec[c].id==a){this.xb=new Yb(this.Ec[c],1);this.c.fire("presence_change",{new_presence:this.xb,old_presence:b});return}e(Error("Unable to set presence "+a))}},Aa:function(a){var b,c;if(0!=this.ya){b=this.yf[this.ya];for(c=0;c<b.n.length;c++)a.Ed(b.n[c]);for(c=0;c<b.V.length;c++)a.add(b.V[c])}this.xb&&a.Ed(this.xb);this.l.Aa(a);for(c=0;c<this.N.length;c++)for(b=
0;b<this.N[c].length;b++)this.N[c][b]&&a.add(this.N[c][b].k);for(c=0;c<this.kg.length;c++)if(b=this.kg[c],b.k!=j){if(b.k.type[8]&1048576)switch(this.id){case 1:if(86101==b.k.id&&0!=this.l.G||86110==b.k.id&&1!=this.l.G||86535==b.k.id&&2!=this.l.G)continue;break;case 2:if(86103==b.k.id&&0!=this.l.G||86102==b.k.id&&1!=this.l.G||86539==b.k.id&&2!=this.l.G)continue;break;case 6:if(86537==b.k.id&&0!=this.l.G||86536==b.k.id&&1!=this.l.G||86113==b.k.id&&2!=this.l.G)continue;break;case 7:if(86100==b.k.id&&
0!=this.l.G||86099==b.k.id&&1!=this.l.G||86108==b.k.id&&2!=this.l.G)continue;break;case 11:if(86093==b.k.id&&0!=this.l.G||86096==b.k.id&&(1!=this.l.G||0==(1<<this.ya&288))||86097==b.k.id&&(1!=this.l.G||0==(1<<this.ya&2))||86104==b.k.id&&2!=this.l.G)continue}(1<<this.id-1&b.jg||0>=b.jg)&&a.add(b.k)}},Wf:function(a){var b,c=-1;0==this.$f&&e(new Wc(Xc));for(b=0;b<this.$f;b++)this.N[a.type][b]==j?c=-1==c?b:c:this.N[a.type][b].id==a.id&&e(new Wc(Yc));-1==c&&e(new Wc(Zc));this.N[a.type][c]=a;this.c.fire("glyph_added",
{glyph:a})},Ji:function(a,b){this.N[a][b]=j;this.c.fire("glyph_removed",j)}};function Wc(a){this.sb=a}Wc.prototype={sb:0,toString:function(){switch(this.sb){case Xc:return"Unable to add Glyph, there are no empty slots available!";case Yc:return"Unable to add Glyph, this Glyph is already in use!";case Zc:return"Unable to add Glyph, there are no empty slots available!";default:return"Unable to add Glyph, due to unknown reasons!"}}};var Xc=0,Yc=1,Zc=2;function Qc(a){this.character=a;this.reset();this.Uf=k}n=Qc.prototype;n.character=j;n.fb=[];n.attributes=[];n.Kd=[];n.Zf=[];n.rh=[];n.Sd=[];n.Af=[];n.z=[];n.L=[];n.Tb=[];n.O=[];n.k=[];n.la=[];n.Sh=[];n.$i=[];n.Ve=0;n.af=0;n.Nh=0;n.dg=0;n.Ef=0;n.Cf=0;n.Wi=0;n.Df=0;n.Xi=0;n.ud=0;n.Dc=0;n.Bf=0;n.Vi=0;n.Lc=[];n.Hg=0;n.zg=0;n.Ig=0;n.vb=0;n.ed=0;n.Hd=0;n.pa=0;n.qc=0;n.ri=0;n.cf=0;n.bf=0;n.Nb=[];n.fd=[];n.Mb=[];n.gc=[];n.Jb=[];n.uc=[];n.Ma=0;n.La=0;n.Za=0;n.ab=0;n.$a=0;n.wb=0;n.jb=0;n.Ci=0;n.qf=0;n.Ug=0;
n.nf=0;n.pf=0;n.Di=0;n.rf=0;n.lf=0;n.kf=0;n.hc=0;n.Sg=0;n.ld=0;n.Qe=0;n.Yc=0;n.ke=0;n.eg=0;n.he=0;n.Lh=0;n.df=0;n.Uf=k;
n.reset=function(){var a;this.fb=[0,0,0,0,0,0,0];this.attributes=[0,0,0,0,0];this.Kd=[0,0,0,0,0];this.Zf=[0,0,0,0,0];this.rh=[0,0,0,0,0];this.Sd=[0,0,0,0,0];this.Af=[0,0,0,0,0];this.z=[];for(a=0;40>a;a++)this.z[a]=0;this.O=[0,0,0,0,0,0,0,0,0,0];this.ka=[[0,0],0,0,0,0,0,0,0];this.k=[0,0,0,0,0,0,0,0];this.la=[0,0,0,0,0,0,0];this.Tb=[0,0,0,0,0];this.Xi=this.Df=this.Wi=this.Cf=this.Ef=this.Nh=this.dg=this.af=this.Ve=0;this.Lc=[];this.bf=this.cf=this.ri=this.qc=this.pa=this.Hd=this.Ig=this.zg=this.Hg=
this.Vi=this.Bf=this.Dc=this.ud=0;this.Nb=[0,0,0];this.fd=[0,0,0];this.Mb=[0,0,0];this.gc=[0,0,0];this.rf=this.Di=this.pf=this.nf=this.Ug=this.qf=this.Ci=0;this.Jb=[0,0,0,0];this.uc=[0,0,0,0];for(a=this.Sg=this.hc=this.kf=this.lf=this.jb=this.df=this.Lh=this.eg=this.ke=this.Yc=this.Qe=this.ld=this.ui=this.wb=this.$a=this.ab=this.si=this.Za=this.La=this.Ma=this.ed=this.vb=0;6>a;a++)this.Lc[a]=0;for(a=0;7>a;a++)this.L[a]=0;this.he=0;this.$i=[0,0,0,0,0,0,0,0]};
function Tc(a,b){a.Uf&&e("Concurring calls of Stats::calculate");a.Uf=i;a.character.v.ol();var c,d,f,g,h;g=0;var m=a.character.v,r=m.get(17)!=j&&2==m.get(17).X,v=m.get(18)!=j&&2==m.get(18).X,s=a.character.e,N=a.character.V.en(k),p=N[0],ba=N[1],Y=N[2],ha=N[3];f=a.character.J==j?0:a.character.J.id;var Ka=a.character.d,zb=k,B=0,ia=0,gc=-1,Aa=j,aa=j;Ka&&(zb=i,B=Ka.id,ia=Ka.ya,gc=Ka.l.G,Aa=Ka.Rj,Aa[s]&&(aa=Aa[s]));var Aa=[0,0,0,0,0],La=fb[B];if(11==B&&0<ia)switch(ia){case 1:La=gb;break;case 5:La=hb;break;
case 31:La=ib}a.reset();if(!zb||!aa)aa=[0,0,0,0,0,0,0,0,0,0,0];a.Nh=aa[5];a.dg=aa[6];for(c=0;5>c;c++)Aa[c]=Za[f][c]+(zb?aa[c]:0),a.Kd[c]=Math.floor(Aa[c]*(1+p[137][c]/100));if(1==ia||5==ia||8==ia)a.character.V.Fa(17002)?p[49]+=2:a.character.V.Fa(24866)&&(p[49]+=4);if(a.character.V.Fa(48411)&&(1==ia&&(p[290]+=4),5==ia||8==ia))p[79][0]+=4;a.Lh=p[142][0]/100;for(c=0;19>c;c++)if(h=a.character.lk(c),f=b?m.get(c):m.j[c][0],!(f==j||!a.character.gg(f)||!a.character.sg(f))){f.Pi(s);5!=c&&6!=c&&(g++,a.he+=
f.e);d=a;for(var C=f,Q=void 0,Q=0;Q<C.f.length;Q++)if(C.f[Q]!=j)if(50<=C.f[Q][0])switch(C.f[Q][0]){case 50:d.L[0]+=C.f[Q][1];break;case 51:d.L[2]+=C.f[Q][1];break;case 52:d.L[4]+=C.f[Q][1];break;case 53:d.L[1]+=C.f[Q][1];break;case 54:d.L[5]+=C.f[Q][1];break;case 55:d.L[3]+=C.f[Q][1];break;case 56:d.L[6]+=C.f[Q][1]}else 11<=C.f[Q][0]?d.z[C.f[Q][0]-11]+=C.f[Q][1]:d.attributes[Qa[C.f[Q][0]]]+=C.f[Q][1];-1!=C.ba&&-1!=C.fa&&(11<=C.ba?d.z[C.ba-11]+=C.fa:d.attributes[Qa[C.ba]]+=C.fa);d.L[0]+=C.Fb;4==C.X&&
0<C.W&&(d.L[0]+=C.Fb*d.Lh);for(d=0;3>d;d++)if(f.I[d]){if(0>=f.U[d])if(h)h=k;else continue;$c(a,f.I[d].ta.Ib)}f.oi()&&$c(a,f.td);for(d=0;d<f.D.length;d++)h=f.D[d],h!=j&&$c(a,h);if(f.Q){f=f.Q.D;for(d=0;5>d;d++)h=f[d],h!=j&&$c(a,h)}}a.L[0]=Math.round((a.L[0]+p[22][0]+p[143][0])*(1+p[101][0]/100));for(c=1;c<a.L.length;c++)a.L[c]=Math.round((a.L[c]+p[22][c]+p[143][c])*(1+p[142][c]/100));a.he=0<g?a.he/g:0;a.$i=[0,p[133],p[132],p[137][1],p[137][0],p[137][3],p[137][4],p[137][2]];for(c=0;5>c;c++){a.attributes[c]+=
p[29][c];a.attributes[c]*=1+p[137][c]/100;a.attributes[c]+=a.Kd[c];a.attributes[c]=Math.floor(a.attributes[c]);0<La[c]&&(a.Zf[c]=a.attributes[c]>=10*La[c]?a.attributes[c]*(p[268][c]/100+La[c])-10*La[c]:0);for(d=0;32>d;d++)a.z[d]+=Math.floor(p[220][d][c]/100*(a.attributes[c]-Aa[c]))}a.Sd[1]+=100*$a[B]+a.attributes[1]*aa[7];a.Af[3]+=100*ab[B]+a.attributes[3]*aa[8];a.Jb[0]=a.z[26];for(c=0;4>c;c++)a.Jb[c]+=N[c][189][23],a.uc[c]+=a.Jb[c]/G[23][s-1]+N[c][240],0<c&&(a.uc[c]+=a.uc[0],a.Jb[c]+=a.Jb[0]);80<=
s&&(a.vb=a.z[38]+p[189][25],a.ed=1==B&&1==Ka.l.G?2+a.vb/G[25][s-1]:8==B&&2==Ka.l.G?2+a.vb/G[25][s-1]:8+a.vb/G[25][s-1]);a.zg=(80>s?10:10+0.8*(s-80))*Math.max(0,a.attributes[2]-20)+(20<=a.attributes[2]?20:a.attributes[2]);a.Ve=a.zg+a.Nh*(1+p[282]/100)+p[34]+p[230];a.Ve*=1+p[133]/100;a.Hg=15*Math.max(0,a.attributes[3]-20)+(20<=a.attributes[3]?20:a.attributes[3]);a.af=a.Hg+a.dg+p[35][0];a.af*=1+p[132]/100;a.cf=a.z[17]+a.z[25]+p[189][17];a.bf=a.cf/G[17][s-1];a.qf=a.z[18]+a.z[25]+p[189][18];a.Ug=a.qf/
G[18][s-1];a.qc=p[99]+a.z[27]+(0!=p[285]?a.L[0]/p[285]:0);a.pa+=a.qc;a.Hd+=p[166];a.pa+=pb[B]*s;for(c=0;5>c;c++)a.pa+=a.Zf[c];a.qc*=1+a.Hd/100;a.pa*=1+a.Hd/100;a.jb=p[124]+a.z[27]+cb[B]*a.attributes[1]+db[B]*s+eb[B];for(c=0;5>c;c++)a.jb+=a.attributes[c]*(p[212][c]/100);a.jb*=1+p[167]/100;a.Nb[0]=a.z[5]+a.z[20];a.Mb[0]=a.z[8]+a.z[21];for(d=0;d<a.attributes.length;d++)a.gc[0]+=a.Sd[d];for(c=0;3>c;c++)a.Nb[c]+=N[c][189][5]+N[c][189][20],a.fd[c]+=a.Nb[c]/G[5][s-1]+N[c][54],a.Mb[c]+=N[c][189][8]+N[c][189][21],
a.gc[c]+=a.Mb[c]/G[8][s-1]+N[c][52]+N[c][290]+N[c][71][0],0<c&&(a.fd[c]+=a.fd[0],a.Nb[c]+=a.Nb[0],a.gc[c]+=a.gc[0],a.Mb[c]+=a.Mb[0]);a.rf=a.z[6]+a.z[20];a.Di=a.rf/G[6][s-1]+p[54]+ha[54];a.pf=a.z[9]+a.z[21];a.nf=a.pf/G[9][s-1]+p[290]+p[71][0]+p[52]+ha[290]+ha[71][0]+ha[52];for(d=0;d<a.attributes.length;d++)a.nf+=a.Sd[d];if(11==B&&5==ia){if(a.Za=2500,g=m.get(16))a.Ma=2500*g.Cc/g.delay,a.La=2500*g.Bc/g.delay}else if(11==B&&1==ia){if(a.Za=1E3,g=m.get(16))a.Ma=1E3*g.Cc/g.delay,a.La=1E3*g.Bc/g.delay}else(g=
m.get(16))?(a.Za=g.delay,a.Ma=g.Cc,a.La=g.Bc):(a.Za=2E3,a.Ma=22.6,a.La=22.6);a.Ma+=a.pa/14*a.Za/1E3;a.La+=a.pa/14*a.Za/1E3;a.Za/=(1+a.bf/100)*(1+p[138]/100+ba[138]/100)*(1+p[319]/100+ba[319]/100)*(1+p[192]/100+ba[192]/100)*(1+p[193]/100+ba[193]/100);a.ri=100*((1+a.bf/100)*(1+p[138]/100)*(1+p[319]/100)*(1+p[192]/100)*(1+p[193]/100)-1);a.Ma+=p[13][0]+ba[13][0];a.La+=p[13][0]+ba[13][0];a.Ma*=1+(p[79][0]+ba[79][0])/100;a.La*=1+(p[79][0]+ba[79][0])/100;a.si=500*(a.Ma+a.La)/a.Za;r&&(g=m.get(17),a.wb=g.delay,
a.ab=g.Cc+a.pa/14*a.wb/1E3,a.$a=g.Bc+a.pa/14*a.wb/1E3,a.wb/=(1+a.bf/100)*(1+p[138]/100+Y[138]/100)*(1+p[319]/100+Y[319]/100)*(1+p[192]/100+Y[192]/100)*(1+p[193]/100+Y[193]/100),a.ab+=p[13][0]+Y[13][0],a.$a+=p[13][0]+Y[13][0],a.ab*=1+(p[79][0]+Y[79][0])/100,a.ab*=1+(p[122]+Y[122])/100,a.ab>>=1,a.$a*=1+(p[79][0]+Y[79][0])/100,a.$a*=1+(p[122]+Y[122])/100,a.$a>>=1,a.ui=500*(a.ab+a.$a)/a.wb);v&&(g=m.get(18),a.hc=g.delay,a.lf=g.Cc+a.jb/14*a.hc/1E3+p[13][0]+ha[13][0],a.kf=g.Bc+a.jb/14*a.hc/1E3+p[13][0]+
ha[13][0],a.hc/=(1+a.Ug/100)*(1+(p[140]+ha[140])/100)*(1+(p[141]+ha[141])/100)*(1+(p[320]+ha[320])/100)*(1+(p[192]+ha[192])/100)*(1+(p[193]+ha[193])/100),a.Sg=500*(a.lf+a.kf)/a.hc);a.Ci=100*((1+a.Ug/100)*(1+p[140]/100)*(1+p[141]/100)*(1+p[320]/100)*(1+p[192]/100)*(1+p[193]/100)-1);a.rh[3]=Math.max(0,a.attributes[3]-10);a.Ef=a.rh[3]+a.z[34]+p[238][1]/100*a.pa+p[135][1];a.Ef*=1+p[317]/100;a.Cf=a.z[19]+a.z[25]+p[189][19];a.Wi=100*((1+a.Cf/G[19][s-1]/100)*(1+p[65]/100)*(1+p[193]/100)-1);a.Df=a.z[7]+a.z[20]+
p[189][7]+p[189][20];a.Xi=a.Df/G[7][s-1]+Math.min(p[55][1],p[55][2],p[55][3],p[55][4],p[55][5],p[55][6]);a.Bf=a.z[10]+a.z[21]+p[189][10]+p[189][21];a.Vi=a.Af[3]+a.Bf/G[10][s-1]+p[57]+p[290]+Math.max(ba[57],Y[57]);for(c=0;6>c;c++)a.Lc[c]=Math.abs(a.z[36])+Math.abs(p[123][c]);if(a.character.mk()){a.Ig=5*(0.0010+Math.sqrt(a.attributes[3])*a.attributes[4]*tb[s-1]);a.ud=a.Ig;a.Dc=p[85]+a.z[32]+a.ud*(p[134]/100);for(c=0;5>c;c++)a.Dc+=p[219][c]/100*a.attributes[c]}else a.Dc=0,a.ud=0;a.ud+=aa[10];a.Dc+=aa[10];
0!=(1<<B&134)&&(a.eg=5+p[51]+(2==B&&1==gc?2.25*a.ed:0)+(1==B&&2==gc?1.5*a.ed:0)+(a.z[4]+p[189][4])/G[4][s-1]);a.Qe=a.z[2]+p[189][2];if(zb){if(a.Yc=2==B||1==B||6==B?p[49]+5+1/(qb[B-1]/(a.Qe/G[2][s-1]+aa[9])+(sb[B-1]?1/sb[B-1]:0)):p[49]+bb[B]+a.Kd[1]*aa[9]+1/(qb[B-1]/(a.Qe/G[2][s-1]+aa[9]*(a.attributes[1]-a.Kd[1]))+(sb[B-1]?1/sb[B-1]:0)),0!=(1<<B&94)){a.ld=a.z[3]+p[189][3];switch(B){case 1:case 2:case 6:a.ld+=0.27*(a.attributes[0]-Aa[0])}a.ke=5+p[47]+1/(qb[B-1]/(a.ld/G[3][s-1])+(rb[B-1]?1/rb[B-1]:0))}}else a.Yc=
p[49]+a.Qe/G[2][s-1];a.Mk=a.z[24]+Math.min(a.z[14]+p[189][14],a.z[15]+p[189][15],a.z[16]+p[189][16]);a.Ao=1-Math.pow(0.99,a.Mk/G[15][s-1]);a.df=5-N[0][184]-N[1][184]-N[2][184]-N[3][184];a.fb[0]=a.Ve;a.fb[1]=a.af;a.fb[2]=100;a.fb[3]=100+p[35][3]+Math.min(ba[35][3],Y[35][3]);a.fb[4]=100;a.fb[5]=Math.floor(100+p[35][6]/10);a.fb[6]=a.he;a.O[0]=[[Math.floor(a.Ma),Math.ceil(a.La)],r?[Math.floor(a.ab),Math.ceil(a.$a)]:j];a.O[1]=[a.si,r?a.ui:j];a.O[2]=a.pa;a.O[3]=[a.Za,r?a.wb:j];a.O[4]=a.ri;a.O[5]=a.fd[1];
a.O[6]=a.gc[1];a.O[7]=[Math.floor(a.uc[1]),r?Math.floor(a.uc[2]):j];a.O[8]=a.ed;v?(a.ka[0]=[Math.floor(a.lf),Math.ceil(a.kf)],a.ka[1]=a.Sg,a.ka[3]=a.hc):(a.ka[0]=[-1,-1],a.ka[1]=-1,a.ka[3]=-1);a.ka[2]=a.jb;a.ka[4]=a.Ci;a.ka[5]=a.Di;a.ka[6]=a.nf;a.ka[7]=a.ed;a.k[0]=a.Ef;a.k[1]=a.Wi;a.k[2]=a.Xi;a.k[3]=Math.min(a.Lc[1],a.Lc[2],a.Lc[3],a.Lc[4],a.Lc[5]);a.k[4]=a.ud;a.k[5]=a.Dc;a.k[6]=a.Vi;a.k[7]=a.ed;a.la[0]=a.L[0];a.la[1]=a.Yc;a.la[2]=a.ke;a.la[3]=a.eg;a.la[4]=a.Mk;a.la[5]=a.df+a.Yc+a.ke;a.la[6]=a.df+
a.Yc+a.eg+a.ke;a.Tb[0]=a.L[6];a.Tb[1]=a.L[2];a.Tb[2]=a.L[3];a.Tb[3]=a.L[4];a.Tb[4]=a.L[5];a.Uf=k}function $c(a,b){var c;if(b.Fa(a.character))for(c=0;c<b.types.length;c++)5==b.types[c]?11<=b.cb[c]?a.z[b.cb[c]-11]+=b.Nc[c]:a.attributes[Qa[b.cb[c]]]+=b.Nc[c]:4==b.types[c]&&(a.L[b.cb[c]]+=b.Nc[c])};var E={elements:{},set:function(a){E.elements[a.id]=a},get:function(a){return E.elements[a]},contains:function(a){return E.elements[a]||k},Id:function(a,b,c){E.get(a)?b.notify(c):Ga("api/item.php"+Ab({id:a,lang:g_settings.language}),E.fi,[b,c],k)},Mh:function(a,b,c){a!=j&&(E.set(new qa(a)),b.notify(c))}};E.fi=new t(E.Mh,E);var F={elements:{},set:function(a){F.elements[a.id]=a},get:function(a){return F.elements[a]},contains:function(a){return F.elements[a]||k},Id:function(a,b,c){F.get(a)?b.notify(c):Ga("api/spell.php"+Ab({id:a,lang:g_settings.language}),F.fi,[b,c],k)},Mh:function(a,b,c){a!=j&&(F.set(new R(a)),b.notify(c))}};F.fi=new t(F.Mh,F);function z(a,b){var c=document.createElement(a);if(b)for(var d in b)"class"==d?c.className=b[d]:"action"==d?c.action=b[d]:"method"==d?c.method=b[d]:"clear"==d?c.style.clear=b[d]:"display"==d?c.style.display=b[d]:"href"==d?c.href=b[d]:"src"==d?c.src=b[d]:"target"==d?c.target=b[d]:"name"==d?c.name=b[d]:"id"==d?c.id=b[d]:"backgroundImage"==d?c.style.backgroundImage="none"===b[d].toLowerCase()||"inherit"===b[d].toLowerCase()?b[d]:"url("+b[d]+")":"text"==d?"input"===a?c.value=b[d]:c.innerHTML=b[d]:"type"==
d?c.type=b[d]:"value"==d?c.value=b[d]:"title"==d?c.title=b[d]:"checked"==d?c.checked=b[d]:e(Error("Unknown parameter "+d+" with value "+b[d]));return c}function A(a,b,c){b=z(b,c);"string"==typeof a?document.getElementById(a).appendChild(b):a.appendChild(b);return b}function S(a,b){ad(a,b);a.className=(a.className?a.className+" ":"")+b}
function ad(a,b){"string"===typeof a&&(a=document.getElementById(a));if(a)if(b instanceof RegExp)for(var c=a,d=c.className.split(" "),f=d.length,g=0;g<f;g++){if(b.exec(d[g])!==j){d[g]=d[f-1];d.pop();c.className=d.join(" ");break}}else{c=a;d=c.className.split(" ");f=d.length;for(g=0;g<f;g++)if(d[g]===b){d[g]=d[f-1];d.pop();c.className=d.join(" ");break}}}
function x(a,b){"string"===typeof a&&(a=document.getElementById(a));if("string"===typeof b)a.innerHTML+=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(b)}}function bd(a){a.appendChild(z("div",{clear:"both"}))}function T(a,b){"string"===typeof a&&(a=document.getElementById(a));"string"===typeof b?a.innerHTML+=b:a.appendChild(b);return a}function U(a){for("string"===typeof a&&(a=document.getElementById(a));a.firstChild;)a.removeChild(a.firstChild)}
function ga(a){"string"===typeof a&&(a=document.getElementById(a));if(a!=j){var b=a.nodeName.toLowerCase();if("input"===b&&"checkbox"==a.type)return a.checked;if("input"===b||"textarea"==b)return a.value;if("select"===b)return-1!=a.selectedIndex?a.options[a.selectedIndex].value:j}return j}
var V={Te:function(a){var b=z("a",{"class":"info",href:"javascript:"});I(b,"mouseover",o.Cb,o,[a]);I(b,"mouseout",o.hide,o,[]);I(b,"mousemove",o.move,o,[]);return b},Rm:function(a,b,c){return T(z(a,b),V.Te(c))},qb:function(a,b){"string"===typeof a&&(a=document.getElementById(a));I(a,"mousemove",o.move,o,[]);I(a,"mouseout",o.hide,o,[]);I(a,"mouseover",o.Cb,o,[b])},pp:function(a,b){A(a,"span",{}).innerHTML="<span style='position: absolute'>"+b+"<span style='color: #808080; position: absolute; top: -1px; left: 1px;'>"+
b+"</span></span>"},Hm:function(a){Pb(a,{"default":"button button_light li_filter_search_btn",focus:"button_light_focus",hover:"button_light_hover"})},kp:function(a,b){"string"===typeof a&&(a=document.getElementById(a));T(a,V.Te(b))}};window.ChardevHTML||(window.ChardevHTML={});function ua(){this.Ha=new cd;this.c=new D;this.c.g("import",["name","server","region"]);this.c.g("save",["name","desc"]);this.c.g("update",[]);this.c.g("tab_change",["newTab","oldTab"]);this.c.g("csfolder_tab_change",["newTab","oldTab"]);var a,b,c=new W(1,2);c.mh(dd);var d=document.createElement("div"),f=document.createElement("div");a=document.createElement("div");this.b=document.createElement("div");this.b.className="gui_p";this.Yk=z("div",{"class":"cs_sheet_p"});this.ob=new ed;this.xi=new fd;this.Ai=
document.createElement("div");this.Ai.style.paddingTop="20px";this.yk=document.createElement("div");this.ck=document.createElement("div");this.Uo=document.createElement("div");this.Yk.appendChild(this.Ha.b);this.Xg=new gd;this.yg=new hd;this.Tc=new id;this.Tg=new jd;a.appendChild(this.Tg.b);a.appendChild(this.ck);this.ng=new kd([this.yk,d,a,this.Xg.b,this.Uo,this.Tc.b],"Items,Gems,Enchants,Reforging,Sets,Buffs".split(","),"eqf");a=document.createElement("div");a.className="gui_lp_menu";a.appendChild(this.ng.Kg);
b=document.createElement("div");b.className="gui_lp_content";b.appendChild(this.ng.b);c.cols[0].style.width="300px";c.cols[1].style.width="660px";c.cells[0][0].appendChild(this.Yk);c.cells[0][1].className="gui_list_p";c.cells[0][1].appendChild(a);c.cells[0][1].appendChild(b);a=new kd([this.ob.b,this.yg.b],["Talents","Glyphs"],"tsf");f.appendChild(a.Kg);f.appendChild(a.b);f.className="gui_tt";this.Bg=new ld(new t(this.Ce,this));this.wf=new md;this.wf.c.ca("save",this.c);this.wf.c.ca("update",this.c);
this.$d=new kd([c.b,f,this.xi.b,this.Bg.b,this.wf.b,this.Ai],"Character Sheet,Talents,Overview,Import,Save,Browse".split(","),"cp_mm");this.b.appendChild(this.$d.b);this.qh=new nd;d.appendChild(this.qh.b);this.$d.jh(new t(function(a,b){this.c.fire("tab_change",{newTab:a,oldTab:b})},this));this.ng.jh(new t(function(a,b){this.c.fire("csfolder_tab_change",{newTab:a,oldTab:b})},this))}var od=1,pd=2,qd=3,rd=0,ya=2,sd=4;
ua.prototype={Ha:j,c:j,$d:j,ob:j,Bg:j,wf:j,Xg:j,yg:j,Tc:j,xi:j,Ce:function(a,b,c){this.c.fire("import",{name:a,server:b,region:c})},Bj:function(a,b){this.c.fire("save",{name:a,desc:b})},Cj:function(){},zn:function(a,b,c){x(this.yk,a.b);x(this.ck,b.b);x(this.Ai,c.b)}};var td;
(function(){function a(a){return $("#"+a.id+("password"==a.type?"_plain":""))}function b(a,b){var f=$("<div class='fm_in_err_p' />").html(b);a.parent().append(f);a.addClass("fm_in_err_b")}td=function(c,d){var f=a(c);f.parent().children().remove(".fm_in_err_p");f.removeClass("fm_in_err_b");if(!c.type.match(/input|password|secret/))return i;for(var g=c.restrictions.split(","),h=f.val(),m=i,r=0;r<g.length;r++)switch(g[r]){case "alnum":h.match(/^[a-zA-Z0-9]+$/)||(b(f,"Invalid characters found: "+h.replace(/([^a-zA-Z0-9]+)/g,
'<span class="fm_malformed_character">$1</span>')),m=k);break;case "alpha":h.match(/^[a-zA-Z]+$/)||(b(f,"Invalid characters found: "+h.replace(/([^a-zA-Z]+)/g,'<span class="fm_malformed_character">$1</span>')),m=k);break;case "num":h.match(/^[0-9]+$/)||(b(f,"Invalid characters found: "+h.replace(/([^0-9]+)/g,'<span class="fm_malformed_character">$1</span>')),m=k);break;case "email":h.match(/^.+\@.+\.\w{2,6}$/)||(b(f,"Invalid e-mail address"),m=k);break;default:var v;if(v=g[r].match(/^min\=(\d+)$/))h.length<
v[1]&&(b(f,"Input is too short - Minimum length: "+v[1]),m=k);else if(v=g[r].match(/^repeat of (\d+)$/)){v=d[v[1]];var s=a(v);h!=s.val()&&(b(f,"Input doesn't match "+v.title),m=k)}}"password"==c.type&&$("#"+c.id+"_hash").val(MD5(h));return m}})();window.FormValidator||(window.FormValidator={validate:td});function ka(a,b,c){this.data=b;this.jl=c;this.map={};this.b=document.createElement("div");this.tc=[];this.userId=a;c=a=0;x(document.getElementById(this.jl),this.b);b=new W(0,2);b.mh(dd);b.b.className="ui_data_tab";for(a in this.data){this.map[a]=c;b.Rc();b.cells[c][0].className="ui_data_label";b.cells[c][0].innerHTML=this.data[a].label;b.cells[c][1].className="ui_data_data";if("select"==this.data[a].editable){var d=new ud(this.data[a].options);S(d.select.b,"ui_data_select");this.tc[c]=d}else"input"==
this.data[a].editable?(d=new vd,S(d.input.b,"ui_data_input"),this.tc[c]=d):"battlenetprofilemanager"==this.data[a].editable?(this.tc[c]=new wd(this.data[a].realms),b.cells[c][0].appendChild(V.Te("<div>These profiles will be shown in the import section of the character planner, so you can quickly import them, without having to type the character name or select region and realm.</div>"))):e(Error("Unknown editable "+this.data[a].editable));new xd(a,this.data[a].data,this.tc[c]);this.tc[c].readOnly(g_settings.userId!=
this.userId);b.cells[c][1].appendChild(this.tc[c].b);this.tc[c].setData(this.data[a].data);c++}this.b.appendChild(b.b)}ka.prototype={data:{},tc:[],b:j,map:{},userId:0,jl:""};function xd(a,b,c){y.call(this,["change"],new t(this.Be,this));this.key=a;this.data=b;this.$h=c;this.$h.w(this)}xd.prototype=new y([],j);n=xd.prototype;n.key="";n.data=j;n.$h=j;n.Be=function(a){if(a.is("change")){var b={};b[this.key]=a.get("data");fa("api/user.php"+Ab(b),new t(this.km,this),[])}};
n.km=function(a){try{var b=u(a);this.data=b==j?"":b}catch(c){o.B(c)}this.$h.setData(this.data)};function ma(a,b){this.parent=document.getElementById(a);this.og=b;this.$k()}
ma.prototype={parent:"",og:"",page:1,yi:function(a){fa("api/icons.php"+Ab({page:a}),new t(this.Dl,this),[]);o.qa()},Dl:function(a){try{var b=u(a),c=b[0],d=Math.ceil(b[1]/b[2]);this.page=b[3];var f=z("div",{"class":"ui_avatar_container"}),g=A(f,"a",{"class":"close ui_avatar_close",href:"javascript:;"});I(g,"click",o.enable,o,[]);var h=A(f,"div",{"class":"ui_avatar_img_container"}),m;for(m in c){var r=A(h,"a",{title:c[m],href:"javascript:;"});A(r,"img",{"class":"ui_avatar_preview_img",src:"/images/icons/large/"+
c[m]+".png"});I(r,"click",this.lm,this,[c[m]])}var v=A(f,"div",{"class":"ui_avatar_container_lf"}),s=A(f,"div",{"class":"ui_avatar_container_c"}),N=A(f,"div",{"class":"ui_avatar_container_rf"});if(1<this.page){var p=A(v,"a",{href:"javascript:;","class":"button button_light ui_avatar_page_btn",text:locale.previous});I(p,"click",this.yi,this,[this.page-1])}A(s,"span",{text:this.page+" "+locale.of+" "+d});if(this.page<d){var ba=A(N,"a",{href:"javascript:;","class":"button button_light ui_avatar_page_btn",
text:locale.next});I(ba,"click",this.yi,this,[this.page+1])}bd(f);A(f,"div",{"class":"tt_note",text:"Press Escape to return"});o.sd(f)}catch(Y){o.B(Y)}},lm:function(a){o.qa();fa("api/user.php"+Ab({Avatar:a}),new t(this.om,this),[])},om:function(a){this.og=u(a);this.$k();o.enable()},$k:function(){U(this.parent);var a=A(this.parent,"a",{href:"javascript:;"});I(a,"click",this.yi,this,[0]);this.og?A(a,"img",{"class":"ui_avatar_img",src:"/images/icons/large/"+this.og+".png"}):A(a,"span",{text:"Select an avatar"})}};function yd(a,b,c,d){var f=0,g="",c=c-11;switch(c){case 20:f=Math.floor(100*(d/G[5][b-1]))/100;b=Math.floor(100*(d/G[7][b-1]))/100;g=(0<f?"m:"+M(f)+"%":"")+(0<b?(0<f?", ":"")+"s:"+M(b)+"%":"");break;case 27:a&&(f=a.f.Hd,b=d*(1+f/100),g=(0<f?Math.floor(b)+", ":"")+Hb(b/14)+" "+locale.dps2);break;default:if(10>=c)f=G[c][b-1];else switch(c){case 21:f=G[8][b-1];break;case 24:f=G[15][b-1];break;case 25:f=G[17][b-1];break;case 26:f=G[23][b-1];break;case 38:f=G[25][b-1]}b=0<f?Math.floor(100*(d/f))/100:0;
g=0<b?M(b)+"%":""}return"<span class='green'>"+locale.equip+": "+K(locale.imprStats[c],d)+(g?"<span class='tt_rating_percent'>("+g+")<span>":"")+"</span>"}function zd(a,b,c){return a&&(a=a.f.$i[b])?"+"+c+" "+locale.ItemStatNames[b]+"<span class='tt_stat_with_mods'>("+Math.floor(c*(1+a/100))+")</span>":"+"+c+" "+locale.ItemStatNames[b]}function ra(a,b){return Ad(a,b,0)}
function Ad(a,b,c){var d="",f,g,h="",m="",r,v="",s="",b=b?b:a.Uc;r=b!=j?b.e:Oc;a.Pi(r);for(f=0;f<a.f.length;f++)a.f[f]&&0!=a.f[f][1]&&(a.f[f]&&11<a.f[f][0]&&50>a.f[f][0]?m+=O(yd(b,r,a.f[f][0],a.f[f][1])):h+=O(zd(b,a.f[f][0],a.f[f][1])));-1<a.ba&&(11>=a.ba?h+=O("<div class='green'>"+zd(b,a.ba,a.fa)+"</div>"):m+=O("<div class='green'>"+yd(b,r,a.ba,a.fa)+"</div>"));for(f=0;f<a.D.length;f++)g=a.D[f],d=O(g.ga(b)),7==g.types[0]&&g.K[0]?s+=d:v+=d;g="<table cellpadding='0px' cellspacing='0px' class='tooltip_table tt_item'>"+
O("<div class='tooltip_title' style='color:"+Ya[a.da]+"; white-space:nowrap;'>"+a.name+"</div>");a.ve&8&&(g+=O("<span class='green'>"+locale.Heroic+"</span>"));if(a.ve&134217728)g+=O(locale.boa);else switch(a.Uj){case 1:g+=O(locale.bop);break;case 2:g+=O(locale.boe);break;case 3:g+=O(locale.bou)}1==a.unique?g+=O(locale.Unique):1<a.unique&&(g+=O(K(locale.UniqueMultiple,a.unique)));a.ta&&a.ta.$g&&(g+=O(K(locale.RequiresItemLevel,a.ta.$g)));a.ve&524288&&(g+=O(locale.UniqueEquipped));a.Fk&&(g+=O(locale.This_Item_Begins_a_Quest));
if(a.fc)switch(a.X){case 4:0!=a.wa&&(g=0==a.wa||0==a.W?g+O(locale.a_slot[a.wa]):a.ta==j?g+P(locale.a_slot[a.wa],"<span"+((b!=j?b.gg(a):1)?"":" class='red'")+">"+a.fc[0]+"</span>"):g+O(a.fc[0]));break;case 2:g+=P(locale.a_slot[a.wa],a.fc[0]);break;case 1:g+=O(a.fc[0])}-1!=a.oa&&(g+=O("<span class='green'>"+locale.Reforged+"</span><span class='tooltip_reforge_info'>: "+a.fa+" "+locale.ItemStatNames[a.oa]+" \u21e8 "+a.fa+" "+locale.ItemStatNames[a.ba]+"</span>"));24==a.wa?g+=O(K(locale.Adds,xb(a))):
a.ub&&(g+=P(Math.floor(a.Cc)+" - "+Math.ceil(a.Bc)+" "+locale.damage,locale.Speed+" "+yb(a)),g+=O("("+K(locale.dps,Math.floor(10*a.ub)/10+(0==Math.floor(10*a.ub)%10?".0":""))+")"));0<a.Fb&&(g+=O(K(locale.armor,a.Fb)));g+=h;if(a.Oa)if(a.Q!=j)for(f=0;f<a.Q.D.length;f++)(d=a.Q.D[f])&&(g+=O(d.description));else g+=O("<span class='green'>&lt;"+locale.RandomEnchantment+"&gt;</span>");g+=v;for(f=0;3>f;f++)a.I[f]!=j?g+=O("<div class='tooltip_gem' style='background-image:url(/images/icons/gem/"+a.I[f].q+".png);'>"+
a.I[f].ta.Ib.ga(b)+"</div>"):a.U[f]&&(g=14==a.U[f]?g+O("<div class='tooltip_socket_empty' style='background-image:url(/images/socket_prismatic.png);'>"+locale.PrismaticSocket+"</div>"):g+O("<div class='tooltip_socket_empty' style='background-image:url(/images/socket_"+Math.log(a.U[f])/Math.log(2)+".png);'>"+locale.a_socket[Math.log(a.U[f])/Math.log(2)]+"</div>"));a.td&&(g+=O("<span class='"+(a.oi()?"green":"grey")+"'>"+locale.socketBonus+": "+a.td.description+"</span>"));a.ta&&(g+=O(a.ta.Ib.description));
a.rg&&(g+=O(locale.Durability+": "+a.rg+"/"+a.rg));if(0!=a.rc&&1535!=(a.rc&1535)&&0<a.rc){v=d="";for(f=0;11>f;f++)0!=(a.rc&1<<f)&&(d+=(d?", ":"")+locale.a_class[f],v+=(v?", ":"")+"<span class='character_class_"+(f+1)+"'>"+locale.a_class[f]+"</span>");d&&(g=b!=j&&!b.sg(a)?g+O("<span class='red'>"+locale.Classes+": "+d+"</span>"):g+O(locale.Classes+": "+v))}if(a.Ab||7==a.da)g=a.Vb?g+O(J(locale.RequiredLevelScaling,[Math.max(1,a.Vb[20]),a.Vb[21],Math.min(a.Vb[21],r)])):g+O("<span class='"+(r>=a.Ab?"":
"red")+"'>"+K(locale.reqLevel,a.Ab)+"</span>");a.so&&(g+=O("<span class='red'>"+locale.req+" "+a.ro+" ("+a.ne+")</span>"));a.uo&&(g+=O("<span class='red'>"+locale.req+" "+a.to+"</span>"));a.Ik&&(g+=O("<span class='red' style='white-space:nowrap'>"+locale.req+" "+a.Jk+" - "+locale.a_reputation[a.Kk]+"</span>"));if(a.e&&(2==a.X||4==a.X))g+=O(K(locale.itemLevel,a.e));g+=m;for(f=0;5>f;f++)if(a.K[f]!=j&&(d=a.K[f].Kb(b),r=m="",d)){switch(a.Yi[f]){case 0:r=locale.use;0<a.Ui[f]&&(m="("+Ib(a.Ui[f]/1E3)+" "+
locale.Cooldown+")");break;case 1:r=locale.equip;break;case 2:r=locale.hit}g+=O("<span class='green'>"+r+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+a.K[f].id+"'>")+d.join("<br/>")+" "+(g_settings.isPlanner?"":"</a>")+m+"</span>")}g+=s;if(a.ta!=j&&a.ta.Ib.sc)for(f=0;5>f;f++){s="#888888";if(a.ta.Ib.rk(f,b!=j?b.v.vc:j))s="#FFFFFF";d=a.ta.Ib.sc;m=d[1][f]?d[1][f]:0;r=d[3][f]?d[3][f]:0;v=d[4][f]?d[4][f]:0;switch(d[2][f]?d[2][f]:0){case 0:0!=v&&(g+=O("<div class='tt_meta_condition' style='color:"+
s+"'>"+(1<v?J(locale.Meta_RequiresExactlyPl,[v,locale.Meta_Category[m]]):K(locale.Meta_RequiresExactly,locale.Meta_Category[m]))+"</div>"));break;case 2:g+=O("<div class='tt_meta_condition' style='color:"+s+"'>"+J(locale.Meta_RequiresMore,[locale.Meta_Category[r],locale.Meta_Category[m]])+"</div>");break;case 3:g=0==v?g+O("<div class='tt_meta_condition' style='color:"+s+"'>"+J(locale.Meta_RequiresMore,[locale.Meta_Category[m],locale.Meta_Category[r]])+"</div>"):g+O("<div class='tt_meta_condition' style='color:"+
s+"'>"+(1<v+1?J(locale.Meta_RequiresAtLeastPl,[v+1,locale.Meta_Category[m]]):K(locale.Meta_RequiresAtLeast,locale.Meta_Category[m]))+NaN);break;case 5:0<m&&(g+=O("<div class='tt_meta_condition' style='color:"+s+"'>"+(1<v?J(locale.Meta_RequiresAtLeastPl,[v,locale.Meta_Category[m]]):K(locale.Meta_RequiresAtLeast,locale.Meta_Category[m]))+"</div>"))}}a.description&&(g+=O("<span style='color:#DDDD00'>\""+a.description+'"</span>'));if(1!=(c&1)){if(a.ia!=j){s=a.ia.Gn;c=0;m=[];if(b!=j)for(f=0;f<Gc;f++)if(d=
b.ma(f,0),d!=j&&d.ia!=j&&d.ia.id==a.ia.id){for(r=0;r<s;r++)a.ia.j[r]&&a.ia.j[r][0]==d.wa&&(m[r]=d.name);c++}g+=O("<div class='tooltip_set_name'>"+a.ia.name+" ("+c+"/"+s+")</div>");for(f=0;f<s;f++)g+=O("<span class='"+(m[f]?"tooltip_set_item_active":"tooltip_set_item_inactive")+"'>"+(m[f]?m[f]:a.ia.j[f]&&a.ia.j[f][1]?a.ia.j[f][1]:locale.Unknown)+"</span>");g+=O("<div class='tooltip_set_bonus_spacing'></div>");for(f=0;8>f;f++)(s=a.ia.Li[f])&&(g+=O("<div class='"+(c>=s?"tooltip_set_bonus_active":"tooltip_set_bonus_inactive")+
"'>("+s+") "+locale.Set+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+a.ia.Ld[f].id+"'>")+a.ia.Ld[f].Kb(b).join("<br />")+(g_settings.isPlanner?"":"</a>")+"</div>"))}0<a.Mi&&(b=a.Mi,f="<span class='tooltip_sell_price'>",1E4<b&&(f+=Math.floor(b/1E4)+"<img alt='g' class='tooltip_coint' align='center' src='/images/tooltip/UI-GoldIcon.png' />",b%=1E4),100<b&&(f+=Math.floor(b/100)+"<img alt='s' class='tooltip_coint' align='center' src='/images/tooltip/UI-SilverIcon.png' />",
b%=100),b&&(f+=b+"<img alt='c' class='tooltip_coint' align='center' src='/images/tooltip/UI-CopperIcon.png' />"),g+=O(K(locale.SellPrice,f+"</span>")));g_settings.isPlanner==i&&a.Oa!=j&&(g+=O("<span style='white-space: normal; color:#808080; font-size:11px'>See Enchants to change the random enchantment</span>"))}return g+"</table>"};function za(a,b,c,d){a.ea(b!=j?b.e:85);var f="<table cellpadding = 0 cellspacing = 0 style='vertical-align: top'>",g="",h="",m="";if(!c||0==(c&1))f+=O("<span class='tooltip_title'>"+a.name+"</span>");h="";a.md&&5==a.Wd?(a.md[0]&&(h+=a.md[0]+" "+locale.Blood),a.md[1]&&(h+=(h?", ":"")+a.md[1]+" "+locale.Unholy),a.md[2]&&(h+=(h?", ":"")+a.md[2]+" "+locale.Frost)):a.Xc&&(g=1==a.Wd||6==a.Wd?a.Xc[0]/10:a.Xc[0],b!=j?(g=Math.max(Db(g,2),Math.floor(a.Xc[1]*b.f.dg/100)),0<g&&(h=g+" "+locale.energy2[a.Wd])):
0<g?h=g+" "+locale.energy2[a.Wd]:0<a.Xc[1]&&(h=Db(a.Xc[1],2)+"% "+locale.ofBaseMana));h=h?"<span style='white-space:nowrap'>"+h+"</span>":"";m="";a.Pa!=j&&0<a.Pa[1]&&(m=0<a.Pa[3]&&(a.Pa[1]!=a.Pa[3]||a.Pa[0]!=a.Pa[2])?K(locale.RangeEnemy,Gb(a.Pa[0],a.Pa[1]))+"<br />"+K(locale.RangeFriendly,Gb(a.Pa[2],a.Pa[3])):Gb(a.Pa[0],a.Pa[1]));if(h&&m)f+=P(h,m);else if(h||m)f+=O(h?h:m);g=a.Si;m="";a.Si&&(m=Ib(g)+" "+locale.cooldown);h="";if(0<a.Ne||m)h="<span style='white-space:nowrap'>"+(0<a.Ne?K(locale.cast,
Math.ceil(Math.pow(10,2)*(a.Ne/1E3))/Math.pow(10,2)):locale.instantCast)+"</span>";m?f+=P(h,m):h&&(f+=O(h));if(c&1)for(c=0;c<d.length;c++)f+=O("<span class='tooltip_talents_required'>"+d[c]+"</span");f+=O("<span class='tooltip_spell_description'>"+a.Kb(b).join("<br />")+"</span>");return f+"</table>"};function pa(){this.Xd=document.createElement("div");this.Xd.className="tt_msg_c"}
pa.prototype={u:j,content:j,hb:j,disabled:k,ci:k,Xd:j,x:0,y:0,Of:j,gb:k,Ag:k,Lo:ca("Ag"),Oo:function(a){this.content=document.createElement("div");this.u=document.createElement("div");this.u.className="tooltip_div";var b=new W(3,3);b.cells[0][0].innerHTML="<div class='tt_bg_lt'></div>";b.cells[0][1].className="tt_bg_t";b.cells[0][2].innerHTML="<div class='tt_bg_rt'></div>";b.cells[1][0].className="tt_bg_l";b.cells[1][1].appendChild(this.content);this.content.className="tt_bg";b.cells[1][2].className=
"tt_bg_r";b.cells[2][0].innerHTML="<div class='tt_bg_lb'></div>";b.cells[2][1].className="tt_bg_b";b.cells[2][2].innerHTML="<div class='tt_bg_rb'></div>";this.Of=b;this.u.appendChild(b.b);a.appendChild(this.u)},Ll:function(){this.content=document.createElement("div");this.u=document.createElement("div");this.u.className="tooltip_div";var a=new W(3,3);a.cells[0][0].innerHTML="<div class='tt_bg_lt'></div>";a.cells[0][1].className="tt_bg_t";a.cells[0][2].innerHTML="<div class='tt_bg_rt'></div>";a.cells[1][0].className=
"tt_bg_l";a.cells[1][1].appendChild(this.content);this.content.className="tt_bg";a.cells[1][2].className="tt_bg_r";a.cells[2][0].innerHTML="<div class='tt_bg_lb'></div>";a.cells[2][1].className="tt_bg_b";a.cells[2][2].innerHTML="<div class='tt_bg_rb'></div>";this.Of=a;this.u.appendChild(a.b);document.body.appendChild(this.u)},Ee:function(a){this.u==j&&this.Ll();this.u.style.width="";this.u.style.whiteSpace="nowrap";this.content.innerHTML=a;this.u.style.display="block";350<this.Of.b.offsetWidth?this.Eh(350):
this.u.style.width=this.Of.b.offsetWidth+"px"},Eh:function(a){this.u.style.whiteSpace="normal";this.u.style.width=a+"px";this.u.firstChild.offsetWidth>a&&(this.u.style.width=this.u.firstChild.offsetWidth+"px")},rj:function(a,b){var c=Jb(),d=Math.max(document.documentElement.scrollTop,document.body.scrollTop);this.u&&(b+this.u.offsetHeight+24>c[1]+d&&(b=c[1]+d-this.u.offsetHeight-24),a+this.u.offsetWidth>document.body.scrollLeft+document.body.offsetWidth&&(a-=this.u.offsetWidth+20));return[Math.max(0,
a),Math.max(0,b)]},xh:function(a){for(var b=0,c=0,d=a.offsetWidth,f=a.offsetHeight;a!=j;)c+=a.offsetTop,b+=a.offsetLeft,a=a.offsetParent;return[b,c,d,f]},El:function(a){var b=a.scrollHeight,c=Jb(),d=document.body.scrollTop;a.style.marginLeft=Math.max(0,document.body.scrollLeft+(c[0]/2-a.scrollWidth/2))+"px";a.style.marginTop=Math.max(0,d+(c[1]/3-b/2))+"px"},Ol:function(){this.hb==j&&(this.hb=document.getElementById("tt_overlay"));var a=Jb();this.hb.style.width=Math.max(a[0],document.body.scrollWidth)+
"px";this.hb.style.height=Math.max(a[1],document.body.scrollHeight)+"px";this.hb.style.display="block";this.disabled=i;this.hb.onclick=j},move:function(){var a=this.rj(this.x+10,this.y+10);this.u&&(this.u.style.left=a[0]+"px",this.u.style.top=a[1]+"px")},wn:function(a){a||(a=window.event);document.all&&document.getElementById?(this.x=a.clientX+document.documentElement.scrollLeft,this.y=a.clientY+document.documentElement.scrollTop):(this.x=a.pageX,this.y=a.pageY)},un:function(a){this.disabled&&(27==
a.keyCode?this.enable():13==a.keyCode&&(a.preventDefault(),this.enable()));17==a.keyCode&&(this.gb=i)},vn:function(a){17==a.keyCode&&(this.gb=k)},Ye:function(){I(document,"mousemove",o.wn,o,j);I(document,"keydown",o.un,o,j);I(document,"keyup",o.vn,o,j)},cl:function(a,b){if(this.gb&&this.Ag)this.gb=k;else{var c=this.xh(b);this.Ee(a);c=this.rj(c[0]+c[2]+10,c[1]);this.u.style.left=c[0]+"px";this.u.style.top=c[1]+"px"}},hide:function(){this.u!=j&&(this.u.style.display="none")},sd:function(a){this.Ol();
x(this.hb,a);this.El(a)},al:function(a){a+='<br /><span class="tt_close_notice">Left click or hit escape to continue.</span>';this.sd(A(z("div",{"class":"tt_msg_c"}),"div",{text:a,"class":"tt_msg"}));this.hb.onclick=function(){o.enable()}},enable:function(){this.hb&&(U(this.hb),this.hb.style.display="none");this.ci=this.disabled=k},B:function(a){if(a instanceof Error||a instanceof Ha)a=a.message;var b='<div class="tt_error_msg"><div class="tt_error_msg_title">Error:</div>';if("object"===typeof a){for(var c in a)b+=
'<div class="tt_error_msg_content">'+a[c]+"</div>";b+="</div>"}else b+='<div class="tt_error_msg_content">'+a+"</div>";b+="</div>";this.ci?this.Xd.innerHTML=b+"<br />"+this.Xd.innerHTML:(this.ci=i,this.Xd.innerHTML=b+'<br /><span class="tt_close_notice">Left click or hit escape to continue.</span>');this.sd(this.Xd);this.hb.onclick=function(){o.enable()}},qa:function(){var a=document.createElement("div");a.className="tt_loading";a.innerHTML="Loading";this.sd(a)},dl:function(a,b){this.Ee(a+"</table>");
var c=this.xh(b);this.u.style.left=c[0]+c[2]+"px";this.u.style.top=c[1]+"px";300<this.u.offsetWidth&&this.Eh(300)},Yo:function(a,b,c,d,f){f=this.xh(f);this.Ee(a);this.Eh(250);this.u.style.left=1==b&&1<d||2==b?f[0]-this.u.offsetWidth-10+"px":f[0]+f[2]+10+"px";this.u.style.top=5<c?f[1]+f[3]-this.u.offsetHeight+"px":f[1]+"px"},Cb:function(a){this.gb&&this.Ag?this.gb=k:(this.Ee(a),this.move())},show:function(a){this.gb&&this.Ag?this.gb=k:this.Ee(a)}};var o=new pa;o.Lo(i);window.__tooltip_init=o.Ye;
window.g_moveTooltip=function(){o.move.call(o)};window.g_hideTooltip=function(){o.hide.call(o)};window.Tooltip||(window.Tooltip={showError:o.B,showLoading:o.qa});function Bd(a,b,c){var d=a.f,f="";switch(b){case 0:f+=O("<span class='tt_stat_title'>"+locale.CS_Stats[b][c]+" "+Math.floor(d.fb[c])+"</span>");switch(c){case 0:f+=O(locale.TT_StatText.Health);break;case 1:f+=O(locale.TT_StatText.Mana);break;case 2:f+=O(locale.TT_StatText.Rage);break;case 3:f+=O(locale.TT_StatText.Energy);break;case 4:f+=O(locale.TT_StatText.Focus);break;case 5:f+=O(locale.TT_StatText.RunicPower);break;case 6:f+=O(locale.TT_StatText.ItemLevel)}break;case 1:var g=Math.floor(d.Kd[c]),
h=Math.floor(d.attributes[c]),m=h-g,r=Math.floor(d.Zf[c]),v=Math.floor(d.rh[c]),s=Math.round(100*d.Sd[c])/100,N=Math.round(100*d.Af[c])/100,f=f+O("<span class='tt_stat_title'>"+locale.CS_Stats[b][c]+" "+h+(0<m?" ("+g+"+<span class='green'>"+m+"</span>)":"")+"</span>");(3==c||4==c)&&!a.mk()?f+=O("<span class='tt_stat_no_benefit'>"+locale.TT_StatText.NoBenefit+"</span>"):(a="",2==c?a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesHealth,Math.floor(d.zg)):3==c?a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesMana,
Math.floor(d.Hg)):4==c&&(a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesManaRegen,Math.floor(d.Ig))),0<r&&(a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesAP,r)),0<v&&(a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesSP,v)),0<s&&(a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesCrit,M(s))),0<N&&(a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesSpellCrit,M(N))),a&&(f+=O(a)));break;case 2:switch(c){case 0:f+=O("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");f+=P(locale.TT_StatText.AttackSpeed,
L(d.Za/1E3,2));f+=P(locale.TT_StatText.Damage,Math.floor(d.Ma)+" - "+Math.ceil(d.La));f+=P(locale.TT_StatText.DamagePerSecond,L(d.si,1));0<d.wb&&(f+=O("<div style='padding:5px'></div>"),f+=O("<span class='tt_stat_title'>"+locale.TT_StatTitle.OffHand+"</span>"),f+=P(locale.TT_StatText.AttackSpeed,L(d.wb/1E3,2)),f+=P(locale.TT_StatText.Damage,Math.floor(d.ab)+" - "+Math.ceil(d.$a)),f+=P(locale.TT_StatText.DamagePerSecond,L(d.ui,1)));break;case 1:f+=O("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+
"</span>");break;case 2:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.MeleeAp,Math.floor(d.pa)+(0<Math.floor(d.qc)?" ("+(Math.floor(d.pa)-Math.floor(d.qc))+"<span class='green'>+"+Math.floor(d.qc)+"</span>)":""))+"</span>");f+=O(K(locale.TT_StatText.IncreasesMeleeDamage,L(d.pa/14,1)));break;case 3:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.AttackSpeed,L(d.O[3][0]/1E3,2)+(d.O[3][1]!=j?" / "+L(d.O[3][1]/1E3,2):""))+"</span>");break;case 4:f+=O("<span class='tt_stat_title'>"+
K(locale.TT_StatTitle.Haste,M(d.O[4]))+"</span>");f+=O(locale.TT_StatText.IncreasesAttackSpeed);f+=O(J(locale.TT_StatText.IncreasesHaste,[d.cf,M(d.cf/G[17][a.e-1])]));break;case 5:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.HitChance,L(d.O[5],2))+"</span>");f+=O(J(locale.TT_StatText.HitRating,[Math.floor(d.Nb[1]),L(d.Nb[1]/G[5][a.e-1],2)]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+
locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";if(0<d.wb){c+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_NormalAttacks+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.e+b)+"</td><td class='tt_miss'>"+M(Math.max(0,kb[b]-d.O[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+Cd(kb[3],d.O[5],G[5][a.e-1])+"</td></tr>";c+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_SpecialAttacks+"</td></tr>"}for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+
(a.e+b)+"</td><td class='tt_miss'>"+M(Math.max(0,jb[b]-d.O[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+Cd(jb[3],d.O[5],G[5][a.e-1])+"</td></tr>";f+=O(c+"</table>");break;case 6:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.CritChance,M(d.O[6]))+"</span>");f+=O(locale.TT_StatText.ExtraDamage);f+=O(J(locale.TT_StatText.CritRating,[Math.floor(d.Mb[1]),M(d.Mb[1]/G[8][a.e-1])]));break;case 7:r=0.25*d.O[7][0];v=d.O[7][1]==j?j:0.25*d.O[7][1];s=G[23][a.e-1]/0.25;f+=O("<span class='tt_stat_title'>"+
locale.CS_Stats[b][c]+" "+d.O[7][0]+(v!=j?" / "+d.O[7][1]:"")+"</span>");f+=O(K(locale.TT_StatText.ReduceDodgeParry,M(r)+"%"+(v!=j?"/"+M(v)+"%":"")));f+=O(J(locale.TT_StatText.ExpertiseRating,[Math.floor(d.Jb[1]),Math.floor(d.Jb[1]/G[23][a.e-1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup>"+("<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_DodgeChance+"</td></tr>");
c+=Dd(a.e,ob,r,v);c+="<tr><td colspan='2'>"+Cd(ob[3],r,s)+"</td></tr>";c+="<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_ParryChance+"</td></tr>";c+=Dd(a.e,nb,r,v);c+="<tr><td colspan='2'>"+Cd(nb[3],r,s)+"</td></tr>";f+=O(c+"</table>");break;case 8:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.Mastery,M(d.O[8]))+"</span>"),f+=O(J(locale.TT_StatText.MasteryRating,[Math.floor(d.vb),M(d.vb/G[25][a.e-1])]))}break;case 3:switch(c){case 0:f+=
O("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");f+=P(locale.TT_StatText.AttackSpeed,M(d.hc/1E3));f+=P(locale.TT_StatText.Damage,Math.floor(d.lf)+" - "+Math.ceil(d.kf));f+=P(locale.TT_StatText.DamagePerSecond,Hb(d.Sg));break;case 1:f+=O("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+"</span>");break;case 2:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.RangedAp,Math.floor(d.jb))+"</span>");f+=O(K(locale.TT_StatText.IncreasesRangedDamage,Hb(d.jb/14)));break;
case 3:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.AttackSpeed,M(d.ka[3]/1E3))+"</span>");break;case 4:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.Haste,M(d.ka[4]))+"</span>");f+=O(locale.TT_StatText.IncreasesAttackSpeedAndFocus);f+=O(J(locale.TT_StatText.IncreasesHaste,[d.qf,M(d.qf/G[18][a.e-1])]));break;case 5:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.HitChance,M(d.ka[5]))+"</span>");f+=O(J(locale.TT_StatText.HitRating,[Math.floor(d.rf),M(d.rf/G[6][a.e-
1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.e+b)+"</td><td class='tt_miss'>"+M(Math.max(0,mb[b]-d.ka[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+Cd(mb[3],d.ka[5],G[6][a.e-1])+"</td></tr>";f+=O(c+"</table>");break;case 6:f+=O("<span class='tt_stat_title'>"+
K(locale.TT_StatTitle.CritChance,M(d.ka[6]))+"</span>");f+=O(locale.TT_StatText.ExtraDamage);f+=O(J(locale.TT_StatText.CritRating,[Math.floor(d.pf),M(d.pf/G[9][a.e-1])]));break;case 7:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.Mastery,M(d.ka[7]))+"</span>"),f+=O(J(locale.TT_StatText.MasteryRating,[Math.floor(d.vb),M(d.vb/G[25][a.e-1])]))}break;case 4:switch(c){case 0:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.SpellPower,Math.floor(d.k[0]))+"</span>");f+=O(locale.TT_StatText.IncreasesDamageAndHealing);
break;case 1:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.Haste,M(d.k[1]))+"</span>");f+=O(locale.TT_StatText.IncreasesSpellCasting);f+=O(J(locale.TT_StatText.IncreasesHaste,[d.Cf,M(d.Cf/G[19][a.e-1])]));break;case 2:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.HitChance,M(d.k[2]))+"</span>");f+=O(J(locale.TT_StatText.HitRating,[Math.floor(d.Df),M(d.Df/G[7][a.e-1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+
locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.e+b)+"</td><td class='tt_miss'>"+M(Math.max(0,lb[b]-d.k[2]))+"%</td></tr>";c+="<tr><td colspan='2'>"+Cd(lb[3],d.k[2],G[7][a.e-1])+"</td></tr>";f+=O(c+"</table>");break;case 4:f+=O("<span class='tt_stat_title'>"+locale.TT_StatTitle.ManaRegen+"</span>");f+=O(K(locale.TT_StatText.ManaRegen,Math.floor(d.k[4])));break;case 5:f+=O("<span class='tt_stat_title'>"+
locale.TT_StatTitle.CombatRegen+"</span>");f+=O(K(locale.TT_StatText.CombatRegen,Math.floor(d.k[5])));break;case 6:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.CritChance,M(d.k[6]))+"</span>");f+=O(J(locale.TT_StatText.CritRating,[Math.floor(d.Bf),M(d.Bf/G[10][a.e-1])]));break;case 7:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.Mastery,M(d.k[7]))+"</span>"),f+=O(J(locale.TT_StatText.MasteryRating,[Math.floor(d.vb),M(d.vb/G[25][a.e-1])]))}break;case 5:f+=O("<span class='tt_stat_title'>"+
K(locale.TT_StatTitle_Defense[c],4==c||0==c?d.la[c]:M(d.la[c]))+"</span>");switch(c){case 0:f+=O(K(locale.TT_StatText.ReducesPhysical,M(100*(81<=a.e?d.la[0]/(d.la[0]+2167.5*a.e-158167.5):60<=a.e?d.la[0]/(d.la[0]+467.5*a.e-22167.5):d.la[0]/(d.la[0]+85*a.e+400)))));break;case 1:f+=O(J(locale.TT_StatText.DodgeRating,[d.z[2],M(d.z[2]/G[2][a.e-1])]));break;case 2:f+=O(J(locale.TT_StatText.ParryRating,[d.ld,M(d.ld/G[3][a.e-1])]));break;case 3:f+=O(J(locale.TT_StatText.BlockRating,[d.z[4],M(d.z[4]/G[4][a.e-
1])]));break;case 4:f+=O(K(locale.TT_StatText.Resilience,M(100*d.Ao)));break;case 5:f+=O(J(locale.TT_StatText.Avoidance,[M(d.df),M(d.Yc),M(d.ke)]))}break;case 6:f+=O("<span class='tt_stat_title'>"+K(locale.TT_ResistanceTitle[c],d.Tb[c])+"</span>"),f+=O(K(locale.TT_Resistance[c],0))}f&&(f="<table style='line-height:125%' class='tt_stat_text'>"+f+"</table>");return f}
function Cd(a,b,c){a=Math.floor((a-b)*c);return 0!=a?0<a?"<div class='tt_hit_cap'>"+K(locale.TillCap,a)+"</div>":"<div class='tt_hit_cap'>"+K(locale.OverCap,Math.abs(a))+"</div>":""}function Dd(a,b,c,d){var f,g="";for(f=0;4>f;f++)g+="<tr><td class='tt_miss_level'>"+(a+f)+"</td><td class='tt_miss'>"+M(Math.max(0,b[f]-c))+(d!=j?"/"+M(Math.max(0,b[f]-d)):"")+"%</td></tr>";return g};function Ed(a,b,c,d){var b=a.l[b][c][d],f=b.jk(),c=b.hn(),d=[],g="<table cellpadding='0px' cellspacing='0px'>";f!=j?(g+=O("<span class='tooltip_talent_name'>"+f.name+"</span>"),g+=O("<span class='tooltip_talent_rank'>"+locale.Rank+" "+b.R+"/"+b.zb+"</span>"),g+=O(za(f,j,1,[])),c!=j&&(g+=O("<div class='tooltip_talent_next_rank'>"+locale.Nextrank+"</div>"))):g+=P("<span class='tooltip_talent_name'>"+c.name+"</span>","<span class='tooltip_talent_rank'>"+locale.Rank+" "+b.R+"/"+b.zb+"</span>");if(c!=
j){for(f=0;3>f;f++){var h=b.Bb[f];h&&h.R!=h.zb&&(d[d.length]=1<h.zb?J(locale.requires_points_in,[h.zb,h.getName()]):K(locale.requires_point_in,h.getName()))}f=a.ib;a.sa[b.ej]<b.vf*f&&(d[d.length]=J(locale.requires_points_in_tree,[b.vf*f,a.Yb[b.ej]]));g+=za(c,j,1,[])}return g+"</table>"};function Fd(){this.b=z("div",{"class":"bb_p"});this.c=new D;this.c.g("remove_buff",["id"]);this.c.g("add_stack",["id"])}
Fd.prototype={c:j,b:j,update:function(a){U(this.b);for(var b in a)this.pm(a[b])},pm:function(a){var b=A(this.b,"div",{"class":"bb_buff",backgroundImage:"/images/icons/small/"+a.q+".png"});I(b,"contextmenu",this.Bh,this,[a.id]);I(b,"click",this.Bd,this,[a.id]);b.oncontextmenu=l(k);b.onmouseout=function(){o.hide()};b.onmousemove=function(){o.move()};a.vd&&b.appendChild(Ob(a.Lf.Sa));var c=a.ga(),c=a.vd?1<a.Lf.Sa?c+"<div class='tt_note'>Left click to increase and right click to decrease the stack</div>":
c+"<div class='tt_note'>Left click to increase the stack and right click to remove the Buff</div>":c+"<div class='tt_note'>Right click to remove the Buff</div>";I(b,"mouseover",o.Cb,o,[c])},Bh:function(a){this.c.fire("remove_buff",{id:a})},Bd:function(a){this.c.fire("add_stack",{id:a})}};function cd(){this.c=new D;this.c.g("race_select",["race_id"]);this.c.g("class_select",["class_id"]);this.c.g("level_select",["level"]);this.c.g("profession_select",["index","id"]);this.c.g("profession_level_select",["index","level"]);this.c.g("stat_tooltip_show",["group","index","node"]);this.c.g("stat_tooltip_hide",["group","index","node"]);this.c.g("item_right_click",["slot","index"]);this.c.g("item_left_click",["slot","index"]);this.c.g("item_tooltip_show",["slot","index"]);this.c.g("item_tooltip_hide",
["slot","index"]);this.c.g("remove_buff",["id"]);this.c.g("add_stack",["id"]);this.c.g("select_shape",["shape_id"]);this.c.g("select_presence",["presence_id"]);var a,b,c,d,f;this.Bi=new Gd(this);this.xf=new Hd;this.xf.ca("select_shape",this.c);this.gf=new Id;this.gf.Fm("select_presence",this.c);this.Le=new Fd;this.Le.c.ca("remove_buff",this.c);this.Le.c.ca("add_stack",this.c);this.b=document.createElement("div");c=document.createElement("div");c.className="cs_level_parent";this.e=document.createElement("select");
this.e.className="single_select";c.appendChild(this.e);I(this.e,"change",this.$l,this,j);a=document.createElement("div");a.className="cs_t";a.appendChild(this.Bi.b);a.appendChild(this.Le.b);a.appendChild(c);Lb(a);a.appendChild(this.xf.b);a.appendChild(this.gf.b);this.b.appendChild(a);a=new W(1,2);a.mh(dd);a.b.className="cs_m_grid";a.cols[0].width="180px";a.cols[1].width="160px";c=document.createElement("div");c.className="cs_m_grid_t";c.appendChild(a.b);f=A(c,"div",{"class":"cs_prof_p"});this.b.appendChild(c);
c=document.createElement("div");c.className="cs_m_grid_sl";d=new W(8,2);this.Ra=[];for(b=0;19>b;b++)this.Ra[b]=new Jd(this,b);for(b=0;8>b;b++)d.cells[b][0].appendChild(this.Ra[b].b),d.cells[b][1].appendChild(this.Ra[b+8].b);c.appendChild(d.b);b=new W(1,3);c.appendChild(b.b);b.cells[0][0].appendChild(this.Ra[16].b);b.cells[0][1].appendChild(this.Ra[17].b);b.cells[0][2].appendChild(this.Ra[18].b);b.b.className="cs_w_grid";a.cells[0][0].appendChild(c);this.f=[];this.ra=[];for(b=0;b<locale.CS_StatGroups.length;b++){this.ra[b]=
new Kd;6==b&&this.ra[b].toggle();this.f[b]=[];for(c=0;c<locale.CS_Stats[b].length;c++)d=new Ld(b,c),d.ca("stat_tooltip_show",this.c),d.ca("stat_tooltip_hide",this.c),this.f[b][c]=d,this.ra[b].content.appendChild(this.f[b][c].b);this.ra[b].b.className="cs_st_p";this.ra[b].content.className="cs_st_c";c=A(this.ra[b].va,"div",{"class":"stat_title_p"});A(c,"a",{"class":"stat_title",text:locale.CS_StatGroups[b],href:"javascript:"});a.cells[0][1].appendChild(this.ra[b].b)}this.jf=new W(2,2);this.jf.b.className=
"cs_prof_grid";this.Gc=[j,j];this.Sb=[j,j];this.Cl();for(b=0;2>b;b++)this.jf.cells[b][0].appendChild(this.Gc[b].b),this.jf.cells[b][1].appendChild(this.Sb[b].b);A(f,"div",{"class":"cs_prof_title",text:locale.Professions});f.appendChild(this.jf.b);this.Ra[18].Qi(k);this.el(-1)}var Md={1:24,2:8,3:52,4:56,5:44,6:24,7:40,8:44,9:44,11:8};
cd.prototype={c:j,b:j,character:j,Le:j,Ra:[],f:[],fh:-1,ra:[],e:j,xf:j,gf:j,jf:j,Gc:[],Sb:[],w:function(a){this.c.w(a)},lb:function(a){this.c.lb(a)},Cl:function(){for(var a,b,c=0;2>c;c++){a=[[0,""]];for(b=0;b<Xa.length;b++){var d=Xa[b];a.push([d,locale.PrimaryProfessions[d]])}this.Gc[c]=new Nd([]);this.Gc[c].b.className="single_select cs_prof_sel";I(this.Gc[c].b,"change",this.am,this,[c]);this.Sb[c]=new Nd([]);this.Sb[c].b.className="single_select cs_prof_level_sel";I(this.Sb[c].b,"change",this.bm,
this,[c])}},am:function(a){this.c.fire("profession_select",{index:a,id:parseInt(this.Gc[a].ha(),10)})},bm:function(a){this.c.fire("profession_level_select",{index:a,level:parseInt(this.Sb[a].ha(),10)})},$l:function(){this.c.fire("level_select",{level:parseInt(this.e.options[this.e.selectedIndex].value,10)})},If:function(a){for(var b=0;b<this.e.options.length;b++)if(parseInt(this.e.options[b].value,10)==a){this.e.options[b].selected="true";break}},hp:function(a,b){var c;Mb(this.e);for(var d=a;d<=b;d++)c=
document.createElement("option"),c.value=d,c.innerHTML=d,this.e.appendChild(c)},el:function(a){var b=0;0<a&&Md[a]&&(b=Md[a]);b|=64;for(a=0;a<this.ra.length;a++)0!=(1<<a&b)?this.ra[a].collapse():this.ra[a].expand()},Jf:function(a,b){for(var c,d,f,g=0;2>g;g++){var h=a[g];c=[[0,""]];for(d=0;d<Xa.length;d++)f=Xa[d],0>Rb(Xa[d],b)||0==g&&a[1]!=j&&a[1].id==f||1==g&&a[0]!=j&&a[0].id==f||c.push([f,locale.PrimaryProfessions[f]]);this.Gc[g].set(c);if(h!=j){this.Gc[g].select(h.id.toString());this.Sb[g].b.style.display=
"block";f=Sb(h.id,b);c=[];for(d=1;d<=f;d++)c.push([d,d]);this.Sb[g].set(c);this.Sb[g].select(h.e.toString())}else this.Sb[g].b.style.display="none"}},Do:function(a){-1!=a&&this.Ra[a].select();-1!=this.fh&&this.fh!=a&&this.Ra[this.fh].Tm();this.fh=a},Fo:function(a){this.c.fire("class_select",{class_id:a})},Go:function(a){this.c.fire("race_select",{race_id:a})},nk:function(a,b){this.Ra[a].gb(b)}};function Od(a,b){this.id=a;this.e=b}Od.prototype={id:0,e:0};function Jd(a,b){var c;this.Ha=a;this.b=document.createElement("div");this.Ba=[];this.r=b;this.b.className="cs_is_p  cs_is_p_"+(8>b?0:16>b?1:2);for(c=0;4>c;c++)this.Ba[c]=document.createElement("img"),this.Ba[c].className=0==c?"cs_is_img_large":"cs_is_img_small";this.Ka=new Pd(2);this.Ka.i[0].className="cs_is_ip cs_is_ip_"+(8>b?0:16>b?1:2);this.Ka.i[0].appendChild(this.Ba[0]);this.Ka.i[1].className="character_sheet_item_highlight";this.Ka.i[1].oncontextmenu=l(k);this.b.appendChild(this.Ka.i[0]);I(this.Ka.i[1],
"mouseover",this.fl,this,[0]);I(this.Ka.i[1],"mouseout",this.gb,this,[0]);I(this.Ka.i[1],"click",this.Bd,this,[0]);I(this.Ka.i[1],"contextmenu",this.Aj,this,[0]);this.Ya=[];for(c=0;3>c;c++){this.Ya[c]=new Pd(3);document.createElement("div");this.Ya[c].i[0].className="cs_is_hi";this.Ya[c].i[1].appendChild(this.Ba[c+1]);this.Ya[c].i[1].className="cs_is_hip";this.Ya[c].i[1].style.zIndex="";this.Ya[c].i[2].className="cs_is_hi_event_p";var d=A(this.Ya[c].i[2],"a",{"class":"cs_is_hi_event",href:"javascript:"});
d.oncontextmenu=l(k);I(d,"mouseover",this.fl,this,[c+1]);I(d,"mouseout",this.gb,this,[c+1]);I(d,"click",this.Bd,this,[c+1]);I(d,"contextmenu",this.Aj,this,[c+1]);this.b.appendChild(this.Ya[c].i[0])}this.j=[]}
Jd.prototype={b:j,Ba:[],r:-1,da:-1,selected:k,Ha:j,j:[],Ka:j,Ya:[],fl:function(a){if(this.j[a])if(1<=a){this.Ba[a].src="/images/icons/large/"+this.j[a].q+".png";this.Ba[a].className="cs_is_img_large";S(this.Ya[a-1].i[1],"cs_is_hip_enlarge");var b=this.j[a].ga()+"<div class='tt_note'>Press CTRL to prevent this tooltip from showing</div>";o.cl(b,this.Ba[a])}else o.cl(this.j[a].ga(),this.Ba[a]);this.Ha.c.fire("item_tooltip_show",{slot:this.r,index:a})},gb:function(a){1<=a&&(this.j[a]&&(this.Ba[a].src=
"/images/icons/gem/"+this.j[a].q+".png"),this.Ba[a].className="cs_is_img_small",ad(this.Ya[a-1].i[1],"cs_is_hip_enlarge"));o.hide();this.Ha.c.fire("item_tooltip_hide",{slot:this.r,index:a})},Bd:function(a){this.Ha.c.fire("item_left_click",{slot:this.r,index:a})},Aj:function(a){this.Ha.c.fire("item_right_click",{slot:this.r,index:a})},Qi:function(a){this.b.style.display=a?"block":"none"},select:function(){this.Ka.i[0].style.backgroundImage="url(/images/site/item_border_hover.png)";this.selected=i},
Tm:function(){this.Ka.i[0].style.backgroundImage=-1<this.da?"url(/images/site/item_border_q"+this.da+".png)":"url(/images/site/item_border.png)";this.selected=k},update:function(a){this.j=a;for(var b=0;4>b;b++)a=this.j[b],a==j?0<b?(this.Ba[b].style.display="none",ad(this.Ya[b-1].i[0],/^cs_is_quality_\d+$/)):(this.Ba[b].src="/images/charsheet/slots/slot_"+this.r+".jpg",this.Ka.i[0].style.backgroundImage="url(/images/site/item_border.png)"):0<b?(this.Ba[b].style.display="block",S(this.Ya[b-1].i[0],
"cs_is_quality_"+a.da),this.Ba[b].src="/images/icons/gem/"+a.q+".png"):(this.da=a.da,this.Ka.i[0].style.backgroundImage=this.selected?"url(/images/site/item_border_hover.png)":a.tk()?"url(/images/site/item_border_invalid.png)":-1<this.da?"url(/images/site/item_border_q"+this.da+".png)":"url(/images/site/item_border.png)",this.Ba[b].src=a.tk()?"/images/icons/r/large/"+(a.q?a.q:"Temp")+".png":"/images/icons/large/"+(a.q?a.q:"Temp")+".png")}};function Id(){this.b=document.createElement("div");this.c=new D;this.c.g("select_presence",["presence_id"])}
Id.prototype={b:j,c:j,Fm:function(a,b){this.c.ca(a,b)},update:function(a,b){Mb(this.b);if(!(a==j||0==a.length)){for(var c=0;c<a.length;c++){var d=A(this.b,"div",{"class":"ps_presence",backgroundImage:"/images/icons/"+(a[c].id==b?"":"g/")+"small/"+a[c].q+".png"});I(d,"mouseover",o.show,o,["<div class='tooltip_spell_description'>"+a[c].description+"</div>"]);d.onmouseout=function(){o.hide()};d.onmousemove=function(){o.move()};I(d,"click",function(a){this.c.fire("select_presence",{presence_id:a})},this,
[a[c].id])}Lb(this.b)}}};var Qd={1:447,2:493,3:511,4:1213,5:445,6:1143,7:441,8:1533,9:509,10:447,11:247,22:1469},Rd=[[1,3,4,7,11,22],[2,5,6,8,10,9]];
function Gd(a){this.Ha=a;var b=new W(1,2),a=new W(7,2),c;this.b=document.createElement("div");this.b.className="rcs_parent";this.qe=document.createElement("div");this.qe.className="rcs_icon_race_container";this.od=document.createElement("div");this.od.className="rcs_icon_container";this.J=document.createElement("div");this.J.className="character_race_icon";this.J.style.backgroundImage="url(/images/site/race_class/medium/slot_empty.png)";this.me=document.createElement("img");this.me.className="rcs_icon_s";
this.me.src="/images/site/race_class/medium/slot_empty.png";this.J=new Pd(4);this.J.i[0].appendChild(this.me);this.J.i[0].className="rcs_icon_l";this.J.i[1].className="rcs_shadow";this.J.i[2].className="rcs_border";this.J.i[3].className="rcs_event_l";b.cells[0][0].appendChild(this.J.i[0]);this.Nd=document.createElement("img");this.Nd.className="rcs_icon_s";this.Nd.src="/images/site/race_class/medium/slot_empty.png";this.d=new Pd(4);this.d.i[0].appendChild(this.Nd);this.d.i[0].className="rcs_icon_l";
this.d.i[1].className="rcs_shadow";this.d.i[2].className="rcs_border";this.d.i[3].className="rcs_event_l";b.cells[0][1].appendChild(this.d.i[0]);this.b.appendChild(b.b);b=document.createElement("div");b.innerHTML="<span class='rcs_select_header'>Select a Race:</span>";c=document.createElement("a");c.className="close rcs_close";c.onclick=function(){o.enable()};b.appendChild(c);this.qe.appendChild(b);a.cells[0][0].innerHTML="<div class='rcs_faction_alliance'>Alliance</div>";a.cells[0][1].innerHTML=
"<div class='rcs_faction_horde'>Horde</div>";for(b=0;2>b;b++)for(c=0;c<Rd[b].length;c++){var d=document.createElement("div");d.className="rcs_race_icon";d.style.backgroundImage="url(/images/site/race_class/medium/chr_race_"+Rd[b][c]+".png)";I(d,"click",this.cm,this,[Rd[b][c]]);a.cells[1+c][b].appendChild(d)}this.qe.appendChild(a.b);I(this.d.i[3],"click",this.Zk,this,[]);I(this.J.i[3],"click",this.Wo,this,[]);I(this.d.i[3],"mouseover",this.Pf,this,[1,1]);I(this.J.i[3],"mouseover",this.Pf,this,[0,1]);
I(this.d.i[3],"mouseout",this.Pf,this,[1,0]);I(this.J.i[3],"mouseout",this.Pf,this,[0,0])}
Gd.prototype={b:j,qe:j,od:j,J:j,me:j,d:j,Nd:j,Qh:-1,Ha:j,Pf:function(a,b){a?this.d.i[2].style.backgroundPosition=1!=b?"0px 0px":"48px 0px":this.J.i[2].style.backgroundPosition=1!=b?"0px 0px":"48px 0px"},update:function(a,b){this.Qh=a;var c,d;if(-1!=a){this.me.src="/images/site/race_class/resized_chr_race_"+a+".png";-1!=b?(this.Nd.src="/images/site/race_class/resized_"+b+".png",this.d.i[2].className="rcs_class_border",this.d.i[2].style.backgroundImage="url(/images/site/race_class/class_border_"+b+
".png)"):(this.Nd.src="/images/site/race_class/medium/slot_empty.png",this.d.i[2].className="rcs_border",this.d.i[2].style.backgroundImage="");Mb(this.od);c=document.createElement("div");c.innerHTML="<span class='rcs_select_header'>Select a Class:</span>";d=document.createElement("a");d.className="close rcs_close";d.onclick=function(){o.enable()};c.appendChild(d);this.od.appendChild(c);for(c=0;11>c;c++)0!=(Qd[a]&1<<c)&&(d=document.createElement("div"),d.className="rcs_icon",d.style.backgroundImage=
"url(/images/site/race_class/medium/"+(c+1)+".png)",I(d,"click",this.Ul,this,[c+1]),this.od.appendChild(d));c=document.createElement("div");c.className="clear_both";this.od.appendChild(c)}else this.me.src="/images/site/race_class/medium/slot_empty.png"},Ul:function(a){this.Ha.Fo(a)},cm:function(a){this.Ha.Go(a)},Zk:function(){-1!=this.Qh?o.sd(this.od):o.sd(this.qe)},Wo:function(){o.sd(this.qe)}};function Hd(){this.b=document.createElement("div");this.c=new D;this.c.g("select_shape",["shape_id"])}
Hd.prototype={c:j,b:j,Bd:function(a){this.c.fire("select_shape",{shape_id:a})},ca:function(a,b){this.c.ca(a,b)},update:function(a,b){var c,d;Mb(this.b);if(a!=j&&0!=a.length){c=document.createElement("div");for(var f=0;f<a.length;f++)d=document.createElement("div"),d.className="cs_shape",d.style.backgroundImage="url(/images/icons/"+(a[f].id==b?"":"g/")+"small/"+a[f].q+".png)",c.appendChild(d),I(d,"mouseover",o.show,o,["<div class='tooltip_spell_description'>"+a[f].description+"</div>"]),d.onmouseout=
function(){o.hide()},d.onmousemove=function(){o.move()},I(d,"click",this.Bd,this,[a[f].id]);this.b.appendChild(c);Lb(this.b)}}};function Ld(a,b){this.c=new D;this.c.g("stat_tooltip_show",["group","index","node"]);this.c.g("stat_tooltip_hide",["group","index","node"]);this.group=a;this.index=b;var c=document.createElement("div");c.className="stat_table_value_div";this.b=document.createElement("div");this.b.className="stat_table_name_div";this.b.innerHTML=locale.CS_Stats[a][b];this.b.appendChild(c);this.compareNode=document.createElement("span");this.compareNode.className="stat_table_stat_span stat_table_stat_compare_span";
this.Da=document.createElement("span");this.Da.className="stat_table_stat_span";this.Da.innerHTML=0;c.appendChild(this.compareNode);c.appendChild(this.Da);I(this.b,"mouseover",this.fm,this,[]);I(this.b,"mouseout",this.Xl,this,[]);this.b.onmouseout=function(){o.hide()};this.Ea=Sd[this.group][this.index]}var Sd=[[0,0,0],[0,0,0,0,0],[68,96,0,65,16,24,16,64,256],[132,160,0,129,16,24,16,256],[0,16,24,0,0,0,16,256],[0,16,16,16,0,16,16],[0,0,0,0,0]];
Ld.prototype={group:-1,index:-1,name:"",dj:"",b:j,value:0,Da:j,Ea:0,c:j,fm:function(){this.c.fire("stat_tooltip_show",{group:this.group,index:this.index,node:this.b})},Xl:function(){this.c.fire("stat_tooltip_hide",{group:this.group,index:this.index,node:this.b})},w:function(a){this.c.w(a)},ca:function(a,b){this.c.ca(a,b)},Y:function(a){this.value=a;this.Da.innerHTML="";(-1===a||"object"===typeof a&&-1===a[0])&&this.Ea&128?this.Da.innerHTML+="N/A":this.Ea&64?(this.Jh(a[0]),a[1]!=j&&(this.Da.innerHTML+=
"/",this.Jh(a[1]))):this.Jh(a)},Jh:function(a){this.Da.innerHTML=this.Ea&16?this.Da.innerHTML+((this.Ea&8?"+":"")+L(a,2)+"%"):this.Ea&32?this.Da.innerHTML+L(a,1):this.Ea&256?this.Da.innerHTML+L(a,2):this.Ea&1?this.Da.innerHTML+L(a/1E3,2):this.Ea&4?this.Da.innerHTML+(a[0]+"-"+a[1]):this.Da.innerHTML+Math.floor(a)},vo:function(){this.compareNode.innerHTML=""},pd:function(a){var b;this.compareNode.innerHTML="";if(!((-1===a||"object"===typeof a&&-1===a[0])&&this.Ea&128))if(this.Ea&64){if(!(this.Ea&4))if(b=
this.Gh(a[0],this.value[0]),a[1]!=j){if(a=this.Gh(a[1],this.value[1]),b||a)this.compareNode.innerHTML=(b?b:"0")+"/"+(a?a:"0")}else b!=j&&(this.compareNode.innerHTML=b)}else b=this.Gh(a,this.value),this.compareNode.innerHTML=b?b:""},Gh:function(a,b){var c;c=0!=(272&this.Ea)?Math.floor(100*(a-b))/100:Math.floor(a-b);return 0!=c?this.Ea&1?"<span class='stat_table_stat_span "+(0<c?"compare_red":"compare_green")+"'>"+(0<c?"+":"-")+M(Math.abs(c)/1E3)+"</span>":"<span class='stat_table_stat_span "+(0<c?
"compare_green":"compare_red")+"'>"+(0<c?"+":"-")+(0!=(this.Ea&16)?M(Math.abs(c)):Math.abs(c))+"</span>":j}};function Td(){}Td.prototype={b:j,ha:function(){e(new Tb("SimpleUserControl","getValue"))},Y:function(){e(new Tb("SimpleUserControl","setValue"))}};function Ud(){this.b=document.createElement("input");this.b.className="input"}Ud.prototype=new Td;Ud.prototype.b=j;Ud.prototype.Y=function(a){this.b.value=a};Ud.prototype.ha=function(){return this.b.value};function Nd(a){this.b=document.createElement("select");this.b.className="single_select";this.set(a)}function Vd(a){var b=[],c=0,d;for(d in a)b[c++]=[d,a[d]];return new Nd(b)}Nd.prototype=new Td;n=Nd.prototype;n.b=j;n.options=[];n.Sk=function(a){this.b.name=a};n.set=function(a){var b;for(this.options=[];this.b.firstChild;)this.b.removeChild(this.b.firstChild);for(b=0;b<a.length;b++)this.options[b]=document.createElement("option"),this.options[b].value=a[b][0],this.options[b].innerHTML=a[b][1],this.b.appendChild(this.options[b])};
n.select=function(a){for(var b=0;b<this.options.length;b++)if(this.options[b].value===a){this.options[b].selected=i;break}};n.ha=function(){return this.b.options[this.b.selectedIndex].value};n.Y=function(a){this.select(a)};function Wd(a){var b;this.b=document.createElement("select");this.b.className="multi_select";this.b.multiple="true";this.options=[];for(b=0;b<a.length;b++)this.options[b]=document.createElement("option"),this.options[b].value=a[b][0],this.options[b].innerHTML=a[b][1],this.b.appendChild(this.options[b])}Wd.prototype.b=j;Wd.prototype.options=[];
Wd.prototype.select=function(a){if(a!=(1<<this.options.length+1)-1)for(var b=0;b<this.options.length;b++)this.options[b].selected=0!=(a&1<<parseInt(this.options[b].value,10))};Wd.prototype.ha=function(){var a=0,b,c,d=0;for(b=0;b<this.options.length;b++)c=1<<parseInt(this.options[b].value,10),d+=c,this.options[b].selected==i&&(a+=c);0==a&&(a=d);return a};function W(a,b){var c,d;this.b=document.createElement("table");this.b.cellSpacing="0";this.b.cellPadding="0";this.rows=Array(a);this.cells=Array(a);this.lg=document.createElement("colgroup");this.cols=Array(b);this.b.appendChild(this.lg);for(d=0;d<b;d++)this.cols[d]=document.createElement("col"),this.lg.appendChild(this.cols[d]);this.tbody=document.createElement("tbody");this.b.appendChild(this.tbody);for(c=0;c<a;c++){this.rows[c]=document.createElement("tr");this.tbody.appendChild(this.rows[c]);
this.cells[c]=Array(b);for(d=0;d<b;d++)this.cells[c][d]=document.createElement("td"),this.rows[c].appendChild(this.cells[c][d])}}var dd="top";
W.prototype={cells:[],rows:[],cols:[],b:j,tbody:j,vAlign:"",lg:j,mh:function(a){var b,c;this.vAlign=a;for(b=0;b<this.cells.length;b++)for(c=0;c<this.cells[b].length;c++)this.cells[b][c].vAlign=a},Rc:function(){var a=this.rows.length,b;this.rows[a]=document.createElement("tr");this.cells[a]=[];for(b=0;b<this.cols.length;b++)this.cells[a][b]=document.createElement("td"),this.cells[a][b].vAlign=this.vAlign,this.rows[a].appendChild(this.cells[a][b]);this.tbody.appendChild(this.rows[a]);return a},Am:function(){var a=
this.cols.length,b=this.rows.length;this.cols[a]=document.createElement("col");this.lg.appendChild(this.cols[a]);for(var c=0;c<b;c++)this.cells[c][a]=document.createElement("td"),this.cells[c][a].vAlign=this.vAlign,this.rows[c].appendChild(this.cells[c][a]);return a},Hh:function(){var a=this.rows.length,b=j,c;this.rows[a]=document.createElement("tr");this.cells[a]=[];b=document.createElement("td");b.colSpan=this.cols.length;b.vAlign=this.vAlign;this.rows[a].appendChild(b);for(c=0;c<this.cols.length;c++)this.cells[a][c]=
b;this.tbody.appendChild(this.rows[a]);return a},show:function(){this.b.style.display="table"},hide:function(){this.b.style.display="none"}};function Kd(){this.b=document.createElement("div");this.va=document.createElement("div");this.content=document.createElement("div");this.b.appendChild(this.va);this.b.appendChild(this.content);this.va.np=l(k);this.va.onmousedown=l(k);I(this.va,"click",this.toggle,this,[]);this.collapse()}Kd.prototype={b:j,content:j,va:j,Db:j,collapse:function(){this.content.style.display="none";this.Db=k},expand:function(){this.content.style.display="block";this.Db=i},toggle:function(){this.Db?this.collapse():this.expand()}};function Pd(a){if(0<a){this.i=[];this.i[0]=document.createElement("div");this.i[0].style.position="relative";for(var b=1;b<a;b++)this.i[b]=document.createElement("div"),this.i[b].style.position="absolute",this.i[b].style.zIndex=b,this.i[0].appendChild(this.i[b])}}Pd.prototype={i:j};function kd(a,b,c){this.Nf=new Xd(a.length);this.zh=new Yd(b,c,this.show,this);this.b=this.Nf.b;this.Kg=this.zh.b;for(b=0;b<a.length;b++)this.Nf.j[b].appendChild(a[b])}kd.prototype={Kg:j,b:j,Db:0,zh:j,Nf:j,hd:j,jh:ca("hd"),show:function(a){var b=this.Db;this.Db=a;this.Nf.show(a);this.zh.select(a);this.hd&&this.hd.notify([a,b])}};function Yd(a,b,c,d){var f=document.createElement("div");this.b=document.createElement("div");this.b.className=b+"_sel";this.Oe=b;this.links=[];for(var g=0;g<a.length;g++)this.links[g]=document.createElement("a"),this.links[g].className=b+"_i"+g+(0==g?"_a "+b+"_i_a_base":" "+b+"_i_base"),this.links[g].innerHTML="<span class='"+b+"_l_f'>"+a[g]+"</span>",I(this.links[g],"click",c,d,[g]),this.b.appendChild(this.links[g]);f.className="clear_both";Lb(f)}n=Yd.prototype;n.Oe="";n.links=j;n.b=j;
n.selected=0;n.select=function(a){this.links[this.selected].className=this.Oe+"_i"+this.selected+" "+this.Oe+"_i_base";this.links[a].className=this.Oe+"_i"+a+"_a "+this.Oe+"_i_a_base";this.selected=a};function Xd(a){this.j=[];this.b=document.createElement("div");for(var b=0;b<a;b++)this.j[b]=document.createElement("div"),this.j[b].style.display=0==b?"block":"none",this.j[b].style.width="100%",this.j[b].style.height="100%",this.b.appendChild(this.j[b]);this.Db=0}Xd.prototype={j:j,b:j,Db:0,hd:j,show:function(a){if(a!=this.Db){var b=this.Db;this.j[a].style.display="block";this.j[b].style.display="none";this.Db=a;this.hd&&this.hd.notify([a,b])}},jh:function(a,b){this.hd=new t(a,b)}};function Zd(a,b){this.map={};if(a)for(var c in a)this.map[c]=a[c];this.parent=b;this.Zd=document.createElement("input");I(this.Zd,"change",this.Ah,this,[]);I(this.Zd,"keyup",this.Ah,this,[]);I(this.Zd,"blur",this.Ah,this,[])}Zd.prototype={filter:function(a){Mb(this.parent);for(var b in this.map)(!a||RegExp(a,"i").exec(b))&&this.parent.appendChild(this.map[b])},Vo:function(){Mb(this.parent);for(var a in this.map)this.parent.appendChild(this.map[a])},Ah:function(){this.filter(this.Zd.value)}};function $d(){this.P={};this.b=z("div",{"class":"ba_p"});this.Sc=new Kd;this.Sc.va.appendChild(z("a",{href:"javascript:;",text:locale.RF_BatchHeader}));this.Sc.va.className="collapse_h ba_collapse_h";this.Sc.content.className="collapse_c ba_collapse_c";this.Sc.b.className="collapse ba_collapse";this.Og=this.Sc.content;T(this.b,this.Sc.b)}
$d.prototype={P:j,Sc:j,Og:j,b:j,He:function(a,b,c){var d=A(this.Og,"div",{"class":"ba_op_container"}),b=A(d,"a",{text:b,href:"javascript:;","class":"ba_simple_op_link"});wb(b,"click",c,[a]);this.P[a]={id:a,node:d};return this.P[a]},Pj:function(a,b,c,d){var f;f=A(this.Og,"div",{"class":"ba_op_container"});b=A(f,"div",{"class":"ba_op_title",text:b});d&&T(b,V.Te(d));d=A(f,"div",{});T(d,c);this.P[a]={id:a,node:f};return this.P[a]},remove:function(a){"undefined"!==typeof this.P[a]&&this.P[a]!==j&&(this.Og.removeChild(this.P[a].node),
delete this.P[a])},show:function(a){this.Hj(a);this.P[a].b.display.style="none"},hide:function(a){this.Hj(a);this.P[a].b.display.style=""},Hj:function(a){("undefined"===typeof this.P[a]||this.P[a]===j)&&e(Error("No batch operation with id '"+a+"' found!"))}};function ae(){this.b=document.createElement("div");this.c=new D;this.c.g("change",["data"])}ae.prototype={b:j,disabled:k,mi:k,c:j,setData:function(){e(new Tb("Editable","setData"))},readOnly:ca("mi"),w:function(a){this.c.w(a)}};function be(a){return a?'<a href="javascript:;" title="Click to edit">'+a+"</a>":"<span class='ui_data_nothing'>None</span>"};function vd(){ae.call(this);this.u=z("div",{});this.input=new Ud;I(this.input.b,"blur",this.ze,this,[k]);I(this.u,"click",this.ze,this,[i]);this.form=z("form",{action:"javascript:"});this.form.appendChild(this.input.b);I(this.form,"submit",this.Be,this,[])}vd.prototype=new ae;n=vd.prototype;n.input=j;n.u=j;n.form=j;n.data=j;n.setData=function(a){this.data=a;this.input.Y(a);this.disabled=k;a=this.input.ha();this.u.innerHTML=be(a);x(this.b,this.u)};
n.ze=function(a){a?!this.disabled&&!this.mi&&(x(this.b,this.form),this.input.b.focus()):(x(this.b,this.u),this.input.Y(this.data))};n.Be=function(){this.c.fire("change",{data:this.input.ha()});x(this.b,z("img",{src:"/images/site/bar_loading.gif","class":"ui_bar_loading"}));this.disabled=i};function ud(a){ae.call(this);this.options=a;this.u=z("div",{});this.select=Vd(a);this.select.b.className+=" single_select_focussable";I(this.select.b,"blur",this.ze,this,[k]);I(this.u,"click",this.ze,this,[i]);I(this.select.b,"change",this.Be,this,[])}ud.prototype=new ae;n=ud.prototype;n.select=j;n.u=j;n.data=j;n.options=[];n.setData=function(a){this.data=a;this.select.Y(a);this.disabled=k;this.u.innerHTML=be(this.options[a]);x(this.b,this.u)};
n.ze=function(a){a?!this.disabled&&!this.mi&&(x(this.b,this.select.b),this.select.b.focus()):(x(this.b,this.u),this.select.Y(this.data))};n.Be=function(){this.c.fire("change",{data:this.select.ha()});x(this.b,z("img",{src:"/images/site/bar_loading.gif","class":"ui_bar_loading"}));this.disabled=i};function wd(a){var b=[],c=0,d,f,g;ae.call(this);this.Vg=a;this.b.className="bnpm_c";this.content=document.createElement("div");this.content.className="bnpm_content";this.Zc=document.createElement("div");this.pc=document.createElement("a");this.pc.className="add bnpm_add_link";this.pc.href="javascript:";this.pc.innerHTML="Add a Battle.net Profile";I(this.pc,"click",this.Rl,this,[]);d=new W(2,3);d.b.className="bnpm_grid";this.Zc.appendChild(this.pc);this.b.appendChild(this.content);this.b.appendChild(this.Zc);
this.Pb=new Ud;this.Hc=new Nd([]);this.Hc.b.className+=" single_select_focussable";this.kb=new Nd([]);this.kb.b.className+=" single_select_focussable";d.cols[0].width="160px";d.cols[1].width="160px";d.cols[2].width="160px";d.cells[0][0].innerHTML="Name";d.cells[0][1].innerHTML="Region";d.cells[0][2].innerHTML="Realm";d.cells[1][0].appendChild(this.Pb.b);d.cells[1][1].appendChild(this.kb.b);d.cells[1][2].appendChild(this.Hc.b);this.Pb.b.className+=" bnpm_input";this.kb.b.className+=" bnpm_select";
this.Hc.b.className+=" bnpm_select";this.Yf=document.createElement("div");this.Yf.className="bnpm_add_parent";g=document.createElement("div");g.className="group bnpm_input_parent";g.appendChild(d.b);d=document.createElement("form");d.action="javascript:";I(d,"submit",this.gm,this,[]);d.appendChild(g);g=document.createElement("div");f=document.createElement("input");f.type="button";Pb(f,{"default":"button button_light bnpm_add_cancel_btn",hover:"button_light_hover"});f.value="Cancel";I(f,"click",this.Sl,
this,[]);g.appendChild(f);f=document.createElement("input");f.type="submit";Pb(f,{"default":"button button_light bnpm_add_add_btn",hover:"button_light_hover"});f.value="Add";g.appendChild(f);g.className="bnpm_add_ctrl_parent";d.appendChild(g);this.Yf.appendChild(d);I(this.kb.b,"change",this.dm,this,[]);for(var h in a)b[c++]=[h,locale.Regions[h]];this.kb.set(b);this.kb.select("us");ce(this,this.kb.ha())}wd.prototype=new ae;n=wd.prototype;n.b=j;n.content=j;n.Zc=j;n.Yf=j;n.pc=j;n.Vg=j;n.Pb=j;n.Hc=j;
n.kb=j;
n.setData=function(a){var b,c;this.content.innerHTML="";for(var d in a){b=a[d];c=document.createElement("div");c.className="group bnpm_entry";var f=A(c,"a",{href:"javascript:;","class":"remove bnpm_remove"});I(f,"click",this.Bh,this,[b,c]);A(c,"span",{text:b.Name,"class":"bnpm_name"});A(c,"span",{text:", "+b.Level+" "+locale.CharacterRace[b.CharacterRaceID]+" "});A(c,"span",{text:locale.CharacterClass[b.CharacterClassID],"class":"character_class_"+b.CharacterClassID+" bnpm_chrclass"});A(c,"span",
{text:", "+b.Region.toUpperCase()+"-"+b.Realm,"class":"bnpm_origin"});A(c,"br",{});A(c,"a",{href:ja()+"Planner.html"+Ab({name:b.Name,realm:b.Realm,region:b.Region}),text:"Static link to import this character from Battle.net into chardev","class":"bnpm_static_link"});this.content.appendChild(c)}this.disabled=k;x(this.Zc,this.pc)};n.Sl=function(){x(this.Zc,this.pc)};n.Rl=function(){x(this.Zc,this.Yf)};
n.Bh=function(a,b){this.disabled||(this.c.fire("change",{data:JSON.stringify({removeBattleNetProfile:a})}),b.innerHTML="<img src='/images/site/bar_loading.gif' class='bnpm_bar_loading' />")};
n.gm=function(){var a;if(a=!this.disabled)a=this.Pb.ha(),2>a.length?(o.B("Character name is too short!"),a=k):12<a.length?(o.B("Character name is too long!"),a=k):a=i;a&&(this.disabled=i,this.c.fire("change",{data:JSON.stringify({addBattleNetProfile:{Name:this.Pb.ha(),Realm:this.Hc.ha(),Region:this.kb.ha()}})}),this.Zc.innerHTML="<img src='/images/site/bar_loading.gif' class='ui_bar_loading' />")};n.dm=function(){ce(this,this.kb.ha())};
function ce(a,b){var c=[],d=0,f;for(f in a.Vg[b])c[d++]=[a.Vg[b][f],a.Vg[b][f]];a.Hc.set(c)};new ae;function nd(){this.c=new D;this.c.g("socket_left_click",["socket"]);this.c.g("socket_right_click",["socket"]);this.c.g("socket_used_gem",["socket","gemId"]);this.c.g("used_gem_tooltip_show",["socket","gemId"]);this.c.g("used_gem_tooltip_hide",["socket","gemId"]);this.c.g("socket_all",["gemId"]);this.c.g("socket_all_color",["color","gemId"]);this.c.g("remove_all_gems",[]);this.c.g("remove_all_gems_by_id",["gemId"]);this.b=z("div",{});this.Ca=[new Pd(5),new Pd(5),new Pd(5)];this.P=new $d;S(this.P.b,
"ra_group");this.b.appendChild(this.P.b);this.P.He("remove_all",locale.SI_RemoveAllGems,new t(function(){this.Mg(de)},this));this.Ze=A(this.b,"div",{"class":"si_main"});this.dj=A(this.Ze,"div",{"class":"si_tt_p"});this.Ad=A(this.Ze,"div",{"class":"ra_group si_used_parent"});this.gl=A(this.Ze,"div",{"class":"si_socket_parent"});for(var a=0;3>a;a++)this.Ca[a].i[0].className="si_gem_p",this.Ca[a].i[1].className="si_bg",this.Ca[a].i[2].className="si_no_highlight",this.Ca[a].i[4].className="si_event",
this.Ca[a].i[4].oncontextmenu=l(k),I(this.Ca[a].i[4],"mouseover",this.Wn,this,[a]),I(this.Ca[a].i[4],"mouseout",this.Vn,this,[a]),this.Ca[a].i[4].onmousemove=function(){o.move()},I(this.Ca[a].i[4],"click",this.Un,this,[a]),I(this.Ca[a].i[4],"contextmenu",this.c.fire,this.c,["socket_right_click",{socket:a}]);this.Gg=document.createElement("div");this.b.appendChild(this.Gg);this.eh(-1);this.Dg=new pa;this.Dg.Oo(this.dj);this.Dg.u.className="fixed_tooltip_div";this.Oi(k)}var de=0;
nd.prototype={Wb:-1,dj:j,b:j,Ze:j,Ca:[],r:0,character:j,Ad:j,xa:j,c:j,Gg:j,P:j,Dg:j,Oi:function(a){this.Ze.style.display=a?"block":"none"},Xk:function(a){this.Gg.style.display=a?"block":"none"},No:function(a){this.Gg.appendChild(a)},update:function(a,b){if(a==j)this.Oi(k);else{this.Oi(i);(this.xa==j||a.id!=this.xa.id)&&this.eh(-1);this.xa=a;var c,d,f,g,h=0,m;this.Dg.show(a.pn());f=a.yn();U(this.gl);m=A(this.gl,"div",{});for(c=0;c<a.U.length;c++)if(0<a.U[c]||f){0>=a.U[c]?(f=k,g="prismatic"):g=14==
a.U[c]?"prismatic":Math.log(a.U[c])/Math.log(2);d=this.Ca[c];d.i[1].style.backgroundImage="url(/images/socket_interface/socket_"+g+"_large.png)";if(a.bd(c)==j)d.i[3].className="si_braces",d.i[3].style.backgroundImage="url(/images/socket_interface/socket_"+g+"_braces_open.png)",Mb(d.i[1]);else{var r=document.createElement("img");r.src="/images/icons/large/"+a.bd(c).q+".png";r.className="si_gem_icon";x(d.i[1],r);d.i[3].className="si_braces";d.i[3].style.backgroundImage="url(/images/socket_interface/socket_"+
g+"_braces_closed.png)"}T(m,d.i[0]);h++}m.className="si_sp_"+h+"_gems";U(this.Ad);T(A(this.Ad,"span",{"class":"si_used_title_fix",text:locale.SI_UsedGems}),V.Te("Gems already present on your gear"));for(var v in b)c=b[v],d=A(this.Ad,"a",{"class":"si_used_gem",backgroundImage:"/images/icons/small/"+c.q+".png"}),I(d,"mouseover",this.$n,this,[c]),I(d,"mouseout",this.Zn,this,[c]),I(d,"click",this.Yn,this,[c.id]),d.onmousemove=function(){o.move()};Lb(this.Ad);this.eh(this.Wb)}},Wn:function(a){S(this.Ca[a].i[2],
"si_highlight");this.xa!=j&&this.xa.bd(a)&&o.Cb(this.xa.bd(a).ga())},Vn:function(a){ad(this.Ca[a].i[2],"si_highlight");o.hide()},$n:function(a){this.c.fire("used_gem_tooltip_show",{socket:this.Wb,gemId:a.id});o.Cb(a.ga()+"<div class='tt_note'>Left click to socket</div>")},Zn:function(a){o.hide();this.c.fire("used_gem_tooltip_hide",{socket:this.Wb,gemId:a.id})},Yn:function(a){this.c.fire("socket_used_gem",{socket:this.Wb,gemId:a})},Un:function(a){this.eh(a);this.c.fire("socket_left_click",{socket:a})},
Mg:function(a){if(a==de)this.c.fire("remove_all_gems",{});else{var b=this.xa.bd(this.Wb).id;switch(a){case 3:this.c.fire("remove_all_gems_by_id",{gemId:b});break;case 1:this.c.fire("socket_all_gems",{gemId:b});break;case 2:this.c.fire("socket_all_gems",{gemId:b,color:this.xa.U[this.Wb]})}}},eh:function(a){this.P.remove("remove_color");this.P.remove("add_all");this.P.remove("add_color");if(-1!=a){var b=this.xa.bd(a);this.Ad.style.display="block";S(this.Ca[a].i[0],"si_gem_p_selected");b!=j&&(this.P.He("remove_color",
K(locale.SI_RemoveGems,b.name),new t(function(){this.Mg(3)},this)),this.P.He("add_all",K(locale.SI_SocketAll,b.name),new t(function(){this.Mg(1)},this)),1<this.xa.U[a]&&this.P.He("add_color",J(locale.SI_SocketAllColor,[b.name,locale.SI_SocketColors[this.xa.U[a]]]),new t(function(){this.Mg(2)},this)));this.Xk(i)}else this.Ad.style.display="none",this.Xk(k);-1!=this.Wb&&this.Wb!=a&&ad(this.Ca[this.Wb].i[0],"si_gem_p_selected");this.Wb=a}};function gd(){this.c=new D;this.c.g("reforge",["reduce","add"]);this.c.g("reforge_all",["reforge_array"]);this.c.g("reforge_preview",["reforge_array"]);this.c.g("reforge_item_preview",["reduce","add"]);this.c.g("restore",[]);this.c.g("restore_all",[]);this.c.g("remove_reforge_preview",[]);this.c.g("remove_reforge_item_preview",[]);this.c.g("wowreforge_export",[]);this.b=z("div",{});this.P=new $d;S(this.P.b,"ra_group");T(this.b,this.P.b);var a=z("form",{action:"javascript:;"});this.zl=A(a,"input",
{"class":"input rf_wowreforgeurl"});var b=A(a,"input",{type:"submit",text:locale.RF_ImportWoWReforge,"class":"button button_light"});this.P.Pj("wowreforge_import",locale.RF_WoWReforgeImport,a,locale.RF_WoWReforgeImportHelp);I(a,"submit",this.vm,this,j);I(b,"mouseover",function(){var a=this.Dj();a!=j&&this.c.fire("reforge_preview",{reforge_array:a})},this,j);I(b,"mouseout",function(){this.c.fire("remove_reforge_preview")},this,j);a=z("div",{});b=A(a,"input",{type:"submit",text:locale.RF_ExportWoWReforge,
"class":"button button_light"});this.P.Pj("wowreforge_import",locale.RF_WoWReforgeExport,a,locale.RF_WoWReforgeExportHelp);I(b,"click",this.um,this,j);a=this.P.He("restore_all",locale.RF_RestoreAll,new t(function(){this.c.fire("restore_all")},this));I(a.node,"mouseover",function(){this.c.fire("reforge_preview",{reforge_array:[]})},this,j);I(a.node,"mouseout",function(){this.c.fire("remove_reforge_preview")},this,j);this.content=A(this.b,"div",{})}
gd.prototype={c:j,b:j,content:j,zl:j,P:j,update:function(a){var b=[],c=[],d,f,g,h,m,r,v;U(this.content);if(a){v=z("div",{"class":"rf_title_c"});A(v,"span",{text:"Reforge ","class":"rf_title"});d=A(v,"a",{text:a.name,"class":"item_quality_"+a.da+" rf_item_name",href:"javascript:"});V.qb(d,a.ga());for(d=0;d<Ma.length;d++)f=Ma[d],g=a.hi(f),0<g?b.push([f,g]):c.push(f);if(a.ni())if(0==b.length)x(this.content,v),A(this.content,"div",{text:"This items has no reforgable stats!","class":"rf_error"});else{var s=
new W(0,c.length+2);s.b.className="rf_grid";r=s.Hh();T(s.cells[r][0],v);r=s.Rc();for(d=0;d<c.length;d++)s.cells[r][2+d].innerHTML=locale.ItemStatNamesShort[c[d]],s.cells[r][2+d].className="rf_to_stat";for(d=0;d<b.length;d++){r=s.Rc();h=0==d%2?"row_bg1":"row_bg2";s.cells[r][0].innerHTML=locale.ItemStatNames[b[d][0]];s.cells[r][0].className=h+" rf_from_stat";s.cells[r][1].innerHTML=b[d][1];s.cells[r][1].className=h+" rf_from_value";d==b.length-1&&(S(s.cells[r][0],"rf_from_stat_bottom"),S(s.cells[r][1],
"rf_from_value_bottom"));for(f=0;f<c.length;f++)v=z("div",{"class":h+" rf_cell"}),0==d&&S(v,"rf_cell_top"),d==b.length-1&&S(v,"rf_cell_bottom"),0==f&&S(v,"rf_cell_left"),f==c.length-1&&S(v,"rf_cell_right"),a.ba==c[f]&&a.oa==b[d][0]?(s.cells[r][1].className+=" red",m=A(v,"a",{"class":"rf_to_value rf_to_active",text:a.fa,href:"javascript:"}),I(m,"click",this.Gj,this,[]),I(m,"mouseover",this.zj,this,[-1,-1]),I(m,"mouseout",this.yj,this,[]),V.qb(m,"<div class='rf_tt_c'>Click to restore <span class='green'>"+
a.fa+"</span> <span class='green'>"+locale.ItemStatNames[b[d][0]]+"</span> from <span class='red'>"+locale.ItemStatNames[c[f]]+"</span></div>")):(g=b[d][1],a.oa==b[d][0]&&(g=a.ic),g=Math.floor(0.4*g),m=A(v,"a",{"class":"rf_to_value",text:g,href:"javascript:"}),I(m,"click",this.jm,this,[b[d][0],c[f]]),I(m,"mouseover",this.zj,this,[b[d][0],c[f]]),I(m,"mouseout",this.yj,this,[]),V.qb(m,"<div class='rf_tt_c'>Click to reforge <span class='green'>"+g+"</span> <span class='red'>"+locale.ItemStatNames[b[d][0]]+
"</span> into <span class='green'>"+locale.ItemStatNames[c[f]]+"</span></div>")),x(s.cells[r][2+f],v)}d=s.Hh();s.cells[d][0].className="rf_b";m=A(s.cells[d][0],"a",{"class":"button button_light link_button",href:"javascript:",text:"Restore"});I(m,"click",this.Gj,this,[]);T(this.content,s.b)}else x(this.content,v),A(this.content,"div",{text:"This items is not reforgable!","class":"rf_error"})}},jm:function(a,b){this.c.fire("reforge",{reduce:a,add:b})},Gj:function(){this.c.fire("restore",{})},yj:function(){this.c.fire("remove_reforge_item_preview",
{})},zj:function(a,b){this.c.fire("reforge_item_preview",{reduce:a,add:b})},vm:function(){var a=this.Dj();a!=j&&this.c.fire("reforge_all",{reforge_array:a})},Dj:function(){var a=ga(this.zl);if(!a)return j;var b=a.match(/reforge=((?:\d|-){34})/i);if(!b[1])return o.B(K(locale.RF_WoWReforge_UnableToParse,a)),j;for(var a=b[1],b=[],c=0;17>c;c++)"-"==a[2*c]||"-"==a[2*c+1]||(b[Pa[c]]=[Oa[parseInt(a[2*c],10)],Oa[parseInt(a[2*c+1],10)]]);return b},um:function(){this.c.fire("wowreforge_export",{})}};function ee(){this.b=z("div",{"class":"rs_p"})}
ee.prototype={b:j,update:function(a){for(var b=new W(1,Ma.length+1),c=[0,0,0,0,0,0,0,0],d=0;d<Ma.length;d++)b.cells[0][1+d].innerHTML="<div class='rs_header'>"+locale.ItemStatNamesShort[Ma[d]]+"</div>";for(d=0;18>d;d++){var f=a.j[d];if(f&&-1!=f.oa){var g=b.Rc(),h=A(b.cells[g][0],"div",{"class":"row_bg"+(1+g%2)+" rs_cell rs_cell_l"}),m=A(h,"a",{text:f.name,"class":"item_quality_"+f.da,href:"javascript:;"});V.qb(m,f.ga());1==g&&S(h,"rs_cell_top");for(h=0;h<Ma.length;h++)f.oa==Ma[h]?(A(b.cells[g][1+
h],"span",{"class":"rs_stat red",text:"-"+f.fa}),c[h]-=f.fa):f.ba==Ma[h]?(A(b.cells[g][1+h],"span",{"class":"rs_stat green",text:"+"+f.fa}),c[h]+=f.fa):A(b.cells[g][1+h],"span",{"class":"grey",text:"0"}),S(b.cells[g][1+h],"rs_cell row_bg"+(1+g%2)),1==g&&S(b.cells[g][1+h],"rs_cell_top");S(b.cells[g][1],"rs_cell_lp");S(b.cells[g][8],"rs_cell_rp")}}g=b.Rc();for(h=0;h<Ma.length;h++)0<c[h]?A(b.cells[g][1+h],"div",{"class":"rs_stat_sum green",text:"+"+Math.abs(c[h])}):0>c[h]&&A(b.cells[g][1+h],"div",{"class":"rs_stat_sum red",
text:"-"+Math.abs(c[h])});U(this.b);A(this.b,"div",{"class":"rs_title",text:"Reforge Summary"});T(this.b,b.b)}};function hd(){this.b=z("div",{"class":"gi_p"});this.c=new D;this.c.g("add_glyph",["glyph"]);this.c.g("remove_glyph",["glyph"])}
hd.prototype={b:j,c:j,update:function(a,b){var c,d;U(this.b);if(0==b.wc())A(this.b,"div",{"class":"gi_error",text:"You have to select a Class before you can use Glyphs!"});else if(0==b.gk())A(this.b,"div",{"class":"gi_error",text:"You have to reach Level 25 before you can use Glyphs!"});else{c=A(this.b,"div",{"class":"gi_glyphs_p"});A(this.b,"div",{"class":"gi_list_h",text:"Available Glyphs"});var f=A(this.b,"div",{"class":"gi_list_p"}),g=A(c,"div",{"class":"gi_glyphs_c"}),h=A(c,"div",{"class":"gi_glyphs_c"}),
m=A(c,"div",{"class":"gi_glyphs_c"});A(g,"div",{"class":"gi_list_h",text:"Prime Glyphs"});A(h,"div",{"class":"gi_list_h",text:"Major Glyphs"});A(m,"div",{"class":"gi_list_h",text:"Minor Glyphs"});var r=[0,0,0],v={};for(c=0;c<b.N.length;c++){2==b.N[c].Eb.type?(d=g,r[2]++):0==b.N[c].Eb.type?(d=h,r[0]++):(d=m,r[1]++);v[b.N[c].id]=i;var s=A(d,"div",{"class":"gi_glyph_c"});A(s,"img",{"class":"gi_glyph_icon",src:"/images/icons/half/"+b.N[c].Eb.k.q+".png"});d=A(s,"a",{"class":"gi_glyph",href:"javascript:",
text:b.N[c].getName()});d.oncontextmenu=l(k);V.qb(d,b.N[c].ga()+"<div class='gi_note'>Right click to remove</div>");s.oncontextmenu=l(k);I(s,"contextmenu",this.c.fire,this.c,["remove_glyph",{glyph:b.N[c]}])}for(c=0;c<b.gk();c++)if(c>=r[0]&&(s=A(h,"div",{"class":"gi_glyph_c gi_empty"}),d=A(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),V.qb(d,"Select a Glyph from the list below")),c>=r[1]&&(s=A(m,"div",{"class":"gi_glyph_c gi_empty"}),d=A(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),V.qb(d,
"Select a Glyph from the list below")),c>=r[2])s=A(g,"div",{"class":"gi_glyph_c gi_empty"}),d=A(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),V.qb(d,"Select a Glyph from the list below");g=A(f,"div",{"class":"gi_list_c"});h=A(f,"div",{"class":"gi_list_c"});f=A(f,"div",{"class":"gi_list_c"});for(c=0;c<a.length;c++)v[a[c].id]!==i&&(d=2==a[c].Eb.type?g:0==a[c].Eb.type?h:f,d=A(d,"a",{"class":"gi_list_entry",href:"javascript:",text:a[c].getName()}),V.qb(d,a[c].ga()+"<div class='gi_note'>Left click to add</div>"),
I(d,"click",this.c.fire,this.c,["add_glyph",{glyph:a[c]}]))}}};function jd(){this.b=document.createElement("div");this.b.className="ra_group rpi_parent";this.c=new D;this.c.g("change",["randomEnchantmentId"])}
jd.prototype={b:j,select:j,zc:j,c:j,update:function(a){this.b.style.display="none";if(a!=j){var b=[],c=a.bg;Mb(this.b);if(c){this.b.style.display="block";b[0]=[0,""];for(var d=0;d<c.length;d++)b[d+1]=[c[d].id,"..."+c[d].name+": "+c[d].description];this.select=new Nd(b);a.Q&&this.select.select(a.Q.id);I(this.select.b,"change",this.wi,this,[]);this.b.innerHTML="<div class='rpi_title'>"+locale.RPI_SelectRandomEnchant+"</div>";a=document.createElement("div");a.className="rpi_content";a.appendChild(this.select.b);
this.select.b.className="single_select rpi_select";this.b.appendChild(a)}}},wi:function(){this.c.fire("change",{randomEnchantmentId:parseInt(this.select.ha(),10)})},jh:function(a,b){this.zc=[a,b]}};function ld(a){var b;this.Ng=a;this.b=z("div",{"class":"im_parent"});b=z("form",{action:"javascript:"});I(b,"submit",this.Ce,this,[]);this.Cg=document.createElement("input");this.Cg.className="input im_sa_in";this.ji=document.createElement("input");this.ji.className="input im_sa_in";this.We=new Nd([["us",locale.US+"/"+locale.Oceanic],["eu",locale.Europe],["kr",locale.Korea],["tw",locale.Taiwan],["cn",locale.China]]);g_settings.userData&&g_settings.userData.region&&this.We.select(g_settings.userData.region);
A(b,"div",{"class":"content_header im_header",text:"Import a character from Battle.net"});this.We.b.className="single_select single_select_focussable";this.ki=z("input",{type:"submit",value:"Import"});Pb(this.ki,{"default":"button button_light",focus:"button_light_hover",hover:"button_light_hover"});a=A(b,"div",{"class":"im_sa_r"});A(a,"div",{"class":"im_sa_left",text:"Name"});T(A(a,"div",{"class":"im_sa_right"}),this.Cg);bd(a);a=A(b,"div",{"class":"im_sa_r"});A(a,"div",{"class":"im_sa_left",text:"Realm"});
T(A(a,"div",{"class":"im_sa_right"}),this.ji);bd(a);a=A(b,"div",{"class":"im_sa_r"});A(a,"div",{"class":"im_sa_left",text:"Region"});T(A(a,"div",{"class":"im_sa_right"}),this.We.b);bd(a);T(A(b,"div",{"class":"im_sa_b"}),this.ki);T(A(this.b,"div",{"class":"im_inputs"}),b);this.th=A(this.b,"div",{"class":"im_profiles"});bd(this.b);this.nj()}
ld.prototype={b:j,Ng:j,th:j,Cg:j,ki:j,We:j,Ce:function(){var a=this.Cg.value,b=this.ji.value;""==a||2>a.length?o.B("The character name is empty or too short!"):""==b?o.B("The server name is empty or too short!"):this.Ng.notify([a,b,this.We.ha()])},nj:function(){U(this.th);T(this.th,V.Rm("div",{"class":"im_profiles_header",text:"Stored Imports"},"See your account settings to manage Stored Imports."));if(g_settings.userData&&g_settings.userData.battlenet_profiles)for(var a in g_settings.userData.battlenet_profiles){var b=
g_settings.userData.battlenet_profiles[a],c=A(this.th,"a",{"class":"im_profile",href:"javascript:"});I(c,"click",this.Ng.notify,this.Ng,[[b.Name,b.Realm,b.Region]]);A(c,"span",{"class":"bnpm_name",text:b.Name});A(c,"span",{text:", "+b.Level+" "+locale.CharacterRace[b.CharacterRaceID]+" "});var d=A(c,"span",{"class":"character_class_"+b.CharacterClassID+" bnpm_chrclass",text:locale.CharacterClass[b.CharacterClassID]});5==b.CharacterClassID?S(d,"character_class_5_white_bg_fix"):4==b.CharacterClassID&&
S(d,"character_class_4_white_bg_fix");A(c,"span",{"class":"bnpm_origin",text:", "+b.Region.toUpperCase()+"-"+b.Realm})}}};function md(){this.c=new D;this.c.g("save",["name","desc"]);this.c.g("update",[]);var a;this.b=z("div",{"class":"im_parent"});this.xe=z("form",{action:"javascript:"});I(this.xe,"submit",function(){this.c.fire("update")},this,[]);A(this.xe,"div",{"class":"content_header im_header",text:"Update the current profile"});T(A(this.xe,"div",{"class":"im_sa_b"}),z("input",{type:"submit",value:"Update","class":"button button_light"}));T(A(this.b,"div",{"class":"im_sa_inputs"}),this.xe);this.gd=z("form",{action:"javascript:"});
I(this.gd,"submit",function(){this.c.fire("save",{name:ga(this.Pb),desc:ga(this.Zh)})},this,[]);this.Pb=z("input",{"class":"input im_sa_in"});this.Zh=z("input",{"class":"input im_sa_in"});A(this.gd,"div",{"class":"content_header im_header",text:"Save as a profile"});a=A(this.gd,"div",{"class":"im_sa_r"});A(a,"div",{"class":"im_sa_left",text:locale.S_ProfileName});T(A(a,"div",{"class":"im_sa_right"}),this.Pb);bd(a);a=A(this.gd,"div",{"class":"im_sa_r"});A(a,"div",{"class":"im_sa_left",text:locale.S_CharacterDescription});
T(A(a,"div",{"class":"im_sa_right"}),this.Zh);bd(a);T(A(this.gd,"div",{"class":"im_sa_b"}),z("input",{type:"submit",value:"Save","class":"button button_light"}));T(A(this.b,"div",{"class":"im_sa_inputs"}),this.gd)}md.prototype={c:j,b:j,Pb:j,Zh:j,gd:j,xe:j,update:function(a){this.xe.style.display=a?"":"none"}};function id(){this.c=new D;this.c.g("add_buff",["id"]);this.b=z("div",{"class":"bi_p"});this.content=A(this.b,"div",{display:"none"});this.ua=A(this.content,"div",{});this.xk=A(this.content,"div",{});this.il=A(this.content,"div",{});this.Dk=A(this.content,"div",{});this.qi=A(this.b,"div",{"class":"bi_loading"})}
id.prototype={c:j,b:j,ua:j,xk:j,Dk:j,li:k,content:j,qi:j,update:function(a,b,c){var d,f,g=new Kd,h=new Kd;h.va.className="collapse_h bi_collapse_h";h.content.className="collapse_c bi_collapse_c";h.b.className="collapse bi_collapse";g.va.className="collapse_h bi_collapse_h";g.content.className="collapse_c bi_collapse_c";g.b.className="collapse bi_collapse";x(this.xk,h.b);x(this.Dk,g.b);for(f in a)d=a[f],h.content.appendChild(this.Wh(d.q,d,i,d.name));for(f in b)d=b[f],g.content.appendChild(this.Wh(d.q,
d,i,d.name));Lb(h.content);h.va.innerHTML="<a clas='bi_bc_link' href='javascript:'>Items (Use-Effects)</a><span class='bi_cb_count'>("+a.length+")</span>";Lb(g.content);g.va.innerHTML="<a clas='bi_bc_link' href='javascript:'>Item Procs</a><span class='bi_cb_count'>("+b.length+")</span>";Mb(this.il);this.za(c,"Talent Buffs",this.il,i)},wo:function(){this.li=k;this.content.style.display="none";this.qi.style.display="block"},Ye:function(a){U(this.ua);this.za(a.Warrior,"Warrior",this.ua,k);this.za(a.Paladin,
"Paladin",this.ua,k);this.za(a.Hunter,"Hunter",this.ua,k);this.za(a.Rogue,"Rogue",this.ua,k);this.za(a.Priest,"Priest",this.ua,k);this.za(a.DeathKnight,"DeathKnight",this.ua,k);this.za(a.Shaman,"Shaman",this.ua,k);this.za(a.Mage,"Mage",this.ua,k);this.za(a.Warlock,"Warlock",this.ua,k);this.za(a.Druid,"Druid",this.ua,k);this.za(a.Elixirs,"Elixirs",this.ua,k);this.za(a.BattleElixirs,"Battle Elixirs",this.ua,k);this.za(a.GuardianElixirs,"Guardian Elixirs",this.ua,k);this.za(a.Flasks,"Flasks",this.ua,
k);this.za(a.Food,"Food",this.ua,k);this.li=i;this.content.style.display="block";this.qi.style.display="none"},za:function(a,b,c,d){var f=new Kd,g,h;g=j;var m={},r=document.createElement("div");f.va.className="collapse_h bi_collapse_h";f.content.className="collapse_c bi_collapse_c";f.b.className="collapse bi_collapse";for(g=h=0;g<a.length;g++)m[a[g].name+a[g].k.Kb()]=this.Wh(a[g].q,a[g].k,k,a[g].name),h++;f.va.innerHTML="<a clas='bi_bc_link' href='javascript:'>"+b+"</a><span class='bi_cb_count'>("+
h+")</span>";g=new Zd(m,r);g.Zd.className="input input_small bi_fcc_f";g.Vo();a=A(f.content,"div",{"class":"bi_fcc_parent",text:"Filter"});a.appendChild(g.Zd);f.content.appendChild(a);f.content.appendChild(r);Lb(f.content);d||f.collapse();h&&c.appendChild(f.b)},Wh:function(a,b,c,d){c=z("div",{"class":"bi_buff_p"});A(c,"img",{src:"/images/icons/small/"+a+".png","class":"bi_buff"});a=A(c,"a",{href:"javascript:",text:18<d.length?d.substr(0,15)+"...":d});a.onmouseout=function(){o.hide()};a.onmousemove=
function(){o.move()};a.ondblclick=l(k);wb(a,"mouseover",new t(function(){o.Cb(b.ga())},this),[]);I(a,"click",this.c.fire,this.c,["add_buff",{id:b.id}]);return c}};function fd(){this.b=z("div",{"class":"ov_p"});this.f=[]}
fd.prototype={b:j,Od:j,Vc:j,Qd:j,Pd:j,Uh:j,ti:j,f:[],update:function(a){var b,c,d,f=new t(function(b){b.is("stat_tooltip_show")?o.dl(a.qn(b.get("group"),b.get("index")),b.get("node")):b.is("stat_tooltip_hide")&&o.hide()},this);U(this.b);b=A(this.b,"div",{"class":"ov_header"});A(b,"span",{"class":"ov_name",text:a.name?a.name+",":""});A(b,"span",{"class":"ov_level",text:"Level "+a.e});0<a.hk()&&(A(b,"span",{"class":"ov_character_race",text:locale.CharacterRace[a.hk()]}),0<a.wc()&&(b=A(b,"span",{"class":"ov_character_class",
text:locale.CharacterClass[a.wc()]}),S(b,"character_class_"+a.wc()),5==a.wc()?S(b,"character_class_5_white_bg_fix"):4==a.wc()&&S(b,"character_class_4_white_bg_fix")));b=A(this.b,"div",{"class":"ov_gear_container"});A(b,"div",{"class":"ov_title",text:"Gear"});c=A(b,"div",{"class":"ov_items_p"});for(b=0;b<a.j.length;b++)d=A(c,"div",{"class":"ov_item_p row_bg"+(b%2+1)}),this.Bl(d,a,b);c=A(this.b,"div",{"class":"ov_stats_container"});A(c,"div",{"class":"ov_title",text:"Stats"});this.ra=[];for(b=0;b<locale.CS_StatGroups.length;b++){this.ra[b]=
new Kd;6!=b&&this.ra[b].toggle();this.f[b]=[];for(d=0;d<locale.CS_Stats[b].length;d++){var g=new Ld(b,d);g.c.w(new y(["stat_tooltip_show","stat_tooltip_hide"],f));this.f[b][d]=g;this.ra[b].content.appendChild(this.f[b][d].b)}this.ra[b].b.className="cs_st_p";this.ra[b].content.className="ov_st_c";d=A(this.ra[b].va,"div",{"class":"stat_title_p"});A(d,"a",{"class":"stat_title",text:locale.CS_StatGroups[b],href:"javascript:"});c.appendChild(this.ra[b].b)}g_settings.profile.ProfileInfo&&0<g_settings.profile.ProfileInfo.ID&&
(this.Vc=A(this.b,"div",{"class":"ov_comments_p"}),A(this.Vc,"div",{"class":"ov_title",text:"Comments:"}),this.Od=A(this.Vc,"div",{"class":"ov_comments_c"}),this.Qd=A(this.Vc,"div",{"class":"co_page"}),g_settings.userId&&(A(this.Vc,"div",{text:"Add a comment:","class":"co_add_note"}),this.Pd=A(this.Vc,"form",{action:"javascript:"}),this.ti=A(this.Pd,"textarea",{"class":"textarea co_textarea"}),f=A(this.Pd,"input",{type:"submit",value:"Post Comment"}),V.Hm(f),I(this.Pd,"submit",this.Vl,this,[]),this.Uh=
A(this.Vc,"div",{"class":"co_bar_loading"})),this.Qf(1));this.tm(a.M.f,a.wc(),a.nn());bd(this.b);f=new ee;f.update(a);T(this.b,f.b)},qm:function(){U(this.Od);U(this.Qd);A(this.Od,"div",{"class":"loading",text:"&nbsp;"})},Qf:function(a){this.qm();fa("api/comments.php?page="+a+"&profile="+g_settings.profile.ProfileInfo.ID,new t(this.Jl,this),[])},Vl:function(){var a=ga(this.ti);0==a.length||/^\s+$/.exec(a)?o.B("The comment is empty!"):5>a.length?o.B("The comment is too short!"):(this.Pd.style.display=
"none",this.Uh.style.display="block",ea("api/comments.php",{content:a,profile:g_settings.profile.ProfileInfo.ID},new t(this.Wl,this),[]))},Wl:function(a){try{u(a),this.Qf(1),this.ti.value=""}catch(b){o.B(b)}this.Pd.style.display="block";this.Uh.style.display="none"},Jl:function(a){try{var b=u(a),c=b.comments,d=b.page,f=b.page_count;U(this.Od);var g=c.length;d==f&&(g-=1);if(0<g){for(a=0;a<g;a++){var h=A(this.Od,"div",{"class":"co_c row_bg"+(1+a%2)});A(h,"div",{"class":"co_header",text:c[a].UserName+
", <span class='co_time'>"+c[a].Created+"</span>"});A(h,"div",{"class":"co_content",text:c[a].Content})}U(this.Qd);if(1<d){var m=A(this.Qd,"a",{href:"javascript:;","class":"co_link_page",text:"\u00ab Newer"});wb(m,"click",new t(function(){this.Qf(d-1)},this),[])}A(this.Qd,"span",{href:"javascript:;","class":"co_cur_page",text:d+" of "+f});if(d<f){var r=A(this.Qd,"a",{href:"javascript:;","class":"co_link_page",text:"Older \u00bb"});wb(r,"click",new t(function(){this.Qf(d+1)},this),[])}}else h=A(this.Od,
"div",{"class":"co_none",text:"No comments!"})}catch(v){o.B(v)}},Bl:function(a,b,c){if(b=b.j[c]){A(a,"span",{"class":"ov_slot_name",text:locale.Slots[c]+":"});c=A(a,"div",{"class":"ov_item_info_p"});A(c,"img",{src:"/images/icons/small/"+b.q+".png","class":"ov_item_icon"});a=A(c,"a",{href:"javascript:","class":"ov_item_link item_quality_"+b.da,text:b.name});V.qb(a,b.ga());for(var c=A(c,"div",{"class":"ov_gems_p"}),d=0;3>d;d++){var f=b.bd(d);f!=j&&(a=A(c,"div",{"class":"ov_gem_p"}),A(a,"img",{src:"/images/icons/gem/"+
f.q+".png","class":"ov_gem_icon"}),a=A(a,"a",{href:"javascript:","class":"ov_gem_link item_quality_"+f.da,text:f.name}),V.qb(a,f.ga()))}}else A(a,"span",{"class":"ov_slot_name",text:locale.Slots[c]+": Nothing equipped"})},tm:function(a,b,c){this.f[0][1].b.style.display=0<b&&0==(1<<b&90)?"block":"none";this.f[0][2].b.style.display=0<b&&(1==b||11==b&&5==c)?"block":"none";this.f[0][3].b.style.display=0<b&&(4==b||11==b&&1==c)?"block":"none";this.f[0][4].b.style.display=0<b&&3==b?"block":"none";this.f[0][5].b.style.display=
0<b&&6==b?"block":"none";for(b=0;b<this.f[0].length;b++)this.f[0][b].Y(a.fb[b]);for(b=0;b<this.f[1].length;b++)this.f[1][b].Y(a.attributes[b]);for(b=0;b<this.f[6].length;b++)this.f[6][b].Y(a.Tb[b]);for(b=0;b<this.f[4].length;b++)this.f[4][b].Y(a.k[b]);for(b=0;b<this.f[5].length;b++)this.f[5][b].Y(a.la[b]);for(b=0;b<this.f[2].length;b++)this.f[2][b].Y(a.O[b]);for(b=0;b<this.f[3].length;b++)this.f[3][b].Y(a.ka[b])}};function fe(a,b){this.Md=new y("class_change,race_change,level_change,item_change,profession_change,profession_level_change,character_loaded,stats_change,preview_stats_change,buffs_change,shapeform_change,presence_change".split(","),new t(function(a){a.is("class_change")?this.ml(a.get("class")):a.is("race_change")?this.rl(a.get("race")):a.is("level_change")?this.If(a.get("level")):a.is("item_change")?this.ul(a.get("slot")):a.is("profession_change")?this.Jf():a.is("profession_level_change")?this.Jf():
a.is("character_loaded")?this.Xe():a.is("stats_change")?this.vl(a.get("stats")):a.is("buffs_change")?this.ll():a.is("preview_stats_change")?this.ip(a.get("previewStats")):a.is("shapeform_change")?this.tl():a.is("presence_change")?this.ql():e(Error("Unhandled event: "+a.event))},this));a.w(this.Md);this.zf=new y("race_select,class_select,level_select,profession_select,profession_level_select,stat_tooltip_show,stat_tooltip_hide,item_left_click,item_right_click,item_tooltip_show,item_tooltip_hide,select_shape,select_presence,remove_buff,add_stack".split(","),
new t(function(b){if(b.is("race_select")){Xb.Zm(b.get("race_id"),new t(this.nm,this));o.qa()}else if(b.is("class_select")){Xb.Xm(b.get("class_id"),new t(this.mm,this));o.qa()}else if(b.is("level_select"))try{this.character.ea(b.get("level"))}catch(d){d instanceof Rc?o.B(d.toString()):da(d)}else if(b.is("profession_select"))this.character.Uk(b.get("index"),b.get("id"));else if(b.is("profession_level_select"))this.character.Po(b.get("index"),b.get("level"));else if(b.is("stat_tooltip_show")){var f=
Bd(this.character,b.get("group"),b.get("index"));f&&o.dl(f,b.get("node"))}else if(b.is("stat_tooltip_hide"))o.hide();else if(b.is("item_left_click"))if(b.get("index")>0&&this.character.ma(b.get("slot"),b.get("index"))!=j){this.character.bp(b.get("slot"),b.get("index"));this.sheet.nk(b.get("slot"),b.get("index"))}else this.sheet.Do(b.get("slot"));else if(b.is("item_right_click")){if(b.get("index")==0){this.character.removeItem(b.get("slot"));this.sheet.nk(b.get("slot"),b.get("index"))}}else if(b.is("item_tooltip_show"))(f=
this.character.ma(b.get("slot"),b.get("index")))&&b.get("index")>0&&this.character.Rk(b.get("slot"),f);else if(b.is("item_tooltip_hide"))b.get("index")>0&&this.character.Hk();else if(b.is("select_shape"))this.character.qd(b.get("shape_id"));else if(b.is("select_presence"))this.character.re(b.get("presence_id"));else if(b.is("remove_buff")){b=b.get("id");a.io(b);a.Bn(b)||o.hide()}else b.is("add_stack")?a.Gd(b.get("id")):e(Error("Unhandled event: "+b.event))},this));b.w(this.zf);this.sheet=b;this.character=
a;this.Xe()}
fe.prototype={sheet:j,character:j,zf:j,Md:j,nm:function(a){var b=this.character.d==j?-1:this.character.d.id;this.character.Vk(new Uc(this.character,a));a=this.character.d==j?-1:this.character.d.id;b!=a||-1==a?this.sheet.Bi.Zk():o.enable()},mm:function(a){this.character.hh(new Vc(a));o.enable()},detach:function(){this.character.lb(this.Md);this.sheet.lb(this.zf)},Xe:function(){this.Jf();this.vl(this.character.f);this.rl();this.ml();this.kj();this.If();this.ll()},ml:function(){this.sheet.el(this.character.d==j?
-1:this.character.d.id);this.sheet.hp(this.character.gi(),Oc);this.character.d!=j?this.sheet.Ra[18].Qi(i):this.sheet.Ra[18].Qi(k);this.tl();this.ql();this.sl();this.kj();this.If()},tl:function(){if(this.character.d!=j){var a=[],b;for(b in this.character.d.rd){var c=this.character.d.rd[b];a.push(new ge(c.id,c.n[0].k.q,c.n[0].k.Kb(this.character).join("<br />")))}this.sheet.xf.update(a,this.character.d.ya)}else this.sheet.xf.update(j,0)},ql:function(){if(this.character.d!=j){var a=[],b;for(b in this.character.d.Ec){var c=
this.character.d.Ec[b];a.push(new he(c.id,c.q,c.Kb(this.character).join("<br />")))}this.sheet.gf.update(a,this.character.d.xb?this.character.d.xb.k.id:0)}else this.sheet.gf.update(j,0)},rl:function(){this.sl()},If:function(){this.sheet.If(this.character.e);this.kj()},sl:function(){this.sheet.Bi.update(this.character.J==j?-1:this.character.J.id,this.character.d==j?-1:this.character.d.id)},Jf:function(){for(var a=[],b=0;2>b;b++){var c=this.character.ja[b];c==j?a.push(j):a.push(new Od(c.id,c.e))}this.sheet.Jf(a,
this.character.e)},ul:function(a){for(var b=[],c,d=0;5>d;d++)c=this.character.ma(a,d),c==j?b.push(j):b.push(new ie(this.character,c,a));this.sheet.Ra[a].update(b)},kj:function(){for(var a=0;19>a;a++)this.ul(a)},vl:function(a){var b;b=this.character.d;this.sheet.f[0][1].b.style.display=b!=j&&0==(1<<b.id&90)?"block":"none";this.sheet.f[0][2].b.style.display=b!=j&&(1==b.id||11==b.id&&5==b.ya)?"block":"none";this.sheet.f[0][3].b.style.display=b!=j&&(4==b.id||11==b.id&&1==b.ya)?"block":"none";this.sheet.f[0][4].b.style.display=
b!=j&&3==b.id?"block":"none";this.sheet.f[0][5].b.style.display=b!=j&&6==b.id?"block":"none";for(b=0;b<this.sheet.f[0].length;b++)this.sheet.f[0][b].Y(a.fb[b]);for(b=0;b<this.sheet.f[1].length;b++)this.sheet.f[1][b].Y(a.attributes[b]);for(b=0;b<this.sheet.f[6].length;b++)this.sheet.f[6][b].Y(a.Tb[b]);for(b=0;b<this.sheet.f[4].length;b++)this.sheet.f[4][b].Y(a.k[b]);for(b=0;b<this.sheet.f[5].length;b++)this.sheet.f[5][b].Y(a.la[b]);for(b=0;b<this.sheet.f[2].length;b++)this.sheet.f[2][b].Y(a.O[b]);
for(b=0;b<this.sheet.f[3].length;b++)this.sheet.f[3][b].Y(a.ka[b])},ip:function(a){if(a==j)this.kc();else{var b;for(b=0;b<this.sheet.f[0].length;b++)this.sheet.f[0][b].pd(a.fb[b]);for(b=0;b<this.sheet.f[1].length;b++)this.sheet.f[1][b].pd(a.attributes[b]);for(b=0;b<this.sheet.f[6].length;b++)this.sheet.f[6][b].pd(a.Tb[b]);for(b=0;b<this.sheet.f[4].length;b++)this.sheet.f[4][b].pd(a.k[b]);for(b=0;b<this.sheet.f[5].length;b++)this.sheet.f[5][b].pd(a.la[b]);for(b=0;b<this.sheet.f[2].length;b++)this.sheet.f[2][b].pd(a.O[b]);
for(b=0;b<this.sheet.f[3].length;b++)this.sheet.f[3][b].pd(a.ka[b])}},kc:function(){var a,b;for(a=0;a<this.sheet.f.length;a++)for(b=0;b<this.sheet.f[a].length;b++)this.sheet.f[a][b].vo()},ll:function(){var a=this.character.n.n,b=[],c;for(c in a)b.push(new je(a[c],this.character));this.sheet.Le.update(b)}};function va(a,b){this.F=a;this.t=b;this.zf=new y(["item_left_click"],new t(function(a){a.is("item_left_click")&&this.Zl(a.get("slot"),a.get("index"))},this));this.ue=[];for(var c=0;c<Gc;c++)this.ue[c]="";this.Md=new y("class_change,gem_change,random_enchant_change,talent_tree_selected,talents_reset,talent_tree_reset,talent_point_added,talent_point_removed,talent_distribution_set,character_loaded,item_change".split(","),new t(function(a){if(a.is("class_change"))this.Kj(a.get("class"));else if(a.is("character_loaded"))this.uh();
else if(a.is("gem_change"))this.be==rd&&this.Td==od&&this.lj();else if(a.is("item_change")){if(a.get("slot")==this.r)switch(this.be){case ya:this.pl();break;case rd:switch(this.Td){case od:this.lj();break;case qd:this.Kf();break;case pd:this.nl()}}}else if(a.is("random_enchant_change")){if(this.be==rd&&this.Td==pd){a=this.F.H();this.t.Tg.update(new ie(a,a.ma(this.r),this.r))}}else if(a.is("talent_tree_selected"))b.ob.lc(a.get("tree"));else if(a.is("talent_tree_reset"))b.ob.update();else if(a.is("talents_reset")){b.ob.lc(this.F.H().mn());
b.ob.update()}else a.is("talent_point_added")?b.ob.update():a.is("talent_point_removed")?b.ob.update():a.is("talent_distribution_set")?b.ob.update():e(Error("Unhandled event: "+a.event))},this));this.t.Ha.w(this.zf);c=new y("select_talent_tree,reset_talent_tree,reset_talents,show_tooltip,add_talent_point,remove_talent_point".split(","),new t(function(a){var b=this.F.H();if(a.is("select_talent_tree"))b.Eo(a.get("tree"));else if(a.is("reset_talent_tree"))b.xo(a.get("tree"));else if(a.is("reset_talents"))b.yo();
else if(a.is("add_talent_point"))b.Gm(a.get("tree"),a.get("row"),a.get("col"));else if(a.is("remove_talent_point"))b.po(a.get("tree"),a.get("row"),a.get("col"));else if(a.is("show_tooltip")){var c=a.get("row"),h=a.get("col"),m=a.get("tree");o.Yo(Ed(b.sn(),m,c,h),m,c,h,a.get("node"))}else e(Error("Unhandled event "+a.event))},this));b.ob.w(c);this.Z=new na;this.Z.t.show(k);this.Z.t.Rg.style.display="block";this.Z.w(new y(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new t(function(a){var b;
if(a.is("show_tooltip"))b=this.F.H(),o.Cb(ra(a.get("entity"),b)),b.Rk(this.r,a.get("entity"));else if(a.is("move_tooltip"))o.move();else if(a.is("hide_tooltip"))o.hide(),this.F.H().Hk();else if(a.is("click")){if((b=this.F.H())&&-1!=this.r)try{b.Cm(this.r,a.get("entity").clone())}catch(c){c instanceof Ac?o.B(c):da(c)}}else if(a.is("update")&&((new ke("api/items.php")).update(this.Z),-1!=this.r)){a=this.Z.Ja();this.De("name",a);this.De("quality",a);this.De("level",a);this.De("reqlvl",a);if(ga(this.Z.t.Ek)){var h=
this.Z.A.tb;for(b in h)this.De(h[b].aa,h[b].Ja())}this.ue[this.r]=a}},this)));this.Ga=(new la).Ga;this.Wa=new le;this.Wa.w(new y(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new t(function(a){var b;a.is("show_tooltip")?(b=this.F.H(),o.Cb(za(a.get("entity"),b,0,j)),b.Ni(this.r,a.get("entity"))):a.is("move_tooltip")?o.move():a.is("hide_tooltip")?(o.hide(),this.F.H().ko()):a.is("click")?(b=this.F.H())&&-1!=this.r&&b.ma(this.r)!=j&&b.Oc(this.r,a.get("entity").C[0].nd):a.is("update")&&
(new ke("api/spells.php")).update(this.Wa)},this)));this.eb=new na;this.eb.w(new y(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new t(function(a){var b;if(a.is("show_tooltip"))b=this.F.H(),o.Cb(ra(a.get("entity"),b)),b.Qk(this.r,this.Jc,a.get("entity"));else if(a.is("move_tooltip"))o.move();else if(a.is("hide_tooltip"))o.hide(),this.F.H().Gk();else if(a.is("click")){if((b=this.F.H())&&-1!=this.r&&b.ma(this.r)!=j)try{b.Pc(this.r,this.Jc,a.get("entity").clone())}catch(c){c instanceof
Ac?o.B(c):da(c)}}else a.is("update")&&(new ke("api/items.php")).update(this.eb)},this)));this.t.c.w(new y(["import","save","update","tab_change","csfolder_tab_change"],new t(function(a){a.is("import")?this.Ce(a.get("name"),a.get("server"),a.get("region")):a.is("save")?this.Bj(a.get("name"),a.get("desc")):a.is("update")?this.Cj():a.is("tab_change")?(this.be=a.get("newTab"),this.be==ya?this.pl():this.be==sd&&(a=this.F.nh.profile.ProfileInfo,this.t.wf.update(a&&0!=a.ID&&a.UserID==this.F.nh.userId))):
a.is("csfolder_tab_change")?(this.Td=a.get("newTab"),this.jj()):e(Error("Unhandled event "+a.event))},this)));this.t.yg.c.w(new y(["add_glyph","remove_glyph"],new t(function(a){var b=this.F.H();if(a.is("add_glyph")){try{b.Wf(a.get("glyph").Eb)}catch(c){o.B(c)}this.uh()}else a.is("remove_glyph")&&(b.Ji(a.get("glyph").Eb),this.uh())},this)));this.t.Tc.c.w(new y(["add_buff"],new t(function(a){var b=this.F.H();a.is("add_buff")&&(a=a.get("id"),F.Id(a,new t(function(a){try{var c=F.get(a);c.C[0]&&(23==c.C[0].Vd||
42==c.C[0].Vd)&&0<c.C[0].le?b.Ed(c.C[0].le):b.Ed(a)}catch(d){o.B(d)}},this),[a]))},this)));this.t.Xg.c.w(new y("wowreforge_export,reforge,restore,remove_reforge_preview,reforge_preview,reforge_all,restore_all,reforge_item_preview,remove_reforge_item_preview".split(","),new t(function(a){var b=this.F.H();if(a.is("reforge")){b.fo(this.r,a.get("reduce"),a.get("add"));this.Kf()}else if(a.is("restore")){b.Co(this.r);this.Kf()}else if(a.is("reforge_item_preview"))b.Qo(this.r,a.get("reduce"),a.get("add"));
else if(a.is("remove_reforge_item_preview"))b.mo();else if(a.is("reforge_preview"))b.lh(a.get("reforge_array"));else if(a.is("remove_reforge_preview"))b.no();else if(a.is("restore_all"))b.Bo();else if(a.is("reforge_all")){b.eo(a.get("reforge_array"));this.Kf()}else if(a.is("wowreforge_export")){a=this.F.H().cp();b=document.createElement("form");b.method="POST";b.action="http://wowreforge.com/Profiles/Import";b.name="wowreforge_export";b.target="_blank";b.id="wowreforge_export";b.style.display="none";
A(b,"input",{type:"hidden",name:"profile",value:a});A(b,"input",{type:"hidden",name:"metadata",value:'{"BasedOn" : null,"CanUpdate" : false,"Data" : null,"Origin" : "chardev.org","SourceLink" : null}'});document.body.appendChild(b);document.getElementById("wowreforge_export").submit();document.body.removeChild(b)}},this)));this.t.qh.c.w(new y(["socket_used_gem","socket_left_click","socket_right_click","used_gem_tooltip_show","used_gem_tooltip_hide"],new t(function(a){var b,c;a.is("socket_left_click")?
(b=this.F.H(),c=b.ma(this.r,0),this.Jc=a.get("socket"),c!=j&&(a=1==c.U[this.Jc]?64:2==c.U[this.Jc]?297:4==c.U[this.Jc]?308:8==c.U[this.Jc]?282:32==c.U[this.Jc]?1024:319,me(this.eb,0,3,a),this.eb.A.S("usablebyclass",i),this.eb.A.S("issocketablegem",i),this.eb.A.S("gemreqitemlvl",i),this.eb.A.S("class",i),this.eb.set((b.d!=j?"usablebyclass.eq."+(1<<b.d.id-1)+";":"")+"issocketablegem.eq.1;class.eq.3;subclass.ba."+a+";gemreqitemlvl.le."+c.e+";",j,j,1),this.eb.update())):a.is("socket_right_click")?(b=
this.F.H(),b.Ii(this.r,a.get("socket"))):a.is("used_gem_tooltip_show")?(b=this.F.H(),b.Qk(this.r,a.get("socket"),E.get(a.get("gemId")))):a.is("used_gem_tooltip_hide")?(b=this.F.H(),b.Gk()):a.is("socket_used_gem")?(b=this.F.H(),b.Pc(this.r,a.get("socket"),E.get(a.get("gemId")))):e(Error("Unhandled event "+a.event))},this)));this.t.Tg.c.w(new y(["change"],new t(function(a){a.is("change")?this.F.H().Mo(this.r,a.get("randomEnchantmentId")):e(Error("Unhandled event "+a.event))},this)));this.Ga.set("ismine.eq.1;",
j,j,1);b.zn(this.Z.t,this.Wa.t,this.Ga.t);b.qh.No(this.eb.t.b);this.eb.t.show(i);this.F.w(new y(["character_change","logged_in","logged_out"],new t(function(a){a.is("character_change")?this.Tl(a.get("character")):a.is("logged_in")?this.t.Bg.nj():a.is("logged_out")&&this.t.Bg.nj()},this)))}
va.prototype={t:j,F:j,Z:j,eb:j,Wa:j,Ga:j,r:-1,Jc:-1,Ge:j,ue:[],be:0,Td:0,Md:j,Tl:function(a){this.Ge&&this.Ge.detach();this.Ge=new fe(a,this.t.Ha);this.Kj(a.d);a.w(this.Md)},Kj:function(a){var b=a!=j?"usablebyclass.eq."+(1<<a.id-1)+";":"usablebyclass.eq.0;";this.Z.qo("usablebyclass",b);this.Ch("usablebyclass",b);a!=j?this.t.ob.Xe(new ne(a.l,this.F.H())):this.t.ob.Xe(j);this.t.Tc.wo();this.uh();this.jj()},Zl:function(a,b){0==b&&(this.r=a,!this.F.H().ma(this.r,0)&&0!=this.Td?this.t.ng.show(0):this.jj())},
uh:function(){var a=this.F.H(),b=[];if(a.d)for(var c=0;c<a.d.ag.length;c++)b.push(new oe(a.d.ag[c],a));this.t.yg.update(b,new pe(a))},pl:function(){this.t.xi.update(new pe(this.F.H()))},jj:function(){switch(this.Td){case 0:if(-1==this.r)break;this.gp();break;case od:if(-1==this.r)break;this.lj();break;case pd:if(-1==this.r)break;this.nl();break;case qd:if(-1==this.r)break;this.Kf();break;case 5:this.ep()}},ep:function(){var a=this.F.H();this.t.Tc.li||Ic(new t(function(a,b){b!=j?o.B(b):this.t.Tc.Ye(a)},
this),a);var b,c,d,f,g=[],h=[],m,r;for(c=0;19>c;c++)if(f=a.v.get(c)){for(d=0;d<f.K.length;d++)if(m=f.K[d],m!=j){for(b=0;3>b;b++)if((r=m.C[b])&&42==r.Vd)(r=r.ln())&&g.push(new qe(r,a));m.qk()||h.push(new qe(m,a))}for(d=0;d<f.D.length;d++)b=f.D[d],1==b.types[0]&&g.push(new qe(b.K[0],a))}d=[];if(a.d!=j&&a.d.Vh!=j)for(c=0;c<a.d.Vh.length;c++)f=a.d.Vh[c],a.V.Jd[f[1]]&&d.push(Kc(new R(f[0]),a));this.t.Tc.update(h,g,d)},Kf:function(){var a=this.F.H(),b=j;-1!=this.r&&(b=a.ma(this.r,0));this.t.Xg.update(b==
j?j:new ie(a,b,this.r))},nl:function(){this.Wa.t.show(k);if(-1!=this.r){var a=this.F.H(),b=a.ma(this.r,0);this.t.Tg.update(b==j?j:new ie(a,b,this.r));b!=j&&(this.Wa.A.S("isenchant",i),this.Wa.A.S("itemclasssubclasscombined",i),this.Wa.A.S("slot",i),this.Wa.A.S("enchantitemlevel",i),this.Wa.A.S("enchantchrlevel",i),this.Wa.set("isenchant.eq.1;itemclasssubclasscombined.eq."+b.X+"."+b.W+";slot.ba."+(1<<b.wa)+";enchantitemlevel.le."+b.e+";enchantchrlevel.le."+a.e+";",j,j,1),this.Wa.update(),this.Wa.t.show(i))}},
lj:function(){if(-1!=this.r){var a=this.F.H(),b=a.ma(this.r,0);this.t.qh.update(b==j?j:new ie(a,b,this.r),this.tn())}},gp:function(){var a=this.F.H(),b=this.ue[this.r],c=a.Km(this.r),d=a.Lm(this.r);me(this.Z,c,d[0],d[1]);this.Z.A.S("usablebyclass",i);this.Z.A.S("issocketablegem",i);this.Z.A.S("canbeusedwithlvl",i);this.Z.A.S("class",i);this.Z.A.S("gemreqitemlvl",i);this.Z.t.setProperty("showDpsAndDelay",a.Fn(this.r));16!=this.r&&17!=this.r&&18!=this.r?this.Z.A.S("slot",i):this.Z.A.S("slot",k);1==
this.r||12==this.r||13==this.r||14==this.r||15==this.r||6==this.r||5==this.r?this.Z.A.S("subclass",i):this.Z.A.S("subclass",k);b=b.replace(/\bclass\.\w+\.[^;]*;/,"")+(0<=d[0]?"class.eq."+d[0]+";":"");b=b.replace(/\bslot\.\w+\.[^;]*;/,"")+(0<c?"slot.ba."+c+";":"");b=b.replace(/\bsubclass\.\w+\.[^;]*;/,"")+(0<d[1]?"subclass.ba."+d[1]+";":"");this.Z.set(b,j,j,1);this.Z.update();this.Z.t.show(i)},Ce:function(a,b,c){try{Wb.co(a,b,c,new t(this.Yl,this)),o.qa()}catch(d){o.B(d)}},Yl:function(a,b){b!=j?o.B(b):
(this.F.H().load(a),this.t.$d.show(rd),o.enable())},Bj:function(a,b){try{var c=w.H();c.Sk(a);c.Ho(b);Wb.Al(0,c,new t(this.em,this));o.qa()}catch(d){o.B(d)}},Cj:function(){try{Wb.Al(this.F.nh.profile.ProfileInfo.ID,w.H(),new t(this.hm,this)),o.qa()}catch(a){o.B(a)}},em:function(a,b){b!=j?o.B(b):o.al("Your profile was saved.<br /><a class='tt_profile_link' href='"+escape(ja()+a)+"' target='_blank'>Click here</a> to view it.")},hm:function(a,b){b!=j?o.B(b):o.al("The profile was updated.")},Ch:function(a,
b){for(var c=0;19>c;c++)this.ue[c]=this.ue[c].replace(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;","g"),"")+b},De:function(a,b){var c=b.match(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;","g"));c?this.Ch(a,c.join("")):this.Ch(a,"")},tn:function(){for(var a={},b,c,d=this.F.H(),f=0;f<Gc;f++)if(b=d.ma(f,0),b!=j)for(var g=0;3>g;g++)(c=b.I[g])&&(a[c.id]=new re(d,c));return a}};function la(){this.Ga=new se;this.Ga.t.Ri(i);this.Ga.w(new y(["update","delete"],new t(function(a){a.is("update")?(new ke("api/profiles.php")).update(this.Ga):a.is("delete")&&confirm("Do you really want to delete the character profile '"+a.get("desc")+"'?")&&fa("php/interface/profiles/delete_profile.php"+Ab({id:a.get("profile_id")}),new t(function(a){try{u(a),this.Ga.update()}catch(c){o.B(c)}},this),[])},this)))}la.prototype={Ga:j};function ie(a,b,c){this.id=b.id;this.q=b.q;this.name=b.name;this.da=b.da;this.r=c;this.M=a;this.Zb=b;this.U=b.U;this.Q=this.bg=j;if(b.Oa!=j){this.bg=[];for(a=0;a<b.Oa.length;a++)this.bg.push(new te(b.Oa[a]));b.Q!=j&&(this.Q=new te(b.Q))}this.oa=b.oa;this.ic=b.ic;this.ba=b.ba;this.fa=b.fa}
ie.prototype={Zb:j,M:j,q:"",id:0,name:"",da:-1,r:0,U:[],Q:j,bg:[],oa:-1,ic:0,ba:-1,fa:0,ga:function(){return ra(this.Zb,this.M)},pn:function(){return Ad(this.Zb,this.M,1)},tk:function(){return!this.M.gg(this.Zb)||!this.M.sg(this.Zb)||this.Zb.Ab>this.M.e},yn:function(){return this.M.lk(this.r)},hi:function(a){return this.Zb.hi(a)},ni:function(){return this.Zb.ni()},bd:function(a){return(a=this.Zb.I[a])?new re(this.M,a):j}};function re(a,b){this.qj=b;this.M=a;this.q=b.q;this.id=b.id;this.name=b.name;this.da=b.da}re.prototype={qj:j,M:j,q:"",id:0,name:"",ga:function(){return ra(this.qj,this.M)}};function te(a){this.id=a.id;this.name=a.name;this.description="";for(var b=0;5>b;b++)a.D[b]&&(this.description+=(this.description?", ":"")+a.D[b].description)}te.prototype={id:0,name:"",description:""};function ne(a,b){this.oc=a;this.id=a.id;this.Lb=a.Lb;this.mc=a.$;this.Ub=a.rows;this.ac=a.cols;this.Ob=a.Ob;this.ib=a.ib;this.Ac=a.Ac;this.Gb=b.d.id;this.$=[];for(var c=0;c<a.$;c++)this.$[c]=new ue(a,c,b)}ne.prototype={oc:j,$:[],id:0,Lb:k,mc:0,Ub:0,ac:0,Gb:0,Ob:0,ib:0,Ac:0,xc:function(){return this.oc.xc()},wg:function(a){return this.oc.sa[a]},kn:function(){return this.oc.xg()},ug:function(){return this.oc.Hb},vg:function(){return this.oc.vg()}};function ue(a,b,c){var d;this.na=[];for(d=0;d<a.na[b].length;d++)this.na.push(new qe(a.na[b][d],c));this.l=[];for(d=0;d<a.rows;d++){this.l[d]=[];for(c=0;c<a.cols;c++)a.l[b][d][c]!=j&&(this.l[d][c]=new ve(a.l[b][d][c]))}this.name=a.Yb[b];this.ii=a.gj[b];this.description=a.fj[b]}ue.prototype={ii:"",name:"",description:"",na:[],l:[]};function ve(a){this.$b=a;this.name=a.getName();this.q=a.K[0].q;this.max=a.zb;this.Bb=[];for(var b in a.Bb)this.Bb.push(a.Bb[b])}ve.prototype={$b:j,max:0,name:"",q:"",ge:function(){return this.$b.R==this.max},Ie:function(){return this.$b.Ie()}};function qe(a,b){this.Tf=a;this.M=b;this.name=a.name;this.id=a.id;this.q=a.q}qe.prototype={Tf:j,M:j,name:"",q:"",id:"",Kb:function(){this.Tf.ea(this.M.e);return this.Tf.Kb(this.M)},ga:function(){return za(this.Tf,this.M,0,j)}};function oe(a,b){this.Eb=a;this.M=b;this.id=a.id}oe.prototype={Eb:j,M:j,id:0,getName:function(){return this.Eb.k.name},ga:function(){return za(this.Eb.k,this.M,0,j)}};function pe(a){var b,c;this.M=a;this.e=a.e;this.name=a.name?a.name:"";this.description=a.description?a.description:"";this.j=[];for(c=0;c<Gc;c++)b=a.ma(c,0),this.j[c]=b?new ie(a,a.ma(c,0),c):j;this.N=[];if(a.d){var d=a.d.N;for(c=0;c<d.length;c++)for(b=0;b<d[c].length;b++)d[c][b]&&this.N.push(new oe(d[c][b],a))}}
pe.prototype={M:j,e:0,name:"",description:"",j:[],N:[],wc:function(){return this.M.d?this.M.d.id:0},hk:function(){return this.Qh=this.M.J?this.M.J.id:0},gk:function(){return 0!=this.wc()?25>this.M.e?0:50>this.M.e?1:75>this.M.e?2:3:0},qn:function(a,b){return Bd(this.M,a,b)},nn:function(){return this.M.d?this.M.d.ya:0}};function Jc(a,b,c,d){this.k=new qe(c,d);this.name=a;this.q=b}function Kc(a,b){return new Jc(a.name,a.q,a,b)}Jc.prototype={k:j,name:"",q:""};function ge(a,b,c){this.id=a;this.q=b;this.description=c}ge.prototype={id:0,q:"",description:""};function he(a,b,c){this.id=a;this.q=b;this.description=c}he.prototype={id:0,q:"",description:""};function je(a,b){this.Lf=a;this.Fl=b;this.id=a.k.id;this.q=a.k.q;this.vd=a.vd}je.prototype={id:-1,q:"",vd:k,Lf:j,ga:function(){return za(this.Lf.k,this.Fl,0,j)}};function we(a,b){this.aa=b;this.name=a;this.b=document.createElement("div")}var xe=[["gt","&gt;"],["ge","&ge;"],["lt","&lt;"],["le","&le;"],["eq","="]],ye=[["wlike","is"]],ze=[["eq","="]];
we.prototype={b:j,aa:"",name:"",jn:function(a){var b;switch(a){case Ae:b=new Nd(ye);b.b.style.display="none";break;case Be:b=new Nd(ze);b.b.style.display="none";break;case X:b=new Nd(xe);break;default:e(Error("Unable to create operator select for "+a+"!"))}b.b.className="fi_op_select";return b},Ja:function(){e(new Tb("AbstractFilter","getArgumentString"))}};function Ce(a,b){this.aa=b;this.name=a}Ce.prototype={aa:"",name:"",show:i,Se:function(){e(new Tb("FilterData","getFilter"))}};function Z(a,b,c){Ce.call(this,a,b);this.dk=c}var X=0,Be=1,Ae=2;Z.prototype=new Ce("","");Z.prototype.dk=X;Z.prototype.Se=function(a,b){return new De(this.name,this.aa,a,b,this.dk)};function Ee(a,b){Ce.call(this,a,b)}Ee.prototype=new Ce("","");Ee.prototype.Se=function(a,b){return new Fe(this.name,this.aa,b)};function Ge(a,b,c){Ce.call(this,a,b);this.options=c}
Ge.prototype=new Ce("","");Ge.prototype.options=j;Ge.prototype.Se=function(a,b){return new He(this.name,this.aa,b,this.options)};function Ie(a,b,c){Ce.call(this,a,b);this.options=c}Ie.prototype=new Ce("","");Ie.prototype.options=j;Ie.prototype.Se=function(a,b){return new Je(this.name,this.aa,b,this.options)};function Ke(){this.c=new D;this.c.g("set_argument_string",[]);this.c.g("create_filter",[]);this.sj()}
Ke.prototype={data:{},hidden:{},c:j,te:{},se:{},tb:[],sj:function(){this.data={};this.hidden={};this.te={};this.tj()},tj:function(){this.se={};this.tb=[]},set:function(a,b){this.sj();this.data=a;for(var c in b)this.te[b[c]]=i},w:function(a){this.c.w(a)},Nk:function(a){var b,c;this.tj();for(b in this.te)this.wh(b,j,j);for(;(c=/(^|;)([^;]+;)/.exec(a))!=j;)(b=/^(\w+)\.(\w+)\.([^;]+);/.exec(c[2]))&&this.wh(b[1],b[2],b[3]),a=a.replace(c[0],c[1])},Hi:function(a){for(var b=0;b<this.tb.length;b++)if(this.tb[b]==
a){this.tb.splice(b,1);return}e(Error("Unable to remove filter "+a+"!"))},Ja:function(){var a="",b;for(b in this.se)a+=this.se[b].Ja();for(b=0;b<this.tb.length;b++)a+=this.tb[b].Ja();return a},wh:function(a,b,c){var d=this.data[a];d==j&&e(Error("Unable to find filter data for "+a+" (with "+b+" "+c+")!"));b=d.Se(b,c);this.te[a]?this.se[a]=b:this.tb.push(b);return b},an:function(a){this.te[a]&&e(Error("Unable to create custom filter for static filter variable: "+a+"!"));return this.wh(a,j,j)},S:function(a,
b){b?this.hidden[a]=i:delete this.hidden[a]},bn:function(){var a={},b;for(b in this.data)this.te[this.data[b].aa]||this.hidden[this.data[b].aa]||(a[b]=this.data[b]);return a},cn:function(){var a=[],b;for(b in this.tb)this.hidden[this.tb[b].aa]||a.push(this.tb[b]);return a},rn:function(){var a=[],b;for(b in this.se)this.hidden[b]||a.push(this.se[b]);return a}};function De(a,b,c,d,f){we.call(this,a,b);this.valueType=f;this.input=document.createElement("input");this.input.className="input fi_in";this.input.value=d!=j?d:this.valueType==X||this.valueType==Be?"0":"";this.ff=this.jn(f);c!=j&&this.ff.select(c);this.b.appendChild(this.ff.b);this.b.appendChild(this.input);this.b.className="fi_p"}De.prototype=new we("","");n=De.prototype;n.ff=j;n.input=j;n.valueType=X;
n.ha=function(){switch(this.valueType){case Be:case X:var a=parseFloat(this.input.value);isNaN(a)&&(a="");return a;default:return this.input.value}};n.Ja=function(){return this.aa+"."+this.ff.ha()+"."+this.ha()+";"};function Fe(a,b,c){we.call(this,a,b);this.de=document.createElement("input");this.de.className="input fi_in_min";this.de.maxLength="5";this.ce=document.createElement("input");this.ce.className="input fi_in_max";this.ce.maxLength="5";if(c!=j&&(a=/(\d*(?:\.\d+)?)-(\d*(?:\.\d+)?)/.exec(c)))this.de.value=a[1],this.ce.value=a[2];this.b.appendChild(this.de);this.b.appendChild(document.createTextNode(" - "));this.b.appendChild(this.ce);this.b.className="fi_p"}Fe.prototype=new we("","");Fe.prototype.ff=j;
Fe.prototype.de=j;Fe.prototype.ce=j;Fe.prototype.Ja=function(){var a=parseFloat(this.de.value),b=parseFloat(this.ce.value);return this.aa+".btw."+(isNaN(a)?"":""+a)+"-"+(isNaN(b)?"":""+b)+";"};function He(a,b,c,d){we.call(this,a,b);this.select=Vd(d);c!=j&&this.select.select(c);this.b.appendChild(this.select.b)}He.prototype=new we("","");He.prototype.select=j;He.prototype.Ja=function(){return this.aa+".eq."+this.select.ha()+";"};function Je(a,b,c,d){we.call(this,a,b);var a=[],b=0,f;for(f in d)a[b++]=[f,d[f]];this.select=new Wd(a);c!=j&&this.select.select(c);this.b.className="fi_multi_select";this.b.appendChild(this.select.b)}Je.prototype=new we("","");Je.prototype.select=j;Je.prototype.Ja=function(){return this.aa+".ba."+this.select.ha()+";"};function Le(a,b,c,d){if(!a)return j;this.c=new D;this.c.g("update",["list"]);this.c.g("show_tooltip",["entity"]);this.c.g("click",["entity"]);this.c.g("move_tooltip",[]);this.c.g("hide_tooltip",[]);this.A=new Ke;this.t=a;this.jd=d;d=new y("search,next_page,prev_page,change_order,add_custom_filter,remove_custom_filter".split(","),new t(function(a){a.is("search")?this.update():a.is("next_page")?this.nextPage():a.is("prev_page")?this.bo():a.is("change_order")?this.kh(a.get("order")):a.is("add_custom_filter")?
this.Bm(a.get("variable"),a.get("customFilter")):a.is("remove_custom_filter")&&this.Hi(a.get("filter"))},this));a.w(d);a.ca("show_tooltip",this.c);a.ca("hide_tooltip",this.c);a.ca("move_tooltip",this.c);a.ca("click",this.c);this.A.set(b,c);this.set("","","",1)}var oa=1;function Me(a){var b=[],c;for(c in a)for(var d in a[c])b[a[c][d].aa]=a[c][d];return b}function Ne(a){var b={},c;for(c in a){b[c]=[];for(var d in a[c])b[c].push(a[c][d].aa)}return b}
Le.prototype={c:j,page:1,Re:0,A:j,t:j,jd:"",je:0,w:function(a){this.c.w(a)},Pk:function(a){this.Re=a;this.t.mj(this.page,this.Re)},nextPage:function(){this.Dh(this.page+1);this.Vf()},bo:function(){this.Dh(this.page-1);this.Vf()},Dh:function(a){0>a||1>=this.Re||(this.page=a,this.t.mj(this.page,this.Re))},update:function(){this.Dh(1);this.Vf()},kh:function(a){this.jd==a?this.je=0==this.je?oa:0:this.jd=a;this.Vf()},Vf:function(){this.c.fire("update",{list:this});this.t.qa()},Ja:function(){return this.A.Ja()},
set:function(a,b,c,d){this.page=d;this.t.mj(this.page,this.Re);this.t.kh(this.jd,this.je);this.A.Nk(a);this.t.fp(this.A.rn(),this.A.cn(),this.A.bn())},Bm:function(a,b){b.Ok(this.A.an(a))},Hi:function(a){this.A.Hi(a)},setData:function(a){this.t.kh(this.jd,this.je);2>a.length?(this.t.ih(j),this.Pk(0)):(this.Pk(Math.ceil(a[0][0]/a[0][1])),this.t.qg(a))},qo:function(a,b){var c=this.A.Ja(),c=c.replace(RegExp("\u0008"+a+"\\.\\w+\\.[^;]+;"),"")+b;this.A.Nk(c)}};function Oe(a){if(!a)return j;this.c=new D;this.c.g("search",[]);this.c.g("remove_custom_filter",["customFilter"]);this.c.g("add_custom_filter",["variable","customFilter"]);this.c.g("next_page",[]);this.c.g("prev_page",[]);this.c.g("change_order",["order"]);this.c.g("hide_tooltip",[]);this.c.g("move_tooltip",[]);this.c.g("show_tooltip",["entity"]);this.c.g("click",["entity"]);this.Ph=a;this.b=document.createElement("div");this.b.className="li_p";this.bc=new Kd;this.cc=document.createElement("div");
this.cc.className="li_filter_p";this.b.appendChild(this.cc);this.bc.va.className="li_fc_header";this.bc.content.className="li_fc_content";this.bc.va.innerHTML="<a href='javascript:'>Filter</a>";this.cc.appendChild(this.bc.b);this.content=document.createElement("div");this.content.className="li_content";this.b.appendChild(this.content);this.form=document.createElement("form");this.form.action="javascript:";this.form.onsubmit="return false";this.bc.content.appendChild(this.form);this.pg=document.createElement("div");
this.Yd=document.createElement("input");this.Yd.type="submit";this.Yd.value=locale.F_Search;Pb(this.Yd,{"default":"button button_light li_filter_search_btn",focus:"button_light_focus",hover:"button_light_hover"});I(this.form,"submit",this.c.fire,this.c,["search",{}]);this.Fd=document.createElement("input");this.Fd.type="button";this.Fd.value=locale.F_AddFilter;Pb(this.Fd,{"default":"button button_light li_filter_add_btn",focus:"button_light_focus",hover:"button_light_hover"});I(this.Fd,"click",this.zk,
this,[j]);this.uj();this.bb=new W(1,3);this.bb.b.width="100%";this.bb.cols[0].width="33%";this.bb.cols[1].width="34%";this.bb.cols[2].width="33%";this.Rb=document.createElement("a");this.Rb.style.display="none";this.Rb.href="javascript:";Pb(this.Rb,{"default":"button button_light li_prev_page",focus:"button_light_focus",hover:"button_light_hover"});I(this.Rb,"click",this.c.fire,this.c,["prev_page",{}]);this.Pg=document.createElement("div");this.Pg.className="li_curr_page";this.Qb=document.createElement("a");
this.Qb.style.display="none";this.Qb.href="javascript:";Pb(this.Qb,{"default":"button button_light li_next_page",focus:"button_light_focus",hover:"button_light_hover"});I(this.Qb,"click",this.c.fire,this.c,["next_page",{}]);this.bb.cells[0][0].appendChild(this.Rb);this.bb.cells[0][1].appendChild(this.Pg);this.bb.cells[0][2].appendChild(this.Qb);this.bb.b.className="li_page_p";this.b.appendChild(this.bb.b)}
Oe.prototype={c:j,Ph:{},b:j,content:j,cc:j,bc:j,Yd:j,form:j,pg:j,Fd:j,dc:j,dd:j,bb:j,Pg:j,Qb:j,Rb:j,$j:j,Zj:j,Xh:j,setProperty:function(){e(new Tb("ListGui","setProperty"))},fp:function(a,b,c){this.uj();for(var d in a)this.Lg(a[d]);for(d in b)this.zk(b[d]);this.$j=c},uj:function(){this.dc=new W(0,2);this.dd=new W(1,1);this.dd.mh(dd);this.dc.b.cellSpacing="2px";this.dc.b.className="group_t2 li_filter_input_grid li_filter_grp";this.dc.hide();this.dd.cells[0][0].appendChild(this.dc.b);var a=document.createElement("div");
a.className="group_t2 li_filter_grp";a.appendChild(this.pg);a.appendChild(this.Fd);Mb(this.form);this.form.appendChild(this.dd.b);this.form.appendChild(a);this.form.appendChild(this.Yd);Mb(this.pg)},w:function(a){this.c.w(a)},ca:function(a,b){this.c.ca(a,b)},Ih:function(a,b){for(;b+1>=this.dd.cols.length;)this.dd.Am();var c=document.createElement("div"),d=document.createElement("div");c.innerHTML=a.name;c.className="li_filter_lg_label";x(d,c);d.appendChild(a.b);d.className="group_t2 li_filter_grp li_filter_select";
this.dd.cells[0][b+1].appendChild(d)},Qc:function(a,b){for(;b>=this.dc.rows.length;)this.dc.Rc();var c=this.dc.cells[b];c[0].innerHTML=a.name;c[0].className="li_filter_ig_label";x(c[1],a.b);c[1].className="li_filter_ig_input";this.dc.show()},Lg:function(){e(new Tb("ListGui","newStaticFilter"))},zk:function(a){var b=new Pe(this);a!=j&&b.Ok(a);this.pg.appendChild(b.b)},qa:function(){this.content.innerHTML="<div class='li_loading'>"+locale.L_Loading+"</div>";this.bk(i);this.bb.b.style.display="none"},
bk:function(a){this.Yd.disabled=a?"disabled":""},ih:function(a){a==j?this.content.innerHTML="<div class='il_nothing'>Nothing Found</div>":x(this.content,a);this.bk(k);this.Qb.disabled="";this.Rb.disabled=""},Ri:function(a){a?this.bc.expand():this.bc.collapse()},mj:function(a,b){1>=a&&0==b?this.bb.b.style.mp="none":(1<b?(this.Qb.innerHTML=locale.next+" &rsaquo;",this.Qb.style.display=""):this.Qb.style.display="none",1<a?(this.Rb.innerHTML="&lsaquo; "+locale.previous,this.Rb.style.display=""):this.Rb.style.display=
"none",this.Pg.innerHTML="Page "+a,this.bb.b.style.display="table")},show:function(a){this.b.style.display=a?"block":"none"},qg:function(){e(new Tb("ListGui","deserialize"))},kh:function(a,b){this.Xh=a;this.Zj=b},yc:function(a,b){var c=document.createElement("a");c.innerHTML=a+(b==this.Xh?0==this.Zj?" \u25bc":" \u25b2":"");c.className="li_sort_link"+(b==this.Xh?" li_sort_link_active":"");c.href="javascript:";I(c,"click",this.c.fire,this.c,["change_order",{order:b}]);return c}};
function Pe(a){this.kd=a;a=new W(1,3);a.b.className="group_t3 fi_cf_table";var b=document.createElement("option");b.innerHTML="";b.value="";var c=document.createElement("a");c.className="remove fi_cf_remove";c.href="javascript:";this.b=document.createElement("div");this.select=document.createElement("select");this.select.className="single_select";this.cc=document.createElement("div");this.select.appendChild(b);for(var d in this.kd.Ph)this.Ml(d,this.kd.Ph[d]);a.cells[0][0].appendChild(this.select);
a.cells[0][1].appendChild(this.cc);a.cells[0][2].appendChild(c);this.b.appendChild(a.b);I(this.select,"change",this.wi,this,[]);I(c,"click",this.Qn,this,[])}
Pe.prototype={b:j,select:j,cc:j,filter:j,kd:j,wi:function(){var a=this.select.selectedIndex;if(0>=a||this.filter!=j)this.kd.c.fire("remove_custom_filter",{filter:this.filter}),this.cc.innerHTML="",this.filter=j;0<a&&this.kd.c.fire("add_custom_filter",{variable:this.select.options[a].value,customFilter:this})},Qn:function(){this.filter!=j&&this.kd.c.fire("remove_custom_filter",{filter:this.filter});this.b.parentNode.removeChild(this.b)},Ok:function(a){this.filter=a;this.cc.appendChild(a.b);for(var b=
this.select.options,c=0;c<this.select.options.length;c++)if(b[c].value==a.aa){b[c].selected="selected";break}},Ml:function(a,b){for(var c=[],d=j,f=0;f<b.length;f++)d=this.kd.$j[b[f]],d!=j&&c.push(d);if(0<c.length)if("none"==a)for(f=0;f<c.length;f++)this.pj(c[f],this.select);else{d=document.createElement("optgroup");d.label=a;for(f=0;f<c.length;f++)this.pj(c[f],d);this.select.appendChild(d)}},pj:function(a,b){var c=document.createElement("option");c.innerHTML=a.name;c.value=a.aa;b.appendChild(c)}};function ke(a){this.Sj=a;this.Wj=new t(this.Im,this)}n=ke.prototype;n.ah=j;n.Sj=j;n.Wj=j;n.update=function(a){this.ah=this.Sj+"?"+Ea({a:a.Ja(),o:a.jd+"."+(a.je==oa?"asc":"desc")+";",p:a.page});Ga(this.ah,this.Wj,[a,this.ah],k)};n.Im=function(a,b,c){c==this.ah&&b.setData(a)};var Qe={"0":"Any class"};Qe[1]=locale.a_class[0];Qe[2]=locale.a_class[1];Qe[4]=locale.a_class[2];Qe[8]=locale.a_class[3];Qe[16]=locale.a_class[4];Qe[32]=locale.a_class[5];Qe[64]=locale.a_class[6];Qe[128]=locale.a_class[7];Qe[256]=locale.a_class[8];Qe[1024]=locale.a_class[10];var Re={};Re[0]=locale.F_No;Re[1]=locale.F_Yes;var Se={};Se[0]=locale.a_quality[0];Se[1]=locale.a_quality[1];Se[2]=locale.a_quality[2];Se[3]=locale.a_quality[3];Se[4]=locale.a_quality[4];Se[5]=locale.a_quality[5];Se[6]=locale.a_quality[6];
Se[7]=locale.a_quality[7];var Te=[8919044,1116154,2026,2026,2026];function na(){Le.call(this,new Ue(Ne(Ve)),Me(Ve),["name","level","reqlvl","quality"],We)}var Ve={};Ve[locale.F_General]=[new Z(locale.F_Name,"name",Ae),new Ee(locale.F_ItemLevel,"level"),new Ie(locale.F_Quality,"quality",Se),new Ee(locale.F_RequiredLevel,"reqlvl"),new Ge(locale.F_ItemClass,"class",{4:"Armor",3:"Gem",2:"Weapon"})];
Ve[locale.F_Stats]=[new Z(locale.CS_Stats[1][0],"str",X),new Z(locale.CS_Stats[1][1],"agi",X),new Z(locale.CS_Stats[1][2],"sta",X),new Z(locale.CS_Stats[1][3],"int",X),new Z(locale.CS_Stats[1][4],"spi",X)];Ve[locale.F_Ratings]=[new Z(locale.ItemStatNames[31],"hit",X),new Z(locale.ItemStatNames[32],"crit",X),new Z(locale.ItemStatNames[35],"res",X),new Z(locale.ItemStatNames[36],"haste",X),new Z(locale.ItemStatNames[49],"mast",X)];
Ve[locale.F_Defense]=[new Z(locale.ItemStatNames[13],"dod",X),new Z(locale.ItemStatNames[14],"par",X),new Z(locale.ItemStatNames[15],"blo",X)];Ve[locale.F_Melee]=[new Z(locale.ItemStatNames[38],"ap",X),new Ee(locale.F_DPS,"dps"),new Ee(locale.F_Speed,"delay")];Ve[locale.F_Spell]=[new Z(locale.ItemStatNames[45],"sp",X)];Ve[locale.F_Requirements]=[new Ge(locale.F_UsableBy,"usablebyclass",Qe),new Z(locale.F_CanBeUsedWithLevel,"canbeusedwithlvl",X),new Ge(locale.F_RequiresReputation,"reqrepu",Re)];
Ve[locale.F_Miscellaneous]=[new Ge(locale.F_SocketableGem,"issocketablegem",Re),new Z(locale.F_GemReqItemLevel,"gemreqitemlvl",X)];var We="level";na.prototype=new Le(j,j,j,"");na.prototype.mb=0;na.prototype.X=0;na.prototype.ec=0;
function me(a,b,c,d){a.mb=b;a.X=c;a.ec=d;var b=Me(Ve),c=["name","level","reqlvl","quality"],d=k,f=j,g=k,h=k,m=j;switch(a.X){case 4:a.ec&2048?f=Xe(a,[11]):(d=i,f=Xe(a,[0,1,2,3,4]));break;case 3:a.A.S("subclass",k);a.ec&64?(a.A.S("subclass",i),f=Xe(a,[6])):a.ec&1024?(a.A.S("subclass",i),f=Xe(a,[10])):f=Xe(a,[0,1,2,3,4,5,7,8]);break;case 2:0==a.ec?d=i:f=Xe(a,j)}if(0!=(a.mb&6463488)||2==a.X)g=h=i;if(d||0!=a.mb){var m=[],r=-1,v=0,s;if(4==a.X)if(0==a.ec)r&=Te[0]|Te[1]|Te[2]|Te[3]|Te[4];else{for(s=0;5>s;s++)a.ec&
1<<s&&(v|=Te[s]);r&=v}else 2==a.X&&0==a.ec&&(r&=6463488);a.mb=a.mb?a.mb&r:r;for(s=1;28>=s;s++)0!=(a.mb&1<<s)&&(m[s]=14==s?locale.F_ShieldHand:locale.a_slot[s]);m=new Ie(locale.F_InventorySlot,"slot",m)}g?(c.push("dps"),a.A.S("delay",k)):a.A.S("dps",i);h?(c.push("delay"),a.A.S("delay",k)):a.A.S("delay",i);d||m?(c.push("slot"),b.slot=m,a.A.S("slot",k)):a.A.S("slot",i);f?(c.push("subclass"),b.subclass=f):a.A.S("subclass",i);a.A.set(b,c)}
function Xe(a,b){var c={},d;if(b)for(d=0;d<b.length;d++)c[b[d]]=ub[a.X][1][b[d]];else for(d=0;32>d;d++)0!=(1<<d&a.ec)&&(c[d]=ub[a.X][1][d]);return new Ie(locale.F_ItemClass,"subclass",c)};function Ue(a){Oe.call(this,a);this.Rg=A(this.bc.content,"div",{"class":"il_prop"});this.Ek=A(this.Rg,"input",{type:"checkbox","class":"il_prop_check",checked:i});A(this.Rg,"span",{text:"Use custom filters for all slots","class":"il_prop_note"})}Ue.prototype=new Oe(j);n=Ue.prototype;n.aj="";n.Ud=k;n.Ek=j;n.Rg=j;n.setProperty=function(a,b){"showDpsAndDelay"==a?this.Ud=b:"setStaticLink"==a?this.aj=b:e(Error("Unknown property "+a+" with value "+b+"!"))};
n.Lg=function(a){var b=a.aa;"name"==b?this.Qc(a,0):"level"==b?this.Qc(a,1):"reqlvl"==b?this.Qc(a,2):"dps"==b?this.Qc(a,3):"delay"==b?this.Qc(a,4):"quality"==b?this.Ih(a,0):"slot"==b?this.Ih(a,1):"subclass"==b?this.Ih(a,2):e(Error("Unknown static filter "+a.aa+"!"))};
n.qg=function(a){var b,c,d,f,g=0,h;f=new W(a.length,5+(this.Ud?2:0));f.b.cellSpacing="0px";f.b.width="100%";f.b.className="li_content_t";f.rows[0].className="il_header";f.cols[0].width="24px";g++;f.cells[0][g++].appendChild(this.yc("Name","name"));this.Ud&&(f.cells[0][g++].appendChild(this.yc("DpS","dps")),f.cells[0][g++].appendChild(this.yc("Spd","delay")));f.cells[0][g++].appendChild(this.yc("iLvl",We));f.cells[0][g++].appendChild(this.yc("Slot","slot"));f.cells[0][g++].appendChild(this.yc("Type",
"itemclass"));for(b=0;b<g;b++)f.cells[0][b].className="il_header_cell";for(b=1;b<a.length;b++){g=0;c=new qa(a[b][0]);E.set(c);f.rows[b].className="il_row"+b%2;d=document.createElement("a");d.className="il_link item_quality_"+c.da;d.innerHTML=c.name;h="il_cell "+(0==b%2?"il_cell_bg0":"il_cell_bg1");I(d,"mouseover",this.c.fire,this.c,["show_tooltip",{entity:c}]);I(d,"mouseout",this.c.fire,this.c,["hide_tooltip",{}]);I(d,"mousemove",this.c.fire,this.c,["move_tooltip",{}]);I(d,"click",this.c.fire,this.c,
["click",{entity:c}]);if(this.aj){var m=d,r=this.aj,v=c.id,s=c.name,s=s.replace(/\'|\,|\?|!/g,"").replace(/(?:\s|\\|\:|\/|\&|-|<|>|\.)+/g,"-");m.href=K(r,v+"-"+s)}f.cells[b][g].className=h;f.cells[b][g++].innerHTML="<div style='background-image:url(/images/icons/small/"+c.q+".png)' class='il_icon' ></div>";f.cells[b][g].className=h;f.cells[b][g].appendChild(d);0!=(c.ve&8)&&(d=document.createElement("sup"),d.className="il_heroic",d.innerHTML="H",f.cells[b][g].appendChild(d));g++;this.Ud&&(f.cells[b][g].className=
h+" li_"+(c.we&512?"un":"")+"imp_col",f.cells[b][g++].innerHTML=c.ub?xb(c):"",f.cells[b][g].className=h+" li_"+(c.we&512?"un":"")+"imp_col",f.cells[b][g++].innerHTML=c.ub?yb(c):"");f.cells[b][g].className=h+" li_imp_col";f.cells[b][g++].innerHTML=c.e;f.cells[b][g].className=h+(this.Ud?" li_unimp_col":" li_imp_col");f.cells[b][g++].innerHTML=c.wa?locale.a_slot[c.wa]:"";f.cells[b][g].className=h+(this.Ud?" li_unimp_col":" li_imp_col");f.cells[b][g++].innerHTML=c.fc[0]}this.ih(f.b)};function le(){Le.call(this,new Ye(Ne(Ze)),Me(Ze),["name"],$e)}var Ze={};Ze[locale.F_General]=[new Z(locale.F_Name,"name",Ae),new Z(locale.F_Description,"description",Ae)];var af={},bf,cf;for(cf=0;cf<ub.length;cf++)for(bf=0;bf<ub[cf][1].length;bf++)af[cf+"."+bf]=ub[cf][1][bf];var df={},ef;for(ef=1;28>=ef;ef++)df[ef]=14==ef?locale.F_ShieldHand:locale.a_slot[ef];
Ze[locale.F_Enchant]=[,new Ge(locale.F_IsEnchant,"isenchant",Re),new Z(locale.F_EnchantItemLevel,"enchantitemlevel",X),new Z(locale.F_EnchantCharacterLevel,"enchantchrlevel",X),new Ge(locale.F_ItemSubClass,"itemclasssubclasscombined",af),new Ie(locale.F_InventorySlot,"slot",df)];var $e="id";le.prototype=new Le(j,j,j,"");function Ye(a){Oe.call(this,a)}Ye.prototype=new Oe(j);
Ye.prototype.qg=function(a){var b=0,c,d,f=new W(a.length,3);f.b.cellSpacing="0px";f.b.width="100%";f.b.className="li_content_t";f.rows[0].className="il_header";f.cols[0].width="24px";b++;f.cells[0][b++].appendChild(this.yc("Name","name"));f.cells[0][b++].appendChild(this.yc("Req. Level","enchantchrlevel"));for(c=0;c<b;c++)f.cells[0][c].className="il_header_cell";for(c=1;c<a.length;c++){var b=0,g=new R(a[c]);F.set(g);f.rows[c].className="il_row"+c%2;d="il_cell "+(0==c%2?"il_cell_bg0":"il_cell_bg1");
var h=document.createElement("a");h.className="il_link";h.innerHTML=g.name;f.cells[c][b].className=d;f.cells[c][b++].innerHTML="<div style='background-image:url(/images/icons/small/"+g.q+".png)' class='il_icon' ></div>";f.cells[c][b].className=d;f.cells[c][b++].appendChild(h);for(var m="None",r=0;r<g.C.length;r++)if(g.C[r]&&53==g.C[r].Je&&g.C[r].nd!=j){m=g.C[r].nd.Ab;break}f.cells[c][b].className=d;f.cells[c][b++].innerHTML=m;I(h,"mouseover",this.c.fire,this.c,["show_tooltip",{entity:g}]);I(h,"mouseout",
this.c.fire,this.c,["hide_tooltip",{}]);I(h,"mousemove",this.c.fire,this.c,["move_tooltip",{}]);I(h,"click",this.c.fire,this.c,["click",{entity:g}])}this.ih(f.b)};Ye.prototype.Lg=function(a){"name"==a.aa?this.Qc(a,0):e(Error("Unknown static filter "+a.aa+"!"))};function se(){var a=new ff(Ne(gf));Le.call(this,a,Me(gf),["ismine"],hf);this.c.g("delete",["profile_id","desc"]);this.t.c.ca("delete",this.c)}var gf={};gf.none=[new Ge(locale.F_MyProfiles,"ismine",Re),new Ge(locale.F_ShowDeleted,"showdeleted",Re),new Z(locale.F_CharacterLevel,"lvl",X)];var hf="id";se.prototype=new Le(j,j,j,"");function ff(a){Oe.call(this,a);this.c.g("delete",["profile_id","desc"])}ff.prototype=new Oe(j);ff.prototype.Lg=function(a){"ismine"==a.aa&&this.Qc(a,0)};
ff.prototype.qg=function(a){var b,c,d,f=0,g;d=new W(1,4);d.b.cellSpacing="0px";d.b.width="100%";d.b.className="pl_content_t";d.rows[0].className="pl_header";d.cols[f].width="30px";f++;d.cols[f].width="28px";f++;d.cols[f].width="28px";f++;d.cols[f].width="874px";f++;for(b=0;b<f;b++)d.cells[0][b].className="pl_header_cell";for(b=1;b<a.length;b++){f=0;g="pl_cell "+(0==b%2?"pl_cell_bg0":"pl_cell_bg1");var h=d.Hh(),m=a[b][2]?a[b][2]:"Profile #"+a[b][0];d.cells[h][0].className=g+" pl_inline_header";c=A(d.cells[h][0],
"a",{href:ja()+a[b][8],"class":"pl_link",text:m});a[b][3]&&(c.onmouseout=function(){o.hide()},c.onmousemove=function(){o.move()},I(c,"mouseover",o.show,o,["<div class='pl_desc_tt'>"+a[b][3]+"</div>"]));d.cells[h][0].appendChild(c);A(d.cells[h][0],"span",{"class":"pl_ih_info",text:"&nbsp;Created: "+a[b][7]+"&nbsp;"});h=d.Rc();d.cells[h][f].className=g+" pl_level_p";d.cells[h][f++].innerHTML=a[b][6];d.cells[h][f].className=g;d.cells[h][f++].innerHTML="<div style='background-image:url(/images/site/race_class/small/chr_race_"+
a[b][4]+".png)' class='pl_icon' ></div>";d.cells[h][f].className=g;d.cells[h][f++].innerHTML="<div style='background-image:url(/images/site/race_class/small/"+a[b][5]+".png)' class='pl_icon' ></div>";d.cells[h][f].className=g;g_settings.userId==a[b][1]&&(c=A(d.cells[h][f],"a",{"class":"close pl_delete_link",href:"javascript:;"}),I(c,"click",function(a,b){this.c.fire("delete",{profile_id:a,desc:b})},this,[a[b][0],m]))}this.ih(d.b)};function ed(){this.b=document.createElement("div");this.b.className="ts_c";this.c=new D;this.c.g("select_talent_tree",["tree"]);this.c.g("reset_talent_tree",["tree"]);this.c.g("reset_talents",[]);this.c.g("show_tooltip",["tree","row","col","node"]);this.c.g("add_talent_point",["tree","row","col"]);this.c.g("remove_talent_point",["tree","row","col"])}
ed.prototype={c:j,nb:j,mc:0,Ub:0,ac:0,ho:0,id:0,Ob:0,ib:0,Ac:0,Hf:[],Yb:[],sa:[],G:-1,xd:[],Ua:[],l:[],yl:i,b:j,Ki:j,Yg:j,ae:[],pi:[],w:function(a){this.c.w(a)},Xe:function(a){U(this.b);if(a==j)A(this.b,"div",{"class":"ts_error",text:"You have to select a Class before you can learn Talents!"});else{this.nb=a;var b,c,d,f,g,h,m;this.Ob=a.Ob;this.ib=a.ib;this.Ac=a.Ac;this.Hf=[];this.Yb=[];this.sa=[0,0,0];this.G=a.Lb?0:-1;this.mc=a.mc;this.Ub=a.Ub;this.ac=a.ac;this.id=a.id;this.ae=[];this.xd=[];this.Ua=
[];this.l=[];this.na=[];this.ie=[];this.sh=[];this.e=85;this.Mc=[];this.zd=[];this.Pe=document.createElement("div");this.selectNodes=[];this.yd=[];this.pe=[];this.Ti=[];this.yb=[];this.pi=[];this.Pm=a.Lb?["fe","te","cu"]:"wa,pa,hu,ro,pr,dk,sh,ma,wl,,dr".split(",");this.Rd=this.Hb=j;this.Wc="";for(b=0;b<a.mc;b++){d=new W(a.Ub,a.ac);d.b.cellSpacing=0;d.b.cellPadding=0;d.b.className="talent_tree_table";this.Yb[b]=a.$[b].name;this.l[b]=Array(a.Ub);this.Ua[b]=Array(a.Ub);for(c=0;c<a.Ub;c++)this.l[b][c]=
Array(a.ac),this.Ua[b][c]=Array(a.ac);this.xd[b]=d;for(c=0;c<a.Ub;c++)for(d=0;d<a.ac;d++)h=a.$[b].l[c][d],h!=j&&(this.l[b][c][d]=h,h=new jf(h),h.b.className="talent_border",I(h.Ia,"click",this.Nn,this,[b,c,d]),I(h.Ia,"contextmenu",this.Rn,this,[b,c,d]),I(h.Ia,"mouseover",this.Pn,this,[b,c,d]),I(h.Ia,"mouseout",this.On,this,[b,c,d]),x(this.xd[b].cells[c][d],h.b),this.Ua[b][c][d]=h)}h=new W(1,3);b=new W(1,1);b.b.className="ts_tab";h.b.className="group talent_table";(new W(1,3)).b.className="align_center";
this.dh=document.createElement("a");this.dh.className="remove talent_reset_link";this.dh.href="javascript:";I(this.dh,"click",this.Sn,this,[]);this.Ki=document.createElement("div");this.Yg=document.createElement("div");this.Zi=document.createElement("span");this.Yg.className="ts_header_info talent_remaining_points";this.Ki.className="ts_header_info talent_required_level";this.Zi.className="ts_header_info ts_total";f=document.createElement("div");f.className="";f.appendChild(this.Yg);f.appendChild(this.Ki);
f.appendChild(this.dh);f.appendChild(this.Zi);Lb(f);this.wd=new Xd(2);this.wd.j[0].appendChild(document.createTextNode(K(locale.ChooseYourSpericalization,locale.a_class[this.id-1])));this.wd.j[0].className="ts_header_notice";this.wd.j[1].appendChild(f);this.wd.b.className="ts_header_c";b.cells[0][0].appendChild(this.wd.b);for(c=0;c<a.mc;c++){this.selectNodes[c]=document.createElement("div");this.yd[c]=document.createElement("div");d=0==c?"#D0A000":1==c?"#A00000":"#2E4D99";this.Hf[c]=document.createElement("img");
this.Hf[c].className="ts_tree_icon";a.Lb||(this.Hf[c].src="/images/icons/small/"+a.$[c].ii+".png");this.zd[c]=document.createElement("span");this.zd[c].className="ts_tree_spent";this.pe[c]=document.createElement("a");this.pe[c].href="javascript:";this.pe[c].className="remove ts_tree_reset";I(this.pe[c],"click",this.Tn,this,[c]);this.Mc[c]=document.createElement("a");this.Mc[c].className="ts_tree_name";this.Mc[c].href="javascript:";this.Mc[c].innerHTML=this.Yb[c];I(this.Mc[c],"click",this.Ck,this,
[c]);f=document.createElement("div");f.className="ts_tree_title";g=document.createElement("div");g.className="ts_tree_name";g.appendChild(this.Mc[c]);f.appendChild(this.Hf[c]);f.appendChild(g);f.appendChild(this.zd[c]);f.appendChild(this.pe[c]);h.cells[0][c].appendChild(f);this.ae[c]=document.createElement("div");this.ae[c].className="ts_glow_bg";this.ae[c].appendChild(this.xd[c].b);this.yd[c].appendChild(this.ae[c]);this.yd[c].className="talent_tree_node";if(!a.Lb){g=document.createElement("div");
g.className="talent_select_title";f=document.createElement("a");f.appendChild(document.createTextNode(this.Yb[c]));I(f,"click",this.Ck,this,[c]);this.Ti[c]=f;g.appendChild(f);this.selectNodes[c].appendChild(g);this.selectNodes[c].style.borderColor=d;f=document.createElement("div");f.className="talent_select_icon_div";f.style.backgroundImage="url(/images/icons/large/"+a.$[c].ii+".png)";d=document.createElement("div");d.className="talent_select_circle_div";d.style.backgroundImage="url(/images/talents/talent_select_circle_grey.png)";
f.appendChild(d);this.selectNodes[c].appendChild(f);f=document.createElement("div");f.className="talent_spells_parent";this.sh[c]=[];this.yb[c]=[];this.na[c]=[];for(d=0;d<a.$[c].na.length;d++)g=new Pd(3),m=a.$[c].na[d],this.na[c][d]=m,this.yb[c][d]=document.createElement("a"),this.yb[c][d].innerHTML+=m.name,this.yb[c][d].href="javascript:",this.yb[c][d].className="ts_ps_name_p"+(0==d?"_big":""),this.yb[c][d].onmouseout=function(){o.hide()},this.yb[c][d].onmousemove=function(){o.move()},I(this.yb[c][d],
"mouseover",o.show,o,[a.$[c].na[d].ga()]),g.i[0].className="ts_primary_icon"+(0!=d?"_s":""),g.i[0].style.backgroundImage="url(/images/icons/"+(0==d?"half":"small")+"/"+a.$[c].na[d].q+".png)",g.i[1].className="ts_primary_border"+(0!=d?"_s":""),g.i[2].className="ts_primary_event"+(0!=d?"_s":""),g.i[2].onmouseout=function(){o.hide()},g.i[2].onmousemove=function(){o.move()},I(g.i[2],"mouseover",o.show,o,[a.$[c].na[d].ga()]),this.sh[c][d]=g,m=document.createElement("div"),m.appendChild(g.i[0]),m.className=
"ts_ps_icon_p"+(0==d?"_big":""),g=document.createElement("div"),g.className="ts_ps_c"+(0==d?"_big":""),g.appendChild(m),g.appendChild(this.yb[c][d]),f.appendChild(g);this.selectNodes[c].appendChild(f);f=document.createElement("div");f.className="talent_select_description";f.appendChild(document.createTextNode(Bb(a.$[c].description,j).join(" ")));this.selectNodes[c].appendChild(f);this.selectNodes[c].className="talent_select_div";this.yd[c].appendChild(this.selectNodes[c])}h.cells[0][c].appendChild(this.yd[c])}this.Pe.className=
"talent_link_div";b.cells[0][0].appendChild(h.b);this.Gf=document.createElement("a");this.Gf.innerHTML=locale.ViewTalentTrees;this.Gf.className="talent_switch_link";I(this.Gf,"click",this.Xn,this,[c]);a=document.createElement("div");a.className="ts_switch";a.appendChild(this.Gf);b.cells[0][0].appendChild(a);b.cells[0][0].appendChild(this.Pe);this.b.appendChild(b.b);this.lc(-1);this.update()}},lc:function(a){for(var b=0;b<this.mc;b++){this.yd[b].style.borderColor=b==a?"#FFCC00":"";this.ae[b].style.backgroundImage=
b==a?"url(/images/talents/talent_tree_glow.png)":"";this.pe[b].style.visibility=-1==a?"hidden":"visible";this.zd[b].style.visibility=-1==a?"hidden":"visible";for(var c=0;c<this.na[b].length;c++)this.sh[b][c].i[0].style.backgroundImage="url(/images/icons/"+(-1==a||b==a?"":"g/")+(0==c?"half":"small")+"/"+this.na[b][c].q+".png)",this.sh[b][c].i[1].style.backgroundImage="url(/images/icon_border"+(0==c?"_smaller":"_smallest")+(-1==a||b==a?"":"_g")+".png)",this.yb[b][c].className="ts_ps_name_p"+(0==c?"_big":
"")+" ts_primary_name"+(a==b||-1==a?"":"_g")}this.G=a;-1==a?(this.ph(i),this.wd.show(0)):(this.ph(k),this.wd.show(1));this.ym(-1==a);this.update()},ph:function(a){for(var b=0;b<this.selectNodes.length;b++)this.selectNodes[b].style.display=a?"block":"none";this.yl=a;this.Gf.innerHTML=a?locale.ViewTalentTrees:locale.ViewSummaries},ym:function(a){for(var b=0;b<this.mc;b++)a?(this.Mc[b].className="ts_tree_link",this.Ti[b].className="talent_select_link"):(this.Mc[b].className="ts_tree_link_inactive",this.Ti[b].className=
"talent_select_link_inactive")},update:function(){var a,b,c,d,f=0>=this.nb.xc(),g,h;for(a=0;a<this.mc;a++){h=0;g=-1==this.G||a!=this.G&&31>this.nb.wg(this.G);b="url(/images/talents/bg/"+(g?"g/":"bg_")+(1<<this.id-1)+"_"+a+".jpg)";b!=this.pi[a]&&(this.pi[a]=b,this.yd[a].style.backgroundImage=b);for(b=0;b<this.Ub;b++)for(c=0;c<this.ac;c++)if(d=this.l[a][b][c],d!=j&&(d=this.l[a][b][c],d!=j)){this.Ua[a][b][c].update(f||g,d.Ie()&&h>=b*this.ib&&!f&&!g);for(var m=0;3>m;m++)d.Bb[m]&&this.Kl(a,b,c,d.Bb[m]);
h+=d.$b.R}}},Kl:function(a,b,c,d){var f="",g=d.vf,h=d.Th;if(this.l[a][g][h].ge()&&(this.l[a][b][c].ge()||!this.l[a][b][c].ge()&&0!=this.ho&&this.sa[a]>=this.ib*b))f="_active";if(c!=h){c<h?this.Ua[a][g][h].rb[0].className="talent_arrow_left_start"+f:this.Ua[a][g][h].rb[2].className="talent_arrow_right_start"+f;for(d=Math.min(c,h)+1;d<Math.max(c,h);d++)this.xd[a].cells[h][d].className="talent_arrow_horizontal"+f;b!=g?this.xd[a].cells[g][c].className=c<h?"talent_arrow_left_corner"+f:"talent_arrow_right_corner"+
f:c<h?this.Ua[a][b][c].rb[2].className="talent_arrow_left_end"+f:this.Ua[a][b][c].rb[0].className="talent_arrow_right_end"+f}if(b!=g){c==h&&(this.Ua[a][g][h].rb[3].className="talent_arrow_vertical_start"+f);for(d=Math.min(b,g)+1;d<Math.max(b,g);d++)this.xd[a].cells[d][c].className="talent_arrow_vertical"+f;this.Ua[a][b][c].rb[1].className="talent_arrow_vertical_end"+f}this.sm()},sm:function(){var a="";this.Zi.innerHTML=this.nb.kn()+"/"+this.nb.vg();this.zd[0].innerHTML=this.nb.wg(0);this.zd[1].innerHTML=
this.nb.wg(1);this.zd[2].innerHTML=this.nb.wg(2);a="?t="+this.Pm[this.nb.Gb-1]+this.nb.oc.Wc;this.Pe.innerHTML="<a class='talent_link' target='_blank' href='"+a+"'>http://chardev.org/"+a+"</a><br/>";a="http://www.wowarmory.com/talent-calc.xml?cid="+(Math.log(this.id)/Math.LN2+1)+"&tal="+this.nb.oc.Rd.join("");this.Pe.innerHTML+="<a class='talent_link' target='_blank' href='"+a+"'>http://www.wowarmory.com/</a>";this.Yg.innerHTML=K(locale.Remaining_Points,"<span class='ts_remaining'>"+this.nb.xc()+
"</span>")},Sn:function(){this.c.fire("reset_talents",{})},Tn:function(a){this.c.fire("reset_talent_tree",{tree:a})},Xn:function(){this.yl?this.ph(k):this.ph(i)},Ck:function(a){this.c.fire("select_talent_tree",{tree:a})},Nn:function(a,b,c){this.c.fire("add_talent_point",{tree:a,row:b,col:c});this.c.fire("show_tooltip",{tree:a,row:b,col:c,node:this.Ua[a][b][c].Ia})},Rn:function(a,b,c){this.c.fire("remove_talent_point",{tree:a,row:b,col:c});this.c.fire("show_tooltip",{tree:a,row:b,col:c,node:this.Ua[a][b][c].Ia})},
Pn:function(a,b,c){this.c.fire("show_tooltip",{tree:a,row:b,col:c,node:this.Ua[a][b][c].Ia})},On:function(){o.hide()}};function jf(a){var b=new Pd(6);this.Ta=a;this.b=b.i[0];this.rb=[document.createElement("div"),document.createElement("div"),document.createElement("div"),document.createElement("div")];b.i[0].appendChild(this.rb[0]);b.i[0].appendChild(this.rb[1]);b.i[0].appendChild(this.rb[2]);b.i[0].appendChild(this.rb[3]);this.q=document.createElement("img");this.q.className="talent_icon";this.q.src="/images/transparent.gif";b.i[1].className="talent_image_div";b.i[1].appendChild(this.q);this.ok=b.i[2];this.ok.className=
"talent_highlight_div";this.border=b.i[3];this.border.className="talent_border_div";this.text=b.i[4];this.text.className="talent_text_div";this.Ia=b.i[5];this.Ia.style.zIndex=6;this.Ia.className="talent_event_parent";this.Ia.ondblclick=l(k);this.Ia.onmousedown=l(k);this.Ia.onmouseup=l(k);this.Ia.oncontextmenu=l(k)}n=jf.prototype;n.Ta=j;n.q=j;n.Ia=j;n.text=j;n.border=j;n.rb=j;n.b=j;n.ok=j;
n.update=function(a,b){this.Ta.ge()||0<this.Ta.$b.R&&a?(this.q.src="/images/icons/medium/"+this.Ta.q+".png",this.text.innerHTML="<span>"+this.Ta.$b.R+"</span>/"+this.Ta.max,this.text.style.backgroundImage="url(/images/talents/pointsbg.png)",this.border.style.backgroundImage="url(/images/talents/gold.gif)",this.text.style.color="#FFCC00"):this.Ta.Ie()&&b||0<this.Ta.$b.R?(this.q.src="/images/icons/medium/"+this.Ta.q+".png",this.text.innerHTML="<span>"+this.Ta.$b.R+"</span>/"+this.Ta.max,this.text.style.backgroundImage=
"url(/images/talents/pointsbg.png)",this.border.style.backgroundImage="url(/images/talents/green.gif)",this.text.style.color="#00DD00"):(this.q.src="/images/icons/g/medium/"+this.Ta.q+".png",this.text.innerHTML="<span>"+this.Ta.$b.R+"</span>/"+this.Ta.max,this.text.style.backgroundImage="url(/images/talents/pointsbg_g.png)",this.border.style.backgroundImage="url(/images/talents/grey.gif)",this.text.style.color="#999999")};window.CHARDEV_CORE_BUILD=16;
