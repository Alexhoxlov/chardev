function e(a){throw a;}var i=!0,j=null,k=!1;function ba(a){return function(b){this[a]=b}}function l(a){return function(){return a}}
var m,o={ld:function(){window.g_validateLogin=o.Ll;window.g_login=o.ko;window.g_logout=o.lo;window.g_checkTopic=o.cn;window.g_checkEdit=o.an;window.g_checkReply=o.bn;window.g_register=o.No;window.g_requestPasswordChange=o.$o;window.g_requestPasswordRecovery=o.ap;window.g_deleteThread=o.kn;window.g_lockThread=o.ho;window.g_unlockThread=o.Wp;window.g_makePostEditable=o.mo;window.g_showUserInformation=o.Mp;window.g_createAvatarPicker=o.jn;window.g_staticItemList=o.Rp;window.g_addItemTooltipTo=o.Sm},
mo:function(a){var b=new ea;new fa(a.PostID,a.Data,b);p("p"+a.PostID+"_content",b.b);b.ei(i)},$o:function(a,b){try{var c=document.getElementById("password").value;c!=document.getElementById("password_repeat").value?t.A(locale.Password_and_repeat_differ):5>c.length?t.A(locale.Password_to_short):(u("php/interface/user/change_password.php"+w({userId:a,password:MD5(c),guid:b}),new x(o.Vj,o),j),t.ua())}catch(d){t.A(d.toString())}},ap:function(){try{u("php/interface/user/recover_password.php"+w({user_name:encodeURIComponent(document.getElementById("user_name").value),
email:encodeURIComponent(document.getElementById("email").value)}),new x(o.Vj,o),j),t.ua()}catch(a){t.A(a.toString())}},Vj:function(a){if(200==a.status&&(a=eval("("+a.responseText+")"),"object"===typeof a)){if(1==a[0]){t.A(a[1]);return}t.vh(a[1]);return}t.enable()},No:function(){var a=document.getElementById("user_name").value,b=MD5(document.getElementById("password").value),c=document.getElementById("email").value;if(document.getElementById("password").value!=document.getElementById("password_repeat").value)return t.A(locale.Password_and_repeat_differ),
k;if(4>a.length)return t.A(locale.Username_to_short),k;if(5>document.getElementById("password").value.length)return t.A(locale.Password_to_short),k;if(-1==document.getElementById("email").value.search("@"))return t.A(locale.Invalid_email),k;t.ua();u("php/interface/user/request_registration.php?u="+a+"&pw="+b+"&e="+c,new x(o.ym,o),j);document.getElementById("login").disabled=i;return k},ym:function(a){document.getElementById("login").disabled=k;200==a.status&&(-1!=a.responseText.search("error_username")?
t.A(locale.Username_invalid_characters):-1!=a.responseText.search("register_success")?t.vh("An E-Mail has been sent. Before you can use your account you have to confirm your registration by following the link given in the mail."):t.A(a.responseText))},Ll:function(){try{var a=document.getElementById("login_password").value;if(4>document.getElementById("login_user_name").value.length)return t.A("User name is too short"),k;if(4>a.length)return t.A("Password is too short"),k;document.getElementById("login_password_md5").value=
MD5(a);return i}catch(b){return ga(b),k}},ko:function(){try{o.Ll()&&(t.ua(),u("php/interface/user/authenticate.php"+w({user_name:document.getElementById("login_user_name").value,password:document.getElementById("login_password_md5").value,cookie:document.getElementById("login_cookie").checked}),new x(o.cm,o),j))}catch(a){t.A(a)}},cm:function(a){try{var b=y(a);g_settings.sessionId=b.session_id;g_settings.userId=b.user_id;g_settings.userData=b.user_data;document.getElementById("ix_login_form").style.display=
"none";document.getElementById("ix_logout_form").style.display="block";document.getElementById("ix_self_link").innerHTML=b.user_name;document.getElementById("ix_self_link").href="?user="+b.user_id;g_settings.isPlanner&&ja.io();t.enable()}catch(c){t.A(c)}},lo:function(){try{t.ua(),u("php/interface/user/logout.php",new x(o.dm,o),j)}catch(a){t.A(a)}},dm:function(){g_settings.sessionId="";g_settings.userId=0;g_settings.userName="";g_settings.userData=j;document.getElementById("ix_login_form").style.display=
"block";document.getElementById("ix_logout_form").style.display="none";g_settings.isPlanner&&ja.jo();t.enable()},cn:function(a){var b=ka("topic_title"),c=ka("topic_content"),d=ka("thread_type");2>b.length?t.A("The title of your post is too short!"):2>c.length?t.A("The content of your topic is too short!"):(document.getElementById("topic_submit").disabled=i,t.ua(),la("php/interface/forum/forum.php",{action:"new_thread",hook:a,title:b,type:d?d:"thread",content:c},new x(o.Vl,o),j))},Vl:function(a){try{var b=
y(a);window.location.search="?thread="+b}catch(c){t.A(c),document.getElementById("topic_submit").disabled=k}},kn:function(a){confirm("Are you sure you want to delete this thread?")&&(t.ua(),la("php/interface/forum/forum.php",{action:"delete_thread",thread:a},new x(o.$l,o),j))},$l:function(a){try{var b=y(a);window.location.search="?forum="+b}catch(c){t.A(c)}},ho:function(a){t.ua();la("php/interface/forum/forum.php",{action:"lock_thread",thread:a},new x(o.Cj,o),j)},Wp:function(a){t.ua();la("php/interface/forum/forum.php",
{action:"unlock_thread",thread:a},new x(o.Cj,o),j)},Cj:function(a){try{var b=y(a);window.location.search="?thread="+b}catch(c){t.A(c)}},iq:function(a){u("php/interface/forum/lockTopic.php?topic="+a+"&session_id="+g_settings.sessionId,j,j)},bn:function(a){var b=document.getElementById("reply_content").value;2>b.length?t.A("The content of your post is too short!"):(document.getElementById("reply_submit").disabled=i,t.ua(),la("php/interface/forum/forum.php",{action:"reply",thread:a,content:b},new x(o.Ul,
o),j))},Ul:function(a){try{y(a)}catch(b){t.A(b),document.getElementById("reply_submit").disabled=k}},an:function(a){var b=document.getElementById("edit_content").value;2>b.length?t.A("The content of your post is too short!"):(document.getElementById("edit_submit").disabled=i,t.ua(),la("php/interface/forum/forum.php",{action:"edit",post:a,content:b},new x(o.tj,o),j))},tj:function(a){try{y(a)}catch(b){t.A(b),document.getElementById("edit_submit").disabled=k}},Mp:function(a,b,c){b?new ma(a,b,"user_information_parent"):
c&&(a=new oa,a.Ma.w.Yi(k),a.Ma.D.U("ismine",i),a.Ma.set("ismine.eq.1;",j,j,1),a.Ma.update(),p("ui_profiles_parent",a.Ma.w.b))},jn:function(a,b){new pa(a,b)},Rp:function(a,b,c,d){if(a){var f=new qa;f.w.setProperty("showStaticLinks",i);f.setData(a);c&&(f.set(c,"","",b),f.w.Yi(i));document.getElementById(d).appendChild(f.w.b);a=new z(["show_tooltip","move_tooltip","hide_tooltip","update"],new x(function(a){if(a.j("show_tooltip"))ja.ml.call(ja,a.get("entity").id);else if(a.j("move_tooltip"))t.move();
else if(a.j("hide_tooltip"))t.Z();else if(a.j("update"))window.location.search=w({items:f.Pa().replace(/\;/g,"_"),p:f.page,o:f.rd+"."+(f.qe==ra?"asc":"desc")+"_"})},this));f.B(a)}},Sm:function(a,b,c){if(a){var d=new sa,c=document.getElementById(c),a=new ta(a);d.show(ua(a));document.getElementById(b).appendChild(d.v);d.v.style.position="relative";b=document.createElement("img");b.className="dbi_icon";b.src="images/icons/large/"+a.t+".png";c.appendChild(b)}}};window.__chardev_init=o.ld;function va(){}
va.prototype={ng:j,c:j,Je:j,tc:j,Bf:j,B:function(a){this.c.B(a)},ld:function(a){this.c=new A;this.c.i("character_change",["character"]);this.c.i("logged_in",[]);this.c.i("logged_out",[]);this.Bf=a;if(a.isPlanner){var b=new wa;this.Je=new xa(this,b);this.ng=new ya;this.ng.c.fa("character_change",this.c);var c=new za;this.ng.Om(c);a.character&&(c.load(a.character),b.fe.show(Aa));a.profileLoadError&&t.A(a.profileLoadError);document.getElementById("mtf_p").className="ix_center cp_mm_p";document.getElementById("mtf_p").appendChild(b.fe.Qg);
document.getElementById("planner_parent").appendChild(b.b)}},H:function(){return this.ng.H()},io:function(){this.c.g("logged_in",{})},jo:function(){this.c.g("logged_out",{})},ml:function(a){t.show("Loading Tooltip...");this.tc={item:a};B.Ne(a,new x(function(a){var c=B.get(a);if(c!=j&&this.tc!=j&&this.tc.item==a)t.Kb(ua(c,j)),this.tc=j},this),[a])},Kp:function(a){t.show("Loading Tooltip...");this.tc={spell:a};C.Ne(a,new x(function(a){var c=C.get(a);if(c!=j&&this.tc!=j&&this.tc.spell==a)t.Kb(Ba(c,j,
0,j)),this.tc=j},this),[a])}};var ja=new va;window.__engine_init=function(a){ja.ld.call(ja,a)};window.g_showItemTooltip=function(a){ja.ml.call(ja,a)};window.g_hideItemTooltip=function(){ja.tc=j;t.Z()};window.g_showSpellTooltip=function(a){ja.Kp.call(ja,a)};function la(a,b,c,d){var f=Ca();a||e(new Da(a));d||(d=[]);a=-1==a.search(/\?/)?a+("?_="+(new Date).getTime()):a+("&_="+(new Date).getTime());f.open("POST",a,i);f.onreadystatechange=c?function(){Ea(this,c,d,i)}:function(){};f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; Charset=utf-8");f.send(Fa(b))}function Ca(){var a=j;window.XMLHttpRequest?a=new XMLHttpRequest:window.ActiveXObject?a=new ActiveXObject("MSXML2.XMLHTTP.3.0"):e(new Ga);return a}function u(a,b,c){Ha(a,b,c,i)}
function Ha(a,b,c,d){var f=Ca();a||e(new Da(a));c||(c=[]);a=-1==a.search(/\?/)?a+("?_="+(new Date).getTime()):a+("&_="+(new Date).getTime());f.open("GET",a,i);f.onreadystatechange=b?function(){Ea(this,b,c,d)}:function(){};f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; Charset=utf-8");f.send(j)}
function Ea(a,b,c,d){4==a.readyState&&(!d&&200==a.status?((d=a.getResponseHeader("error"))&&e(new Ia(d)),c.splice(0,0,eval("("+a.responseText+")")),b.ga(c)):d?(c.splice(0,0,a),b.ga(c)):e(new Ka(a)))}function y(a){if(200==a.status){a.getResponseHeader("error")&&e(new Ia(a.responseText));if(""==a.responseText)return j;var b=eval("("+a.responseText+")");if(a.getResponseHeader("auto_redirect"))window.location.href=b.toString();return b}e(new Ka(a))}function Da(a){this.url=a}Da.prototype={url:j};
function Ka(a){this.response=a}Ka.prototype={response:j};function Ga(){}function Ia(a){this.message=a}Ia.prototype={message:"",toString:function(){return this.message}};var La=[6,13,14,31,32,36,37,49],Ma={"-1":-1,6:0,13:1,14:2,31:3,32:4,36:5,37:6,49:7},Na={"0":32,1:13,2:37,3:36,4:31,5:49,6:14,7:6},Oa={"0":0,1:1,2:2,3:3,4:4,5:7,6:8,7:9,8:10,9:11,10:12,11:13,12:14,13:15,14:16,15:17,16:18},Pa={6:4,5:3,7:2,3:1,4:0},Qa=[0,4,10,9,8,6,15,11,3,5,0,7],Ra={1:0,2:1,3:2,16:3,5:4,4:5,20:4,19:6,9:7,10:8,6:9,7:10,8:11,21:16,14:17,28:18,24:19,15:18,22:17,23:17,25:18,26:18},Sa="head,neck,shoulder,back,chest,shirt,tabard,wrist,hands,waist,legs,feet,finger1,finger2,trinket1,trinket2,mainHand,offHand,ranged".split(","),
Ta={164:"Blacksmithing",165:"Leatherworking",171:"Alchemy",182:"Herbalism",186:"Mining",197:"Tailoring",202:"Engineering",333:"Enchanting",393:"Skinning",755:"Jewelcrafting",773:"Inscription"};function Ua(a,b,c,d,f){var b=100*(0<b?b-1:11)+(f-1),g=f=0;return 0!=c&&b<Va.length?(f=Va[b]*c*a,g=f*d,[f-g/2,g]):j}function Wa(a,b,c,d){return a!=b&&0<c&&0<b&&0<a?(a=Math.min(b,a+(b-a)/c*(d-1)),[a,a/b]):j}
var Xa=[164,165,171,182,186,197,202,333,393,755,773],Ya="#bbbbbb,#FFFFFF,#00DD00,#40A0FF,#DD80FF,#FF8000,#E5CC80,#E5CC80".split(","),Za={"0":[0,0,0,0,0],1:[20,20,20,20,20],2:[23,17,21,17,22],3:[25,16,21,19,19],4:[16,24,20,20,20],5:[19,18,20,18,25],6:[25,16,21,16,22],7:[15,22,20,23,20],8:[21,22,21,16,21],9:[17,22,20,23,18],10:[17,22,20,23,18],11:[21,17,20,20,22],22:[23,22,20,16,19]},$a=[0,0,0.00652,-0.01532,-0.00295,0.031765,0,0.02922,0.03454,0.02622,0,0.074755],ab=[0,0,0.033355,0,0,0.012375,0,0.02201,
0.009075,0.017,0,0.018515],bb=[0,3.75955,3.65168-3,-5.43889,-0.588581,3.18783,3.66584,1.67504,3.47569,2.04144,0,4.97143],cb=[0,1,0,2,1,0,0,0,0,0,0,0],db=[0,1,0,2,1,0,0,0,0,0,0,0],eb=[0,-10,0,-20,-10,0,0,0,0,0,0,0],fb=[[0,0,0,0,0],[2,0,0,0,0],[2,0,0,0,0],[1,1,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[2,0,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[2,0,0,0,0]],gb=[2,2,0,0,0],hb=[2,2,0,0,0],ib=[2,0,0,0,0],jb=[5,5.5,6,8],kb=[24,24.5,25,27],lb=[4,5,6,17],mb=[5,5.5,6,8],nb=[5,5.5,6,14],ob=[5,5.5,6,6.5],
pb=[0,3,3,2,2,0,3,2,0,0,0,3],qb=[0.956,0.956,0.988,0.988,0.953,0.956,0.988,0.953,0.953,0,0.972],rb=[65.63144,65.63144,145.560408,145.560408,0,65.63144,145.560408,0,0,0,0],tb=[65.63144,65.63144,145.560408,145.560408,150.37594,65.63144,145.560408,150.37594,150.37594,0,116.890707],F=[[0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.144231,0.192308,0.240385,0.288462,0.336538,0.384615,0.432692,0.480769,0.528846,0.576923,0.625,0.673077,0.721154,0.769231,0.817308,
0.865385,0.913462,0.961538,1.00961,1.05769,1.10577,1.15385,1.20192,1.25,1.29808,1.34615,1.39423,1.44231,1.49039,1.53846,1.58654,1.63461,1.68269,1.73077,1.77885,1.82692,1.875,1.92308,1.97115,2.01923,2.06731,2.11539,2.16346,2.21154,2.25961,2.30769,2.35577,2.40385,2.45192,2.5,2.59494,2.69737,2.80822,2.92857,3.0597,3.20313,3.36066,3.53448,3.72727,3.94231,4.24173,4.56391,4.91054,5.28351,5.68481,6.11658,6.58115,7.08101,7.61883,8.1975,10.764,14.1349,18.5689,24.3818,32.0143,12.7186,13.6846,14.724,15.8423,
17.0456,18.3402,19.7332,21.232,22.8446,24.5797,26.4466,28.4553,30.6166,32.942,35.444],[0.0576922,0.0576922,0.0576922,0.0576922,0.0576923,0.0576923,0.0576923,0.0576922,0.0576922,0.0576922,0.0865385,0.115385,0.144231,0.173077,0.201923,0.230769,0.259615,0.288462,0.317308,0.346154,0.375,0.403846,0.432692,0.461538,0.490385,0.519231,0.548077,0.576923,0.605769,0.634615,0.663462,0.692308,0.721154,0.75,0.778846,0.807692,0.836538,0.865385,0.894231,0.923077,0.951923,0.980769,1.00961,1.03846,1.06731,1.09615,
1.125,1.15385,1.18269,1.21154,1.24039,1.26923,1.29808,1.32692,1.35577,1.38461,1.41346,1.44231,1.47115,1.5,1.55696,1.61842,1.68493,1.75714,1.83582,1.92188,2.01639,2.12069,2.23636,2.36539,2.54504,2.73834,2.94633,3.17011,3.41089,3.66995,3.94869,4.2486,4.5713,4.9185,6.4584,8.48096,11.1413,14.6291,19.2086,7.63117,8.21077,8.8344,9.5054,10.2274,11.0041,11.8399,12.7392,13.7068,14.7478,15.868,17.0732,18.3699,19.7652,21.2664],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,
0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,7.43077,7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,27.1062,
29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,195.651],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,7.43077,
7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,27.1062,29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,195.651],
[0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.398077,0.530769,0.663461,0.796154,0.928846,1.06154,1.19423,1.32692,1.45962,1.59231,1.725,1.85769,1.99038,2.12308,2.25577,2.38846,2.52115,2.65385,2.78654,2.91923,3.05192,3.18462,3.31731,3.45,3.58269,3.71538,3.84808,3.98077,4.11346,4.24615,4.37885,4.51154,4.64423,4.77692,4.90962,5.04231,5.175,5.30769,5.44038,5.57308,5.70577,5.83846,5.97115,6.10385,6.23654,6.36923,6.50192,6.63461,6.76731,6.9,7.16202,7.44474,
7.75069,8.08286,8.44478,8.84063,9.27541,9.75517,10.2873,10.8808,11.7072,12.5964,13.5531,14.5825,15.6901,16.8818,18.164,19.5436,21.028,22.6251,29.7087,39.0124,51.2501,67.2938,88.3594,35.1034,37.7696,40.6382,43.7248,47.0458,50.6191,54.4637,58.6004,63.0512,67.8401,72.9927,78.5367,84.5018,90.9199,97.8255],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,2.88594,
3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,7.5756,7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,55.2404,
59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,2.88594,3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,7.5756,
7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,55.2404,59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.461538,0.615385,
0.769231,0.923077,1.07692,1.23077,1.38461,1.53846,1.69231,1.84615,2,2.15385,2.30769,2.46154,2.61539,2.76923,2.92308,3.07692,3.23077,3.38461,3.53846,3.69231,3.84615,4,4.15385,4.30769,4.46154,4.61539,4.76923,4.92308,5.07692,5.23077,5.38461,5.53846,5.69231,5.84615,6,6.15385,6.30769,6.46154,6.61539,6.76923,6.92308,7.07692,7.23077,7.38461,7.53846,7.69231,7.84615,8,8.3038,8.63158,8.9863,9.37143,9.79105,10.25,10.7541,11.3103,11.9273,12.6154,13.5736,14.6045,15.7137,16.9072,18.1914,19.5731,21.0597,22.6592,
24.3803,26.232,34.4448,45.2318,59.4204,78.0218,102.446,40.6996,43.7908,47.1168,50.6954,54.5459,58.6888,63.1463,67.9425,73.1029,78.6552,84.6292,91.057,97.973,105.414,113.421],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,
9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,0.538462,
0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,
23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,
7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,
198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.459472,0.612629,0.765786,0.918944,1.0721,1.22526,1.37842,1.53157,1.68473,1.83789,1.99104,2.1442,
2.29736,2.45052,2.60367,2.75683,2.90999,3.06315,3.2163,3.36946,3.52262,3.67577,3.82893,3.98209,4.13525,4.2884,4.44156,4.59472,4.74788,4.90103,5.05419,5.20735,5.3605,5.51366,5.66682,5.81998,5.97313,6.12629,6.27945,6.43261,6.58576,6.73892,6.89208,7.04523,7.19839,7.35155,7.50471,7.65786,7.81102,7.96418,8.26661,8.59293,8.94606,9.32947,9.7472,10.2041,10.7059,11.2597,11.8739,12.5589,13.5128,14.5391,15.6434,16.8315,18.1099,19.4854,20.9654,22.5578,24.2711,26.1145,32.5965,40.6875,50.7868,63.3928,79.1278,45.582,
49.044,52.7691,56.777,61.0893,65.7292,70.7215,76.093,81.8724,88.0909,94.7816,101.98,109.726,118.06,127.027],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,
3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,
68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,
8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,
1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,
56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.135279,0.180372,0.225465,0.270557,0.315649,0.360742,0.405835,0.450928,0.496021,0.541114,0.586207,0.6313,0.676393,0.721486,0.766579,0.811672,0.856764,
0.901856,0.946949,0.992042,1.03714,1.08223,1.12732,1.17241,1.21751,1.2626,1.30769,1.35279,1.39788,1.44297,1.48806,1.53316,1.57825,1.62334,1.66844,1.71353,1.75862,1.80371,1.84881,1.8939,1.93899,1.98409,2.02918,2.07427,2.11936,2.16446,2.20955,2.25464,2.29974,2.34483,2.43387,2.52995,2.63392,2.7468,2.86979,3.00431,3.15206,3.3151,3.49593,3.69761,3.97846,4.28063,4.60575,4.95557,5.33196,5.73693,6.17267,6.6415,7.14594,7.68869,10.0959,13.2576,17.4163,22.8685,30.0272,11.9292,12.8352,13.8101,14.859,15.9876,
17.2019,18.5084,19.9142,21.4267,23.0541,24.8051,26.6891,28.7162,30.8973,33.244],[0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.270872,0.361163,0.451454,0.541745,0.632036,0.722326,0.812617,0.902908,0.993199,1.08349,1.17378,1.26407,1.35436,1.44465,1.53494,1.62523,1.71553,1.80582,1.89611,1.9864,2.07669,2.16698,2.25727,2.34756,2.43785,2.52814,2.61843,2.70872,2.79902,2.88931,2.9796,3.06989,3.16018,3.25047,3.34076,3.43105,3.52134,3.61163,3.70192,3.79221,3.8825,
3.9728,4.06309,4.15338,4.24367,4.33396,4.42425,4.51454,4.60483,4.69512,4.87342,5.06579,5.27397,5.5,5.74627,6.01563,6.31147,6.63793,7,7.40385,7.96619,8.57124,9.22224,9.9227,10.6763,11.4872,12.3597,13.2985,14.3085,15.3953,20.2153,26.5461,34.8732,45.7902,60.1244,23.8862,25.7004,27.6524,29.7527,32.0124,34.4439,37.06,39.8748,42.9034,46.162,49.6681,53.4405,57.4994,61.8666,66.5656],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,
1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,
60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],ub=[0.020979,0.020515,0.020079,0.019516,0.018997,0.018646,0.018314,0.017997,0.017584,0.017197,0.016551,0.015729,0.015229,0.01458,0.014008,
0.01365,0.013175,0.012832,0.012475,0.012073,0.01184,0.011494,0.011292,0.01099,0.010761,0.010546,0.010321,0.010151,0.009949,0.00974,0.009597,0.009425,0.009278,0.009123,0.008974,0.008847,0.008698,0.008581,0.008457,0.008338,0.008235,0.008113,0.008018,0.007906,0.007798,0.007713,0.007612,0.007524,0.00743,0.00734,0.007268,0.007184,0.007116,0.007029,0.006945,0.006884,0.006805,0.006747,0.006667,0.0066,0.006421,0.006314,0.006175,0.006072,0.005981,0.005885,0.005791,0.005732,0.005668,0.005596,0.005316,0.005049,
0.004796,0.004555,0.004327,0.00411,0.003903,0.003708,0.003522,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345],G={1:[6,8,4,5,8,8,9,3,2,1,1,1,21,31,51,77,27,42,68,102,22,34,55,83,24,37,60,89,19,29,47,70,15,24,38,57,17,26,43,64,12,18,30,45,14],2:[6,9,4,6,9,9,9,3,3,2,1,1,22,34,56,84,30,46,75,112,24,37,61,91,26,40,66,98,21,32,52,77,17,26,42,63,19,29,47,70,13,20,
33,49,15],3:[7,9,4,6,9,10,12,4,3,2,1,1,24,37,61,91,32,50,81,122,26,41,66,99,28,44,71,107,22,34,56,84,18,28,46,69,20,31,51,76,14,22,35,53,16],4:[7,10,5,6,10,11,12,4,3,2,1,1,26,40,65,98,35,54,87,131,28,44,71,106,31,47,76,115,24,37,60,90,20,30,49,74,22,34,54,82,15,24,38,57,18],5:[8,10,5,7,10,12,15,5,4,3,2,2,28,43,70,105,38,57,94,141,31,46,76,115,33,50,82,123,26,39,65,97,21,32,53,79,24,36,59,88,17,25,41,62,19],6:[8,11,5,7,11,12,15,5,4,3,2,2,30,46,75,113,40,61,100,150,33,50,81,122,35,53,88,131,28,42,69,
103,23,34,56,84,25,38,63,94,18,27,44,66,20],7:[9,11,6,7,11,13,18,6,4,3,2,3,32,49,80,120,43,65,106,160,35,53,86,130,38,57,93,140,30,45,73,110,24,37,60,90,27,41,66,100,19,28,46,70,22],8:[9,12,6,8,12,14,21,7,5,4,2,3,34,52,85,127,45,69,113,169,37,56,92,137,39,60,99,148,31,47,78,116,25,39,64,95,28,43,71,106,20,30,49,74,23],9:[10,13,6,8,13,15,21,7,5,4,2,3,36,55,89,134,48,73,119,179,39,59,97,145,42,64,104,157,33,50,82,123,27,41,67,101,30,46,74,112,21,32,52,78,24],10:[10,13,7,9,13,16,24,8,6,4,2,3,38,58,94,
141,50,77,125,188,41,63,102,153,44,67,109,165,34,53,86,129,28,43,70,106,31,48,78,118,22,34,55,82,25],11:[11,14,7,9,14,16,24,8,6,5,3,4,40,61,99,149,53,81,132,198,43,66,107,161,46,71,116,173,36,56,91,136,30,46,74,111,33,51,83,124,23,35,58,87,27],12:[11,15,7,10,15,17,27,9,7,5,3,4,42,64,104,156,56,85,138,208,46,69,112,169,49,74,121,182,39,58,95,143,32,48,78,117,35,53,86,130,25,37,60,91,28],13:[12,16,8,10,16,18,27,9,7,5,3,4,44,67,108,163,58,89,145,217,47,72,118,176,51,78,127,190,40,61,100,149,33,50,82,
122,36,56,91,136,25,39,63,95,29],14:[12,16,8,11,16,19,30,10,8,6,3,4,45,69,113,170,61,93,151,227,50,76,123,184,53,81,132,199,42,64,104,156,34,52,85,128,38,58,94,142,27,41,66,99,31],15:[13,17,9,11,17,20,33,11,8,6,3,5,47,72,118,177,63,96,157,236,51,78,128,192,55,84,137,207,43,66,108,162,35,54,88,133,39,60,98,148,28,42,69,103,32],16:[14,18,9,12,18,21,33,11,8,6,4,5,49,75,123,184,66,100,164,246,54,81,133,200,58,88,144,215,45,69,113,169,37,56,92,138,41,63,103,154,29,44,72,108,33],17:[14,19,9,12,19,22,36,
12,9,7,4,5,51,78,128,192,68,104,170,255,55,85,138,207,60,91,149,223,47,72,117,175,38,59,96,143,43,65,106,159,30,46,74,112,34],18:[15,19,10,13,19,23,36,12,9,7,4,5,53,81,132,199,71,108,176,265,58,88,143,215,62,95,154,232,49,74,121,182,40,61,99,149,44,68,110,166,31,47,77,116,36],19:[15,20,10,13,20,24,39,13,10,7,4,6,55,84,137,206,73,112,183,275,59,91,149,223,64,98,160,241,50,77,126,189,41,63,103,155,46,70,114,172,32,49,80,120,37],20:[16,21,10,14,21,25,42,14,10,8,4,6,57,87,142,213,76,116,189,284,62,94,
154,231,67,102,165,249,52,80,130,195,43,65,106,160,48,73,118,178,33,51,83,124,38],21:[16,21,11,14,21,26,42,14,11,8,5,6,59,90,147,220,79,120,195,294,64,98,158,239,69,105,171,257,54,83,134,202,44,68,110,165,49,75,122,184,35,53,85,129,40],22:[17,22,11,14,22,27,45,15,11,8,5,6,61,93,151,227,81,124,202,303,66,101,164,246,71,109,177,265,56,85,139,208,46,70,114,170,51,78,126,189,35,54,88,133,41],23:[17,23,11,15,23,28,45,15,12,9,5,7,63,96,156,235,84,128,208,313,68,104,169,254,74,112,182,274,58,88,143,215,
47,72,117,176,53,80,130,196,37,56,91,137,42],24:[18,23,12,15,23,29,48,16,12,9,5,7,65,99,161,242,86,132,215,322,70,107,175,262,75,116,188,282,59,91,148,221,48,74,121,181,54,83,134,201,38,58,94,141,43],25:[19,24,12,16,24,30,51,17,12,9,5,7,67,102,166,249,89,136,221,332,72,111,180,270,78,119,193,291,61,94,152,228,50,77,124,187,56,85,138,208,39,60,97,145,45],26:[19,25,13,17,25,30,51,17,13,10,5,7,68,105,170,256,91,139,227,342,74,113,184,278,80,122,199,299,63,96,156,235,51,78,128,192,57,87,142,214,40,61,
99,150,46],27:[20,26,13,17,26,31,54,18,13,10,6,8,70,108,175,263,94,143,234,351,76,116,190,285,82,125,205,307,65,98,161,241,53,80,132,197,59,89,146,219,41,63,102,154,47],28:[21,27,14,18,27,32,54,18,14,10,6,8,72,110,180,270,96,147,240,361,78,119,195,293,84,129,210,316,66,101,165,248,54,83,135,203,60,92,150,226,42,64,105,158,48],29:[22,29,14,19,29,32,57,19,14,11,6,8,74,113,185,278,99,151,246,370,80,123,200,301,87,132,215,324,68,104,169,254,56,85,138,208,62,94,154,231,43,66,108,162,50],30:[23,30,15,20,
30,33,60,20,15,11,6,8,76,116,190,285,102,155,253,380,83,126,206,309,89,136,221,333,70,107,174,261,57,87,142,214,64,97,158,238,45,68,111,166,51],31:[24,31,16,20,31,34,60,20,15,11,6,9,78,119,194,292,104,159,259,389,85,129,210,316,91,139,227,340,72,109,178,267,59,89,146,219,65,99,162,243,46,70,113,170,52],32:[25,32,16,21,32,34,63,21,16,12,7,9,80,122,199,299,107,163,265,399,87,132,215,324,94,143,232,349,74,112,182,274,60,92,149,224,67,102,166,249,47,71,116,175,54],33:[25,33,17,22,33,35,63,21,16,12,7,
9,82,125,204,306,109,167,272,408,89,136,221,332,95,146,238,357,75,115,187,281,61,94,153,230,68,104,170,255,48,73,119,179,55],34:[26,34,17,23,34,36,66,22,16,12,7,9,84,128,209,314,112,171,278,418,91,139,226,340,98,150,243,366,77,118,191,287,63,96,156,235,70,107,174,261,49,75,122,183,56],35:[27,35,18,23,35,37,69,23,17,13,7,10,86,131,213,321,114,175,285,428,93,142,232,348,100,153,249,375,78,120,196,294,64,98,160,241,71,109,178,268,50,77,125,187,57],36:[28,36,18,24,36,38,69,23,17,13,7,10,88,134,218,328,
117,178,291,437,95,145,236,355,102,156,255,382,80,122,200,300,66,100,164,246,73,111,182,273,51,78,127,191,59],37:[28,37,19,24,37,39,72,24,18,13,8,10,90,137,223,335,119,182,297,447,97,148,241,363,104,159,260,391,82,125,204,307,67,102,167,251,74,114,186,279,52,80,130,196,60],38:[29,38,19,25,38,40,72,24,18,14,8,10,92,140,228,342,122,186,304,456,99,151,247,371,107,163,266,399,84,128,209,314,69,105,171,257,76,116,190,285,53,81,133,200,61],39:[29,38,19,25,38,41,75,25,19,14,8,11,93,143,233,349,125,190,310,
466,102,154,252,379,109,166,271,408,86,131,213,320,70,107,174,262,78,119,194,291,55,83,136,204,63],40:[30,39,20,26,39,42,78,26,19,14,8,11,95,146,237,357,127,194,316,475,103,158,257,386,111,170,277,416,87,133,217,327,71,109,178,267,79,121,198,297,56,85,138,208,64],41:[31,40,20,26,40,43,78,26,20,15,8,11,97,149,242,364,130,198,323,485,106,161,262,394,114,173,283,424,89,136,222,333,73,111,182,273,81,124,202,303,57,87,141,212,65],42:[31,41,21,27,41,44,81,27,20,15,8,11,99,151,247,371,132,202,329,495,107,
164,267,402,116,177,288,433,91,139,226,340,74,114,185,278,83,126,206,309,58,88,144,217,66],43:[32,41,21,27,41,45,81,27,20,15,9,12,101,154,252,378,135,206,336,504,110,167,273,410,118,180,294,441,93,142,231,347,76,116,189,284,84,129,210,315,59,90,147,221,68],44:[32,42,21,28,42,47,84,28,21,16,9,12,103,157,256,385,137,210,342,514,111,171,278,418,120,184,299,450,94,144,235,353,77,118,192,289,86,131,214,321,60,92,150,225,69],45:[33,43,22,29,43,48,84,28,21,16,9,12,105,160,261,392,140,214,348,523,114,174,
283,425,123,187,305,458,96,147,239,360,79,120,196,294,88,134,218,327,61,94,152,229,70],46:[34,44,22,29,44,50,87,29,22,16,9,12,107,163,266,400,142,218,355,533,115,177,288,433,124,191,311,466,98,150,244,366,80,123,200,300,89,136,222,333,62,95,155,233,71],47:[34,45,23,30,45,51,90,30,22,17,9,13,109,166,271,407,145,221,361,542,118,180,293,440,127,193,316,474,100,152,248,373,82,124,203,305,91,138,226,339,63,97,158,237,73],48:[35,45,23,30,45,52,90,30,23,17,10,13,111,169,276,414,148,225,367,552,120,183,298,
449,130,197,321,483,102,155,252,380,83,127,206,311,93,141,229,345,65,98,161,242,74],49:[35,46,23,31,46,53,93,31,23,17,10,13,113,172,280,421,150,229,374,561,122,186,304,456,131,200,327,491,103,157,257,386,84,129,210,316,94,143,234,351,66,100,164,245,75],50:[36,47,24,31,47,54,93,31,24,18,10,13,115,175,285,428,153,233,380,571,124,189,309,464,134,204,333,500,105,160,261,393,86,131,214,321,96,146,238,357,67,102,166,250,77],51:[37,48,24,32,48,54,96,32,24,18,10,14,116,178,290,435,155,237,386,581,126,193,
314,472,136,207,338,508,107,163,265,399,87,133,217,327,97,148,241,363,68,104,169,254,78],52:[37,49,25,32,49,55,99,33,24,18,10,14,118,181,295,443,158,241,393,590,128,196,319,479,138,211,344,516,109,166,270,406,89,136,221,332,99,151,246,369,69,105,172,258,79],53:[38,49,25,33,49,57,99,33,25,19,11,14,120,183,297,445,160,243,396,593,130,197,322,482,140,213,347,519,110,167,272,408,90,137,223,334,100,152,248,371,70,106,173,259,80],54:[38,50,25,33,50,58,102,34,25,19,11,14,122,184,299,447,162,246,398,596,
132,200,323,484,142,215,348,522,111,169,274,410,91,138,224,335,101,154,249,373,71,108,174,261,81],55:[39,51,26,34,51,59,102,34,26,19,11,15,123,186,301,450,165,248,401,600,134,202,326,488,144,217,351,525,113,171,276,413,93,140,226,338,103,155,251,375,72,109,175,263,83],56:[40,52,26,34,52,61,105,35,26,20,11,15,125,188,303,452,167,251,404,603,136,204,328,490,146,220,354,528,115,173,278,415,94,141,227,339,104,157,253,377,73,110,177,264,84],57:[40,53,27,35,53,62,108,36,27,20,11,15,127,190,305,455,169,
253,407,606,137,206,331,492,148,221,356,530,116,174,280,417,95,142,229,341,106,158,254,379,74,111,178,265,85],58:[50,65,33,43,65,85,139,46,34,25,14,19,157,223,342,497,210,297,456,663,171,241,371,539,184,260,399,580,144,204,314,456,118,167,257,373,131,186,285,414,92,130,200,290,105],59:[51,67,34,44,67,88,142,47,36,27,15,20,163,229,349,505,217,305,465,674,176,248,378,548,190,267,407,590,149,210,320,463,122,172,262,379,136,191,291,421,95,133,203,295,109],60:[53,68,35,45,68,91,148,49,37,28,16,21,171,
240,365,513,228,320,487,684,185,260,396,556,200,280,426,599,157,220,335,470,128,180,274,385,143,200,304,428,100,140,213,299,114],61:[54,70,36,47,70,94,154,51,39,29,16,22,181,254,386,533,242,338,515,711,197,275,418,578,212,296,451,622,166,232,354,489,136,190,290,400,151,211,322,444,106,148,225,311,121],62:[55,72,36,48,72,97,160,53,40,30,17,22,192,269,409,578,255,358,545,771,207,291,443,626,223,313,477,675,175,246,375,530,143,201,307,434,159,224,341,482,112,157,238,337,128],63:[56,73,37,49,73,100,163,
54,41,31,17,23,203,284,433,623,270,379,577,831,219,308,469,675,236,332,505,727,186,261,397,571,152,213,325,467,169,237,361,519,118,166,252,364,135],64:[58,75,38,50,75,104,166,55,42,31,18,24,214,301,458,668,286,401,611,890,232,326,496,723,250,351,535,779,197,276,420,612,161,226,344,501,179,251,382,556,125,175,267,389,143],65:[60,78,40,52,78,109,172,57,43,32,18,24,227,318,485,713,302,424,647,950,245,345,526,772,264,371,566,831,208,292,445,653,170,239,364,534,189,265,404,594,132,186,283,416,151],66:[62,
81,41,54,81,113,175,58,44,33,18,25,240,337,514,757,320,449,685,1010,260,365,557,821,280,393,599,884,220,309,471,694,180,253,385,568,200,281,428,631,140,196,300,442,160],67:[65,84,43,56,84,117,178,59,45,34,19,25,254,356,544,802,338,475,725,1070,275,386,589,869,296,416,634,936,232,327,498,736,190,267,408,602,211,297,453,669,148,208,317,468,169],68:[91,119,61,79,119,168,253,84,62,47,26,36,361,498,749,1091,482,664,998,1454,392,540,811,1181,422,581,873,1272,331,457,686,1E3,271,374,561,818,301,415,624,
909,211,291,437,636,241],69:[93,121,62,81,121,172,262,87,64,48,27,37,375,518,779,1144,500,691,1039,1526,406,561,844,1240,438,605,909,1335,344,475,714,1049,281,389,584,858,313,432,649,954,219,302,455,668,250],70:[95,124,63,82,124,175,271,90,67,50,28,39,389,539,811,1198,519,718,1082,1597,422,583,879,1298,454,628,947,1397,357,494,744,1098,292,404,609,898,324,449,676,998,227,314,473,699,260],71:[97,127,65,84,127,179,280,93,69,52,29,40,404,560,845,1252,539,746,1126,1669,438,606,915,1356,472,653,985,1460,
371,513,774,1147,303,420,633,939,337,466,704,1043,236,326,493,730,270],72:[99,129,66,86,129,183,292,97,72,54,30,42,419,582,879,1306,559,776,1172,1741,454,631,952,1415,489,679,1026,1523,384,534,806,1197,314,437,659,979,349,485,733,1088,245,340,513,762,280],73:[102,132,68,88,132,187,304,101,75,56,32,43,435,605,915,1359,580,806,1220,1813,471,655,991,1473,508,705,1068,1586,399,554,839,1246,326,453,686,1020,363,504,763,1133,254,353,534,793,290],74:[104,135,69,90,135,191,313,104,78,58,33,45,451,628,952,
1414,601,838,1269,1885,488,681,1031,1532,526,733,1110,1649,413,576,872,1296,338,471,714,1060,376,524,793,1178,263,367,555,825,301],75:[106,138,71,92,138,196,325,108,81,60,34,46,468,653,990,1468,624,870,1320,1957,507,707,1073,1590,546,761,1155,1712,429,598,908,1345,351,489,743,1101,390,544,825,1223,273,381,578,856,312],76:[109,141,72,94,141,200,340,113,84,63,35,48,485,678,1030,1522,647,904,1373,2029,526,735,1116,1649,566,791,1201,1775,445,622,944,1395,364,509,772,1141,404,565,858,1268,283,396,601,
888,324],77:[111,145,74,96,145,205,352,117,87,65,37,50,503,704,1071,1576,670,939,1429,2102,544,763,1161,1708,586,822,1250,1839,461,646,982,1445,377,528,804,1182,419,587,893,1314,293,411,625,920,335],78:[114,148,76,99,148,210,364,121,90,68,38,52,521,731,1114,1631,695,975,1486,2174,565,792,1207,1766,608,853,1300,1902,478,670,1022,1495,391,548,836,1223,434,609,929,1359,304,427,650,951,348],79:[117,152,78,101,152,215,380,126,94,71,40,54,534,751,1146,1660,713,1001,1528,2213,579,813,1242,1798,624,876,1337,
1936,490,688,1051,1521,401,563,860,1245,446,626,955,1383,312,438,669,968,357],80:[120,156,80,104,156,220,395,131,97,73,41,56,546,762,1156,1668,729,1016,1541,2224,592,826,1252,1807,638,889,1348,1946,501,699,1059,1529,410,572,867,1251,456,635,963,1390,319,445,674,973,365],81:[225,293,150,195,293,414,928,308,229,172,97,132,813,1017,1390,1875,1084,1356,1854,2500,881,1102,1506,2031,949,1187,1622,2188,745,932,1275,1719,610,763,1043,1406,678,848,1159,1563,474,593,811,1094,542],82:[262,353,175,235,353,498,
1108,368,273,205,116,158,829,1062,1485,2034,1105,1416,1981,2713,898,1151,1610,2204,967,1239,1733,2374,760,974,1362,1865,622,797,1114,1526,691,885,1238,1696,483,620,867,1187,553],83:[309,417,206,278,417,590,1310,435,323,242,137,186,844,1104,1577,2189,1125,1472,2102,2919,914,1196,1708,2372,984,1288,1839,2554,773,1012,1445,2007,633,828,1182,1642,703,920,1314,1824,492,644,920,1277,563],84:[336,454,224,302,454,641,1425,473,351,263,149,203,852,1126,1624,2271,1136,1501,2166,3028,923,1220,1760,2460,994,1313,
1895,2650,781,1032,1489,2082,639,844,1218,1703,710,938,1354,1893,497,657,948,1325,568],85:[362,489,241,326,489,691,1533,509,378,284,160,218,858,1145,1668,2346,1145,1527,2224,3128,930,1241,1807,2542,1002,1336,1946,2737,787,1050,1529,2151,644,859,1251,1760,716,954,1390,1955,501,668,973,1369,573]},Va=[23.3107,24.1651,24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,
95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,237.558,246.991,256.628,266.467,276.51,286.755,297.203,307.853,318.707,329.763,341.022,352.484,364.149,376.016,388.086,400.36,412.835,425.514,478.257,491.95,512.169,532.943,554.279,576.187,598.672,621.743,645.407,669.673,694.546,720.036,746.15,772.895,800.278,828.309,856.993,886.339,916.355,947.048,978.425,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,
1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,34.6214,35.4356,35.5984,35.8589,36.038,36.2139,36.3562,36.4902,37.8794,38.6922,39.413,40.0417,40.5784,42.3805,44.1849,45.9759,47.738,49.4556,51.1132,52.6953,54.4846,56.2322,57.9299,59.5701,61.1453,62.6485,64.0733,65.4135,66.6632,67.8171,70.2758,72.7271,75.1662,77.5882,79.9881,82.3611,84.7021,87.0064,89.2691,91.4851,94.5168,97.5646,100.626,103.699,106.78,109.868,112.959,116.052,119.144,122.232,125.314,128.387,131.45,134.499,
137.532,140.547,143.541,293.024,327.008,332.962,354.075,375.985,398.707,422.256,446.646,471.89,498.002,524.997,552.889,581.691,611.418,642.083,673.701,706.285,739.849,774.407,809.974,846.562,884.185,922.858,943.72,964.814,986.142,1007.7,1029.49,1051.52,1073.77,1096.26,1118.98,1141.93,1165.11,1188.51,1212.15,1236.02,1260.12,1284.45,1309,1333.79,1358.8,1384.04,5.2216,5.7727,6.27696,6.74717,7.1928,7.72152,8.5082,9.33304,10.196,11.0972,12.0365,13.0139,14.0295,15.5282,17.1514,18.9051,20.7947,22.826,25.0047,
27.3363,29.7556,32.3265,35.0535,37.9411,40.9935,44.215,47.6099,51.1823,54.9364,58.8762,63.0058,67.3291,71.8499,76.5723,81.4999,86.6366,91.9859,97.5516,103.337,109.346,116.451,123.889,131.668,139.798,148.289,157.15,166.392,176.025,186.057,196.501,207.366,218.662,230.4,242.591,255.245,268.373,281.986,296.095,338.963,355.055,376.742,399.409,423.086,447.802,473.588,500.474,528.491,557.67,588.043,619.643,652.502,686.653,722.129,758.966,797.196,836.855,877.979,920.602,964.762,1010.49,1032.93,1055.63,1078.57,
1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,37.2971,38.6641,39.5754,40.1829,40.588,41.398,43.4485,45.4989,47.5494,49.5998,51.6503,53.7007,55.7512,59.5064,63.4644,67.6252,71.9888,76.5552,81.3244,86.2964,90.3279,94.4277,98.5882,102.802,107.061,111.358,115.686,120.036,124.402,128.775,133.148,137.513,141.863,146.19,150.486,154.745,158.957,163.117,167.215,171.245,182.128,193.477,205.302,217.615,230.425,243.742,257.576,
271.937,286.836,302.283,318.287,334.86,352.01,369.749,388.086,407.032,426.597,446.79,510.141,532.946,552.215,571.938,592.122,612.77,633.888,655.481,677.554,700.112,723.161,746.704,770.748,795.297,820.357,845.932,872.028,898.65,925.802,953.49,981.719,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,22.555,22.8271,22.8815,22.9686,23.0284,23.0872,23.1348,23.1796,23.5733,23.9155,24.209,24.4536,
24.6495,25.7049,26.7761,27.8523,28.923,29.9776,31.0057,31.9966,33.6486,35.3325,37.0434,38.7764,40.5265,42.2887,44.0578,45.8288,47.5965,49.3556,52.144,55.0287,58.0102,61.0891,64.2659,67.5409,70.9147,74.3878,77.9607,81.6337,84.8264,88.0704,91.3642,94.7066,98.0965,101.533,105.013,108.538,112.105,115.713,119.361,123.047,126.771,130.531,134.326,138.154,142.015,291.813,328.421,336.625,355.277,374.585,394.558,415.208,436.546,458.581,481.326,504.79,528.985,553.92,579.607,606.055,633.277,661.281,690.078,719.679,
750.095,781.334,813.409,846.328,865.675,885.235,905.007,924.992,945.189,965.597,986.215,1007.04,1028.08,1049.33,1070.78,1092.45,1114.32,1136.39,1158.68,1181.16,1203.86,1226.75,1249.85,1273.16,23.3107,24.1651,24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,
235.578,242.875,250.212,257.585,264.988,272.417,279.866,287.33,294.804,302.283,309.762,317.236,324.699,332.148,339.576,346.978,354.35,361.687,402.533,409.958,432.076,454.951,478.595,503.02,528.24,554.267,581.114,608.793,637.318,666.7,696.953,728.089,760.121,793.062,826.923,861.719,897.461,934.163,971.836,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,30.0793,30.7255,30.8547,31.0615,
31.2037,31.3433,31.4562,31.5626,32.6485,33.3104,33.8949,34.4021,34.832,36.3846,37.9444,39.4977,41.0304,42.5288,43.9789,45.367,46.6013,47.7707,48.8674,49.8842,50.8144,51.6517,52.3907,53.0262,53.5537,53.9691,55.3766,56.7193,57.9908,59.1841,60.2929,61.3102,62.2297,63.0445,63.7481,64.3338,66.6823,69.059,71.4627,73.892,76.3458,78.8229,81.3219,83.8416,86.3809,88.9384,91.5129,94.1033,96.7081,99.3263,101.957,104.598,107.248,219.815,246.45,251.971,274.168,297.331,321.476,346.622,372.788,399.993,428.254,457.591,
488.021,519.562,552.234,586.053,621.039,657.21,694.583,733.177,773.01,814.099,856.463,900.12,920.54,941.187,962.061,983.161,1004.49,1026.04,1047.82,1069.82,1092.05,1114.5,1137.18,1160.08,1183.2,1206.55,1230.12,1253.91,1277.92,1302.15,1326.61,1351.28,31.0214,31.4306,31.5124,31.6433,31.7334,31.8217,31.8933,31.9606,32.5713,33.0673,33.4947,33.8535,34.1437,35.6445,37.1693,38.7032,40.231,41.7376,43.208,44.6273,46.8581,49.1244,51.4189,53.7345,56.064,58.4003,60.7361,63.0644,65.378,67.6698,71.3599,75.1661,
79.0884,83.1267,87.2807,91.5504,95.9356,100.436,105.052,109.783,113.1,116.4,119.677,122.928,126.146,129.329,132.47,135.565,138.61,141.599,144.529,147.394,150.189,152.911,155.554,158.114,160.585,325.929,362.339,366.621,384.399,402.743,421.66,441.159,461.248,481.937,503.232,525.144,547.679,570.847,594.656,619.113,644.228,670.008,696.462,723.597,751.422,779.945,809.174,839.117,858.338,877.77,897.413,917.266,937.33,957.603,978.085,998.776,1019.67,1040.78,1062.09,1083.61,1105.33,1127.26,1149.39,1171.72,
1194.26,1217,1239.94,1263.08,32.2214,32.7267,32.8278,32.9895,33.1006,33.2098,33.2981,33.3813,34.1745,34.7479,35.2466,35.6706,36.0198,37.5977,39.1938,40.7928,42.3796,43.939,45.4558,46.9148,48.8949,50.8768,52.8527,54.8151,56.7566,58.67,60.5484,62.3851,64.1734,65.907,68.9589,72.0684,75.233,78.4502,81.7176,85.0327,88.393,91.7962,95.2397,98.7212,101.446,104.135,106.785,109.391,111.947,114.45,116.894,119.274,121.587,123.827,125.989,128.069,130.062,131.964,133.769,135.473,137.072,277.12,306.629,308.962,
328.7,349.192,370.449,392.487,415.318,438.956,463.412,488.702,514.837,541.831,569.697,598.448,628.097,658.656,690.139,722.558,755.927,790.257,825.563,861.855,881.517,901.397,921.494,941.807,962.336,983.08,1004.04,1025.21,1046.6,1068.2,1090.02,1112.04,1134.28,1156.73,1179.39,1202.26,1225.35,1248.64,1272.13,1295.84,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,25.7771,26.4755,26.6152,26.8387,26.9923,27.1432,27.2653,27.3802,28.5971,29.2692,29.8687,30.3957,30.8502,32.1517,33.4634,34.773,36.0683,37.3369,38.5667,39.7455,41.294,42.8351,44.3625,45.8701,47.3519,48.8023,50.2157,51.5869,52.9107,54.1822,56.5272,58.9058,61.3156,63.7541,66.2189,68.7075,71.2174,73.7463,76.2916,78.851,81.422,84.0022,86.5891,89.1804,91.7735,94.3661,96.9557,99.5399,102.116,104.683,107.236,109.775,112.296,114.797,117.276,119.73,122.157,249.109,277.898,282.633,303.65,325.525,
348.274,371.914,396.46,421.927,448.333,475.691,504.019,533.332,563.645,594.974,627.334,660.742,695.212,730.76,767.402,805.152,844.027,884.04,904.113,924.408,944.926,965.665,986.626,1007.81,1029.21,1050.83,1072.68,1094.74,1117.02,1139.52,1162.24,1185.17,1208.33,1231.7,1255.28,1279.08,1303.1,1327.33,3,3,4,4,5,5,6,7,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,18,19,20,20,21,21,22,23,23,24,24,25,26,26,27,27,28,28,29,30,30,31,31,32,33,33,34,34,35,36,36,37,37,54,55,56,57,59,60,61,63,68,70,89,93,
96,100,104,107,112,116,120,125,305,338,375,407,443,1083,1200,1330,1446,1573,3847,4262,4722,5135,5584,13659,15134,16767,18234,19829],vb=[["Consumable","Consumable,Potion,Elixir,Flask,Scroll,Food & Drink,Item Enhancement,Bandage,Other".split(",")],["Container","Bag,Soul Bag,Herb Bag,Enchanting Bag,Engineering Bag,Gem Bag,Mining Bag,Leatherworking Bag,Inscription Bag,Tackle Box".split(",")],["Weapon","One-Handed Axes,Two-Handed Axes,Bows,Guns,One-Handed Maces,Two-Handed Maces,Polearms,One-Handed Swords,Two-Handed Swords,Obsolete,Staves,One-Handed Exotics,Two-Handed Exotics,Fist Weapons,Miscellaneous,Daggers,Thrown,Spears,Crossbows,Wands,Fishing Poles".split(",")],
["Gem","Red,Blue,Yellow,Purple,Green,Orange,Meta,Simple,Prismatic,Hydraulic,Cogwheel".split(",")],["Armor","Miscellaneous,Cloth,Leather,Mail,Plate,Bucklers,Shields,Librams,Idols,Totems,Sigils,Relic".split(",")],["Reagent",["Reagent"]],["Projectile",["Wand(OBSOLETE)","Bolt(OBSOLETE)","Arrow","Bullet","Thrown(OBSOLETE)"]],["Trade Goods","Trade Goods,Parts,Explosives,Devices,Jewelcrafting,Cloth,Leather,Metal & Stone,Meat,Herb,Elemental,Other,Enchanting,Materials,Item Enchantment,Weapon Enchantment - Obsolete".split(",")],
["Generic(OBSOLETE)",["Generic(OBSOLETE)"]],["Recipe","Book,Leatherworking,Tailoring,Engineering,Blacksmithing,Cooking,Alchemy,First Aid,Enchanting,Fishing,Jewelcrafting,Inscription".split(",")],["Money",["Money(OBSOLETE)"]],["Quiver",["Quiver(OBSOLETE)","Quiver(OBSOLETE)","Quiver","Ammo Pouch"]],["Quest",["Quest"]],["Key",["Key","Lockpick"]],["Permanent(OBSOLETE)",["Permanent"]],["Miscellaneous","Junk,Reagent,Pet,Holiday,Other,Mount".split(",")],["Glyph",{1:"Warrior",2:"Paladin",3:"Hunter",4:"Rogue",
5:"Priest",6:"Death Knight",7:"Shaman",8:"Mage",9:"Warlock",11:"Druid"}]],wb={164:[164,"Schmiedekunst","Eine hohe Schmiedefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schmiedepl\u00e4ne zu benutzen. Pl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schmiedepl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],165:[165,"Lederverarbeitung","Eine hohe Lederverarbeitungsfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],171:[171,"Alchemie","Eine hohe Alchemiefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Rezepte zu benutzen. Alchemierezepte k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Rezepte oder Ihr erhaltet sie als Questbelohnung.",[]],182:[182,"Kr\u00e4uterkunde","Eine hohe Kr\u00e4uterkundefertigkeit erm\u00f6glicht es Euch, schwierigere Kr\u00e4uter zu ernten. Wenn Ihr ein bestimmtes Kraut nicht ernten k\u00f6nnt, steigert Eure Kr\u00e4uterkundefertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Kr\u00e4uter erntet.",
[[22119,[81708,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,11,0,0,26,0,0,0,0,0,68781],[0,6,189,0,5,0,0,0,917504,0,0,0,0,87571],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 5 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,1,55428],[19355,[55428,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,29,0,0,61,0,0,0,0,0,48361],[0,6,189,0,15,0,0,0,917504,0,0,0,0,87572],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 15 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,75,55480],[19356,[55480,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,47,0,0,97,0,0,0,0,0,48439],[0,6,189,0,35,0,0,0,917504,0,0,0,0,87573],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 35 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,150,55500],[19357,[55500,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,71,0,0,145,0,0,0,0,0,48442],[0,6,189,0,55,0,0,0,917504,0,0,0,0,87574],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 55 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,225,55501],[19358,[55501,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,89,0,0,181,0,0,0,0,0,48443],[0,6,189,0,70,0,0,0,917504,0,0,0,0,87575],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 70 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,300,55502],[19359,[55502,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,119,0,0,241,0,0,0,0,0,48444],[0,6,189,0,120,0,0,0,917504,0,0,0,0,87576],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 120 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,375,55503],[19360,[55503,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,359,0,0,721,0,0,0,0,0,48445],[0,6,189,0,240,0,0,0,917504,0,0,0,0,87577],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 240 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74497],[21619,[74497,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,719,0,0,1441,0,0,0,0,0,74358],[0,6,189,0,480,0,0,0,917504,0,0,0,0,87594],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 480 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],186:[186,"Bergbau","Eine hohe Bergbaufertigkeit erm\u00f6glicht es Euch, schwierigere Erzvorkommen abzubauen. Wenn Ihr ein bestimmtes Erzvorkommen nicht abbauen k\u00f6nnt, steigert Eure Bergbaufertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Erzvorkommen abbaut.",[[17987,[53120,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,
0,0,j,[[0,6,29,0,3,0,0,0,2,0,0,0,0,45755],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 3.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,75,53121],[17988,[53121,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,5,0,0,0,2,0,0,0,0,45756],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 5.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,150,53122],[17989,[53122,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,7,0,0,0,2,0,0,0,0,45757],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 7.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,225,53123],[17990,[53123,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,10,0,0,0,2,0,0,0,0,45758],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 10.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,300,53124],[17991,[53124,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,30,0,0,0,2,0,0,0,0,45759],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 30.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,375,53040],[17984,[53040,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,60,0,0,0,2,0,0,0,0,45636],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 60.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74496],[21618,[74496,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,120,0,0,0,2,0,0,0,0,74357],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 120.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],197:[197,"Schneiderei","Eine hohe Schneiderfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],202:[202,"Ingenieurskunst","Eine hohe Ingenieursfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Baupl\u00e4ne zu benutzen. Baupl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Baupl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],333:[333,"Verzauberkunst","Eine hohe Verzauberungsfertigkeit erm\u00f6glicht es Euch, m\u00e4chtigere Formeln zu benutzen. Verzauberungsformeln k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben und auch bei toten Gegnern und beim Questen finden.",
[]],393:[393,"K\u00fcrschnerei","Eine hohe K\u00fcrschnerfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Monster zu h\u00e4uten. Sobald Euer Fertigkeitswert 100 \u00fcbersteigt, ist die maximale Stufe der Monster, die Ihr h\u00e4uten k\u00f6nnt, Euer Fertigkeitswert geteilt durch 5.",[[17993,[53125,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,
3,0,0,0,1792,0,0,0,0,45760],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 3.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,75,53662],[18277,[53662,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,6,0,0,0,1792,0,0,0,0,46349],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 6.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,150,53663],[18278,[53663,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,9,0,0,0,1792,0,0,0,0,46350],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 9.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,225,53664],[18279,[53664,"Master of Anatomy",
"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,12,0,0,0,1792,0,0,0,0,46351],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 12.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,300,53665],[18280,[53665,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.",
"inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,20,0,0,0,1792,0,0,0,0,46352],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 20.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,375,53666],[18281,[53666,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,40,0,0,0,1792,0,0,0,0,46353],j,
j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 40.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74495],[21617,[74495,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,80,0,0,0,1792,0,0,0,0,74356],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 80.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],755:[755,"Juwelenschleifen","Eine hohe Juwelenschleiferfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Vorlagen zu benutzen. Vorlagen bekommt Ihr bei allen Juwelierskunstlehrern, von toten Gegnern und als Questbelohnung.",[]],773:[773,"Inschriftenkunde","Eine h\u00f6here Inschriftenfertigkeit erm\u00f6glicht es Euch, fortgeschrittenere Inschriften zu erlernen. Inschriften k\u00f6nnt Ihr bei den gelehrten Schreibern \u00fcberall in der Welt erwerben.",
[]]};function x(a,b){this.Ic=a;this.scope=b}x.prototype.Ic=j;x.prototype.scope=j;x.prototype.ga=function(a){this.Ic.apply(this.scope,a)};function H(a,b,c,d,f){function g(a){f?c.apply(d,f):c.apply(d,[a])}document.addEventListener?a.addEventListener(b,g,k):document.attachEvent&&a.attachEvent("on"+b,g)}function xb(a,b,c,d){document.addEventListener?a.addEventListener(b,function(){c.ga(d)},k):document.attachEvent&&a.attachEvent("on"+b,function(){c.ga(d)})};function yb(a){return Math.floor(10*a.Bb)/10+(0==Math.floor(10*a.Bb)%10?".0":"")}function zb(a){return 0==a.Ka%1E3?a.Ka/1E3+".00":0==a.Ka%100?a.Ka/1E3+"0":Math.floor(a.Ka/10)/100+""}function I(a,b){if(!a)return b.join(" ");var c;for(c=0;c<b.length;c++){if(-1==a.search(/\$/)){for(;c<b.length;c++)a+=" "+b[c];break}a=a.replace(/\$/,b[c])}return a}function J(a,b){return!a?""+b:-1==a.search(/\$/)&&b?a:a.replace(/\$/,""+b)}function w(a){return"?"+Fa(a)}
function Fa(a){var b="",c=0,d,f;for(f in a)0<c&&(b+="&"),b+=f,d=a[f],""!==d&&(b+="="+encodeURIComponent(""+d)),c++;return b}
function Ab(a,b){if(!a)return[""];var c,d,f;for(f=a;d=a.match(/\$(\?.*)$/i);){a=a.replace(d[0],Bb(d[1],b?b.X:j));if(a==f)break;f=a}a=a.replace(/\$G(\w+):(\w+);/i,"$1 / $2");b?(d=b.e,a=a.replace(/\$pl\b/gi,""+b.f),a=a.replace(/\$max\b/gi,"Math.max"),a=a.replace(/\$hnd\b/gi,b.ra(16,0)?17==b.ra(16,0).Aa&&j==b.ra(17,0)?"2":"1":"1"),a=a.replace(/\$ap\b/gi,""+Math.floor(d.va)),a=a.replace(/\$rap\b/gi,""+Math.floor(d.rb)),a=a.replace(/\$ar\b/gi,""+Math.floor(d.pa[0])),a=a.replace(/\$sp\b/gi,""+Math.floor(d.n[0])),
a=a.replace(/\$MWS\b/gi,K(d.gb,2)),a=a.replace(/\$mw/g,d.Q[0][0]),a=a.replace(/\$MW/g,d.Q[0][1]),a=a.replace(/\$z\b/gi,"[Location]")):(a=a.replace(/\$pl\b/gi,"[Player Level]"),a=a.replace(/\$max\b/gi,"[Maximum]"),a=a.replace(/\$hnd\b/gi,"[Hands]"),a=a.replace(/\$ap\b/gi,"[AP]"),a=a.replace(/\$rap\b/gi,"[rAP]"),a=a.replace(/\$ar\b/gi,"[Armor]"),a=a.replace(/\$sph\b/gi,"[SpDmg Holy]"),a=a.replace(/\$spn\b/gi,"[SpDmg Nature]"),a=a.replace(/\$spfr\b/gi,"[SpDmg Frost]"),a=a.replace(/\$spfi\b/gi,"[SpDmg Fire]"),
a=a.replace(/\$sps\b/gi,"[SpDmg Shadow]"),a=a.replace(/\$spa\b/gi,"[SpDmg Arcane]"),a=a.replace(/\$sp\b/gi,"[SpDmg]"),a=a.replace(/\$MWS\b/gi,"[Wpn Speed]"),a=a.replace(/\$mwb\b/g,"[Wpn minDmg]"),a=a.replace(/\$MWB\b/g,"[Wpn maxDmg]"),a=a.replace(/\$rwb\b/g,"[rWpn minDmg]"),a=a.replace(/\$RWB\b/g,"[rWpn maxDmg]"),a=a.replace(/\$mw\b/g,"[Wpn minDmg]"),a=a.replace(/\$MW\b/g,"[Wpn maxDmg]"),a=a.replace(/\$z/gi,"[Location]"));for(;c=a.match(/\$?\{([^{]*)\}(?:\.([\d]*))?/);)try{a=a.replace(c[0],function(){return Math.abs(Cb(parseFloat(eval("("+
c[1]+")")),c[2]?parseInt(c[2],10):0))})}catch(g){a=a.replace(c[0],"<span class='yellow'>"+c[1]+"</span>")}return a.split("|")}function Db(a,b){var c="",d="",c="",f,g=a.match(/^\?(!?)(a|s)(\d+)(.+)?$/i);if(!g)return["",a];f=Eb(g[4],b);c=f[0];f=Eb(f[1],b);d=f[0];if("!"==g[1])var h=c,c=d,d=h;c=b!=j&&b.Qa(parseInt(g[3],10))?c:d;return[c,f[1]]}function Eb(a,b){var c=a.match(/^(?:(\[([^\]]*)\])|(\?))(.*)$/i);return c[1]?[c[2],c[4]]:Db(a,b)}function Bb(a,b){var c=Db(a,b);return c[0]+c[1]}
function Fb(a,b){return 0<a?I(locale.ydRange2,[a,b]):J(locale.ydRange,b)}function K(a,b){for(var c="",a=Math.round(a*Math.pow(10,b));0<b;b--)if(0==a%10)c="0"+c,a/=10;else break;return 0==b?Math.floor(a)+"."+c:Math.floor(a)/Math.pow(10,b)+c}function L(a){var b,a=Math.round(100*a);b=a%10+"";a/=10;b=Math.floor(a%10)+b;return b=Math.floor(a/10)+"."+b}function Gb(a){a=Math.round(10*a);return Math.floor(a/10)+"."+a%10}
function Hb(a){a=Math.round(10*a)/10;return 0==a%3600?a/3600+" "+locale.h:0==a%60?a/60+" "+locale.m:a+" "+locale.s};function Ib(){if("undefined"!=typeof window.innerWidth)return[window.innerWidth,window.innerHeight];var a=window.document.compatMode&&"CSS1Compat"==window.document.compatMode?window.document.documentElement:window.document.body;return[parseInt(a.clientWidth,10),parseInt(a.clientHeight,10)]}function Jb(a){var b=document.createElement("div");b.style.clear="both";a.appendChild(b)}function Kb(a){if(a)for(;a.firstChild;)a.removeChild(a.firstChild)}
function Cb(a,b){return b?Math.floor(Math.pow(10,b)*a)/Math.pow(10,b):Math.floor(a)}function M(a){return"<tr><td colspan='2'>"+a+"</td></tr>"}function N(a,b){return"<tr><td vAlign='bottom'>"+a+"</td><td vAlign='bottom' style='white-space:nowrap; padding-left:50px' align='right'>"+b+"</td></tr>"}var Lb=[{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:-1},{x:0,y:1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:0}];
function Mb(a){for(var b=[],c=document.createElement("div"),d=0;9>d;d++)switch(b[d]=document.createElement("div"),b[d].innerHTML=a,b[d].style.position="absolute",b[d].style.textAlign="right",b[d].style.width="24px",b[d].style.top=Lb[d].y+"px",b[d].style.left=Lb[d].x+"px",b[d].style.zIndex=d,c.appendChild(b[d]),d){case 8:b[d].style.color="#FFFFFF";break;default:b[d].style.color="#000000"}c.style.position="relative";c.style.height="17px";c.style.marginTop="6px";c.style.fontSize="12px";return c}
function Nb(a,b){b["default"]||e("Default css class missing!");a.className=b["default"];a.zg=k;if(b.focus)a.onfocus=function(){this.zg=i;this.className=b["default"]+" "+b.focus};a.onblur=function(){this.zg=k;this.className=b["default"]};if(b.hover)a.onmouseover=b.focusHover?function(){this.className=this.zg?b["default"]+" "+b.focusHover:b["default"]+" "+b.hover}:function(){this.className=b["default"]+" "+b.hover},a.onmouseout=function(){this.className=this.zg&&b.focus?b["default"]+" "+b.focus:b["default"]}}
function ga(a){a.stack&&e(a.stack);e(a)}window.g_removeDots=function(a){return!a?a:a.replace(/\./," ")};function Ob(a,b){return 75<=b?6:165==a||182==a||186==a?55<=b?5:40<=b?4:25<=b?3:10<=b?2:1:65<=b?5:50<=b?4:35<=b?3:20<=b?2:10<=b?1:5<=b?0:-1}function Pb(a,b){var c=Ob(a,b);return 0>c?0:75*(c+1)};function Qb(a,b){this.message="Called abstract method "+a+"::"+b;this.name="NotImplementedException"}Qb.prototype=Error();function Rb(){}Rb.prototype=Error();function Sb(a,b,c,d){this.xc=b;this.event=a;this.tl=c;this.Kk=d}Sb.prototype={event:"",xc:{},tl:j,Kk:j,get:function(a){this.xc.hasOwnProperty(a)||e(Error("The key "+a+" is not defined for this event!"));return this.xc[a]},j:function(a){this.tl.Yn(a)||e(Error("The event "+a+" is not registered for the subject!"));this.Kk.fo(a)||e(Error("The event "+a+" is not registered for the observer!"));return this.event===a}};function A(){this.Jd={}}
A.prototype={Jd:{},i:function(a,b){this.Jd.hasOwnProperty(a)&&e(Error("The event "+a+" is already registered!"));"object"!==typeof b&&e(Error("Given arguments are not the correct type!"));for(var c in b)"string"!==typeof b[c]&&e(Error("The argument "+b[c]+" on index "+c+" is not of the type string!"));this.Jd[a]={args:b,observers:[],propagators:[]}},g:function(a,b){var c=this.Ye(a),d,f=0;d=c.args;for(f in b)d.hasOwnProperty(f)&&e(Error("The argument "+b[f]+" was not defined when registering the event!"));for(f in d)b.hasOwnProperty(f)&&
e(Error("The required argument "+d[f]+" was found!"));d=c.observers;for(f in d)d[f].Ic.ga([new Sb(a,b,this,d[f])]);c=c.propagators;for(f in c)c[f].g(a,b)},Ki:function(a){this.wm(a.event,a)},wm:function(a,b){var c=this.Ye(a),d,f=0;d=c.args;for(f in b.xc)d.hasOwnProperty(f)&&e(Error("The argument "+b.xc[f]+" was not defined when registering the event!"));for(f in d)b.xc.hasOwnProperty(f)&&e(Error("The required argument "+d[f]+" was found!"));d=c.observers;for(f in d)d[f].Ic.ga([new Sb(a,b.xc,this,d[f])]);
c=c.propagators;for(f in c)c[f].g(a,b.xc)},B:function(a){for(var b in a.jd){var c=this.Ye(a.jd[b]);a instanceof z||e(Error("You may only add GenericObserver as observer!"));c.observers.push(a)}},tb:function(a){for(var b in a.jd){var c=a.jd[b],d=this.Ye(c).observers,f;for(f in d)if(a==d[f]){d.splice(f,1);return}e(Error("Unable to remove observer +"+a+" for event "+c+"!"))}},fa:function(a,b){this.Ye(a).propagators.push(b)},Tk:function(a,b){var c=this.Jd[a];("undefined"===typeof c||c===j)&&e(Error("The event "+
a+" is not registered!"));var d=c.propagators,f;for(f in c.propagators)if(b==d[f]){d.splice(f,1);return}e(Error("Unable to remove propagators +"+b+" for event "+a+"!"))},Ye:function(a){var b=this.Jd[a];("undefined"===typeof b||b===j)&&e(Error("The event "+a+" is not registered!"));return b},Yn:function(a){a=this.Jd[a];return"undefined"!==typeof a&&a!==j}};function z(a,b){if(a==j||b==j)return j;"object"!==typeof a&&e(Error("Given events to listen to are not the correct type!"));for(var c in a)"string"!==typeof a[c]&&e(Error("The event "+a[c]+" on index "+c+" is not of the type string!"));b instanceof x||e(Error("Given handler is not an instance of handler!"));this.jd=a;this.Ic=b}z.prototype={jd:{},Ic:j,fo:function(a){for(var b in this.jd)if(this.jd[b]===a)return i;return k}};var O={Wj:function(a,b){var c=j,d=j;try{c=y(a)}catch(f){d=f}b.ga([c,d])},Xj:function(a,b){var c=0,d=j;try{c=y(a)}catch(f){d=f}b.ga([c,d])}};O.Ko=function(a,b,c,d){u("php/interface/profiles/get_battlenet_profile.php"+w({name:a,server:b,region:c}),new x(O.Wj,O),[d])};O.oq=function(a,b,c,d,f){u("php/interface/profiles/set_profile.php"+w({id:a,name:b,password:MD5(c),serialized:JSON.stringify(d.wl())}),new x(O.Xj,O),[f,d])};
O.Ol=function(a,b,c){u("php/interface/profiles/set_profile.php"+w({id:a,session_id:g_settings.sessionId,serialized:JSON.stringify(b.wl())}),new x(O.Xj,O),[c,b])};O.kq=function(a,b){u("php/interface/profiles/get_profile.php"+w({id:a}),new x(O.Wj,O),[b])};O.fq=function(a,b){u("php/interface/profiles/delete_profile.php"+w({id:a}),b,[a])};var P={cq:"DatabaseIO: Error - "};P.wn=function(a,b){u("php/interface/get_character_class.php"+w({"class":a,lang:g_settings.language}),new x(P.xn,P),[b])};P.xn=function(a,b){var c=j;200==a.status?(c=parseInt(a.getResponseHeader("error"),10))&&e(new Ia("DatabaseIO.getCharacterClass")):e(new Ka(a));b&&b.ga([eval("("+a.responseText+")")])};P.yn=function(a,b){u("php/interface/get_character_race.php"+w({race:a,lang:g_settings.language}),new x(P.zn,P),[b])};
P.zn=function(a,b){var c=j;200==a.status?(c=parseInt(a.getResponseHeader("error"),10))&&e(new Ia("DatabaseIO.getCharacterRace")):e(new Ka(a));b&&b.ga([eval("("+a.responseText+")")])};P.nq=function(a,b,c,d,f,g,h){u("php/interface/user/save_stat_weights.php"+w({name:b,description:c,chr_class_mask:g,"public":d?1:0,serialized:JSON.stringify(a),overwrite:f?1:0}),new x(P.op,P),[h])};
P.op=function(a,b){var c="",d=k;200==a.status?(d=eval("("+a.responseText+")"),c=d[0],d=d[1]):c="Wrong HTTP Response code: "+a.status;b&&b.ga([c,d])};P.mq=function(a,b,c){u("php/interface/user/remove_stat_weights.php"+w({name:b,user_id:a}),new x(P.Xo,P),[c])};P.Xo=function(a,b){var c="",c=200==a.status?eval("("+a.responseText+")"):"Wrong HTTP Response code: "+a.status;b&&b.ga([c])};function Tb(a,b){this.n=a;this.Za=b;this.Mg=k;this.md=i;this.me=this.Zn=k;this.hd=Ub;this.Cd=this.n.Pe&&1<this.n.Pe.Za}var Ub=0;Tb.prototype={n:j,Za:0,Mg:k,md:i,me:k,hd:Ub,Cd:k,Nd:function(){this.n.Pe&&this.n.Pe.Za>this.Za&&this.Za++},Vo:function(){1<this.Za&&this.Za--},Fp:ba("Mg"),Gp:function(a){this.me=(this.md=a)?k:this.me},xp:ba("hd"),wp:function(a){this.md=(this.me=a)?k:this.md}};function Vb(a){this.id=a[0];this.type=a[1];this.n=a[2]?new Q(a[2]):j;this.Gk=a[3]}Vb.prototype={id:0,type:0,n:j,Gk:0};function ta(a){var b;this.K=[j,j,j];this.F=[];this.dc=a;this.id=a[0];this.ha=a[1];this.$=a[2];this.xl=this.Y=a[3];this.Aa=a[4];this.Bc=a[5];this.f=a[6];this.Hb=a[7];this.dp=a[8];this.te=a[9];this.Uk=a[10];this.Wk=a[11];this.Qp=a[12];this.e=a[13];this.Ka=a[14];this.L=[];for(b=0;b<a[15].length;b++)this.L[b]=a[15][b]!=j?new Q(a[15][b]):j;this.ck=a[17];this.oj=this.name=a[18];this.ma=a[19]!=j?new Wb(a[19]):j;this.xg=a[20];this.W=a[21];this.Ad=a[22]!=j?new Xb(a[22]):j;this.t=a[23];this.oc=a[24];this.Ae=
a[25];this.Wm=a[26];this.Si=a[27];this.Nb=a[28];this.unique=a[29];this.Vk=a[30];this.ej=a[31];this.Pp=a[32];this.aj=a[33];this.Op=a[34];this.Np=a[35];this.qa=a[36]!=j?new Yb(a[36]):j;this.description=a[37];this.Bb=a[38];this.Nc=a[39];this.Lc=a[40];this.Va=j;if(a[41]){this.Va=[];for(b=0;b<a[41].length;b++)this.Va[b]=new Zb(a[41][b])}else if(a[42]){this.Va=[];for(b=0;b<a[42].length;b++)this.Va[b]=new $b(a[42][b])}this.bc=a[43];this.Be=a[44];this.ci=a[45];this.Qk=a[46];this.co=a[47];this.eo=a[48];this.en=
a[49]}
ta.prototype={K:j,Cb:j,S:j,cd:j,id:0,ha:0,$:0,Y:0,Aa:0,Bc:0,f:0,Hb:0,dp:0,te:0,Uk:0,Wk:0,Qp:0,e:0,Ka:0,L:j,ck:0,name:"",ma:0,xg:0,W:0,Ad:0,t:"",oc:"",Ae:0,Be:0,Wm:0,Si:0,Nb:0,unique:0,Vk:0,ej:0,Pp:0,aj:0,Op:0,Np:0,qa:0,description:"",Bb:0,Nc:0,Lc:0,ci:0,Qk:0,co:0,eo:0,en:0,ea:-1,ja:-1,ta:-1,sc:-1,Va:j,oj:"",bc:j,xl:0,se:0,cp:0,fp:0,bp:j,ep:j,nh:function(a){this.cd=a;for(var b=0;3>b;b++)this.K[b]&&this.K[b].nh(a)},si:function(){return 200<=this.f},Li:function(a,b){var c,d=k,f=-1,g=-1;-1!=this.ta&&e(new ac(this,
a,b,bc));200>this.f&&e(new ac(this,a,b,cc));for(c=0;c<La.length;c++)a==La[c]&&(d=i);d||e(new ac(this,a,b,dc));for(c=0;c<this.e.length;c++)this.e[c]&&(this.e[c][0]==b&&e(new ac(this,a,b,ec)),this.e[c][0]==a&&(f=c));if(this.S)for(c=0;c<this.S.F.length;c++)if((d=this.S.F[c])&&5==d.types[0])d.Ia[0]==b&&e(new ac(this,a,b,ec)),d.Ia[0]==a&&(g=c);-1==f&&-1==g&&e(new ac(this,a,b,gc));this.ta=a;this.ea=b;if(-1!=f)this.sc=this.e[f][1],this.ja=Math.floor(0.4*this.e[f][1]),this.e[f][1]-=this.ja;else if(-1!=g)d=
this.S.F[g],this.sc=c=d.Da[0],this.ja=Math.floor(0.4*c),d.aa(c-this.ja)},restore:function(){var a;if(-1!=this.ta){for(a=0;a<this.e.length;a++)if(this.e[a]&&this.e[a][0]==this.ta){this.e[a][1]=this.sc;break}if(this.S)for(a=0;a<this.S.F.length;a++){var b=this.S.F[a];b&&5==b.types[0]&&b.Ia[0]==this.ta&&b.aa(this.sc)}}this.sc=this.ta=this.ja=this.ea=-1},Vi:function(a){if(this.bc!=j){var b=0,c=0,d=0,a=Math.min(a,this.bc[21]);this.e[b]!=j&&50<this.e[b][0]&&(this.e[9]=this.e[b],this.e[b]=j);if(4==this.$){switch(this.Aa){case 1:this.Nb=
G[a][19+this.Y];c=G[a][7];break;case 3:this.Nb=G[a][11+this.Y];c=G[a][8];break;case 5:case 20:this.Nb=G[a][15+this.Y];c=G[a][7];break;case 7:this.Nb=G[a][23+this.Y];c=G[a][7];break;case 11:c=G[a][9];break;case 12:c=G[a][8];break;case 16:this.Nb=G[a][44],c=G[a][9]}switch(this.xl){case 4:this.Y=40<=a?4:3;this.oc[0]=locale.a_armor[this.Y];break;case 3:this.Y=40<=a?3:2,this.oc[0]=locale.a_armor[this.Y]}}else if(2==this.$){var f=1<<this.Y;f&262156?(c=G[a][10],d=G[a][4]):f&43153?(c=G[a][11],d=G[a][this.Be&
512?2:0]):f&1185122&&(c=G[a][7],d=G[a][this.Be&512?3:1])}if(c){for(f=0;10>f;f++)0<this.bc[f]&&(this.e[b++]=[this.bc[f],Math.floor(this.bc[f+10]*c/1E4)]);this.Be&512&&2==this.$&&0<G[a][6]&&(this.e[b++]=[45,G[a][6]])}if(d)this.Bb=d,this.Nc=Math.floor(this.Bb*this.Ka*(1-this.ci/2)/1E3),this.Lc=Math.floor(this.Bb*this.Ka*(1+this.ci/2)/1E3)}},il:function(a){if(!(this.S&&a==this.S.id))if(this.restore(),0==a)this.S=j,this.name=this.oj;else{if(this.Va)for(var b=0;b<this.Va.length;b++)if(this.Va[b].id==a){this.S=
this.Va[b].ic();this.name=this.oj+" "+this.S.name;return}e(Error("Unable to set random property (ID:"+a+")"))}},Xc:function(a){if(!a)return j;for(var b=0;b<this.F.length;b++){var c=this.F[b];if(7==c.types[0]&&7==a.types[0]||7!=c.types[0]&&7!=a.types[0])return this.F[b]=a,c}this.F.push(a);return j},Qo:function(a){if(a)for(var b=0;b<this.F.length;b++)if(this.F[b].id==a.id){this.F.splice(b,1);break}},Yc:function(a,b){this.Uj(a,b,k)},Zj:function(a,b){this.Uj(a,b,i)},Uj:function(a,b,c){if(a){!c&&this.cd!=
j&&(0<a.unique||a.Ek()==i)&&(this.K[b]==j||this.K[b].id!=a.id)&&!this.cd.ij(a.id)&&e(new hc(a,0,ic));if(1!=this.W[b]&&6==a.Y||1==this.W[b]&&6!=a.Y)return;if(a.qa&&a.qa.hh>this.f){c||e(new hc(a,0,jc));return}a.nh(this.cd)}this.K[b]=a},Oi:function(a){this.K[a]=j},ti:function(){if(!this.Ad)return k;for(var a=0;3>a;a++)if(this.W[a]){if(this.K[a]==j)return k;switch(this.W[a]){case 1:if(6!=this.K[a].Y)return k;break;case 2:if(!(Math.pow(2,this.K[a].Y)&297))return k;break;case 4:if(!(Math.pow(2,this.K[a].Y)&
308))return k;break;case 8:if(!(Math.pow(2,this.K[a].Y)&282))return k}}return i},Fa:function(){var a=this.cd.X,b,c;for(b=0;5>b;b++)(c=this.L[b])&&1==this.ej[b]&&a.add(this.L[b]);for(b=0;3>b;b++)(c=this.K[b])&&c.Fa(a);for(b=0;b<this.F.length;b++)this.F[b].Fa(a);this.Ad!=j&&this.ti()&&this.Ad.Fa(a);this.qa!=j&&this.qa.Cb.Qa(this.cd)&&this.qa.Cb.Fa(a)},$n:function(){return 0<this.unique},Ek:function(){return 0!=(this.Ae&524288)},Tn:function(){for(var a=0,b=0,c=0;3>c;c++)this.K[c]&&b++,this.W[c]&&a++;
return b>a},ge:function(a){for(var b=0,c=0;10>c;c++)this.e[c]!=j&&0<this.e[c][0]&&(b+=a[this.e[c][0]]*this.e[c][1]);this.qa&&(b+=this.qa.Cb.ge(a));return b},ic:function(){return new ta(this.dc)},mi:function(a){var b;for(b=0;b<this.e.length;b++)if(this.e[b]&&this.e[b][0]==a)return this.e[b][1];if(this.S)for(b=0;b<this.S.F.length;b++){var c=this.S.F[b];if(c&&5==c.types[0]&&c.Ia[0]==a)return c.Da[0]}return 0}};function kc(a,b){this.id=b[0];this.name=b[1];this.description=b[2];this.lg=[];for(var c=0;c<b[3].length;c++){var d=new lc(b[3][c]);d&&(this.lg.push(d),C.set(d.n))}this.character=a;this.ia(Pb(this.id,a.f))}kc.prototype={id:0,name:"",description:"",lg:[],f:0,ia:function(a){var b=Pb(this.id,this.character.f);this.f=a>b?b:a},vn:function(){for(var a=0,b=j,c=0;c<this.lg.length;c++){var d=this.lg[c];if(d.se>a&&d.se<=this.f)a=d.se,b=d}return b==j?j:b.n}};function mc(a){var b,c;this.id=a[0];this.r=[];for(b=0;b<a[1].length;b++)c=new Q(a[1][b]),this.r.push(new Tb(c,1)),C.set(c);this.X=[];for(b=0;b<a[2].length;b++)this.X.push(new Q(a[2][b]))}mc.prototype={r:[],X:[],id:0};function nc(a){this.id=a[0];this.name=a[1];this.Ym=a[2]}nc.prototype={id:0,name:"",Ym:0};function lc(a){this.id=a[0];this.n=a[1]?new Q(a[1]):j;this.Jo=a[2];this.pg=a[3];this.se=a[4];this.Zo=a[5]}lc.prototype={id:0,n:j,Jo:0,se:0,Zo:0};function Q(a){var b,c=a[17],d=j;if(c!=j)for(b=0;b<c.length;b++)(d=c[b])&&!C.contains(d[0])&&C.set(new Q(d));this.f=85;this.dc=a;this.id=a[0];this.name=a[1];this.ln=a[2];this.t=a[3];this.duration=a[4];this.Wa=a[5];this.fd=a[6];this.be=a[7];this.Se=a[8];this.sg=a[9];this.Zi=this.sg==j?0:Math.max(this.sg[0],this.sg[1])/1E3;this.I=Array(3);for(b=0;3>b;b++)this.I[b]=a[10][b]?new oc(a[10][b]):j;this.Tc=a[11]?new pc(a[11]):j;this.dk=a[12]?a[12]:"";this.pp=a[13];this.uh=a[14]?new qc(a[14]):j;this.eb=a[15]?
new rc(a[15]):j;this.type=[];for(b=0;b<a[16].length;b++)c=a[16][b],0>c&&(c=~c+1),this.type[b]=c;this.Pe=a[18]?new sc(a[18]):j;this.gn=a[19]?new tc(a[19]):j;this.hd=a[20];this.ia(this.f)}
Q.prototype={f:0,dc:j,id:j,name:j,ln:j,t:j,duration:j,Wa:j,fd:j,be:j,Se:j,sg:j,Zi:0,I:j,Tc:j,dk:j,pp:k,uh:j,eb:j,Pe:j,gn:j,type:j,hd:0,ud:0,Rb:function(a){for(var b=this.dk,c,d,f;(c=b.match(/\$(s|m|M)\(-?(\d+),(-?\d+),(-?\d+),(-?\d+),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?)\)/i))!=j;)f=parseFloat(c[8]),d=Wa(parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],10),this.f),d=Ua(d?d[1]:1,parseInt(c[5],10),parseFloat(c[6]),parseFloat(c[7]),this.f),b=b.replace(c[0],Math.floor(f*(Math.abs(d[0])+
("M"==c[1]?Math.abs(d[1]):0))));for(;(c=b.match(/\$d\((\d+),(\d+),(\d+),(\d+(?:\.\d+)?)\)/i))!=j;)d=Wa(parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],10),this.f),b=b.replace(c[0],d[0]);for(;c=b.match(/(\${[^}]*)\$time\((-?\d+(?:\.\d+)?)\)([^}]*})/i);)b=b.replace(c[0],c[1]+c[2]+c[3]);for(;c=b.match(/\$time\((-?\d+(?:\.\d+)?)\)/i);)b=b.replace(c[0],Hb(c[1]));return Ab(b.replace(/\$pl/ig,this.f),a)},ia:function(a){var b,c;this.f=a;if(this.Tc!=j){a=Wa(this.Tc.gk,this.Tc.fk,this.Tc.Ak,this.f);if(a!=
j)this.Se=a[0];for(c=0;c<this.I.length;c++)if(this.I[c]!=j&&(b=Ua(a!=j?a[1]:1,this.Tc.Ob,this.Tc.Xh[c],this.Tc.kk[c],this.f),b!=j))this.I[c].value=b[0],this.I[c].jk=b[1]}else for(c=0;c<this.I.length;c++)this.I[c]!=j&&this.I[c].ia(a)},ri:function(){return 0!=(this.type[0]&64)&&0>=this.duration},ic:function(){return new Q(this.dc)},toString:function(){return"Spell ["+this.id+"]: "+this.Rb(j)},Zk:function(){return this.id},ge:function(a){var b=0;if(!this.ri())return 0;for(var c=0;3>c;c++)this.I[c]&&
(b+=this.I[c].ge(a));return b},uk:function(){for(var a=0;3>a;a++)if(this.I[a]&&23==this.I[a].We)return C.get(this.I[a].Xg)}};function Xb(a){var b;this.id=a[0];this.types=[];this.Da=[];this.Ia=[];for(b=0;5>b;b++)this.types[b]=a[1][b],this.Da[b]=a[2][b],this.Ia[b]=a[3][b];this.L=[];for(b=0;3>b;b++)this.L[b]=1==this.types[b]||3==this.types[b]||7==this.types[b]?new Q(a[4][b]):a[4][b];this.description=a[5];this.Cc=a[6];this.jh=a[7]?new nc(a[7]):j;this.te=a[8];this.Hb=a[9];this.ub=a[10]}
Xb.prototype={id:0,types:[],Da:[],Ia:[],description:"",nj:"",Cc:j,jh:j,te:0,Hb:0,L:[],ub:0,Ck:function(a){if(a!=j&&this.Cc!=j)for(var b=0;5>b;b++)if(!this.Bk(b,a.z.Ec))return k;return i},Bk:function(a,b){var c=this.Cc[1][a];c||(c=0);var d=this.Cc[2][a];d||(d=0);var f=this.Cc[3][a];f||(f=0);var g=this.Cc[4][a];g||(g=0);if(!b||0==d&&0!=g&&b[c]!=g||2==d&&b[c]>=b[f])return k;if(3==d)if(0<g){if(b[c]<g+1)return k}else if(b[c]<=b[f])return k;return 0<c&&5==d&&b[c]<g?k:i},aa:function(a){if(5==this.types[0]||
4==this.types[0])this.Da[0]=a;else if(3==this.types[0]&&this.L[0]!=j&&this.L[0].I[0]!=j)this.L[0].I[0].value=a;if(!this.nj)this.nj=this.description;this.description=this.nj.replace(/\$i/g,a)},ok:function(a){return 1>=this.Hb||a!=j&&this.Hb<=a.f},pk:function(a){return this.jh&&0<this.te?a&&(a=a.sk(this.jh.id),a!=j&&a.f>=this.te)?i:k:i},Qa:function(a){return this.ok(a)&&this.pk(a)&&this.Ck(a)},ka:function(a){var b=this.ok(a),c=this.pk(a),d=this.Ck(a),a="<table cellpadding = 0 cellspacing = 0>"+M("<span "+
(c&&b?d?"class='green'":"class='grey'":"class='red'")+">"+(7==this.types[0]&&this.L[0]?locale.use+": "+this.L[0].Rb(a).join("<br />"):this.description)+"</span>");b||(a+=M("<span class='red'>"+J(locale.reqLevel,this.Hb)+"</span>"));c||(a+=M("<span class='red'>"+locale.req+" "+this.jh.name+" ("+this.te+")</span>"));return a+"</table>"},Fa:function(a){for(var b=0;3>b;b++)3==this.types[b]&&a.add(this.L[b])},ge:function(a){for(var b=0,c=0;3>c;c++)switch(this.types[c]){case 5:switch(this.Ia[c]){case 0:b+=
a[2]*this.Da[c];break;default:b+=a[this.Ia[c]]*this.Da[c]}break;case 4:switch(this.Ia[c]){case 0:b+=a[50]*this.Da[c];break;case 1:b+=a[53]*this.Da[c];break;case 2:b+=a[51]*this.Da[c];break;case 3:b+=a[55]*this.Da[c];break;case 4:b+=a[52]*this.Da[c];break;case 5:b+=a[54]*this.Da[c];break;case 6:b+=a[56]*this.Da[c]}break;case 3:b+=this.L[c].ge(a)}return b}};function uc(a,b){var c;this.T=0;this.id=b[0];this.kj=a;this.zf=b[1];this.Yh=b[2];this.L=Array(5);for(c=this.Gb=0;c<b[3].length;c++)b[3][c]?(this.L[c]=new Q(b[3][c]),C.set(this.L[c]),this.Gb++):this.L[c]=j;this.t=this.L[0].t;this.Xk=b[4];this.Ib=[j,j,j];this.Ua=b[5]}
uc.prototype={id:0,L:j,Gb:0,Xk:0,T:0,kj:0,zf:0,Yh:0,id:0,Ib:[],t:"Temp",Me:function(){for(var a=0;3>a;a++)if(this.Ib[a]!=j&&!this.Ib[a].ne())return k;return i},Ep:function(a,b){this.Ib[a]=b},getName:function(){return this.L[0]?this.L[0].name:j},tk:function(){return 0==this.T?j:this.L[this.T-1]},Fn:function(){return this.T==this.Gb?j:this.L[this.T]},ne:function(){return this.Gb==this.T},Xn:function(a,b){return 4==b?3==a||31==a||35==a||41==a?(this.Ua[0]&212992||0==this.Ua[0])&&(this.Ua[1]&2147483648||
0==this.Ua[1])?i:k:this.Ua[0]&21238021||0==this.Ua[0]?i:k:1==b?7==a||37==a||44==a?(this.Ua[0]&2064||0==this.Ua[0])&&(this.Ua[1]&268435456||0==this.Ua[1])?i:k:(this.Ua[0]&42476576||0==this.Ua[0])&&(this.Ua[1]&201326592||0==this.Ua[1])?i:k:i}};function oc(a){this.Ho=a[0];this.Oe=a[1];this.We=a[2];this.Bo=a[3];this.value=a[4];this.Up=a[5];this.hn=a[6];this.jk=a[7];this.Jb=53==this.Oe?new Xb(a[8]):a[8];this.Kl=a[9];this.Eo=a[10];this.vi=a[11];this.Xg=a[12];this.id=a[13];this.bk=this.value}
oc.prototype={id:0,Ho:0,Oe:0,We:0,Bo:0,value:0,Up:0,hn:0,jk:0,Jb:j,Kl:0,Eo:0,vi:0,Xg:0,bk:0,ia:function(a){if(0!=this.vi)this.value=Math.floor(this.bk+this.vi*(a-1))},In:function(){return 0>=this.Xg?j:C.get(this.Xg)},ge:function(a){var b=0,c;switch(this.We){case 22:for(c=0;7>c;c++)if(0!=(this.Jb&1<<c))switch(c){case 0:b+=a[50]*this.value;break;case 1:b+=a[53]*this.value;break;case 2:b+=a[51]*this.value;break;case 3:b+=a[55]*this.value;break;case 4:b+=a[52]*this.value;break;case 5:b+=a[54]*this.value;
break;case 6:b+=a[55]*this.value}break;case 29:switch(this.Jb){case 0:b+=a[4]*this.value;break;case 1:b+=a[3]*this.value;break;case 2:b+=a[7]*this.value;break;case 3:b+=a[5]*this.value;break;case 4:b+=a[6]*this.value;break;case -1:for(c=3;7>=c;c++)b+=a[c]*this.value}break;case 34:b+=a[1]*this.value;break;case 35:0==this.Jb&&(b+=a[2]*this.value);break;case 85:b+=a[43]*this.value;break;case 99:b+=a[38]*this.value;break;case 124:b+=a[39]*this.value;break;case 189:for(c=0;32>c;c++)0!=(this.Jb&1<<c)&&
(19>=c?b+=a[c+11]*this.value:23==c?b+=a[37]*this.value:25==c&&(b+=a[49]*this.value))}return b}};function rc(a){this.kb=a[0];this.ub=a[1];this.Kf=a[2]}rc.prototype={kb:0,ub:0,Kf:0};function pc(a){this.gk=a[0];this.fk=a[1];this.Ak=a[2];this.Ob=a[3];this.Xh=a[4];this.kk=a[5]}pc.prototype={gk:0,fk:0,Ak:0,Xh:0,kk:0,Ob:0};function qc(a){this.pn=a[0];this.qn=a[1];this.ii=a[2];this.rn=a[3];this.sn=a[4]}qc.prototype={pn:0,qn:0,ii:0,rn:0,sn:0};function sc(a){this.Za=a[0];this.Go=a[1];this.Fo=a[2]}sc.prototype={Za:0,Go:0,Fo:0};function tc(a){this.kb=a[0]}tc.prototype={kb:0};function ac(a,b,c,d){this.zb=d;this.Ba=a;this.eq=c;this.lq=b}ac.prototype={zb:j,Ba:j,add:-1,red:-1,toString:function(){return"Unable to reforge "+this.Ba+", reducing "+this.red+" and adding "+this.add+(this.zb?"!\n Cause:"+this.zb.toString():"")}};var dc=2,ec=3,gc=4,cc=5,bc=6;function vc(a,b){this.zb=b;this.Ba=a}
vc.prototype={zb:j,Ba:j,toString:function(){switch(this.zb){case wc:return"You do not match the class requirement to wear this item!";case xc:return"You do not match the requirement to wear this item!";case yc:return"You are already wearing this item!";default:return"Unable to equip "+this.Ba.name+" due to unknown reason!"}}};var wc=0,xc=1,yc=3;function hc(a,b,c){this.zb=c;this.tn=a}hc.prototype={zb:j,tn:j};var jc=0,ic=3;function Yb(a){this.Cb=new Xb(a[0]);this.hh=a[1]}Yb.prototype.Cb=j;Yb.prototype.hh=0;function zc(){}zc.prototype={id:0,name:"",F:[],dc:[],ic:l(j)};function Zb(a){this.id=a[0];this.name=a[1];this.F=[];for(var b=0;5>b;b++)this.F[b]=a[2+b]?new Xb(a[2+b]):j;this.dc=a}Zb.prototype=new zc;Zb.prototype.ic=function(){return new Zb(this.dc)};function $b(a){this.id=0-a[0];this.name=a[1];this.F=[];for(var b=0;5>b;b++)a[2+b]?(this.F[b]=new Xb(a[2+b][1]),this.F[b].aa(a[2+b][0])):this.F[b]=j;this.dc=a}$b.prototype=new zc;$b.prototype.ic=function(){return new $b(this.dc)};function Wb(a){var b;this.id=a[0];this.name=a[1];this.hq=a[2];this.Rd=[];for(b=0;b<a[3].length;b++)this.Rd[b]=a[3][b]!=j?new Q(a[3][b]):j;this.Ri=a[4];this.bo=a[5];this.l=a[6]}Wb.prototype={id:0,name:"",Rd:[],Ri:[],Fa:function(a){for(var b=0;8>b;b++)this.Rd[b]!=j&&a.ji(this.id)>=this.Ri[b]&&a.X.add(this.Rd[b])}};function Ac(a){this.character=a;this.I=[this.Tf(),this.Tf(),this.Tf(),this.Tf()];this.cf=[-1,-1];this.hf=[-1,-1];this.wf=[-1,-1];this.Re=this.Pd=this.Jc=j}
Ac.prototype={character:j,X:[],r:[],I:[],cf:[-1,-1],hf:[-1,-1],wf:[-1,-1],Jc:{},Pd:{},Re:{},Ph:{},Gm:0,Tf:function(){var a=Array(321);a[13]=Array(7);a[22]=Array(7);a[29]=Array(5);a[30]=Array(96);a[35]=Array(7);a[55]=Array(7);a[71]=Array(7);a[79]=Array(7);a[98]=Array(96);a[101]=Array(25);a[107]=Array(25);a[108]=Array(25);a[123]=Array(7);a[135]=Array(7);a[137]=Array(7);a[142]=Array(7);a[143]=Array(7);a[174]=Array(7);for(var b=0;7>b;b++)a[174][b]=Array(5);a[175]=Array(5);a[189]=Array(38);a[199]=Array(7);
a[212]=Array(5);a[219]=Array(5);a[220]=[];for(b=0;32>b;b++)a[220][b]=[0,0,0,0,0];a[237]=Array(7);a[238]=Array(7);a[268]=Array(5);return a},uj:function(a){if(a)for(var b=0;b<a.length;b++)"object"===typeof a[b]?this.uj(a[b]):a[b]=0},add:function(a){a&&!this.Pd[a.id]&&(this.X.push(a),this.Pd[a.id]=i)},Ke:function(a){a&&!this.Re[a.n.id]&&(this.r.push(a),this.Re[a.n.id]=i)},Qa:function(a){return this.Pd[a]||this.Re[a]?i:k},En:function(){var a=[],b={},c,d;c=j;this.Gm=Qa[this.character.d?this.character.d.id:
0];this.X=[];this.r=[];this.uj(this.I);this.Pd={};this.Re={};this.Ph={};this.cf=[-1,-1];this.hf=[-1,-1];this.wf=[-1,-1];this.character.Fa();for(d=0;d<Bc;d++)if(c=this.character.ra(d,0)){c.Fa();if(16==d)this.cf=[c.$,c.Y];if(17==d)this.hf=[c.$,c.Y];if(18==d)this.wf=[c.$,c.Y];if(c.ma!=j&&b[c.ma.id]!==i)b[c.ma.id]=i,a[a.length]=c.ma}for(d=0;d<a.length;d++)a[d].Fa(this.character);this.Jc={};for(d=0;d<this.X.length;d++)this.Bj(this.X[d],1,k,k);for(d=0;d<this.r.length;d++)c=this.r[d],!c.me&&!this.Ph[c.n.id]&&
this.Bj(c.n,c.Za,i,c.Zn);return this.I},Bj:function(a,b,c,d){if(a&&(a.ia(this.character.f),!(a.uh&&0!=a.uh.ii&&0==(a.uh.ii&1<<(this.character.d?this.character.d.Ca-1:0))||!c&&!a.ri())))if(this.Ph[a.id]=i,a.eb!=j&&-1!=a.eb.kb){if(a.eb.kb==this.cf[0]&&a.eb.Kf&1<<this.cf[1]&&this.De(a,this.I[1],b,c,d),a.eb.kb==this.hf[0]&&a.eb.Kf&1<<this.hf[1]&&this.De(a,this.I[2],b,c,d),a.eb.kb==this.wf[0]&&a.eb.Kf&1<<this.wf[1]&&this.De(a,this.I[3],b,c,d),4==a.eb.kb){var f,g,h=i;for(f=0;32>f&&h;f++)if(a.eb.ub&1<<f&&
(g=Ra[f],g=this.character.ra(g,0),!g||!(g.$==a.eb.kb&&a.eb.Kf&1<<g.Y)))h=k;h&&this.De(a,this.I[0],b,c,d)}}else this.De(a,this.I[0],b,c,d)},De:function(a,b,c,d,f){var a=a.I,g=0,h=k;if(d&&!f)for(d=0;3>d;d++)if(a[d]!=j&&65==a[d].Oe){h=i;break}for(d=0;3>d;d++)if(f=a[d],f!=j&&(g=f.id,!(h&&65!=f.Oe))){switch(g){case 68368:if(this.Jc[47203])continue;break;case 47203:if(this.Jc[68368])continue;break;case 44537:if(this.Jc[90962])continue;break;case 90962:if(this.Jc[44537])continue;break;case 3549:case 45922:case 48552:if(!this.Oj([3549,
45922,48552]))continue;break;case 86186:case 97691:case 48553:if(!this.Oj([86186,97691,48553]))continue}this.Jc[g]=i;this.Bh(b,f.We,f.value*c,f.Jb,f.Kl,g)}},Oj:function(a){for(var b in a)if(this.Jc[a[b]])return k;return i},Bh:function(a,b,c,d,f,g){var h;h=this.character.d?this.character.d.Ca:0;switch(g){case 81812:c=120;break;case 88002:case 88004:case 88006:if(5!=h&&8!=h)return;b=142;d=1;break;case 8697:case 8700:case 8694:if(5!=h&&8!=h)return;b=137;f=4;break;case 8699:case 8696:case 8693:if(1!=
h)return;b=166}switch(b){case 13:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 22:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 29:if(-1==d)for(h=0;5>h;h++)this.Bh(a,b,c,h,f,g);else a[b][d]+=c;break;case 30:a[b][d]+=c;break;case 35:a[b][d]+=c;break;case 55:0==d&&(d=127);for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 71:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 79:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=
c);break;case 98:a[b][d]+=c;break;case 99:a[b]+=c;break;case 101:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 107:a[b][d]+=c;break;case 108:a[b][d]+=c;break;case 123:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 124:a[b]+=c;break;case 135:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 137:for(h=0;h<a[b].length;h++)if(f&1<<h||-1==f)a[b][h]=100*((1+a[b][h]/100)*(1+c/100)-1);break;case 142:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]=
100*((1+a[b][h]/100)*(1+c/100)-1));break;case 143:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]=Math.max(c,a[b][h]));break;case 174:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h][f]+=c);break;case 175:a[b][d]+=c;break;case 189:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 199:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 212:a[b][d]+=c;break;case 219:a[b][d]+=c;break;case 220:for(h=0;32>h;h++)d&1<<h&&(a[b][h][f]+=c);break;case 237:for(h=0;h<a[b].length;h++)d&
Math.pow(2,h)&&(a[b][h]+=c);break;case 238:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 240:21444==g&&this.Qa(56416)&&(c+=10);a[b]+=c;break;case 268:if(-1==d)for(h=0;5>h;h++)this.Bh(a,b,c,h,f,g);else a[b][d]+=c;break;default:a[b]+=c}}};function Cc(){this.r={};this.c=new A;this.c.i("change",["silent"]);this.c.i("remove_buff",["buff","silent"]);this.c.i("remove_stack",["buff","silent"])}var Dc;
Dc=function(a,b){u("php/interface/get_buffs.php",new x(function(c){try{var d=y(c),c={},f;for(f in d){c[f]=[];for(var g=0;g<d[f].length;g++)if("Food"===f){var h=new ta(d[f][g]);B.set(h);var n=h.L[0]!=j&&h.L[0].uk()?new Ec(h.name,h.t,h.L[0].uk(),b):j;n&&c[f].push(n)}else{var r=new Q(d[f][g]);C.set(r);c[f].push(new Ec(r.name,r.t,r,b))}}a.ga([c,j])}catch(v){a.ga([j,v])}},Cc),[])};
Cc.prototype={r:{},B:function(a){this.c.B(a)},set:function(a){this.r[a.n.id]=a;this.c.g("change",{silent:k})},Nd:function(a){(a=this.r[a])&&a.Nd();this.c.g("change",{silent:k})},dg:function(a,b,c){C.Ne(a,new x(this.Tj,this),[a,b,i,i,c,Ub])},add:function(a,b){C.Ne(a,new x(this.Tj,this),[a,k,k,b,k,Ub])},Tj:function(a,b,c,d,f,g){d=k;switch(a){case 79060:case 79062:this.xb([79060,79062])||(d=i);break;case 80353:case 32182:this.xb([80353,32182])||(d=i);break;case 79104:case 6307:case 469:this.xb([79104,
6307,469])||(d=i);break;case 79101:case 53138:case 30808:case 19506:this.xb([79101,53138,30808,19506])||(d=i);break;case 79057:case 54424:this.xb([79057,54424])||(d=i);break;case 77747:case 53646:this.xb([77747,53646])||(d=i);break;case 2895:case 49868:case 24907:this.xb([24907,49868,2895])||(d=i);break;case 53290:case 8515:case 55610:this.xb([8515,55610,53290])||(d=i);break;case 51701:case 29801:case 51470:case 24932:this.xb([51701,29801,51470,24932])||(d=i);break;case 6673:case 8076:case 57330:case 93435:this.xb([6673,
8076,57330,93435])||(d=i)}var h=C.get(a),n=[];if(h.hd){for(var r in this.r)0!=(this.r[r].n.hd&h.hd)&&n.push(this.r[r].n.id);d=!this.xb(n)}d||(this.r[a]!=j&&this.r[a].md==(c?k:i)&&this.r[a].Cd?this.r[a].Nd():(this.r[a]=new Tb(h,1),this.r[a].Fp(b),this.r[a].Gp(c?k:i),this.r[a].xp(g),this.r[a].wp(f)));this.c.g("change",{silent:c?i:k})},gh:function(a,b){b&&(!this.r[a]||!this.r[a].md)?delete this.r[a]:this.Kj(a,i)},remove:function(a){this.Kj(a,k)},Kj:function(a,b){if(this.r[a]&&!this.r[a].Mg&&(!b||!this.r[a].md))if(this.r[a]&&
1<this.r[a].Za)this.r[a].Vo(),this.c.g("remove_stack",{buff:this.r[a],silent:b?i:k});else{var c=this.r[a];delete this.r[a];this.c.g("remove_buff",{buff:c,silent:b?i:k})}},xb:function(a){for(var b=0;b<a.length;b++){if(this.r[a[b]]&&this.r[a[b]].Mg)return k;delete this.r[a[b]]}return i},Qa:function(a){return this.r[a]?i:k}};function Fc(a){this.l=Array(19);this.Ec=[0,0,0,0,0];this.character=a;this.xf=j;for(a=0;a<this.l.length;a++)this.l[a]=[j,j,j,j,j]}var Gc=[1,2,3,16,[20,5],4,19,9,10,6,7,8,11,11,12,12,[21,17,13],[23,22,14,13,17],[28,26,25,15]],Bc=19;
Fc.prototype={l:[],Wg:j,Qc:0,mf:-1,Bi:j,Lk:j,fi:k,gi:j,xf:{},Ec:[],character:j,Zf:function(a){for(var b=this.l[a].length-1;0<b;b--)this.l[a][b]=this.l[a][b-1];this.l[a][0]=j},Qj:function(a,b){16==b&&!this.character.Th()&&17==a.Aa&&this.l[17][0]!=j&&this.Zf(17);17==b&&!this.character.Th()&&this.l[16][0]&&17==this.l[16][0].Aa&&this.Zf(16)},sh:function(a){this.Xa();this.xf=this.Mi();this.yf();this.dh(a)},fl:function(a,b,c){-1<c?(this.Lk=this.l[b][0].K[c],this.l[b][0].Zj(a,c)):(this.Wg=a)&&a.nh(this.character);
this.Qc=b;this.mf=c},Ti:function(a,b){if(this.l[b][0]!=j){var c=j;if(a!=j&&a.I[0]!=j&&a.I[0].Jb)c=a.I[0].Jb;this.gi=c;this.Bi=this.l[b][0].Xc(c);this.Qc=b;this.fi=i}},Xa:function(){-1<this.Qc&&(-1<this.mf&&(this.l[this.Qc][0].Zj(this.Lk,this.mf,i),this.Bl()),this.fi&&(this.l[this.Qc][0].Qo(this.gi),this.l[this.Qc][0].Xc(this.Bi)));if(this.xf)this.yf(),this.dh(this.xf),this.xf=j;this.Wg=this.Bi=j;this.mf=this.Qc=-1;this.fi=k;this.gi=j},set:function(a,b){var c=k,d;if("object"==typeof Gc[a])for(d=0;d<
Gc[a].length;d++)b.Aa==Gc[a][d]&&(c=i);else b.Aa==Gc[a]&&(c=i);b.Vi(this.character.f);this.character.mg(b)||e(new vc(b,xc));this.character.yg(b)||e(new vc(b,wc));this.Rj(b,a)&&(this.Qj(b,a),c&&(this.Zf(a),(this.l[a][0]=b)&&b.nh(this.character)));return c},ij:function(a){var b,c,d,f;for(b=0;b<this.l.length;b++)if(d=this.l[b][0],d!=j)for(c=0;c<d.K.length;c++)if(f=d.K[c],f!=j&&f.id==a)return k;return i},Rj:function(a,b){var c;if(a.$n()||a.Ek()==i)for(c=0;c<this.l.length;c++)c!=b&&this.l[c][0]!=j&&a.id==
this.l[c][0].id&&e(new vc(a,yc));return i},remove:function(a){this.l[a][0]!=j&&this.Zf(a)},Sp:function(a,b){if(this.Rj(this.l[a][b],a)){this.Qj(this.l[a][b],a);var c=this.l[a][0];this.l[a][0]=this.l[a][b];this.l[a][b]=c}},get:function(a){return this.Qc==a&&-1==this.mf&&this.Wg!=j?this.Wg:0<=a&&a<this.l.length?this.l[a][0]:j},ji:function(a){for(var b=0,c=j,d=0;19>d;d++)c=this.get(d),c!=j&&c.ma!=j&&c.ma.id==a&&b++;return b},Zk:function(){for(var a="",b=1;b<this.l.length;b++)a+="_",this.l[b][0]!=j&&
(a+=this.l[b][0].Zk());return a},Bl:function(){var a=j,b=j,b=-1;this.Ec=[0,0,0,0,0];for(var c=0;19>c;c++)if(a=this.get(c))for(var d=0;3>d;d++)if(b=a.K[d])b=b.Y,6==b&&this.Ec[1]++,(0==b||3==b||5==b||8==b)&&this.Ec[2]++,(2==b||4==b||5==b||8==b)&&this.Ec[3]++,(1==b||3==b||4==b||8==b)&&this.Ec[4]++},Oi:function(a){var b,c;for(b=0;b<this.l.length;b++)if(this.l[b][0]!=j)for(c=0;3>c;c++)this.l[b][0].K[c]&&this.l[b][0].K[c].id==a&&this.l[b][0].Yc(j,c)},yf:function(){var a;for(a=0;19>a;a++)this.l[a][0]&&this.l[a][0].restore()},
dh:function(a){this.yf();for(var b in a)if(this.l[b][0])if(-1==a[b][0])this.l[b][0].restore();else try{this.l[b][0].Li(a[b][0],a[b][1])}catch(c){e(c)}},Mi:function(){for(var a=[],b=0;19>b;b++)this.l[b][0]&&(a[b]=[this.l[b][0].ta,this.l[b][0].ea]);return a}};function Hc(a,b,c){this.c=new A;this.c.i("talents_reset",[]);this.c.i("talent_tree_reset",["tree"]);this.c.i("talent_tree_selected",["tree"]);this.c.i("talent_point_added",["tree","row","col","remainingPoints"]);this.c.i("talent_point_removed",["tree","row","col","remainingPoints"]);this.c.i("talent_distribution_set",["distribution"]);this.c.i("talents_init",[]);this.id=a;this.Co=0;this.ca=(this.Sb=c)?1:3;this.rows=c?6:11;this.cols=4;this.Vb=c?20:10;this.qb=c?3:5;this.Kc=c?4:1;this.f=Ic;this.q=[];
this.sa=[];this.pe=[];this.Ob=[];this.Xd=[];this.ec=[];this.mj=[];this.lj=[];for(var d,f=[],a=0;a<this.ca;a++){this.ec[a]=b[a][0];this.mj[a]=b[a][2];this.lj[a]=b[a][1];this.q[a]=Array(this.rows);for(c=0;c<this.rows;c++)this.q[a][c]=Array(this.cols);for(c=0;c<b[a][3].length;c++)if(d=new uc(a,b[a][3][c]),!this.Sb||d.Xn(this.Co,this.id))this.q[a][d.zf][d.Yh]=d,f[d.id]=d;for(c=0;c<this.rows;c++)for(d=0;d<this.cols;d++)if(this.q[a][c][d]!=j)for(var g=this.q[a][c][d],h=0;3>h;h++){var n=g.Xk[h];n&&g.Ep(h,
f[n])}this.pe[a]=[];for(c=0;c<b[a][4].length;c++)this.pe[a][c]=b[a][4][c]!=j?new Q(b[a][4][c]):j;this.sa[a]=[];for(c=0;c<b[a][5].length;c++)this.sa[a][c]=new Q(b[a][5][c])}this.vc(-1);this.c.g("talents_init",{})}var Jc=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];
Hc.prototype={c:j,Vb:10,f:0,ca:0,rows:0,cols:0,qb:0,Kc:1,q:[],Ob:[],Xd:[],ed:"",xa:[],J:-1,Sb:k,pe:[],sa:[],ec:[],mj:[],lj:[],B:function(a){this.c.B(a)},tb:function(a){this.c.tb(a)},vc:function(a){this.J=a;this.Yf(i);this.c.g("talent_tree_selected",{tree:a})},Gc:function(){return this.Mm<this.Vb?0:this.Bg()-this.Dg()},Bg:function(){return this.f<this.Vb?0:this.Sb?Math.floor((this.f-this.Vb)/this.Kc+1):1+Math.min(35,this.f-9>>1)+Math.max(0,this.f-80)},Dg:function(){for(var a=0,b=0;b<this.ca;b++)a+=
this.xa[b];return a},ia:function(a){this.Mm=a;0>this.Gc()&&this.Yf(i)},Tm:function(a,b,c){this.Dj(a,b,c,1)&&this.c.g("talent_point_added",{tree:a,row:b,col:c,remainingPoints:this.Gc()})},So:function(a,b,c){this.Dj(a,b,c,-1)&&this.c.g("talent_point_removed",{tree:a,row:b,col:c,remainingPoints:this.Gc()})},Dj:function(a,b,c,d){if(-1!=this.J&&this.q[a][b][c]!=j&&this.q[a][b][c].T+d<=this.q[a][b][c].Gb&&0<=this.q[a][b][c].T+d&&0<=this.Gc()-d&&this.xa[a]>=this.qb*b&&(31<=this.xa[this.J]||a==this.J)&&(this.J!=
a||31<=this.xa[a]+d||this.Dg()==this.xa[a])){this.q[a][b][c].T+=d;this.xa[a]+=d;if(this.Hm(a))return this.Ie(),i;this.q[a][b][c].T-=d;this.xa[a]-=d}return k},Hm:function(a){var b=0,c,d,f,g=[];for(c=0;c<this.rows;c++){g[c]=[];for(d=0;d<this.cols;d++)if(g[c][d]=-1,f=this.q[a][c][d],f!=j&&0<f.T){if(b<c*this.qb||!f.Me())return k;b+=f.T}}return i},reset:function(){this.Yf(k);this.Ie();this.c.g("talents_reset",{})},Yf:function(a){for(var b=0;b<this.ca;b++)this.Lj(b);a||this.vc(-1)},kp:function(a){a==this.J&&
this.Dg()!=this.xa[a]?(this.Yf(i),this.Ie(),this.c.g("talents_reset",{})):(this.Lj(a),this.Ie(),this.c.g("talent_tree_reset",{tree:a}))},Lj:function(a){for(var b,c=0;c<this.rows;c++)for(var d=0;d<this.cols;d++)if(b=this.q[a][c][d],b!=j)b.T=0;this.xa[a]=0},Eh:function(a){a=9<a?35<a?65+a-36:97+a-10:48+a;return unescape("%"+Jc[Math.floor(a/16)]+Jc[Math.floor(a%16)])},Ie:function(){this.Ob=[];this.Xd=[];this.ed="";var a=0,b=0,c=-1,d="",f,g,h;for(f=0;f<this.ca;f++)for(g=0;g<this.rows;g++)for(h=0;h<this.cols;h++)this.q[f][g][h]!=
j?(this.Xd[a++]=this.q[f][g][h].T,this.Ob[b++]=this.q[f][g][h].T,-1==c?c=this.q[f][g][h].T:(c=6*c+this.q[f][g][h].T,d+=this.Eh(c),c=-1)):this.Ob[b++]=0;-1!=c&&(d+=this.Eh(6*c));for(g=0;g<d.length;g++)if(48==d.charCodeAt(g)){for(a=0;48==d.charCodeAt(g)&&g<d.length;)g++,a++;g!=d.length&&(g--,this.ed+=","+this.Eh(a))}else this.ed+=d.charAt(g)},vp:function(a,b){var c=0,d,f,g,h,n=[];for(f=0;f<this.ca;f++)for(g=n[f]=0;g<this.rows;g++)for(h=0;h<this.cols;h++)this.q[f][g][h]!=j&&(d=parseInt(a[c],10),d=isNaN(d)?
0:d,n[f]+=d,b&&c++),b||c++;c=0;d=-1;for(g=0;g<this.ca;g++){if(31<=n[g]){d=g;break}n[g]>c&&(d=g,c=n[g])}-1!=d&&this.vc(d);for(f=c=0;f<this.ca;f++)for(g=this.xa[f]=0;g<this.rows;g++)for(h=0;h<this.cols;h++){if(this.q[f][g][h]!=j)d=parseInt(a[c],10),this.q[f][g][h].T=isNaN(d)?0:d,this.xa[f]+=d,b&&c++;b||c++}this.Ie();this.c.g("talent_distribution_set",{distribution:this.Ag(k)})},Ag:function(a){return a?this.Xd:this.Ob},Fa:function(a){var b=j,c,d,f;for(c=0;c<this.ca;c++){for(d=0;d<this.rows;d++)for(f=
0;f<this.cols;f++)this.q[c][d][f]!=j&&(b=this.q[c][d][f].tk(),b!=j&&a.add(b));if(c==this.J){for(d=0;d<this.sa[c].length;d++)a.add(this.sa[c][d]);for(d=0;d<this.pe[c].length;d++)a.add(this.pe[c][d])}}}};function ya(){this.og=[];this.c=new A;this.c.i("character_change",["character"])}ya.prototype={og:[],c:j,cursor:-1,Om:function(a){this.og.push(a);this.cursor=this.og.length-1;this.c.g("character_change",{character:a})},H:function(){return-1==this.cursor?j:this.og[this.cursor]}};function za(){this.c=new A;this.c.i("race_change",["race"]);this.c.i("class_change",["class"]);this.c.i("level_change",["level"]);this.c.i("character_loaded",["character"]);this.c.i("stats_change",["stats"]);this.c.i("preview_stats_change",["previewStats"]);this.c.i("profession_change",["index","profession"]);this.c.i("profession_level_change",["index","level"]);this.c.i("item_change",["slot"]);this.c.i("gem_change",["slot","socket"]);this.c.i("enchant_change",["slot"]);this.c.i("reforge_change",
["slot"]);this.c.i("random_enchant_change",["slot"]);this.c.i("talents_reset",[]);this.c.i("talent_tree_reset",["tree"]);this.c.i("talent_tree_selected",["tree"]);this.c.i("talent_point_added",["tree","row","col","remainingPoints"]);this.c.i("talent_point_removed",["tree","row","col","remainingPoints"]);this.c.i("talent_distribution_set",["distribution"]);this.c.i("talents_init",[]);this.c.i("buffs_change",[]);this.c.i("shapeform_change",["new_shape","old_shape"]);this.c.i("presence_change",["new_presence",
"old_presence"]);var a=new x(function(a){this.c.Ki(a)},this);this.na=[j,j];this.e=new Kc(this);this.Fi=new Kc(this);this.z=new Fc(this);this.X=new Ac(this);this.r=new Cc;this.hj=new z("talents_reset,talent_tree_reset,talent_tree_selected,talent_point_added,talent_point_removed,talent_distribution_set,talents_init".split(","),a);this.r.B(new z(["change","remove_buff","remove_stack"],new x(function(a){if(a.j("remove_buff")){var c=this.d?this.d.shape:j;if(c)for(var d in c.r)if(a.get("buff").n.id==c.r[d].n.id){this.xd(0);
break}}a.get("silent")||this.V();this.c.g("buffs_change",{})},this)));this.Wh=new z(["shapeform_change","presence_change"],new x(function(a){if(a.j("shapeform_change")){var c=a.get("old_shape"),d=a.get("new_shape"),f;if(c)for(f=0;f<c.r.length;f++)this.r.gh(c.r[f].n.id,i);if(d)for(f=0;f<d.r.length;f++)this.r.dg(d.r[f].n.id,1==this.d.id,i);this.c.Ki(a)}else a.j("presence_change")&&(c=a.get("old_presence"),d=a.get("new_presence"),c&&this.r.gh(c.n.id,i),d&&this.r.dg(d.n.id,i,i),this.c.Ki(a))},this));
this.ia(Ic);this.description=this.name="";this.bm=j}var Ic=85;
za.prototype={c:j,hj:j,Wh:j,M:j,d:j,f:Ic,z:j,r:j,na:j,e:j,Fi:j,X:j,description:"",name:"",bm:j,B:function(a){this.c.B(a)},tb:function(a){this.c.tb(a)},ia:function(a){if(a>=this.li()&&85>=a){this.d!=j&&this.d.ia(a);this.f=a;for(var b=0;2>b;b++)this.na[b]&&(0==Pb(this.na[b].id,this.f)&&(this.na[b]=j),this.na[b].ia(this.f))}else e(new Lc(a));this.V();this.c.g("level_change",{level:a})},oh:function(a){this.d!=j&&(this.d.q.tb(this.hj),this.d.tb(this.Wh));if(a!=j){(this.M==j||!this.M.Fk(a.id))&&e(new Mc(this.M,
a));this.d=a;try{this.d.ia(this.f)}catch(b){b instanceof Lc?b.f>Ic?this.d.ia(Ic):this.d.ia(this.li()):ga(b)}this.d.q.B(this.hj);this.d.B(this.Wh)}else this.d=j;this.V();this.c.g("class_change",{"class":a})},hl:function(a){a==j?this.oh(j):(this.d!=j&&!a.Fk(this.d.id)&&this.oh(j),this.M=a);this.V();this.c.g("race_change",{race:a})},V:function(){Nc(this.e,k);this.c.g("stats_change",{stats:this.e})},bb:function(){Nc(this.Fi,i);this.c.g("preview_stats_change",{previewStats:this.Fi});this.z.Xa()},uc:function(){this.c.g("preview_stats_change",
{previewStats:j})},mg:function(a){if(4==a.$){if(0!=(1<<a.Y&this.un()))return i}else if(2==a.$)return i;return k},yg:function(a){return 0==a.Bc||1535==(a.Bc&1535)||this.d!=j&&0!=(a.Bc&1<<this.d.id-1)},Zm:function(a){switch(a){case 0:return 2;case 1:return 4;case 2:return 8;case 3:return 65536;case 4:return 1048608;case 5:return 16;case 6:return 524288;case 7:return 512;case 8:return 1024;case 9:return 64;case 10:return 128;case 11:return 256;case 12:return 2048;case 13:return 2048;case 14:return 4096;
case 15:return 4096;case 16:if(this.d!=j)switch(this.d.id){case 4:break;default:return 2236416}return 2105344;case 17:if(this.d!=j)switch(this.d.id){case 1:return 8404992|(1==this.d.q.J?4202496:0)|(this.Th()?131072:0);case 2:return 8404992;case 3:return 12591104;case 4:return 12591104;case 6:return 12591104;case 7:return 8404992|(1==this.d.q.J?4202496:0)}return 8388608}return 0},Dn:function(){var a=31;if(this.d!=j)switch(this.d.id){case 1:a=40<=this.f?16:8;break;case 2:a=40<=this.f?16:8;break;case 3:a=
40<=this.f?8:4;break;case 4:a=4;break;case 5:a=2;break;case 6:a=16;break;case 7:a=40<=this.f?8:4;break;case 8:a=2;break;case 9:a=2;break;case 11:a=4}return a},$m:function(a){switch(a){case 0:case 2:case 4:case 7:case 8:case 9:case 10:case 11:return[4,this.Dn()];case 3:return[4,2];case 5:case 6:return[4,3];case 1:case 12:case 13:case 14:case 15:return[4,1];case 18:if(this.d!=j)switch(this.d.id){case 9:case 8:case 5:return[2,524288];case 1:case 3:case 4:return[2,327692];case 2:case 7:case 6:case 11:return[4,
2048]}return[100,1]}return[-1,0]},un:function(){if(this.d!=j)switch(this.d.id){case 1:return(40<=this.f?31:15)+64;case 2:return(40<=this.f?31:15)+2112;case 6:return(40<=this.f?31:15)+2048;case 3:return 40<=this.f?15:7;case 7:return(40<=this.f?15:7)+2112;case 11:return 2055;case 4:return 7;case 5:case 8:case 9:return 3}return 31},Th:function(){return this.d!=j&&1==this.d.id&&0<this.d.q.q[1][6][1].T},wk:function(){return this.d==j?k:0==(1<<this.d.id&90)},gl:function(a,b){this.na[a]=0<b?new kc(this,
wb[b]):j;this.V();this.c.g("profession_change",{index:a,profession:this.na[a]})},Cp:function(a,b){this.na[a].ia(b);this.V();this.c.g("profession_level_change",{index:a,level:this.na[a].f})},vk:function(a){var b=this.sk(164);return(7==a||8==a)&&this.z.get(a)!=j&&60<=this.z.get(a).f&&b!=j&&400<=b.f||9==a&&70<=this.f&&this.z.get(a)!=j&&80<=this.z.get(a).f?i:k},sk:function(a){return this.na[0]&&this.na[0].id==a?this.na[0]:this.na[1]&&this.na[1].id==a?this.na[1]:j},Ld:function(a){this.X.Qa(a)&&!this.r.Qa(a)?
this.r.dg(a,k,i):!this.X.Qa(a)&&this.r.Qa(a)&&this.r.gh(a,k)},Fa:function(){var a=this.r.r,b=0;this.d&&this.d.Fa(this.X);this.M&&this.M.Fa(this.X);for(b=0;2>b;b++)if(this.na[b]){var c=this.na[b].vn();c&&this.X.add(c)}if(this.d)switch(this.d.id){case 1:this.Ld(29801);break;case 3:this.Ld(53290);break;case 4:this.Ld(51701);this.Ld(31223);break;case 6:this.Ld(55610);break;case 7:this.Ld(51470);break;case 11:this.X.Qa(17007)&&this.d!=j&&0!=(1<<this.d.Ca&290)?this.r.dg(24932,k,k):this.r.gh(24932,k)}for(b in a)this.X.Ke(a[b])},
ao:function(a){return 16==a||17==a&&this.d!=j&&0!=(1<<this.d.id&154)||18==a&&this.d!=j&&0!=(1<<this.d.id&826)},load:function(a){var b,c=0,d,f;if(a!=j){this.name=a[0][0];this.description=a[0][1];this.hl(new Oc(this,a[0][2]));this.oh(new Pc(a[0][3]));this.ia(a[0][4]);this.d&&this.d.xd(a[0][5]?a[0][5]:0);b=a[0][6]?a[0][6]:0;if(0==b&&this.d!=j&&6==this.d.id){switch(a[4]){case 0:b=48263;break;case 1:b=48266;break;case 2:b=48265;break;default:b=48263}this.d.we(b)}if(this.d){(2===a[4]||1===a[4]||0===a[4])&&
this.d.q.vc(a[4]);a[2]&&this.d.q.vp(a[2],i);if(a[5])for(b=0;b<a[5].length;b++)a[5][b]&&(this.gl(b,a[5][b][0]),this.na[b].ia(a[5][b][1]));for(b=0;b<a[3].length;b++)a[3][b]&&this.d.cg(new Vb(a[3][b]))}for(b=0;19>b;b++)if(a[1][b])if(a[1][b][0]){d=new ta(a[1][b][0]);try{this.z.set(b,d)}catch(g){if(g instanceof vc)continue;ga(g)}for(c=0;3>c;c++)a[1][b][1+c]&&(f=new ta(a[1][b][1+c]),d.Yc(f,c),B.set(f.ic()));a[1][b][4]&&d.Xc(new Xb(a[1][b][4]));a[1][b][6]!=j&&0!=a[1][b][6]&&d.il(a[1][b][6]);if(a[1][b][5]&&
-1!=a[1][b][5][0]&&-1!=a[1][b][5][1])try{d.Li(a[1][b][5][0],a[1][b][5][1])}catch(h){h instanceof ac||ga(h)}if(a[1][b][7])for(c=0;c<a[1][b][7].length;c++)d.Xc(new Xb(a[1][b][7][c]));B.set(d.ic())}else this.z.remove(b);for(b in a[6])c=new Q(a[6][b][0]),C.set(c),this.r.set(new Tb(c,a[6][b][1]));this.V();this.c.g("character_loaded",{character:this})}},li:function(){return this.d!=j&&6==this.d.id?55:1},wl:function(){var a=[],b,c,d,f=this.d?this.d.Ca:0,g=this.d!=j&&this.d.Eb!=j?this.d.Eb.n.id:0;this.d.xd(0);
this.d.we(0);a[0]=[this.name,this.description,this.M?this.M.id:0,this.d?this.d.id:0,this.f,f,g];a[1]=[];for(b=0;19>b;b++)if(d=this.z.l[b][0],d==j)a[1][b]=j;else{a[1][b]=[];a[1][b][0]=d.id;a[1][b][1]=d.K[0]?d.K[0].id:0;a[1][b][2]=d.K[1]?d.K[1].id:0;a[1][b][3]=d.K[2]?d.K[2].id:0;a[1][b][4]=0<d.F.length?d.F[0].id:j;a[1][b][5]=[d.ta,d.ea];a[1][b][6]=d.S?d.S.id:0;a[1][b][7]=[];for(c=1;c<d.F.length;c++)a[1][b][7].push(d.F[c].id)}a[2]=this.d?this.d.q.Ag(i):[];a[3]=[];if(this.d)for(b=0;b<this.d.O.length;b++)for(c=
0;c<this.d.O[b].length;c++)this.d.O[b][c]&&a[3].push(this.d.O[b][c].id);a[4]=this.d?this.d.q.J:-1;a[5]=[j,j];for(b=0;2>b;b++)c=this.na[b],a[5][b]=c?[c.id,c.f]:j;a[6]=[];c=this.r.r;for(b in c)c[b]&&!c[b].me&&a[6].push([c[b].n.id,c[b].Za]);this.d.xd(f);this.d.we(g);return a},Vp:function(){var a,b,c,d={averageItemLevel:0,averageItemLevelEquipped:0},f,g,h,n=this.d!=j?this.d.q:j,r=[[],[],[]],v=[];for(a=0;19>a;a++)if(h=this.z.l[a][0],h!=j){f=Sa[a];g={};for(b=0;b<h.F.length;b++)c=h.F[b],7==c.types[0]?g.tinker=
c.id:g.enchant=c.id;for(b=0;3>b;b++)if(h.K[b])g["gem"+b]=h.K[b].id;h.Tn()&&(g.extraSocket=i);-1!=h.ta&&-1!=h.ea&&(g.reforge=7*Ma[h.ta]+113+Ma[h.ea]-(h.ea>h.ta?1:0));if(h.S)g.suffix=h.S.id;d[f]={icon:h.t,id:h.id,name:h.name,quality:h.ha,tooltipParams:g}}if(this.d){for(a=0;a<this.d.O.length;a++)for(b=0;b<this.d.O[a].length;b++)(c=this.d.O[a][b])&&r[a].push({glyph:c.id,item:c.Gk,name:c.n.name,icon:c.n.t});b=[{selected:i,name:-1!=n.J?n.ec[n.J]:"None",icon:"",build:n.Ag(i).join(""),trees:[],glyphs:{prime:r[2],
major:r[0],minor:r[1]}}]}else b=j;for(a=0;2>a;a++)(n=this.na[a])&&v.push({id:n.id,name:Ta[n.id],rank:n.f});return JSON.stringify({name:this.name,race:this.M!=j?this.M.id:0,"class":this.d!=j?this.d.id:0,level:this.f,items:d,talents:b,professions:{primary:v,secondary:[]}})},Rm:function(a,b){this.z.Xa();this.uc();this.z.set(a,b);this.V();16==a||17==a?(this.c.g("item_change",{slot:16}),this.c.g("item_change",{slot:17})):this.c.g("item_change",{slot:a})},removeItem:function(a){this.z.Xa();this.uc();this.z.remove(a);
this.V();this.c.g("item_change",{slot:a})},Yc:function(a,b,c){this.z.Xa();this.uc();this.z.l[a][0].Yc(c,b);this.V();this.c.g("gem_change",{slot:a,socket:b})},Oi:function(a,b){this.z.Xa();this.uc();this.z.l[a][0].Yc(j,b);this.V();this.c.g("gem_change",{slot:a,socket:b})},Tp:function(a,b){this.z.Xa();this.uc();this.z.Sp(a,b);this.V();16==a||17==a?(this.c.g("item_change",{slot:16}),this.c.g("item_change",{slot:17})):this.c.g("item_change",{slot:a})},Xc:function(a,b){this.z.Xa();this.uc();this.z.l[a][0].Xc(b);
this.V();this.c.g("enchant_change",{slot:a})},Ti:function(a,b){this.z.Ti(b,a);this.bb()},Ro:function(){this.z.Xa();this.bb()},zp:function(a,b){this.z.Xa();this.uc();this.z.l[a][0].il(b);this.V()},cl:function(a,b){this.z.fl(b,a,-1);this.bb()},Sk:function(){this.z.Xa();this.bb()},bl:function(a,b,c){this.z.fl(c,a,b);this.bb()},Rk:function(){this.z.Xa();this.bb()},ra:function(a,b){return"undefined"===typeof b?this.z.l[a][0]:this.z.l[a][b]},ij:function(a){return this.z.ij(a)},ji:function(a){return this.z.ji(a)},
Mo:function(a,b,c){if(a=this.z.l[a][0])a.restore(),a.Li(b,c),this.V()},Dp:function(a,b,c){var d=this.z.Mi();d[a]=[b,c];this.z.sh(d);this.bb()},sh:function(a){this.z.sh(a);this.bb()},To:function(){this.z.Xa();this.bb()},Uo:function(){this.z.Xa();this.bb()},np:function(a){if(a=this.z.l[a][0])a.restore(),this.V()},mp:function(){this.z.yf();this.V();this.bb()},Lo:function(a){var b=this.z.Mi();try{this.z.yf(),this.z.dh(a),this.V(),this.bb()}catch(c){this.z.dh(b),this.V(),this.bb(),e(c)}},Ke:function(a){this.r.add(a,
k)},Nd:function(a){this.r.Nd(a)},Po:function(a){this.r.remove(a,k)},jp:function(){var a=this.d!=j?this.d.q:j;a&&(a.reset(),this.V())},ip:function(a){var b=this.d!=j?this.d.q:j;b&&(b.kp(a),this.V())},Vm:function(a,b,c){var d=this.d!=j?this.d.q:j;d&&(d.Tm(a,b,c),this.V())},Wo:function(a,b,c){var d=this.d!=j?this.d.q:j;d&&(d.So(a,b,c),this.V())},rp:function(a){var b=this.d!=j?this.d.q:j;b&&(b.vc(a),this.V())},Jn:function(){var a=this.d!=j?this.d.q:j;return a?a.J:-1},On:function(){return this.d!=j?this.d.q:
j},el:ba("name"),up:ba("description"),cg:function(a){this.d.cg(a);this.V()},Pi:function(a){if(this.d!=j&&a!=j)for(var b=this.d.O[a.type],c=0;c<b.length;c++)if(b[c]!=j&&b[c].id==a.id){this.d.Pi(a.type,c);this.V();break}},xd:function(a){this.d!=j&&(this.d.xd(a),this.V())},we:function(a){this.d!=j&&(this.d.we(a),this.V())}};function Mc(a,b){this.M=a;this.d=b}Mc.prototype={M:j,d:j,toString:function(){return"Illegal combination of race ("+this.M+") and class("+this.d+")."}};function Lc(a){this.f=a}
Lc.prototype={f:j};function Oc(a,b){this.character=a;this.id=b[0];this.name=b[1];this.rf=[];for(var c=0;c<b[2].length;c++)this.rf[c]=new lc(b[2][c]);if(1<<this.id&4196506)this.Wn=i}
Oc.prototype={id:0,character:j,name:"",rf:[],Wn:k,Fa:function(a){for(var b,c,d=0;d<this.rf.length;d++)if(b=this.rf[d],b.n!=j)c=this.character.d,(c!=j&&1<<c.id-1&b.pg||0>=b.pg)&&a.add(b.n)},toString:function(){return"CharacterRace ("+this.name+","+this.rf+")"},Fk:function(a){switch(this.id){case 11:return 11!=a&&9!=a&&4!=a;case 3:return 11!=a;case 7:return 11!=a&&3!=a&&2!=a&&7!=a;case 1:return 11!=a&&7!=a;case 4:return 2!=a&&7!=a&&9!=a;case 22:return 2!=a&&7!=a;case 10:return 11!=a&&7!=a;case 9:return 11!=
a&&2!=a;case 2:return 11!=a&&5!=a;case 6:return 8!=a&&4!=a&&9!=a;case 8:return 2!=a;case 5:return 11!=a&&2!=a&&7!=a}return k}};function Pc(a){this.c=new A;this.c.i("shapeform_change",["new_shape","old_shape"]);this.c.i("presence_change",["new_presence","old_presence"]);this.c.i("glyph_added",["glyph"]);this.c.i("glyph_removed",["glyph"]);var b,c=0;this.dc=a;this.e=[];this.f=-1;this.yd=j;this.O=[[j,j,j],[j,j,j],[j,j,j]];this.id=a[0];this.name=a[1];this.q=new Hc(a[0],a[2],k);this.$j=a[3];this.Df={};this.qg=[];for(b=0;b<a[4].length;b++)this.qg[b]=new lc(a[4][b]);this.hg=[];for(c=0;c<a[5].length;c++)for(b=0;b<a[5][c].length;b++)this.hg.push(new Vb(a[5][c][b]));
if(a[6]){this.yd=[];for(b=0;b<a[6].length;b++)this.yd[b]=new mc(a[6][b]),this.Df[this.yd[b].id]=this.yd[b]}if(a[7]){this.Pc=[];for(b=0;b<a[7].length;b++)c=new Q(a[7][b]),this.Pc.push(c),C.set(c)}if(a[9]){this.Pc=[];for(b=0;b<a[9].length;b++)C.set(new Q(a[9][b]))}this.$h=a[8]}
Pc.prototype={c:j,id:0,name:"",f:0,Ca:0,shape:j,yd:j,Df:j,O:j,hg:j,gg:0,q:j,Eb:j,Pc:j,qg:j,$j:j,fa:function(a,b){this.c.fa(a,b)},Tk:function(a,b){this.c.Tk(a,b)},B:function(a){this.c.B(a)},tb:function(a){this.c.tb(a)},ia:function(a){this.f=a;this.q.ia(a);for(a=this.gg=25>a?0:50>a?1:75>a?2:3;3>a;a++)this.O[0][a]=j,this.O[1][a]=j,this.O[2][a]=j},xd:function(a){var b=this.shape;this.Ca=a;0!=this.Ca?this.Df[this.Ca]?this.shape=this.Df[this.Ca]:e(new Rb):this.shape=j;this.c.g("shapeform_change",{new_shape:this.shape,
old_shape:b})},we:function(a){var b=this.Eb;if(0==a)this.Eb=j,this.c.g("presence_change",{new_presence:this.Eb,old_presence:b});else{for(var c=0;c<this.Pc.length;c++)if(this.Pc[c].id==a){this.Eb=new Tb(this.Pc[c],1);this.c.g("presence_change",{new_presence:this.Eb,old_presence:b});return}e(Error("Unable to set presence "+a))}},Fa:function(a){var b,c;if(0!=this.Ca){b=this.Df[this.Ca];for(c=0;c<b.r.length;c++)a.Ke(b.r[c]);for(c=0;c<b.X.length;c++)a.add(b.X[c])}this.Eb&&a.Ke(this.Eb);this.q.Fa(a);for(c=
0;c<this.O.length;c++)for(b=0;b<this.O[c].length;b++)this.O[c][b]&&a.add(this.O[c][b].n);for(c=0;c<this.qg.length;c++)if(b=this.qg[c],b.n!=j){if(b.n.type[8]&1048576)switch(this.id){case 1:if(86101==b.n.id&&0!=this.q.J||86110==b.n.id&&1!=this.q.J||86535==b.n.id&&2!=this.q.J)continue;break;case 2:if(86103==b.n.id&&0!=this.q.J||86102==b.n.id&&1!=this.q.J||86539==b.n.id&&2!=this.q.J)continue;break;case 6:if(86537==b.n.id&&0!=this.q.J||86536==b.n.id&&1!=this.q.J||86113==b.n.id&&2!=this.q.J)continue;break;
case 7:if(86100==b.n.id&&0!=this.q.J||86099==b.n.id&&1!=this.q.J||86108==b.n.id&&2!=this.q.J)continue;break;case 11:if(86093==b.n.id&&0!=this.q.J||86096==b.n.id&&(1!=this.q.J||0==(1<<this.Ca&288))||86097==b.n.id&&(1!=this.q.J||0==(1<<this.Ca&2))||86104==b.n.id&&2!=this.q.J)continue}(1<<this.id-1&b.pg||0>=b.pg)&&a.add(b.n)}},cg:function(a){var b,c=-1;0==this.gg&&e(new Qc(Rc));for(b=0;b<this.gg;b++)this.O[a.type][b]==j?c=-1==c?b:c:this.O[a.type][b].id==a.id&&e(new Qc(Sc));-1==c&&e(new Qc(Tc));this.O[a.type][c]=
a;this.c.g("glyph_added",{glyph:a})},Pi:function(a,b){this.O[a][b]=j;this.c.g("glyph_removed",j)}};function Qc(a){this.zb=a}Qc.prototype={zb:0,toString:function(){switch(this.zb){case Rc:return"Unable to add Glyph, there are no empty slots available!";case Sc:return"Unable to add Glyph, this Glyph is already in use!";case Tc:return"Unable to add Glyph, there are no empty slots available!";default:return"Unable to add Glyph, due to unknown reasons!"}}};var Rc=0,Sc=1,Tc=2;function Kc(a){this.character=a;this.reset();this.ag=k}m=Kc.prototype;m.character=j;m.nb=[];m.attributes=[];m.Qd=[];m.fg=[];m.yh=[];m.Yd=[];m.Ff=[];m.C=[];m.P=[];m.$b=[];m.Q=[];m.n=[];m.pa=[];m.Xh=[];m.gj=[];m.Ze=0;m.df=0;m.Sh=0;m.jg=0;m.Jf=0;m.Hf=0;m.cj=0;m.If=0;m.dj=0;m.Bd=0;m.Oc=0;m.Gf=0;m.bj=0;m.Vc=[];m.Og=0;m.Gg=0;m.Pg=0;m.pc=0;m.od=0;m.Od=0;m.va=0;m.Ac=0;m.xi=0;m.gf=0;m.ff=0;m.Ub=[];m.Mc=[];m.Tb=[];m.qc=[];m.Qb=[];m.Pb=[];m.Ta=0;m.Sa=0;m.gb=0;m.ib=0;m.hb=0;m.Db=0;m.rb=0;m.Ii=0;m.uf=0;m.ah=0;
m.sf=0;m.tf=0;m.Ji=0;m.vf=0;m.qf=0;m.pf=0;m.rc=0;m.Zg=0;m.td=0;m.Ve=0;m.$d=0;m.kf=0;m.kg=0;m.oe=0;m.Qh=0;m.zk=0;m.nn=0;m.on=0;m.ag=k;
m.reset=function(){var a;this.nb=[0,0,0,0,0,0,0];this.attributes=[0,0,0,0,0];this.Qd=[0,0,0,0,0];this.fg=[0,0,0,0,0];this.yh=[0,0,0,0,0];this.Yd=[0,0,0,0,0];this.Ff=[0,0,0,0,0];this.C=[];for(a=0;40>a;a++)this.C[a]=0;this.Q=[0,0,0,0,0,0,0,0,0,0];this.oa=[[0,0],0,0,0,0,0,0,0];this.n=[0,0,0,0,0,0,0,0];this.pa=[0,0,0,0,0,0,0];this.$b=[0,0,0,0,0];this.dj=this.If=this.cj=this.Hf=this.Jf=this.Sh=this.jg=this.df=this.Ze=0;this.Vc=[];this.ff=this.gf=this.xi=this.Ac=this.va=this.Od=this.Pg=this.Gg=this.Og=
this.bj=this.Gf=this.Oc=this.Bd=0;this.Ub=[0,0,0];this.Mc=[0,0,0];this.Tb=[0,0,0];this.qc=[0,0,0];this.vf=this.Ji=this.tf=this.sf=this.ah=this.uf=this.Ii=0;this.Qb=[0,0,0,0];this.Pb=[0,0,0,0];for(a=this.zk=this.Zg=this.rc=this.pf=this.qf=this.rb=this.Qh=this.kg=this.kf=this.$d=this.Ve=this.td=this.Ai=this.Db=this.hb=this.ib=this.yi=this.gb=this.Sa=this.Ta=this.od=this.pc=0;6>a;a++)this.Vc[a]=0;for(a=0;7>a;a++)this.P[a]=0;this.oe=0;this.gj=[0,0,0,0,0,0,0,0]};
function Nc(a,b){a.ag&&e("Concurring calls of Stats::calculate");a.ag=i;a.character.z.Bl();var c,d,f,g,h;g=0;var n=a.character.z,r=n.get(17)!=j&&2==n.get(17).$,v=n.get(18)!=j&&2==n.get(18).$,s=a.character.f,T=a.character.X.En(k),q=T[0],da=T[1],aa=T[2],ha=T[3];f=a.character.M==j?0:a.character.M.id;var na=a.character.d,sb=k,E=0,ia=0,fc=-1,ca=c=j;if(na)sb=i,E=na.id,ia=na.Ca,fc=na.q.J,c=na.$j,c[s]&&(ca=c[s]);var na=[0,0,0,0,0],Ja=fb[E];if(11==E&&0<ia)switch(ia){case 1:Ja=gb;break;case 5:Ja=hb;break;case 31:Ja=
ib}a.reset();if(!sb||!ca)ca=[0,0,0,0,0,0,0,0,0,0,0];a.Sh=ca[5];a.jg=ca[6];for(c=0;5>c;c++)na[c]=Za[f][c]+(sb?ca[c]:0),a.Qd[c]=Math.floor(na[c]*(1+q[137][c]/100));if(1==ia||5==ia||8==ia)a.character.X.Qa(17002)?q[49]+=2:a.character.X.Qa(24866)&&(q[49]+=4);if(a.character.X.Qa(48411)&&(1==ia&&(q[290]+=4),5==ia||8==ia))q[79][0]+=4;a.Qh=q[142][0]/100;for(c=0;19>c;c++)if(h=a.character.vk(c),f=b?n.get(c):n.l[c][0],!(f==j||!a.character.mg(f)||!a.character.yg(f))){f.Vi(s);5!=c&&6!=c&&(g++,a.oe+=f.f);d=a;for(var D=
f,R=void 0,R=0;R<D.e.length;R++)if(D.e[R]!=j)if(50<=D.e[R][0])switch(D.e[R][0]){case 50:d.P[0]+=D.e[R][1];break;case 51:d.P[2]+=D.e[R][1];break;case 52:d.P[4]+=D.e[R][1];break;case 53:d.P[1]+=D.e[R][1];break;case 54:d.P[5]+=D.e[R][1];break;case 55:d.P[3]+=D.e[R][1];break;case 56:d.P[6]+=D.e[R][1]}else 11<=D.e[R][0]?d.C[D.e[R][0]-11]+=D.e[R][1]:d.attributes[Pa[D.e[R][0]]]+=D.e[R][1];-1!=D.ea&&-1!=D.ja&&(11<=D.ea?d.C[D.ea-11]+=D.ja:d.attributes[Pa[D.ea]]+=D.ja);d.P[0]+=D.Nb;4==D.$&&0<D.Y&&(d.P[0]+=
D.Nb*d.Qh);for(d=0;3>d;d++)if(f.K[d]){if(0>=f.W[d])if(h)h=k;else continue;Uc(a,f.K[d].qa.Cb)}f.ti()&&Uc(a,f.Ad);for(d=0;d<f.F.length;d++)h=f.F[d],h!=j&&Uc(a,h);if(f.S){f=f.S.F;for(d=0;5>d;d++)h=f[d],h!=j&&Uc(a,h)}}a.P[0]=Math.round((a.P[0]+q[22][0]+q[143][0])*(1+q[101][0]/100));for(c=1;c<a.P.length;c++)a.P[c]=Math.round((a.P[c]+q[22][c]+q[143][c])*(1+q[142][c]/100));a.oe=0<g?a.oe/g:0;a.gj=[0,q[133],q[132],q[137][1],q[137][0],q[137][3],q[137][4],q[137][2]];for(c=0;5>c;c++){a.attributes[c]+=q[29][c];
a.attributes[c]*=1+q[137][c]/100;a.attributes[c]+=a.Qd[c];a.attributes[c]=Math.floor(a.attributes[c]);0<Ja[c]&&(a.fg[c]=a.attributes[c]>=10*Ja[c]?a.attributes[c]*(q[268][c]/100+Ja[c])-10*Ja[c]:0);for(d=0;32>d;d++)a.C[d]+=Math.floor(q[220][d][c]/100*(a.attributes[c]-na[c]))}a.Yd[1]+=100*$a[E]+a.attributes[1]*ca[7];a.Ff[3]+=100*ab[E]+a.attributes[3]*ca[8];a.Qb[0]=a.C[26];for(c=0;4>c;c++)a.Qb[c]+=T[c][189][23],a.Pb[c]+=a.Qb[c]/F[23][s-1]+T[c][240],0<c&&(a.Pb[c]+=a.Pb[0],a.Qb[c]+=a.Qb[0]);a.nn=Math.ceil((ob[3]-
0.25*a.Pb[1])*F[23][s-1]/0.25);a.on=Math.ceil((nb[3]-0.25*a.Pb[1])*F[23][s-1]/0.25);if(80<=s)a.pc=a.C[38]+q[189][25],a.od=8+a.pc/F[25][s-1];a.Gg=(80>s?10:10+0.8*(s-80))*Math.max(0,a.attributes[2]-20)+(20<=a.attributes[2]?20:a.attributes[2]);a.Ze=a.Gg+a.Sh*(1+q[282]/100)+q[34]+q[230];a.Ze*=1+q[133]/100;a.Og=15*Math.max(0,a.attributes[3]-20)+(20<=a.attributes[3]?20:a.attributes[3]);a.df=a.Og+a.jg+q[35][0];a.df*=1+q[132]/100;a.gf=a.C[17]+a.C[25]+q[189][17];a.ff=a.gf/F[17][s-1];a.uf=a.C[18]+a.C[25]+q[189][18];
a.ah=a.uf/F[18][s-1];a.Ac=q[99]+a.C[27];a.va+=a.Ac;a.Od+=q[166];a.va+=pb[E]*s;for(c=0;5>c;c++)a.va+=a.fg[c];a.Ac*=1+a.Od/100;a.va*=1+a.Od/100;a.rb=q[124]+a.C[27]+cb[E]*a.attributes[1]+db[E]*s+eb[E];for(c=0;5>c;c++)a.rb+=a.attributes[c]*(q[212][c]/100);a.rb*=1+q[167]/100;a.Ub[0]=a.C[5]+a.C[20];a.Tb[0]=a.C[8]+a.C[21];for(d=0;d<a.attributes.length;d++)a.qc[0]+=a.Yd[d];for(c=0;3>c;c++)a.Ub[c]+=T[c][189][5]+T[c][189][20],a.Mc[c]+=a.Ub[c]/F[5][s-1]+T[c][54],a.Tb[c]+=T[c][189][8]+T[c][189][21],a.qc[c]+=
a.Tb[c]/F[8][s-1]+T[c][52]+T[c][290]+T[c][71][0],0<c&&(a.Mc[c]+=a.Mc[0],a.Ub[c]+=a.Ub[0],a.qc[c]+=a.qc[0],a.Tb[c]+=a.Tb[0]);a.zk=Math.ceil((jb[3]-a.Mc[1])*F[5][s-1]);a.vf=a.C[6]+a.C[20];a.Ji=a.vf/F[6][s-1]+q[54]+ha[54];a.tf=a.C[9]+a.C[21];a.sf=a.tf/F[9][s-1]+q[290]+q[71][0]+q[52]+ha[290]+ha[71][0]+ha[52];for(d=0;d<a.attributes.length;d++)a.sf+=a.Yd[d];if(11==E&&5==ia){if(a.gb=2500,g=n.get(16))a.Ta=2500*g.Nc/g.Ka,a.Sa=2500*g.Lc/g.Ka}else if(11==E&&1==ia){if(a.gb=1E3,g=n.get(16))a.Ta=1E3*g.Nc/g.Ka,
a.Sa=1E3*g.Lc/g.Ka}else(g=n.get(16))?(a.gb=g.Ka,a.Ta=g.Nc,a.Sa=g.Lc):(a.gb=2E3,a.Ta=22.6,a.Sa=22.6);a.Ta+=a.va/14*a.gb/1E3;a.Sa+=a.va/14*a.gb/1E3;a.gb/=(1+a.ff/100)*(1+q[138]/100+da[138]/100)*(1+q[319]/100+da[319]/100)*(1+q[192]/100+da[192]/100)*(1+q[193]/100+da[193]/100);a.xi=100*((1+a.ff/100)*(1+q[138]/100)*(1+q[319]/100)*(1+q[192]/100)*(1+q[193]/100)-1);a.Ta+=q[13][0]+da[13][0];a.Sa+=q[13][0]+da[13][0];a.Ta*=1+(q[79][0]+da[79][0])/100;a.Sa*=1+(q[79][0]+da[79][0])/100;a.yi=500*(a.Ta+a.Sa)/a.gb;
if(r)g=n.get(17),a.Db=g.Ka,a.ib=g.Nc+a.va/14*a.Db/1E3,a.hb=g.Lc+a.va/14*a.Db/1E3,a.Db/=(1+a.ff/100)*(1+q[138]/100+aa[138]/100)*(1+q[319]/100+aa[319]/100)*(1+q[192]/100+aa[192]/100)*(1+q[193]/100+aa[193]/100),a.ib+=q[13][0]+aa[13][0],a.hb+=q[13][0]+aa[13][0],a.ib*=1+(q[79][0]+aa[79][0])/100,a.ib*=1+(q[122]+aa[122])/100,a.ib>>=1,a.hb*=1+(q[79][0]+aa[79][0])/100,a.hb*=1+(q[122]+aa[122])/100,a.hb>>=1,a.Ai=500*(a.ib+a.hb)/a.Db;if(v)g=n.get(18),a.rc=g.Ka,a.qf=g.Nc+a.rb/14*a.rc/1E3+q[13][0]+ha[13][0],a.pf=
g.Lc+a.rb/14*a.rc/1E3+q[13][0]+ha[13][0],a.rc/=(1+a.ah/100)*(1+(q[140]+ha[140])/100)*(1+(q[141]+ha[141])/100)*(1+(q[320]+ha[320])/100)*(1+(q[192]+ha[192])/100)*(1+(q[193]+ha[193])/100),a.Zg=500*(a.qf+a.pf)/a.rc;a.Ii=100*((1+a.ah/100)*(1+q[140]/100)*(1+q[141]/100)*(1+q[320]/100)*(1+q[192]/100)*(1+q[193]/100)-1);a.yh[3]=Math.max(0,a.attributes[3]-10);a.Jf=a.yh[3]+a.C[34]+q[238][1]/100*a.va+q[135][1];a.Jf*=1+q[317]/100;a.Hf=a.C[19]+a.C[25]+q[189][19];a.cj=100*((1+a.Hf/F[19][s-1]/100)*(1+q[65]/100)*(1+
q[193]/100)-1);a.If=a.C[7]+a.C[20]+q[189][7]+q[189][20];a.dj=a.If/F[7][s-1]+Math.min(q[55][1],q[55][2],q[55][3],q[55][4],q[55][5],q[55][6]);a.Gf=a.C[10]+a.C[21]+q[189][10]+q[189][21];a.bj=a.Ff[3]+a.Gf/F[10][s-1]+q[57]+q[290]+Math.max(da[57],aa[57]);for(c=0;6>c;c++)a.Vc[c]=Math.abs(a.C[36])+Math.abs(q[123][c]);if(a.character.wk()){a.Pg=5*(0.0010+Math.sqrt(a.attributes[3])*a.attributes[4]*ub[s-1]);a.Bd=a.Pg;a.Oc=q[85]+a.C[32]+a.Bd*(q[134]/100);for(c=0;5>c;c++)a.Oc+=q[219][c]/100*a.attributes[c]}else a.Oc=
0,a.Bd=0;a.Bd+=ca[10];a.Oc+=ca[10];if(0!=(1<<E&134))a.kg=5+q[51]+(2==E&&1==fc?2.25*a.od:0)+(1==E&&2==fc?1.5*a.od:0)+(a.C[4]+q[189][4])/F[4][s-1];a.Ve=a.C[2]+q[189][2];if(sb){if(a.$d=2==E||1==E||6==E?q[49]+5+1/(qb[E-1]/(a.Ve/F[2][s-1]+ca[9])+(tb[E-1]?1/tb[E-1]:0)):q[49]+bb[E]+a.Qd[1]*ca[9]+1/(qb[E-1]/(a.Ve/F[2][s-1]+ca[9]*(a.attributes[1]-a.Qd[1]))+(tb[E-1]?1/tb[E-1]:0)),0!=(1<<E&94)){a.td=a.C[3]+q[189][3];switch(E){case 1:case 2:case 6:a.td+=0.27*(a.attributes[0]-na[0])}a.kf=5+q[47]+1/(qb[E-1]/(a.td/
F[3][s-1])+(rb[E-1]?1/rb[E-1]:0))}}else a.$d=q[49]+a.Ve/F[2][s-1];a.Yk=a.C[24]+Math.min(a.C[14]+q[189][14],a.C[15]+q[189][15],a.C[16]+q[189][16]);a.lp=1-Math.pow(0.99,a.Yk/F[15][s-1]);a.nb[0]=a.Ze;a.nb[1]=a.df;a.nb[2]=100;a.nb[3]=100+q[35][3]+Math.min(da[35][3],aa[35][3]);a.nb[4]=100;a.nb[5]=Math.floor(100+q[35][6]/10);a.nb[6]=a.oe;a.Q[0]=[[Math.floor(a.Ta),Math.ceil(a.Sa)],r?[Math.floor(a.ib),Math.ceil(a.hb)]:j];a.Q[1]=[a.yi,r?a.Ai:j];a.Q[2]=a.va;a.Q[3]=[a.gb,r?a.Db:j];a.Q[4]=a.xi;a.Q[5]=a.Mc[1];
a.Q[6]=a.qc[1];a.Q[7]=[Math.floor(a.Pb[1]),r?Math.floor(a.Pb[2]):j];a.Q[8]=a.od;v?(a.oa[0]=[Math.floor(a.qf),Math.ceil(a.pf)],a.oa[1]=a.Zg,a.oa[3]=a.rc):(a.oa[0]=[-1,-1],a.oa[1]=-1,a.oa[3]=-1);a.oa[2]=a.rb;a.oa[4]=a.Ii;a.oa[5]=a.Ji;a.oa[6]=a.sf;a.oa[7]=a.od;a.n[0]=a.Jf;a.n[1]=a.cj;a.n[2]=a.dj;a.n[3]=Math.min(a.Vc[1],a.Vc[2],a.Vc[3],a.Vc[4],a.Vc[5]);a.n[4]=a.Bd;a.n[5]=a.Oc;a.n[6]=a.bj;a.n[7]=a.od;a.pa[0]=a.P[0];a.pa[1]=a.$d;a.pa[2]=a.kf;a.pa[3]=a.kg;a.pa[4]=a.Yk;a.pa[5]=5+a.$d+a.kf;a.pa[6]=5+a.$d+
a.kg+a.kf;a.$b[0]=a.P[6];a.$b[1]=a.P[2];a.$b[2]=a.P[3];a.$b[3]=a.P[4];a.$b[4]=a.P[5];a.ag=k}function Uc(a,b){var c;if(b.Qa(a.character))for(c=0;c<b.types.length;c++)5==b.types[c]?11<=b.Ia[c]?a.C[b.Ia[c]-11]+=b.Da[c]:a.attributes[Pa[b.Ia[c]]]+=b.Da[c]:4==b.types[c]&&(a.P[b.Ia[c]]+=b.Da[c])};var B={elements:{}};B.set=function(a){B.elements[a.id]=a};B.get=function(a){return B.elements[a]};B.contains=function(a){return B.elements[a]||k};B.Ne=function(a,b,c){B.get(a)?b.ga(c):Ha("php/interface/get_item.php"+w({item:a,lang:g_settings.language}),B.ki,[b,c],k)};B.Rh=function(a,b,c){a!=j&&(B.set(new ta(a)),b.ga(c))};B.ki=new x(B.Rh,B);var C={elements:{}};C.set=function(a){C.elements[a.id]=a};C.get=function(a){return C.elements[a]};C.contains=function(a){return C.elements[a]||k};C.Ne=function(a,b,c){C.get(a)?b.ga(c):Ha("php/interface/get_spell.php"+w({spell:a,lang:g_settings.language}),C.ki,[b,c],k)};C.Rh=function(a,b,c){a!=j&&(C.set(new Q(a)),b.ga(c))};C.ki=new x(C.Rh,C);function S(a,b){var c=document.createElement(a);if(b)for(var d in b)"class"==d?c.className=b[d]:"action"==d?c.action=b[d]:"clear"==d?c.style.clear=b[d]:"display"==d?c.style.display=b[d]:"href"==d?c.href=b[d]:"src"==d?c.src=b[d]:"target"==d?c.target=b[d]:"name"==d?c.name=b[d]:"id"==d?c.id=b[d]:"backgroundImage"==d?c.style.backgroundImage="none"===b[d].toLowerCase()||"inherit"===b[d].toLowerCase()?b[d]:"url("+b[d]+")":"text"==d?"input"===a?c.value=b[d]:c.innerHTML=b[d]:"type"==d?c.type=b[d]:"value"==
d?c.value=b[d]:"title"==d?c.title=b[d]:"checked"==d?c.checked=b[d]:e(Error("Unknown parameter "+d+" with value "+b[d]));return c}function U(a,b,c){b=S(b,c);"string"==typeof a?document.getElementById(a).appendChild(b):a.appendChild(b);return b}function V(a,b){Vc(a,b);a.className=(a.className?a.className+" ":"")+b}
function Vc(a,b){"string"===typeof a&&(a=document.getElementById(a));if(a)if(b instanceof RegExp)for(var c=a,d=c.className.split(" "),f=d.length,g=0;g<f;g++){if(b.exec(d[g])!==j){d[g]=d[f-1];d.pop();c.className=d.join(" ");break}}else{c=a;d=c.className.split(" ");f=d.length;for(g=0;g<f;g++)if(d[g]===b){d[g]=d[f-1];d.pop();c.className=d.join(" ");break}}}
function p(a,b){"string"===typeof a&&(a=document.getElementById(a));if("string"===typeof b)a.innerHTML+=b;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(b)}}function Wc(a){a.appendChild(S("div",{clear:"both"}))}function W(a,b){"string"===typeof a&&(a=document.getElementById(a));"string"===typeof b?a.innerHTML+=b:a.appendChild(b);return a}function X(a){for(;a.firstChild;)a.removeChild(a.firstChild)}
function ka(a){"string"===typeof a&&(a=document.getElementById(a));if(a!=j){var b=a.nodeName.toLowerCase();if("input"===b&&"checkbox"==a.type)return a.checked;if("input"===b||"textarea"==b)return a.value;if("select"===b)return-1!=a.selectedIndex?a.options[a.selectedIndex].value:j}return j}function Xc(a){var b=S("a",{"class":"info",href:"javascript:"});H(b,"mouseover",t.Kb,t,[a]);H(b,"mouseout",t.Z,t,[]);H(b,"mousemove",t.move,t,[]);return b}
function Yc(a,b){H(a,"mousemove",t.move,t,[]);H(a,"mouseout",t.Z,t,[]);H(a,"mouseover",t.Kb,t,[b])};function wa(){this.Na=new Zc;this.c=new A;this.c.i("import",["name","server","region"]);this.c.i("save",["name","desc"]);this.c.i("update",[]);this.c.i("tab_change",["newTab","oldTab"]);this.c.i("csfolder_tab_change",["newTab","oldTab"]);var a,b,c=new Y(1,2);c.th($c);var d=document.createElement("div"),f=document.createElement("div");a=document.createElement("div");this.b=document.createElement("div");this.b.className="gui_p";this.Xi=document.createElement("div");this.Xi.className="cs_sheet_p";this.wb=
new ad;this.Di=new bd;this.Gi=document.createElement("div");this.Gi.style.paddingTop="20px";this.Ik=document.createElement("div");this.mk=document.createElement("div");this.Hp=document.createElement("div");this.Xi.appendChild(this.Na.b);this.eh=new cd;this.Eg=new dd;this.bd=new ed;this.$g=new fd;a.appendChild(this.$g.b);a.appendChild(this.mk);this.tg=new gd([this.Ik,d,a,this.eh.b,this.Hp,this.bd.b],"Items,Gems,Enchants,Reforging,Sets,Buffs".split(","),"eqf");a=document.createElement("div");a.className=
"gui_lp_menu";a.appendChild(this.tg.Qg);b=document.createElement("div");b.className="gui_lp_content";b.appendChild(this.tg.b);c.cols[0].style.width="300px";c.cols[1].style.width="660px";c.cells[0][0].appendChild(this.Xi);c.cells[0][1].className="gui_list_p";c.cells[0][1].appendChild(a);c.cells[0][1].appendChild(b);a=new gd([this.wb.b,this.Eg.b],["Talents","Glyphs"],"tsf");f.appendChild(a.Qg);f.appendChild(a.b);f.className="gui_tt";this.Ig=new hd(new x(this.Fe,this));this.Af=new id;this.Af.c.fa("save",
this.c);this.Af.c.fa("update",this.c);this.fe=new gd([c.b,f,this.Di.b,this.Ig.b,this.Af.b,this.Gi],"Character Sheet,Talents,Overview,Import,Save,Browse".split(","),"cp_mm");this.b.appendChild(this.fe.b);this.xh=new jd;d.appendChild(this.xh.b);this.fe.qh(new x(function(a,b){this.c.g("tab_change",{newTab:a,oldTab:b})},this));this.tg.qh(new x(function(a,b){this.c.g("csfolder_tab_change",{newTab:a,oldTab:b})},this))}var kd=1,ld=2,md=3,nd=0,Aa=2,od=4;
wa.prototype={Na:j,c:j,fe:j,wb:j,Ig:j,Af:j,eh:j,Eg:j,bd:j,Di:j,Fe:function(a,b,c){this.c.g("import",{name:a,server:b,region:c})},Hj:function(a,b){this.c.g("save",{name:a,desc:b})},Ij:function(){},Vn:function(a,b,c){p(this.Ik,a.b);p(this.mk,b.b);p(this.Gi,c.b)}};function ma(a,b,c){this.data=b;this.vl=c;this.map={};this.b=document.createElement("div");this.lb=[];this.userId=a;c=a=0;p(document.getElementById(this.vl),this.b);b=new Y(0,2);b.th($c);b.b.className="ui_data_tab";for(a in this.data)this.map[a]=c,b.$c(),b.cells[c][0].className="ui_data_label",b.cells[c][0].innerHTML=this.data[a].label,b.cells[c][1].className="ui_data_data","select"==this.data[a].editable?(this.lb[c]=new pd(this.data[a].options),this.lb[c].b.className+="ui_data_select"):"input"==this.data[a].editable?
(this.lb[c]=new qd,this.lb[c].b.className+="ui_data_input"):"battlenetprofilemanager"==this.data[a].editable?(this.lb[c]=new rd(this.data[a].realms),b.cells[c][0].appendChild(Xc("<div>These profiles will be shown in the import section of the character planner, so you can quickly import them, without having to type the character name or select region and realm.</div>"))):e(Error("Unknown editable "+this.data[a].editable)),new sd(a,this.data[a].data,this.lb[c]),this.lb[c].readOnly(g_settings.userId!=
this.userId),b.cells[c][1].appendChild(this.lb[c].b),this.lb[c].setData(this.data[a].data),c++;this.b.appendChild(b.b)}ma.prototype={data:{},lb:[],b:j,map:{},userId:0,vl:""};function sd(a,b,c){z.call(this,["change"],new x(this.gc,this));this.key=a;this.data=b;this.Dc=c;this.Dc.B(this)}sd.prototype=new z([],j);m=sd.prototype;m.key="";m.data=j;m.Dc=j;m.gc=function(a){if(a.j("change")){var b={};b[this.key]=a.get("data");u("php/interface/user/set_user_setting.php"+w(b),new x(this.Nj,this),[])}};
m.Nj=function(a){try{var b=y(a);this.data=b==j?"":b}catch(c){t.A(c)}this.Dc.setData(this.data)};function fa(a,b,c){z.call(this,["change"],new x(this.gc,this));this.Nk=a;this.data=b;this.Dc=c;this.Dc.setData(this.data);this.Dc.B(this)}fa.prototype=new z([],j);m=fa.prototype;m.Nk="";m.data=j;m.Dc=j;m.gc=function(a){a.j("change")&&la("php/interface/forum/forum.php",{action:"edit",post:this.Nk,content:a.get("data")},new x(o.tj,o),j)};m.Nj=function(a){try{var b=y(a);this.data=b==j?"":b}catch(c){t.A(c)}this.Dc.setData(this.data)};function pa(a,b){this.parent=document.getElementById(a);this.ug=b;this.ll()}
pa.prototype={parent:"",ug:"",page:1,Ei:function(a){u("php/interface/get_icons.php"+w({page:a}),new x(this.Rl,this),[]);t.ua()},Rl:function(a){try{var b=y(a),c=b[0],d=Math.ceil(b[1]/b[2]);this.page=b[3];var f=S("div",{"class":"ui_avatar_container"}),g=U(f,"a",{"class":"close ui_avatar_close",href:"javascript:;"});H(g,"click",t.enable,t,[]);var h=U(f,"div",{"class":"ui_avatar_img_container"}),n;for(n in c){var r=U(h,"a",{title:c[n],href:"javascript:;"});U(r,"img",{"class":"ui_avatar_preview_img",src:"images/icons/large/"+
c[n]+".png"});H(r,"click",this.zm,this,[c[n]])}var v=U(f,"div",{"class":"ui_avatar_container_lf"}),s=U(f,"div",{"class":"ui_avatar_container_c"}),T=U(f,"div",{"class":"ui_avatar_container_rf"});if(1<this.page){var q=U(v,"a",{href:"javascript:;","class":"button button_light ui_avatar_page_btn",text:locale.previous});H(q,"click",this.Ei,this,[this.page-1])}U(s,"span",{text:this.page+" "+locale.of+" "+d});if(this.page<d){var da=U(T,"a",{href:"javascript:;","class":"button button_light ui_avatar_page_btn",
text:locale.next});H(da,"click",this.Ei,this,[this.page+1])}Wc(f);U(f,"div",{"class":"tt_note",text:"Press Escape to return"});t.zd(f)}catch(aa){t.A(aa)}},zm:function(a){t.ua();u("php/interface/user/set_user_setting.php"+w({Avatar:a}),new x(this.Cm,this),[])},Cm:function(a){this.ug=y(a);this.ll();t.enable()},ll:function(){X(this.parent);var a=U(this.parent,"a",{href:"javascript:;"});H(a,"click",this.Ei,this,[0]);this.ug?U(a,"img",{"class":"ui_avatar_img",src:"images/icons/large/"+this.ug+".png"}):
U(a,"span",{text:"Select an avatar"})}};function td(a,b,c,d){var f=0,g="",c=c-11;switch(c){case 20:f=Math.floor(100*(d/F[5][b-1]))/100;b=Math.floor(100*(d/F[7][b-1]))/100;g=(0<f?"m:"+L(f)+"%":"")+(0<b?(0<f?", ":"")+"s:"+L(b)+"%":"");break;case 27:if(a)f=a.e.Od,b=d*(1+f/100),g=(0<f?Math.floor(b)+", ":"")+Gb(b/14)+" "+locale.dps2;break;default:if(10>=c)f=F[c][b-1];else switch(c){case 21:f=F[8][b-1];break;case 24:f=F[15][b-1];break;case 25:f=F[17][b-1];break;case 26:f=F[23][b-1];break;case 38:f=F[25][b-1]}b=0<f?Math.floor(100*(d/f))/100:0;
g=0<b?L(b)+"%":""}return"<span class='green'>"+locale.equip+": "+J(locale.imprStats[c],d)+(g?"<span class='tt_rating_percent'>("+g+")<span>":"")+"</span>"}function ud(a,b,c){return a&&(a=a.e.gj[b])?"+"+c+" "+locale.ItemStatNames[b]+"<span class='tt_stat_with_mods'>("+Math.floor(c*(1+a/100))+")</span>":"+"+c+" "+locale.ItemStatNames[b]}function ua(a,b){return vd(a,b,0)}
function vd(a,b,c){var d="",f,g,h="",n="",r,v="",s="",b=b?b:a.cd;r=b!=j?b.f:Ic;a.Vi(r);for(f=0;f<a.e.length;f++)a.e[f]&&0!=a.e[f][1]&&(a.e[f]&&11<a.e[f][0]&&50>a.e[f][0]?n+=M(td(b,r,a.e[f][0],a.e[f][1])):h+=M(ud(b,a.e[f][0],a.e[f][1])));-1<a.ea&&(11>=a.ea?h+=M("<div class='green'>"+ud(b,a.ea,a.ja)+"</div>"):n+=M("<div class='green'>"+td(b,r,a.ea,a.ja)+"</div>"));for(f=0;f<a.F.length;f++)g=a.F[f],d=M(g.ka(b)),7==g.types[0]&&g.L[0]?s+=d:v+=d;g="<table cellpadding='0px' cellspacing='0px' class='tooltip_table tt_item'>"+
M("<div class='tooltip_title' style='color:"+Ya[a.ha]+"; white-space:nowrap;'>"+a.name+"</div>");a.Ae&8&&(g+=M("<span class='green'>"+locale.Heroic+"</span>"));if(a.Ae&134217728)g+=M(locale.boa);else switch(a.ck){case 1:g+=M(locale.bop);break;case 2:g+=M(locale.boe);break;case 3:g+=M(locale.bou)}1==a.unique?g+=M(locale.Unique):1<a.unique&&(g+=M(J(locale.UniqueMultiple,a.unique)));a.qa&&a.qa.hh&&(g+=M(J(locale.RequiresItemLevel,a.qa.hh)));a.Ae&524288&&(g+=M(locale.UniqueEquipped));a.Qk&&(g+=M(locale.This_Item_Begins_a_Quest));
if(a.oc)switch(a.$){case 4:0!=a.Aa&&(g=0==a.Aa||0==a.Y?g+M(locale.a_slot[a.Aa]):a.qa==j?g+N(locale.a_slot[a.Aa],"<span"+((b!=j?b.mg(a):1)?"":" class='red'")+">"+a.oc[0]+"</span>"):g+M(a.oc[0]));break;case 2:g+=N(locale.a_slot[a.Aa],a.oc[0]);break;case 1:g+=M(a.oc[0])}-1!=a.ta&&(g+=M("<span class='green'>"+locale.Reforged+"</span><span class='tooltip_reforge_info'>: "+a.ja+" "+locale.ItemStatNames[a.ta]+" \u21e8 "+a.ja+" "+locale.ItemStatNames[a.ea]+"</span>"));24==a.Aa?g+=M(J(locale.Adds,yb(a))):
a.Bb&&(g+=N(Math.floor(a.Nc)+" - "+Math.ceil(a.Lc)+" "+locale.damage,locale.Speed+" "+zb(a)),g+=M("("+J(locale.dps,Math.floor(10*a.Bb)/10+(0==Math.floor(10*a.Bb)%10?".0":""))+")"));0<a.Nb&&(g+=M(J(locale.armor,a.Nb)));g+=h;if(a.Va)if(a.S!=j)for(f=0;f<a.S.F.length;f++)(d=a.S.F[f])&&(g+=M(d.description));else g+=M("<span class='green'>&lt;"+locale.RandomEnchantment+"&gt;</span>");g+=v;for(f=0;3>f;f++)a.K[f]!=j?g+=M("<div class='tooltip_gem' style='background-image:url(images/icons/gem/"+a.K[f].t+".png);'>"+
a.K[f].qa.Cb.ka(b)+"</div>"):a.W[f]&&(g=14==a.W[f]?g+M("<div class='tooltip_socket_empty' style='background-image:url(images/socket_prismatic.png);'>"+locale.PrismaticSocket+"</div>"):g+M("<div class='tooltip_socket_empty' style='background-image:url(images/socket_"+Math.log(a.W[f])/Math.log(2)+".png);'>"+locale.a_socket[Math.log(a.W[f])/Math.log(2)]+"</div>"));a.Ad&&(g+=M("<span class='"+(a.ti()?"green":"grey")+"'>"+locale.socketBonus+": "+a.Ad.description+"</span>"));a.qa&&(g+=M(a.qa.Cb.description));
a.xg&&(g+=M(locale.Durability+": "+a.xg+"/"+a.xg));if(0!=a.Bc&&1535!=(a.Bc&1535)&&0<a.Bc){v=d="";for(f=0;11>f;f++)0!=(a.Bc&1<<f)&&(d+=(d?", ":"")+locale.a_class[f],v+=(v?", ":"")+"<span class='character_class_"+(f+1)+"'>"+locale.a_class[f]+"</span>");d&&(g=b!=j&&!b.yg(a)?g+M("<span class='red'>"+locale.Classes+": "+d+"</span>"):g+M(locale.Classes+": "+v))}if(a.Hb||7==a.ha)g=a.bc?g+M(I(locale.RequiredLevelScaling,[Math.max(1,a.bc[20]),a.bc[21],Math.min(a.bc[21],r)])):g+M("<span class='"+(r>=a.Hb?"":
"red")+"'>"+J(locale.reqLevel,a.Hb)+"</span>");a.cp&&(g+=M("<span class='red'>"+locale.req+" "+a.bp+" ("+a.se+")</span>"));a.fp&&(g+=M("<span class='red'>"+locale.req+" "+a.ep+"</span>"));a.Uk&&(g+=M("<span class='red' style='white-space:nowrap'>"+locale.req+" "+a.Vk+" - "+locale.a_reputation[a.Wk]+"</span>"));if(a.f&&(2==a.$||4==a.$))g+=M(J(locale.itemLevel,a.f));g+=n;for(f=0;5>f;f++)if(a.L[f]!=j&&(d=a.L[f].Rb(b),r=n="",d)){switch(a.ej[f]){case 0:r=locale.use;0<a.aj[f]&&(n="("+Hb(a.aj[f]/1E3)+" "+
locale.Cooldown+")");break;case 1:r=locale.equip;break;case 2:r=locale.hit}g+=M("<span class='green'>"+r+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+a.L[f].id+"'>")+d.join("<br/>")+" "+(g_settings.isPlanner?"":"</a>")+n+"</span>")}g+=s;if(a.qa!=j&&a.qa.Cb.Cc)for(f=0;5>f;f++){s="#888888";if(a.qa.Cb.Bk(f,b!=j?b.z.Ec:j))s="#FFFFFF";d=a.qa.Cb.Cc;n=d[1][f]?d[1][f]:0;r=d[3][f]?d[3][f]:0;v=d[4][f]?d[4][f]:0;switch(d[2][f]?d[2][f]:0){case 0:0!=v&&(g+=M("<div class='tt_meta_condition' style='color:"+
s+"'>"+(1<v?I(locale.Meta_RequiresExactlyPl,[v,locale.Meta_Category[n]]):J(locale.Meta_RequiresExactly,locale.Meta_Category[n]))+"</div>"));break;case 2:g+=M("<div class='tt_meta_condition' style='color:"+s+"'>"+I(locale.Meta_RequiresMore,[locale.Meta_Category[r],locale.Meta_Category[n]])+"</div>");break;case 3:g=0==v?g+M("<div class='tt_meta_condition' style='color:"+s+"'>"+I(locale.Meta_RequiresMore,[locale.Meta_Category[n],locale.Meta_Category[r]])+"</div>"):g+M("<div class='tt_meta_condition' style='color:"+
s+"'>"+(1<v+1?I(locale.Meta_RequiresAtLeastPl,[v+1,locale.Meta_Category[n]]):J(locale.Meta_RequiresAtLeast,locale.Meta_Category[n]))+NaN);break;case 5:0<n&&(g+=M("<div class='tt_meta_condition' style='color:"+s+"'>"+(1<v?I(locale.Meta_RequiresAtLeastPl,[v,locale.Meta_Category[n]]):J(locale.Meta_RequiresAtLeast,locale.Meta_Category[n]))+"</div>"))}}a.description&&(g+=M("<span style='color:#DDDD00'>\""+a.description+'"</span>'));if(1!=(c&1)){if(a.ma!=j){s=a.ma.bo;c=0;n=[];if(b!=j)for(f=0;f<Bc;f++)if(d=
b.ra(f,0),d!=j&&d.ma!=j&&d.ma.id==a.ma.id){for(r=0;r<s;r++)if(a.ma.l[r]&&a.ma.l[r][0]==d.Aa)n[r]=d.name;c++}g+=M("<div class='tooltip_set_name'>"+a.ma.name+" ("+c+"/"+s+")</div>");for(f=0;f<s;f++)g+=M("<span class='"+(n[f]?"tooltip_set_item_active":"tooltip_set_item_inactive")+"'>"+(n[f]?n[f]:a.ma.l[f]&&a.ma.l[f][1]?a.ma.l[f][1]:locale.Unknown)+"</span>");g+=M("<div class='tooltip_set_bonus_spacing'></div>");for(f=0;8>f;f++)(s=a.ma.Ri[f])&&(g+=M("<div class='"+(c>=s?"tooltip_set_bonus_active":"tooltip_set_bonus_inactive")+
"'>("+s+") "+locale.Set+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+a.ma.Rd[f].id+"'>")+a.ma.Rd[f].Rb(b).join("<br />")+(g_settings.isPlanner?"":"</a>")+"</div>"))}if(0<a.Si)b=a.Si,f="<span class='tooltip_sell_price'>",1E4<b&&(f+=Math.floor(b/1E4)+"<img alt='g' class='tooltip_coint' align='center' src='images/tooltip/UI-GoldIcon.png' />",b%=1E4),100<b&&(f+=Math.floor(b/100)+"<img alt='s' class='tooltip_coint' align='center' src='images/tooltip/UI-SilverIcon.png' />",
b%=100),b&&(f+=b+"<img alt='c' class='tooltip_coint' align='center' src='images/tooltip/UI-CopperIcon.png' />"),g+=M(J(locale.SellPrice,f+"</span>"));g_settings.isPlanner==i&&a.Va!=j&&(g+=M("<span style='white-space: normal; color:#808080; font-size:11px'>See Enchants to change the random enchantment</span>"))}return g+"</table>"};function Ba(a,b,c,d){a.ia(b!=j?b.f:85);var f="<table cellpadding = 0 cellspacing = 0 style='vertical-align: top'>",g="",h="",n="";if(!c||0==(c&1))f+=M("<span class='tooltip_title'>"+a.name+"</span>");h="";a.ud&&5==a.be?(a.ud[0]&&(h+=a.ud[0]+" "+locale.Blood),a.ud[1]&&(h+=(h?", ":"")+a.ud[1]+" "+locale.Unholy),a.ud[2]&&(h+=(h?", ":"")+a.ud[2]+" "+locale.Frost)):a.fd&&(g=1==a.be||6==a.be?a.fd[0]/10:a.fd[0],b!=j?(g=Math.max(Cb(g,2),Math.floor(a.fd[1]*b.e.jg/100)),0<g&&(h=g+" "+locale.energy2[a.be])):
0<g?h=g+" "+locale.energy2[a.be]:0<a.fd[1]&&(h=Cb(a.fd[1],2)+"% "+locale.ofBaseMana));h=h?"<span style='white-space:nowrap'>"+h+"</span>":"";n="";a.Wa!=j&&0<a.Wa[1]&&(n=0<a.Wa[3]&&(a.Wa[1]!=a.Wa[3]||a.Wa[0]!=a.Wa[2])?J(locale.RangeEnemy,Fb(a.Wa[0],a.Wa[1]))+"<br />"+J(locale.RangeFriendly,Fb(a.Wa[2],a.Wa[3])):Fb(a.Wa[0],a.Wa[1]));if(h&&n)f+=N(h,n);else if(h||n)f+=M(h?h:n);g=a.Zi;n="";a.Zi&&(n=Hb(g)+" "+locale.cooldown);h="";if(0<a.Se||n)h="<span style='white-space:nowrap'>"+(0<a.Se?J(locale.cast,
Math.ceil(Math.pow(10,2)*(a.Se/1E3))/Math.pow(10,2)):locale.instantCast)+"</span>";n?f+=N(h,n):h&&(f+=M(h));if(c&1)for(c=0;c<d.length;c++)f+=M("<span class='tooltip_talents_required'>"+d[c]+"</span");f+=M("<span class='tooltip_spell_description'>"+a.Rb(b).join("<br />")+"</span>");return f+"</table>"};function sa(){this.ce=document.createElement("div");this.ce.className="tt_msg_c"}
sa.prototype={v:j,content:j,pb:j,disabled:k,hi:k,ce:j,x:0,y:0,Vf:j,ob:k,Hg:k,yp:ba("Hg"),Bp:function(a){this.content=document.createElement("div");this.v=document.createElement("div");this.v.className="tooltip_div";var b=new Y(3,3);b.cells[0][0].innerHTML="<div class='tt_bg_lt'></div>";b.cells[0][1].className="tt_bg_t";b.cells[0][2].innerHTML="<div class='tt_bg_rt'></div>";b.cells[1][0].className="tt_bg_l";b.cells[1][1].appendChild(this.content);this.content.className="tt_bg";b.cells[1][2].className=
"tt_bg_r";b.cells[2][0].innerHTML="<div class='tt_bg_lb'></div>";b.cells[2][1].className="tt_bg_b";b.cells[2][2].innerHTML="<div class='tt_bg_rb'></div>";this.Vf=b;this.v.appendChild(b.b);a.appendChild(this.v)},Yl:function(){this.content=document.createElement("div");this.v=document.createElement("div");this.v.className="tooltip_div";var a=new Y(3,3);a.cells[0][0].innerHTML="<div class='tt_bg_lt'></div>";a.cells[0][1].className="tt_bg_t";a.cells[0][2].innerHTML="<div class='tt_bg_rt'></div>";a.cells[1][0].className=
"tt_bg_l";a.cells[1][1].appendChild(this.content);this.content.className="tt_bg";a.cells[1][2].className="tt_bg_r";a.cells[2][0].innerHTML="<div class='tt_bg_lb'></div>";a.cells[2][1].className="tt_bg_b";a.cells[2][2].innerHTML="<div class='tt_bg_rb'></div>";this.Vf=a;this.v.appendChild(a.b);document.body.appendChild(this.v)},He:function(a){this.v==j&&this.Yl();this.v.style.width="";this.v.style.whiteSpace="nowrap";this.content.innerHTML=a;this.v.style.display="block";350<this.Vf.b.offsetWidth?this.Kh(350):
this.v.style.width=this.Vf.b.offsetWidth+"px"},Kh:function(a){this.v.style.whiteSpace="normal";this.v.style.width=a+"px";if(this.v.firstChild.offsetWidth>a)this.v.style.width=this.v.firstChild.offsetWidth+"px"},xj:function(a,b){var c=Ib(),d=Math.max(document.documentElement.scrollTop,document.body.scrollTop);this.v&&(b+this.v.offsetHeight+24>c[1]+d&&(b=c[1]+d-this.v.offsetHeight-24),a+this.v.offsetWidth>document.body.scrollLeft+document.body.offsetWidth&&(a-=this.v.offsetWidth+20));return[Math.max(0,
a),Math.max(0,b)]},Dh:function(a){for(var b=0,c=0,d=a.offsetWidth,f=a.offsetHeight;a!=j;)c+=a.offsetTop,b+=a.offsetLeft,a=a.offsetParent;return[b,c,d,f]},Sl:function(a){var b=a.scrollHeight,c=Ib(),d=document.body.scrollTop;a.style.marginLeft=Math.max(0,document.body.scrollLeft+(c[0]/2-a.scrollWidth/2))+"px";a.style.marginTop=Math.max(0,d+(c[1]/3-b/2))+"px"},am:function(){if(this.pb==j)this.pb=document.getElementById("tt_overlay");var a=Ib();this.pb.style.width=Math.max(a[0],document.body.scrollWidth)+
"px";this.pb.style.height=Math.max(a[1],document.body.scrollHeight)+"px";this.pb.style.display="block";this.disabled=i;this.pb.onclick=j},move:function(){var a=this.xj(this.x+10,this.y+10);if(this.v)this.v.style.left=a[0]+"px",this.v.style.top=a[1]+"px"},Sn:function(a){if(!a)a=window.event;document.all&&document.getElementById?(this.x=a.clientX+document.documentElement.scrollLeft,this.y=a.clientY+document.documentElement.scrollTop):(this.x=a.pageX,this.y=a.pageY)},Qn:function(a){27==a.keyCode&&this.disabled&&
this.enable();if(17==a.keyCode)this.ob=i},Rn:function(a){if(17==a.keyCode)this.ob=k},ld:function(){H(document,"mousemove",t.Sn,t,j);H(document,"keydown",t.Qn,t,j);H(document,"keyup",t.Rn,t,j)},nl:function(a,b){if(this.ob&&this.Hg)this.ob=k;else{var c=this.Dh(b);this.He(a);c=this.xj(c[0]+c[2]+10,c[1]);this.v.style.left=c[0]+"px";this.v.style.top=c[1]+"px"}},Z:function(){if(this.v!=j)this.v.style.display="none"},zd:function(a){this.am();p(this.pb,a);this.Sl(a)},vh:function(a){a+='<br /><span class="tt_close_notice">Left click or hit escape to continue.</span>';
this.zd(U(S("div",{"class":"tt_msg_c"}),"div",{text:a,"class":"tt_msg"}));this.pb.onclick=function(){t.enable()}},enable:function(){if(this.pb)X(this.pb),this.pb.style.display="none";this.hi=this.disabled=k},A:function(a){a='<div class="tt_error_msg"><div class="tt_error_msg_title">Error</div><div class="tt_error_msg_content">'+a+"</div></div>";this.hi?this.ce.innerHTML=a+"<br />"+this.ce.innerHTML:(this.hi=i,this.ce.innerHTML=a+'<br /><span class="tt_close_notice">Left click or hit escape to continue.</span>');
this.zd(this.ce);this.pb.onclick=function(){t.enable()}},ua:function(){var a=document.createElement("div");a.className="tt_loading";a.innerHTML="Loading";this.zd(a)},ol:function(a,b){this.He(a+"</table>");var c=this.Dh(b);this.v.style.left=c[0]+c[2]+"px";this.v.style.top=c[1]+"px";300<this.v.offsetWidth&&this.Kh(300)},Lp:function(a,b,c,d,f){f=this.Dh(f);this.He(a);this.Kh(250);this.v.style.left=1==b&&1<d||2==b?f[0]-this.v.offsetWidth-10+"px":f[0]+f[2]+10+"px";this.v.style.top=5<c?f[1]+f[3]-this.v.offsetHeight+
"px":f[1]+"px"},Kb:function(a){this.ob&&this.Hg?this.ob=k:(this.He(a),this.move())},show:function(a){this.ob&&this.Hg?this.ob=k:this.He(a)}};var t=new sa;t.yp(i);window.__tooltip_init=t.ld;window.g_moveTooltip=function(){t.move.call(t)};window.g_hideTooltip=function(){t.Z.call(t)};function wd(a,b,c){var d=a.e,f="";switch(b){case 0:f+=M("<span class='tt_stat_title'>"+locale.CS_Stats[b][c]+" "+Math.floor(d.nb[c])+"</span>");switch(c){case 0:f+=M(locale.TT_StatText.Health);break;case 1:f+=M(locale.TT_StatText.Mana);break;case 2:f+=M(locale.TT_StatText.Rage);break;case 3:f+=M(locale.TT_StatText.Energy);break;case 4:f+=M(locale.TT_StatText.Focus);break;case 5:f+=M(locale.TT_StatText.RunicPower);break;case 6:f+=M(locale.TT_StatText.ItemLevel)}break;case 1:var g=Math.floor(d.Qd[c]),
h=Math.floor(d.attributes[c]),n=h-g,r=Math.floor(d.fg[c]),v=Math.floor(d.yh[c]),s=Math.round(100*d.Yd[c])/100,T=Math.round(100*d.Ff[c])/100,f=f+M("<span class='tt_stat_title'>"+locale.CS_Stats[b][c]+" "+h+(0<n?" ("+g+"+<span class='green'>"+n+"</span>)":"")+"</span>");(3==c||4==c)&&!a.wk()?f+=M("<span class='tt_stat_no_benefit'>"+locale.TT_StatText.NoBenefit+"</span>"):(a="",2==c?a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesHealth,Math.floor(d.Gg)):3==c?a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesMana,
Math.floor(d.Og)):4==c&&(a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesManaRegen,Math.floor(d.Pg))),0<r&&(a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesAP,r)),0<v&&(a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesSP,v)),0<s&&(a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesCrit,L(s))),0<T&&(a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesSpellCrit,L(T))),a&&(f+=M(a)));break;case 2:switch(c){case 0:f+=M("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");f+=N(locale.TT_StatText.AttackSpeed,
K(d.gb/1E3,2));f+=N(locale.TT_StatText.Damage,Math.floor(d.Ta)+" - "+Math.ceil(d.Sa));f+=N(locale.TT_StatText.DamagePerSecond,K(d.yi,1));0<d.Db&&(f+=M("<div style='padding:5px'></div>"),f+=M("<span class='tt_stat_title'>"+locale.TT_StatTitle.OffHand+"</span>"),f+=N(locale.TT_StatText.AttackSpeed,K(d.Db/1E3,2)),f+=N(locale.TT_StatText.Damage,Math.floor(d.ib)+" - "+Math.ceil(d.hb)),f+=N(locale.TT_StatText.DamagePerSecond,K(d.Ai,1)));break;case 1:f+=M("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+
"</span>");break;case 2:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.MeleeAp,Math.floor(d.va)+(0<Math.floor(d.Ac)?" ("+(Math.floor(d.va)-Math.floor(d.Ac))+"<span class='green'>+"+Math.floor(d.Ac)+"</span>)":""))+"</span>");f+=M(J(locale.TT_StatText.IncreasesMeleeDamage,K(d.va/14,1)));break;case 3:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.AttackSpeed,K(d.Q[3][0]/1E3,2)+(d.Q[3][1]!=j?" / "+K(d.Q[3][1]/1E3,2):""))+"</span>");break;case 4:f+=M("<span class='tt_stat_title'>"+
J(locale.TT_StatTitle.Haste,L(d.Q[4]))+"</span>");f+=M(locale.TT_StatText.IncreasesAttackSpeed);f+=M(I(locale.TT_StatText.IncreasesHaste,[d.gf,L(d.gf/F[17][a.f-1])]));break;case 5:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.HitChance,K(d.Q[5],2))+"</span>");f+=M(I(locale.TT_StatText.HitRating,[Math.floor(d.Ub[1]),K(d.Ub[1]/F[5][a.f-1],2)]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+
locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";if(0<d.Db){c+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_NormalAttacks+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.f+b)+"</td><td class='tt_miss'>"+L(Math.max(0,kb[b]-d.Q[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+xd(kb[3],d.Q[5],F[5][a.f-1])+"</td></tr>";c+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_SpecialAttacks+"</td></tr>"}for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+
(a.f+b)+"</td><td class='tt_miss'>"+L(Math.max(0,jb[b]-d.Q[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+xd(jb[3],d.Q[5],F[5][a.f-1])+"</td></tr>";f+=M(c+"</table>");break;case 6:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.CritChance,L(d.Q[6]))+"</span>");f+=M(locale.TT_StatText.ExtraDamage);f+=M(I(locale.TT_StatText.CritRating,[Math.floor(d.Tb[1]),L(d.Tb[1]/F[8][a.f-1])]));break;case 7:r=0.25*d.Q[7][0];v=d.Q[7][1]==j?j:0.25*d.Q[7][1];s=F[23][a.f-1]/0.25;f+=M("<span class='tt_stat_title'>"+
locale.CS_Stats[b][c]+" "+d.Q[7][0]+(v!=j?" / "+d.Q[7][1]:"")+"</span>");f+=M(J(locale.TT_StatText.ReduceDodgeParry,L(r)+"%"+(v!=j?"/"+L(v)+"%":"")));f+=M(I(locale.TT_StatText.ExpertiseRating,[Math.floor(d.Qb[1]),Math.floor(d.Qb[1]/F[23][a.f-1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup>"+("<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_DodgeChance+"</td></tr>");
c+=yd(a.f,ob,r,v);c+="<tr><td colspan='2'>"+xd(ob[3],r,s)+"</td></tr>";c+="<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_ParryChance+"</td></tr>";c+=yd(a.f,nb,r,v);c+="<tr><td colspan='2'>"+xd(nb[3],r,s)+"</td></tr>";f+=M(c+"</table>");break;case 8:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.Mastery,L(d.Q[8]))+"</span>"),f+=M(I(locale.TT_StatText.MasteryRating,[Math.floor(d.pc),L(d.pc/F[25][a.f-1])]))}break;case 3:switch(c){case 0:f+=
M("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");f+=N(locale.TT_StatText.AttackSpeed,L(d.rc/1E3));f+=N(locale.TT_StatText.Damage,Math.floor(d.qf)+" - "+Math.ceil(d.pf));f+=N(locale.TT_StatText.DamagePerSecond,Gb(d.Zg));break;case 1:f+=M("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+"</span>");break;case 2:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.RangedAp,Math.floor(d.rb))+"</span>");f+=M(J(locale.TT_StatText.IncreasesRangedDamage,Gb(d.rb/14)));break;
case 3:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.AttackSpeed,L(d.oa[3]/1E3))+"</span>");break;case 4:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.Haste,L(d.oa[4]))+"</span>");f+=M(locale.TT_StatText.IncreasesAttackSpeedAndFocus);f+=M(I(locale.TT_StatText.IncreasesHaste,[d.uf,L(d.uf/F[18][a.f-1])]));break;case 5:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.HitChance,L(d.oa[5]))+"</span>");f+=M(I(locale.TT_StatText.HitRating,[Math.floor(d.vf),L(d.vf/F[6][a.f-
1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.f+b)+"</td><td class='tt_miss'>"+L(Math.max(0,mb[b]-d.oa[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+xd(mb[3],d.oa[5],F[6][a.f-1])+"</td></tr>";f+=M(c+"</table>");break;case 6:f+=M("<span class='tt_stat_title'>"+
J(locale.TT_StatTitle.CritChance,L(d.oa[6]))+"</span>");f+=M(locale.TT_StatText.ExtraDamage);f+=M(I(locale.TT_StatText.CritRating,[Math.floor(d.tf),L(d.tf/F[9][a.f-1])]));break;case 7:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.Mastery,L(d.oa[7]))+"</span>"),f+=M(I(locale.TT_StatText.MasteryRating,[Math.floor(d.pc),L(d.pc/F[25][a.f-1])]))}break;case 4:switch(c){case 0:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.SpellPower,Math.floor(d.n[0]))+"</span>");f+=M(locale.TT_StatText.IncreasesDamageAndHealing);
break;case 1:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.Haste,L(d.n[1]))+"</span>");f+=M(locale.TT_StatText.IncreasesSpellCasting);f+=M(I(locale.TT_StatText.IncreasesHaste,[d.Hf,L(d.Hf/F[19][a.f-1])]));break;case 2:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.HitChance,L(d.n[2]))+"</span>");f+=M(I(locale.TT_StatText.HitRating,[Math.floor(d.If),L(d.If/F[7][a.f-1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+
locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.f+b)+"</td><td class='tt_miss'>"+L(Math.max(0,lb[b]-d.n[2]))+"%</td></tr>";c+="<tr><td colspan='2'>"+xd(lb[3],d.n[2],F[7][a.f-1])+"</td></tr>";f+=M(c+"</table>");break;case 4:f+=M("<span class='tt_stat_title'>"+locale.TT_StatTitle.ManaRegen+"</span>");f+=M(J(locale.TT_StatText.ManaRegen,Math.floor(d.n[4])));break;case 5:f+=M("<span class='tt_stat_title'>"+
locale.TT_StatTitle.CombatRegen+"</span>");f+=M(J(locale.TT_StatText.CombatRegen,Math.floor(d.n[5])));break;case 6:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.CritChance,L(d.n[6]))+"</span>");f+=M(I(locale.TT_StatText.CritRating,[Math.floor(d.Gf),L(d.Gf/F[10][a.f-1])]));break;case 7:f+=M("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.Mastery,L(d.n[7]))+"</span>"),f+=M(I(locale.TT_StatText.MasteryRating,[Math.floor(d.pc),L(d.pc/F[25][a.f-1])]))}break;case 5:f+=M("<span class='tt_stat_title'>"+
J(locale.TT_StatTitle_Defense[c],4==c||0==c?d.pa[c]:L(d.pa[c]))+"</span>");switch(c){case 0:f+=M(J(locale.TT_StatText.ReducesPhysical,L(100*(81<=a.f?d.pa[0]/(d.pa[0]+2167.5*a.f-158167.5):60<=a.f?d.pa[0]/(d.pa[0]+467.5*a.f-22167.5):d.pa[0]/(d.pa[0]+85*a.f+400)))));break;case 1:f+=M(I(locale.TT_StatText.DodgeRating,[d.C[2],L(d.C[2]/F[2][a.f-1])]));break;case 2:f+=M(I(locale.TT_StatText.ParryRating,[d.td,L(d.td/F[3][a.f-1])]));break;case 3:f+=M(I(locale.TT_StatText.BlockRating,[d.C[4],L(d.C[4]/F[4][a.f-
1])]));break;case 4:f+=M(J(locale.TT_StatText.Resilience,L(100*d.lp)))}break;case 6:f+=M("<span class='tt_stat_title'>"+J(locale.TT_ResistanceTitle[c],d.$b[c])+"</span>"),f+=M(J(locale.TT_Resistance[c],0))}f&&(f="<table style='line-height:125%' class='tt_stat_text'>"+f+"</table>");return f}function xd(a,b,c){a=Math.floor((a-b)*c);return 0!=a?0<a?"<div class='tt_hit_cap'>"+J(locale.TillCap,a)+"</div>":"<div class='tt_hit_cap'>"+J(locale.OverCap,Math.abs(a))+"</div>":""}
function yd(a,b,c,d){var f,g="";for(f=0;4>f;f++)g+="<tr><td class='tt_miss_level'>"+(a+f)+"</td><td class='tt_miss'>"+L(Math.max(0,b[f]-c))+(d!=j?"/"+L(Math.max(0,b[f]-d)):"")+"%</td></tr>";return g};function zd(a,b,c,d){var b=a.q[b][c][d],f=b.tk(),c=b.Fn(),d=[],g="<table cellpadding='0px' cellspacing='0px'>";f!=j?(g+=M("<span class='tooltip_talent_name'>"+f.name+"</span>"),g+=M("<span class='tooltip_talent_rank'>"+locale.Rank+" "+b.T+"/"+b.Gb+"</span>"),g+=M(Ba(f,j,1,[])),c!=j&&(g+=M("<div class='tooltip_talent_next_rank'>"+locale.Nextrank+"</div>"))):g+=N("<span class='tooltip_talent_name'>"+c.name+"</span>","<span class='tooltip_talent_rank'>"+locale.Rank+" "+b.T+"/"+b.Gb+"</span>");if(c!=
j){for(f=0;3>f;f++){var h=b.Ib[f];h&&h.T!=h.Gb&&(d[d.length]=1<h.Gb?I(locale.requires_points_in,[h.Gb,h.getName()]):J(locale.requires_point_in,h.getName()))}f=a.qb;a.xa[b.kj]<b.zf*f&&(d[d.length]=I(locale.requires_points_in_tree,[b.zf*f,a.ec[b.kj]]));g+=Ba(c,j,1,[])}return g+"</table>"};function Ad(){this.b=S("div",{"class":"bb_p"});this.c=new A;this.c.i("remove_buff",["id"]);this.c.i("add_stack",["id"])}
Ad.prototype={c:j,b:j,update:function(a){X(this.b);for(var b in a)this.Dm(a[b])},Dm:function(a){var b=U(this.b,"div",{"class":"bb_buff",backgroundImage:"images/icons/small/"+a.t+".png"});H(b,"contextmenu",this.Hh,this,[a.id]);H(b,"click",this.Kd,this,[a.id]);b.oncontextmenu=l(k);b.onmouseout=function(){t.Z()};b.onmousemove=function(){t.move()};a.Cd&&b.appendChild(Mb(a.Sf.Za));var c=a.ka(),c=a.Cd?1<a.Sf.Za?c+"<div class='tt_note'>Left click to increase and right click to decrease the stack</div>":
c+"<div class='tt_note'>Left click to increase the stack and right click to remove the Buff</div>":c+"<div class='tt_note'>Right click to remove the Buff</div>";H(b,"mouseover",t.Kb,t,[c])},Hh:function(a){this.c.g("remove_buff",{id:a})},Kd:function(a){this.c.g("add_stack",{id:a})}};function Zc(){this.c=new A;this.c.i("race_select",["race_id"]);this.c.i("class_select",["class_id"]);this.c.i("level_select",["level"]);this.c.i("profession_select",["index","id"]);this.c.i("profession_level_select",["index","level"]);this.c.i("stat_tooltip_show",["group","index","node"]);this.c.i("stat_tooltip_hide",["group","index","node"]);this.c.i("item_right_click",["slot","index"]);this.c.i("item_left_click",["slot","index"]);this.c.i("item_tooltip_show",["slot","index"]);this.c.i("item_tooltip_hide",
["slot","index"]);this.c.i("remove_buff",["id"]);this.c.i("add_stack",["id"]);this.c.i("select_shape",["shape_id"]);this.c.i("select_presence",["presence_id"]);var a,b,c,d,f;this.Hi=new Bd(this);this.Cf=new Cd;this.Cf.fa("select_shape",this.c);this.lf=new Dd;this.lf.Um("select_presence",this.c);this.Qe=new Ad;this.Qe.c.fa("remove_buff",this.c);this.Qe.c.fa("add_stack",this.c);this.b=document.createElement("div");c=document.createElement("div");c.className="cs_level_parent";this.f=document.createElement("select");
this.f.className="single_select";c.appendChild(this.f);H(this.f,"change",this.nm,this,j);a=document.createElement("div");a.className="cs_t";a.appendChild(this.Hi.b);a.appendChild(this.Qe.b);a.appendChild(c);Jb(a);a.appendChild(this.Cf.b);a.appendChild(this.lf.b);this.b.appendChild(a);a=new Y(1,2);a.th($c);a.b.className="cs_m_grid";a.cols[0].width="180px";a.cols[1].width="160px";c=document.createElement("div");c.className="cs_m_grid_t";c.appendChild(a.b);f=U(c,"div",{"class":"cs_prof_p"});this.b.appendChild(c);
c=document.createElement("div");c.className="cs_m_grid_sl";d=new Y(8,2);this.Ya=[];for(b=0;19>b;b++)this.Ya[b]=new Ed(this,b);for(b=0;8>b;b++)d.cells[b][0].appendChild(this.Ya[b].b),d.cells[b][1].appendChild(this.Ya[b+8].b);c.appendChild(d.b);b=new Y(1,3);c.appendChild(b.b);b.cells[0][0].appendChild(this.Ya[16].b);b.cells[0][1].appendChild(this.Ya[17].b);b.cells[0][2].appendChild(this.Ya[18].b);b.b.className="cs_w_grid";a.cells[0][0].appendChild(c);this.e=[];this.wa=[];for(b=0;b<locale.CS_StatGroups.length;b++){this.wa[b]=
new Fd;6==b&&this.wa[b].toggle();this.e[b]=[];for(c=0;c<locale.CS_Stats[b].length;c++)d=new Gd(b,c),d.fa("stat_tooltip_show",this.c),d.fa("stat_tooltip_hide",this.c),this.e[b][c]=d,this.wa[b].content.appendChild(this.e[b][c].b);this.wa[b].b.className="group cs_st_p";this.wa[b].content.className="cs_st_c";c=U(this.wa[b].za,"div",{"class":"stat_title_p"});U(c,"a",{"class":"stat_title",text:locale.CS_StatGroups[b],href:"javascript:"});a.cells[0][1].appendChild(this.wa[b].b)}this.nf=new Y(2,2);this.nf.b.className=
"cs_prof_grid";this.Rc=[j,j];this.Zb=[j,j];this.Ql();for(b=0;2>b;b++)this.nf.cells[b][0].appendChild(this.Rc[b].b),this.nf.cells[b][1].appendChild(this.Zb[b].b);U(f,"div",{"class":"cs_prof_title",text:locale.Professions});f.appendChild(this.nf.b);this.Ya[18].Wi(k);this.pl(-1)}var Hd={1:24,2:8,3:52,4:56,5:44,6:24,7:40,8:44,9:44,11:8};
Zc.prototype={c:j,b:j,character:j,Qe:j,Ya:[],e:[],mh:-1,wa:[],f:j,Cf:j,lf:j,nf:j,Rc:[],Zb:[],B:function(a){this.c.B(a)},tb:function(a){this.c.tb(a)},Ql:function(){for(var a,b,c=0;2>c;c++){a=[[0,""]];for(b=0;b<Xa.length;b++){var d=Xa[b];a.push([d,locale.PrimaryProfessions[d]])}this.Rc[c]=new Id([]);this.Rc[c].b.className="single_select cs_prof_sel";H(this.Rc[c].b,"change",this.om,this,[c]);this.Zb[c]=new Id([]);this.Zb[c].b.className="single_select cs_prof_level_sel";H(this.Zb[c].b,"change",this.pm,
this,[c])}},om:function(a){this.c.g("profession_select",{index:a,id:parseInt(this.Rc[a].la(),10)})},pm:function(a){this.c.g("profession_level_select",{index:a,level:parseInt(this.Zb[a].la(),10)})},nm:function(){this.c.g("level_select",{level:parseInt(this.f.options[this.f.selectedIndex].value,10)})},Pf:function(a){for(var b=0;b<this.f.options.length;b++)if(parseInt(this.f.options[b].value,10)==a){this.f.options[b].selected="true";break}},$p:function(a,b){var c;Kb(this.f);for(var d=a;d<=b;d++)c=document.createElement("option"),
c.value=d,c.innerHTML=d,this.f.appendChild(c)},pl:function(a){var b=0;0<a&&Hd[a]&&(b=Hd[a]);b|=64;for(a=0;a<this.wa.length;a++)0!=(1<<a&b)?this.wa[a].collapse():this.wa[a].expand()},Qf:function(a,b){for(var c,d,f,g=0;2>g;g++){var h=a[g];c=[[0,""]];for(d=0;d<Xa.length;d++)f=Xa[d],0>Ob(Xa[d],b)||0==g&&a[1]!=j&&a[1].id==f||1==g&&a[0]!=j&&a[0].id==f||c.push([f,locale.PrimaryProfessions[f]]);this.Rc[g].set(c);if(h!=j){this.Rc[g].select(h.id.toString());this.Zb[g].b.style.display="block";f=Pb(h.id,b);c=
[];for(d=1;d<=f;d++)c.push([d,d]);this.Zb[g].set(c);this.Zb[g].select(h.f.toString())}else this.Zb[g].b.style.display="none"}},qp:function(a){-1!=a&&this.Ya[a].select();-1!=this.mh&&this.mh!=a&&this.Ya[this.mh].mn();this.mh=a},sp:function(a){this.c.g("class_select",{class_id:a})},tp:function(a){this.c.g("race_select",{race_id:a})},xk:function(a,b){this.Ya[a].ob(b)}};function Jd(a,b){this.id=a;this.f=b}Jd.prototype={id:0,f:0};function Ed(a,b){var c;this.Na=a;this.b=document.createElement("div");this.Ga=[];this.u=b;this.b.className="cs_is_p  cs_is_p_"+(8>b?0:16>b?1:2);for(c=0;4>c;c++)this.Ga[c]=document.createElement("img"),this.Ga[c].className=0==c?"cs_is_img_large":"cs_is_img_small";this.Ra=new Kd(2);this.Ra.k[0].className="cs_is_ip cs_is_ip_"+(8>b?0:16>b?1:2);this.Ra.k[0].appendChild(this.Ga[0]);this.Ra.k[1].className="character_sheet_item_highlight";this.Ra.k[1].oncontextmenu=l(k);this.b.appendChild(this.Ra.k[0]);H(this.Ra.k[1],
"mouseover",this.ql,this,[0]);H(this.Ra.k[1],"mouseout",this.ob,this,[0]);H(this.Ra.k[1],"click",this.Kd,this,[0]);H(this.Ra.k[1],"contextmenu",this.Gj,this,[0]);this.fb=[];for(c=0;3>c;c++){this.fb[c]=new Kd(3);document.createElement("div");this.fb[c].k[0].className="cs_is_hi";this.fb[c].k[1].appendChild(this.Ga[c+1]);this.fb[c].k[1].className="cs_is_hip";this.fb[c].k[1].style.zIndex="";this.fb[c].k[2].className="cs_is_hi_event_p";var d=U(this.fb[c].k[2],"a",{"class":"cs_is_hi_event",href:"javascript:"});
d.oncontextmenu=l(k);H(d,"mouseover",this.ql,this,[c+1]);H(d,"mouseout",this.ob,this,[c+1]);H(d,"click",this.Kd,this,[c+1]);H(d,"contextmenu",this.Gj,this,[c+1]);this.b.appendChild(this.fb[c].k[0])}this.l=[]}
Ed.prototype={b:j,Ga:[],u:-1,ha:-1,selected:k,Na:j,l:[],Ra:j,fb:[],ql:function(a){if(this.l[a])if(1<=a){this.Ga[a].src="images/icons/large/"+this.l[a].t+".png";this.Ga[a].className="cs_is_img_large";V(this.fb[a-1].k[1],"cs_is_hip_enlarge");var b=this.l[a].ka()+"<div class='tt_note'>Press CTRL to prevent this tooltip from showing</div>";t.nl(b,this.Ga[a])}else t.nl(this.l[a].ka(),this.Ga[a]);this.Na.c.g("item_tooltip_show",{slot:this.u,index:a})},ob:function(a){if(1<=a){if(this.l[a])this.Ga[a].src=
"images/icons/gem/"+this.l[a].t+".png";this.Ga[a].className="cs_is_img_small";Vc(this.fb[a-1].k[1],"cs_is_hip_enlarge")}t.Z();this.Na.c.g("item_tooltip_hide",{slot:this.u,index:a})},Kd:function(a){this.Na.c.g("item_left_click",{slot:this.u,index:a})},Gj:function(a){this.Na.c.g("item_right_click",{slot:this.u,index:a})},Wi:function(a){this.b.style.display=a?"block":"none"},select:function(){this.Ra.k[0].style.backgroundImage="url(images/site/item_border_hover.png)";this.selected=i},mn:function(){this.Ra.k[0].style.backgroundImage=
-1<this.ha?"url(images/site/item_border_q"+this.ha+".png)":"url(images/site/item_border.png)";this.selected=k},update:function(a){this.l=a;for(var b=0;4>b;b++)a=this.l[b],a==j?0<b?(this.Ga[b].style.display="none",Vc(this.fb[b-1].k[0],/^cs_is_quality_\d+$/)):(this.Ga[b].src="images/charsheet/slots/slot_"+this.u+".jpg",this.Ra.k[0].style.backgroundImage="url(images/site/item_border.png)"):0<b?(this.Ga[b].style.display="block",V(this.fb[b-1].k[0],"cs_is_quality_"+a.ha),this.Ga[b].src="images/icons/gem/"+
a.t+".png"):(this.ha=a.ha,this.Ra.k[0].style.backgroundImage=this.selected?"url(images/site/item_border_hover.png)":a.Dk()?"url(images/site/item_border_invalid.png)":-1<this.ha?"url(images/site/item_border_q"+this.ha+".png)":"url(images/site/item_border.png)",this.Ga[b].src=a.Dk()?"images/icons/r/large/"+(a.t?a.t:"Temp")+".png":"images/icons/large/"+(a.t?a.t:"Temp")+".png")}};function Dd(){this.b=document.createElement("div");this.c=new A;this.c.i("select_presence",["presence_id"])}
Dd.prototype={b:j,c:j,Um:function(a,b){this.c.fa(a,b)},update:function(a,b){Kb(this.b);if(!(a==j||0==a.length)){for(var c=0;c<a.length;c++){var d=U(this.b,"div",{"class":"ps_presence",backgroundImage:"images/icons/"+(a[c].id==b?"":"g/")+"small/"+a[c].t+".png"});H(d,"mouseover",t.show,t,["<div class='tooltip_spell_description'>"+a[c].description+"</div>"]);d.onmouseout=function(){t.Z()};d.onmousemove=function(){t.move()};H(d,"click",function(a){this.c.g("select_presence",{presence_id:a})},this,[a[c].id])}Jb(this.b)}}};var Ld={1:447,2:493,3:511,4:1213,5:445,6:1143,7:441,8:1533,9:509,10:447,11:247,22:1469},Md=[[1,3,4,7,11,22],[2,5,6,8,10,9]];
function Bd(a){this.Na=a;var b=new Y(1,2),a=new Y(7,2),c;this.b=document.createElement("div");this.b.className="rcs_parent";this.ve=document.createElement("div");this.ve.className="rcs_icon_race_container";this.vd=document.createElement("div");this.vd.className="rcs_icon_container";this.M=document.createElement("div");this.M.className="character_race_icon";this.M.style.backgroundImage="url(images/site/race_class/medium/slot_empty.png)";this.re=document.createElement("img");this.re.className="rcs_icon_s";
this.re.src="images/site/race_class/medium/slot_empty.png";this.M=new Kd(4);this.M.k[0].appendChild(this.re);this.M.k[0].className="rcs_icon_l";this.M.k[1].className="rcs_shadow";this.M.k[2].className="rcs_border";this.M.k[3].className="rcs_event_l";b.cells[0][0].appendChild(this.M.k[0]);this.Td=document.createElement("img");this.Td.className="rcs_icon_s";this.Td.src="images/site/race_class/medium/slot_empty.png";this.d=new Kd(4);this.d.k[0].appendChild(this.Td);this.d.k[0].className="rcs_icon_l";
this.d.k[1].className="rcs_shadow";this.d.k[2].className="rcs_border";this.d.k[3].className="rcs_event_l";b.cells[0][1].appendChild(this.d.k[0]);this.b.appendChild(b.b);b=document.createElement("div");b.innerHTML="<span class='rcs_select_header'>Select a Race:</span>";c=document.createElement("a");c.className="close rcs_close";c.onclick=function(){t.enable()};b.appendChild(c);this.ve.appendChild(b);a.cells[0][0].innerHTML="<div class='rcs_faction_alliance'>Alliance</div>";a.cells[0][1].innerHTML=
"<div class='rcs_faction_horde'>Horde</div>";for(b=0;2>b;b++)for(c=0;c<Md[b].length;c++){var d=document.createElement("div");d.className="rcs_race_icon";d.style.backgroundImage="url(images/site/race_class/medium/chr_race_"+Md[b][c]+".png)";H(d,"click",this.qm,this,[Md[b][c]]);a.cells[1+c][b].appendChild(d)}this.ve.appendChild(a.b);H(this.d.k[3],"click",this.kl,this,[]);H(this.M.k[3],"click",this.Jp,this,[]);H(this.d.k[3],"mouseover",this.Wf,this,[1,1]);H(this.M.k[3],"mouseover",this.Wf,this,[0,1]);
H(this.d.k[3],"mouseout",this.Wf,this,[1,0]);H(this.M.k[3],"mouseout",this.Wf,this,[0,0])}
Bd.prototype={b:j,ve:j,vd:j,M:j,re:j,d:j,Td:j,Vh:-1,dn:-1,Na:j,Wf:function(a,b){a?this.d.k[2].style.backgroundPosition=1!=b?"0px 0px":"48px 0px":this.M.k[2].style.backgroundPosition=1!=b?"0px 0px":"48px 0px"},update:function(a,b){this.Vh=a;this.dn=b;var c,d;if(-1!=a){this.re.src="images/site/race_class/resized_chr_race_"+a+".png";-1!=b?(this.Td.src="images/site/race_class/resized_"+b+".png",this.d.k[2].className="rcs_class_border",this.d.k[2].style.backgroundImage="url(images/site/race_class/class_border_"+
b+".png)"):(this.Td.src="images/site/race_class/medium/slot_empty.png",this.d.k[2].className="rcs_border",this.d.k[2].style.backgroundImage="");Kb(this.vd);c=document.createElement("div");c.innerHTML="<span class='rcs_select_header'>Select a Class:</span>";d=document.createElement("a");d.className="close rcs_close";d.onclick=function(){t.enable()};c.appendChild(d);this.vd.appendChild(c);for(c=0;11>c;c++)if(0!=(Ld[a]&1<<c))d=document.createElement("div"),d.className="rcs_icon",d.style.backgroundImage=
"url(images/site/race_class/medium/"+(c+1)+".png)",H(d,"click",this.hm,this,[c+1]),this.vd.appendChild(d);c=document.createElement("div");c.className="clear_both";this.vd.appendChild(c)}else this.re.src="images/site/race_class/medium/slot_empty.png"},hm:function(a){this.Na.sp(a)},qm:function(a){this.Na.tp(a)},kl:function(){-1!=this.Vh?t.zd(this.vd):t.zd(this.ve)},Jp:function(){t.zd(this.ve)}};function Cd(){this.b=document.createElement("div");this.c=new A;this.c.i("select_shape",["shape_id"])}
Cd.prototype={c:j,b:j,Kd:function(a){this.c.g("select_shape",{shape_id:a})},fa:function(a,b){this.c.fa(a,b)},update:function(a,b){var c,d;Kb(this.b);if(a!=j&&0!=a.length){c=document.createElement("div");for(var f=0;f<a.length;f++)d=document.createElement("div"),d.className="cs_shape",d.style.backgroundImage="url(images/icons/"+(a[f].id==b?"":"g/")+"small/"+a[f].t+".png)",c.appendChild(d),H(d,"mouseover",t.show,t,["<div class='tooltip_spell_description'>"+a[f].description+"</div>"]),d.onmouseout=function(){t.Z()},
d.onmousemove=function(){t.move()},H(d,"click",this.Kd,this,[a[f].id]),this.dq=i;this.b.appendChild(c);Jb(this.b)}}};function Gd(a,b){this.c=new A;this.c.i("stat_tooltip_show",["group","index","node"]);this.c.i("stat_tooltip_hide",["group","index","node"]);this.Fg=a;this.index=b;var c=document.createElement("div");c.className="stat_table_value_div";this.b=document.createElement("div");this.b.className="stat_table_name_div";this.b.innerHTML=locale.CS_Stats[a][b];this.b.appendChild(c);this.compareNode=document.createElement("span");this.compareNode.className="stat_table_stat_span stat_table_stat_compare_span";this.Ja=
document.createElement("span");this.Ja.className="stat_table_stat_span";this.Ja.innerHTML=0;c.appendChild(this.compareNode);c.appendChild(this.Ja);H(this.b,"mouseover",this.tm,this,[]);H(this.b,"mouseout",this.km,this,[]);this.b.onmouseout=function(){t.Z()};this.La=Nd[this.Fg][this.index]}var Nd=[[0,0,0],[0,0,0,0,0],[68,96,0,65,16,24,16,64,256],[132,160,0,129,16,24,16,256],[0,16,24,0,0,0,16,256],[0,16,16,16,0,16,16],[0,0,0,0,0]];
Gd.prototype={Fg:-1,index:-1,name:"",jj:"",b:j,value:0,Ja:j,La:0,c:j,tm:function(){this.c.g("stat_tooltip_show",{group:this.Fg,index:this.index,node:this.b})},km:function(){this.c.g("stat_tooltip_hide",{group:this.Fg,index:this.index,node:this.b})},B:function(a){this.c.B(a)},fa:function(a,b){this.c.fa(a,b)},aa:function(a){this.value=a;this.Ja.innerHTML="";(-1===a||"object"===typeof a&&-1===a[0])&&this.La&128?this.Ja.innerHTML+="N/A":this.La&64?(this.Oh(a[0]),a[1]!=j&&(this.Ja.innerHTML+="/",this.Oh(a[1]))):
this.Oh(a)},Oh:function(a){this.Ja.innerHTML=this.La&16?this.Ja.innerHTML+((this.La&8?"+":"")+K(a,2)+"%"):this.La&32?this.Ja.innerHTML+K(a,1):this.La&256?this.Ja.innerHTML+K(a,2):this.La&1?this.Ja.innerHTML+K(a/1E3,2):this.La&4?this.Ja.innerHTML+(a[0]+"-"+a[1]):this.Ja.innerHTML+Math.floor(a)},gp:function(){this.compareNode.innerHTML=""},wd:function(a){var b;this.compareNode.innerHTML="";if(!((-1===a||"object"===typeof a&&-1===a[0])&&this.La&128))if(this.La&64){if(!(this.La&4))if(b=this.Lh(a[0],this.value[0]),
a[1]!=j){if(a=this.Lh(a[1],this.value[1]),b||a)this.compareNode.innerHTML=(b?b:"0")+"/"+(a?a:"0")}else if(b!=j)this.compareNode.innerHTML=b}else b=this.Lh(a,this.value),this.compareNode.innerHTML=b?b:""},Lh:function(a,b){var c;c=0!=(272&this.La)?Math.floor(100*(a-b))/100:Math.floor(a-b);return 0!=c?this.La&1?"<span class='stat_table_stat_span "+(0<c?"compare_red":"compare_green")+"'>"+(0<c?"+":"-")+L(Math.abs(c)/1E3)+"</span>":"<span class='stat_table_stat_span "+(0<c?"compare_green":"compare_red")+
"'>"+(0<c?"+":"-")+(0!=(this.La&16)?L(Math.abs(c)):Math.abs(c))+"</span>":j}};function Od(){}Od.prototype={b:j,la:function(){e(new Qb("SimpleUserControl","getValue"))},aa:function(){e(new Qb("SimpleUserControl","setValue"))}};function Pd(){this.b=document.createElement("input");this.b.className="input"}Pd.prototype=new Od;Pd.prototype.b=j;Pd.prototype.aa=function(a){this.b.value=a};Pd.prototype.la=function(){return this.b.value};function Id(a){this.b=document.createElement("select");this.b.className="single_select";this.set(a)}function Qd(a){var b=[],c=0,d;for(d in a)b[c++]=[d,a[d]];return new Id(b)}Id.prototype=new Od;m=Id.prototype;m.b=j;m.options=[];m.el=function(a){this.b.name=a};m.set=function(a){var b;for(this.options=[];this.b.firstChild;)this.b.removeChild(this.b.firstChild);for(b=0;b<a.length;b++)this.options[b]=document.createElement("option"),this.options[b].value=a[b][0],this.options[b].innerHTML=a[b][1],this.b.appendChild(this.options[b])};
m.select=function(a){for(var b=0;b<this.options.length;b++)if(this.options[b].value===a){this.options[b].selected=i;break}};m.la=function(){return this.b.options[this.b.selectedIndex].value};m.aa=function(a){this.select(a)};function Rd(a){var b;this.b=document.createElement("select");this.b.className="multi_select";this.b.multiple="true";this.options=[];for(b=0;b<a.length;b++)this.options[b]=document.createElement("option"),this.options[b].value=a[b][0],this.options[b].innerHTML=a[b][1],this.b.appendChild(this.options[b])}Rd.prototype.b=j;Rd.prototype.options=[];
Rd.prototype.select=function(a){if(a!=(1<<this.options.length+1)-1)for(var b=0;b<this.options.length;b++)this.options[b].selected=0!=(a&1<<parseInt(this.options[b].value,10))};Rd.prototype.la=function(){var a=0,b,c,d=0;for(b=0;b<this.options.length;b++)c=1<<parseInt(this.options[b].value,10),d+=c,this.options[b].selected==i&&(a+=c);0==a&&(a=d);return a};function Y(a,b){var c,d;this.b=document.createElement("table");this.b.cellSpacing="0";this.b.cellPadding="0";this.rows=Array(a);this.cells=Array(a);this.rg=document.createElement("colgroup");this.cols=Array(b);this.b.appendChild(this.rg);for(d=0;d<b;d++)this.cols[d]=document.createElement("col"),this.rg.appendChild(this.cols[d]);this.Mf=document.createElement("tbody");this.b.appendChild(this.Mf);for(c=0;c<a;c++){this.rows[c]=document.createElement("tr");this.Mf.appendChild(this.rows[c]);this.cells[c]=
Array(b);for(d=0;d<b;d++)this.cells[c][d]=document.createElement("td"),this.rows[c].appendChild(this.cells[c][d])}}var $c="top";
Y.prototype={cells:[],rows:[],cols:[],b:j,Mf:j,vAlign:"",rg:j,th:function(a){var b,c;this.vAlign=a;for(b=0;b<this.cells.length;b++)for(c=0;c<this.cells[b].length;c++)this.cells[b][c].vAlign=a},$c:function(){var a=this.rows.length,b;this.rows[a]=document.createElement("tr");this.cells[a]=[];for(b=0;b<this.cols.length;b++)this.cells[a][b]=document.createElement("td"),this.cells[a][b].vAlign=this.vAlign,this.rows[a].appendChild(this.cells[a][b]);this.Mf.appendChild(this.rows[a]);return a},Pm:function(){var a=
this.cols.length,b=this.rows.length;this.cols[a]=document.createElement("col");this.rg.appendChild(this.cols[a]);for(var c=0;c<b;c++)this.cells[c][a]=document.createElement("td"),this.cells[c][a].vAlign=this.vAlign,this.rows[c].appendChild(this.cells[c][a]);return a},Mh:function(){var a=this.rows.length,b=j,c;this.rows[a]=document.createElement("tr");this.cells[a]=[];b=document.createElement("td");b.colSpan=this.cols.length;b.vAlign=this.vAlign;this.rows[a].appendChild(b);for(c=0;c<this.cols.length;c++)this.cells[a][c]=
b;this.Mf.appendChild(this.rows[a]);return a},show:function(){this.b.style.display="table"},Z:function(){this.b.style.display="none"}};function Fd(){this.b=document.createElement("div");this.za=document.createElement("div");this.content=document.createElement("div");this.b.appendChild(this.za);this.b.appendChild(this.content);this.za.jq=l(k);this.za.onmousedown=l(k);H(this.za,"click",this.toggle,this,[]);this.collapse()}Fd.prototype={b:j,content:j,za:j,Lb:j,collapse:function(){this.content.style.display="none";this.Lb=k},expand:function(){this.content.style.display="block";this.Lb=i},toggle:function(){this.Lb?this.collapse():this.expand()}};function Kd(a){if(0<a){this.k=[];this.k[0]=document.createElement("div");this.k[0].style.position="relative";for(var b=1;b<a;b++)this.k[b]=document.createElement("div"),this.k[b].style.position="absolute",this.k[b].style.zIndex=b,this.k[0].appendChild(this.k[b])}}Kd.prototype={k:j};function gd(a,b,c){this.Uf=new Sd(a.length);this.Fh=new Td(b,c,this.show,this);this.b=this.Uf.b;this.Qg=this.Fh.b;for(b=0;b<a.length;b++)this.Uf.l[b].appendChild(a[b])}gd.prototype={Qg:j,b:j,Lb:0,Fh:j,Uf:j,qd:j,qh:ba("qd"),show:function(a){var b=this.Lb;this.Lb=a;this.Uf.show(a);this.Fh.select(a);this.qd&&this.qd.ga([a,b])}};function Td(a,b,c,d){var f=document.createElement("div");this.b=document.createElement("div");this.b.className=b+"_sel";this.Te=b;this.links=[];for(var g=0;g<a.length;g++)this.links[g]=document.createElement("a"),this.links[g].className=b+"_i"+g+(0==g?"_a "+b+"_i_a_base":" "+b+"_i_base"),this.links[g].innerHTML="<span class='"+b+"_l_f'>"+a[g]+"</span>",H(this.links[g],"click",c,d,[g]),this.b.appendChild(this.links[g]);f.className="clear_both";Jb(f)}m=Td.prototype;m.Te="";m.links=j;m.b=j;
m.selected=0;m.select=function(a){this.links[this.selected].className=this.Te+"_i"+this.selected+" "+this.Te+"_i_base";this.links[a].className=this.Te+"_i"+a+"_a "+this.Te+"_i_a_base";this.selected=a};function Sd(a){this.l=[];this.b=document.createElement("div");for(var b=0;b<a;b++)this.l[b]=document.createElement("div"),this.l[b].style.display=0==b?"block":"none",this.l[b].style.width="100%",this.l[b].style.height="100%",this.b.appendChild(this.l[b]);this.Lb=0}Sd.prototype={l:j,b:j,Lb:0,qd:j,show:function(a){if(a!=this.Lb){var b=this.Lb;this.l[a].style.display="block";this.l[b].style.display="none";this.Lb=a;this.qd&&this.qd.ga([a,b])}},qh:function(a,b){this.qd=new x(a,b)}};function Ud(a,b){this.map={};if(a)for(var c in a)this.map[c]=a[c];this.parent=b;this.ee=document.createElement("input");H(this.ee,"change",this.Gh,this,[]);H(this.ee,"keyup",this.Gh,this,[]);H(this.ee,"blur",this.Gh,this,[])}Ud.prototype={filter:function(a){Kb(this.parent);for(var b in this.map)(!a||RegExp(a,"i").exec(b))&&this.parent.appendChild(this.map[b])},Ip:function(){Kb(this.parent);for(var a in this.map)this.parent.appendChild(this.map[a])},Gh:function(){this.filter(this.ee.value)}};function Vd(){this.R={};this.b=S("div",{"class":"ba_p"});this.ad=new Fd;this.ad.za.appendChild(S("a",{href:"javascript:;",text:locale.RF_BatchHeader}));this.ad.za.className="collapse_h ba_collapse_h";this.ad.content.className="collapse_c ba_collapse_c";this.ad.b.className="collapse ba_collapse";this.Ug=this.ad.content;W(this.b,this.ad.b)}
Vd.prototype={R:j,ad:j,Ug:j,b:j,Le:function(a,b,c){var d=U(this.Ug,"div",{"class":"ba_op_container"}),b=U(d,"a",{text:b,href:"javascript:;","class":"ba_simple_op_link"});xb(b,"click",c,[a]);this.R[a]={id:a,node:d};return this.R[a]},Yj:function(a,b,c,d){var f;f=U(this.Ug,"div",{"class":"ba_op_container"});b=U(f,"div",{"class":"ba_op_title",text:b});d&&W(b,Xc(d));d=U(f,"div",{});W(d,c);this.R[a]={id:a,node:f};return this.R[a]},remove:function(a){"undefined"!==typeof this.R[a]&&this.R[a]!==j&&(this.Ug.removeChild(this.R[a].node),
delete this.R[a])},show:function(a){this.Pj(a);this.R[a].b.display.style="none"},Z:function(a){this.Pj(a);this.R[a].b.display.style=""},Pj:function(a){("undefined"===typeof this.R[a]||this.R[a]===j)&&e(Error("No batch operation with id '"+a+"' found!"))}};function Wd(){this.b=document.createElement("div");this.c=new A;this.c.i("change",["data"])}Wd.prototype={b:j,disabled:k,Lg:k,c:j,setData:function(){e(new Qb("Editable","setData"))},readOnly:ba("Lg"),B:function(a){this.c.B(a)}};function qd(){Wd.call(this);this.v=S("div",{});this.input=new Pd;H(this.input.b,"blur",this.Ee,this,[k]);H(this.v,"click",this.Ee,this,[i]);this.form=S("form",{action:"javascript:"});this.form.appendChild(this.input.b);H(this.form,"submit",this.gc,this,[])}qd.prototype=new Wd;m=qd.prototype;m.input=j;m.v=j;m.form=j;m.data=j;m.setData=function(a){this.data=a;this.input.aa(a);this.disabled=k;a=this.input.la();this.v.innerHTML=a?a:"<span class='ui_data_nothing'>None</span>";p(this.b,this.v)};
m.Ee=function(a){a?!this.disabled&&!this.Lg&&(p(this.b,this.form),this.input.b.focus()):(p(this.b,this.v),this.input.aa(this.data))};m.gc=function(){this.c.g("change",{data:this.input.la()});p(this.b,S("img",{src:"images/site/bar_loading.gif","class":"ui_bar_loading"}));this.disabled=i};function pd(a){Wd.call(this);this.options=a;this.v=S("div",{});this.select=Qd(a);this.select.b.className+=" single_select_focussable";H(this.select.b,"blur",this.Ee,this,[k]);H(this.v,"click",this.Ee,this,[i]);H(this.select.b,"change",this.gc,this,[])}pd.prototype=new Wd;m=pd.prototype;m.select=j;m.v=j;m.data=j;m.options=[];m.setData=function(a){this.data=a;this.select.aa(a);this.disabled=k;a=this.options[a];this.v.innerHTML=a?a:"<span class='ui_data_nothing'>None</span>";p(this.b,this.v)};
m.Ee=function(a){a?!this.disabled&&!this.Lg&&(p(this.b,this.select.b),this.select.b.focus()):(p(this.b,this.v),this.select.aa(this.data))};m.gc=function(){this.c.g("change",{data:this.select.la()});p(this.b,S("img",{src:"images/site/bar_loading.gif","class":"ui_bar_loading"}));this.disabled=i};function rd(a){var b=[],c=0,d,f,g;Wd.call(this);this.bh=a;this.b.className="bnpm_c";this.content=document.createElement("div");this.content.className="bnpm_content";this.gd=document.createElement("div");this.zc=document.createElement("a");this.zc.className="add bnpm_add_link";this.zc.href="javascript:";this.zc.innerHTML="Add a Battle.net Profile";H(this.zc,"click",this.em,this,[]);d=new Y(2,3);d.b.className="bnpm_grid";this.gd.appendChild(this.zc);this.b.appendChild(this.content);this.b.appendChild(this.gd);
this.Wb=new Pd;this.Sc=new Id([]);this.Sc.b.className+=" single_select_focussable";this.sb=new Id([]);this.sb.b.className+=" single_select_focussable";d.cols[0].width="160px";d.cols[1].width="160px";d.cols[2].width="160px";d.cells[0][0].innerHTML="Name";d.cells[0][1].innerHTML="Region";d.cells[0][2].innerHTML="Realm";d.cells[1][0].appendChild(this.Wb.b);d.cells[1][1].appendChild(this.sb.b);d.cells[1][2].appendChild(this.Sc.b);this.Wb.b.className+=" bnpm_input";this.sb.b.className+=" bnpm_select";
this.Sc.b.className+=" bnpm_select";this.eg=document.createElement("div");this.eg.className="bnpm_add_parent";g=document.createElement("div");g.className="group bnpm_input_parent";g.appendChild(d.b);d=document.createElement("form");d.action="javascript:";H(d,"submit",this.um,this,[]);d.appendChild(g);g=document.createElement("div");f=document.createElement("input");f.type="button";Nb(f,{"default":"button button_light bnpm_add_cancel_btn",hover:"button_light_hover"});f.value="Cancel";H(f,"click",this.fm,
this,[]);g.appendChild(f);f=document.createElement("input");f.type="submit";Nb(f,{"default":"button button_light bnpm_add_add_btn",hover:"button_light_hover"});f.value="Add";g.appendChild(f);g.className="bnpm_add_ctrl_parent";d.appendChild(g);this.eg.appendChild(d);H(this.sb.b,"change",this.rm,this,[]);for(var h in a)b[c++]=[h,locale.Regions[h]];this.sb.set(b);this.sb.select("us");Xd(this,this.sb.la())}rd.prototype=new Wd;m=rd.prototype;m.b=j;m.content=j;m.gd=j;m.eg=j;m.zc=j;m.Io=j;m.bh=j;m.Wb=j;
m.Sc=j;m.sb=j;
m.setData=function(a){var b,c;this.Io=a;this.content.innerHTML="";for(var d in a){b=a[d];c=document.createElement("div");c.className="group bnpm_entry";var f=U(c,"a",{href:"javascript:;","class":"remove bnpm_remove"});H(f,"click",this.Hh,this,[b,c]);U(c,"span",{text:b.Name,"class":"bnpm_name"});U(c,"span",{text:", "+b.Level+" "+locale.CharacterRace[b.CharacterRaceID]+" "});U(c,"span",{text:locale.CharacterClass[b.CharacterClassID],"class":"character_class_"+b.CharacterClassID+" bnpm_chrclass"});U(c,
"span",{text:", "+b.Region.toUpperCase()+"-"+b.Realm,"class":"bnpm_origin"});U(c,"br",{});U(c,"a",{href:w({planner:"",name:b.Name,realm:b.Realm,region:b.Region}),text:"Static link to import this character from Battle.net into chardev","class":"bnpm_static_link"});this.content.appendChild(c)}this.disabled=k;p(this.gd,this.zc)};m.fm=function(){p(this.gd,this.zc)};m.em=function(){p(this.gd,this.eg)};
m.Hh=function(a,b){if(!this.disabled)this.c.g("change",{data:JSON.stringify({removeBattleNetProfile:a})}),b.innerHTML="<img src='images/site/bar_loading.gif' class='bnpm_bar_loading' />"};
m.um=function(){var a;if(a=!this.disabled)a=this.Wb.la(),2>a.length?(t.A("Character name is too short!"),a=k):12<a.length?(t.A("Character name is too long!"),a=k):a=i;if(a)this.disabled=i,this.c.g("change",{data:JSON.stringify({addBattleNetProfile:{Name:this.Wb.la(),Realm:this.Sc.la(),Region:this.sb.la()}})}),this.gd.innerHTML="<img src='images/site/bar_loading.gif' class='ui_bar_loading' />"};m.rm=function(){Xd(this,this.sb.la())};
function Xd(a,b){var c=[],d=0,f;for(f in a.bh[b])c[d++]=[a.bh[b][f],a.bh[b][f]];a.Sc.set(c)};function ea(){Wd.call(this);this.v=S("div",{});this.form=S("form",{action:"javascript:"});this.Dd=U(this.form,"textarea",{"class":"textarea fo_edit"});H(this.Dd,"blur",this.ei,this,[k]);H(this.v,"click",this.ei,this,[i]);H(this.form,"submit",this.gc,this,[])}ea.prototype=new Wd;m=ea.prototype;m.Dd=j;m.v=j;m.form=j;m.data=j;
m.setData=function(a){this.data=a.PlainContent;this.Dd.value=a.PlainContent;this.disabled=k;this.v.innerHTML=a.ParsedContent?a.ParsedContent:"<span class='ui_data_nothing'>Empty</span>";p(this.b,this.v)};m.ei=function(a){if(a){if(!this.disabled&&!this.Lg)this.Dd.style.height=Math.max(100,this.v.offsetHeight)+"px",p(this.b,this.form),this.Dd.focus()}else p(this.b,this.v),this.Dd.value=this.data};
m.gc=function(){this.c.g("change",{data:this.Dd.value});p(this.b,S("img",{src:"images/site/bar_loading.gif","class":"ui_bar_loading"}));this.disabled=i};function jd(){this.c=new A;this.c.i("socket_left_click",["socket"]);this.c.i("socket_right_click",["socket"]);this.c.i("socket_used_gem",["socket","gemId"]);this.c.i("used_gem_tooltip_show",["socket","gemId"]);this.c.i("used_gem_tooltip_hide",["socket","gemId"]);this.c.i("socket_all",["gemId"]);this.c.i("socket_all_color",["color","gemId"]);this.c.i("remove_all_gems",[]);this.c.i("remove_all_gems_by_id",["gemId"]);this.b=S("div",{});this.Ha=[new Kd(5),new Kd(5),new Kd(5)];this.R=new Vd;V(this.R.b,
"ra_group");this.b.appendChild(this.R.b);this.R.Le("remove_all",locale.SI_RemoveAllGems,new x(function(){this.Sg(Yd)},this));this.bf=U(this.b,"div",{"class":"si_main"});this.jj=U(this.bf,"div",{"class":"si_tt_p"});this.Id=U(this.bf,"div",{"class":"ra_group si_used_parent"});this.rl=U(this.bf,"div",{"class":"si_socket_parent"});for(var a=0;3>a;a++)this.Ha[a].k[0].className="si_gem_p",this.Ha[a].k[1].className="si_bg",this.Ha[a].k[2].className="si_no_highlight",this.Ha[a].k[4].className="si_event",
this.Ha[a].k[4].oncontextmenu=l(k),H(this.Ha[a].k[4],"mouseover",this.wo,this,[a]),H(this.Ha[a].k[4],"mouseout",this.vo,this,[a]),this.Ha[a].k[4].onmousemove=function(){t.move()},H(this.Ha[a].k[4],"click",this.uo,this,[a]),H(this.Ha[a].k[4],"contextmenu",this.c.g,this.c,["socket_right_click",{socket:a}]);this.Ng=document.createElement("div");this.b.appendChild(this.Ng);this.lh(-1);this.Kg=new sa;this.Kg.Bp(this.jj);this.Kg.v.className="fixed_tooltip_div";this.Ui(k)}var Yd=0;
jd.prototype={cc:-1,jj:j,b:j,bf:j,Ha:[],u:0,character:j,Id:j,Ba:j,c:j,Ng:j,R:j,Kg:j,Ui:function(a){this.bf.style.display=a?"block":"none"},jl:function(a){this.Ng.style.display=a?"block":"none"},Ap:function(a){this.Ng.appendChild(a)},update:function(a,b){if(a==j)this.Ui(k);else{this.Ui(i);(this.Ba==j||a.id!=this.Ba.id)&&this.lh(-1);this.Ba=a;var c,d,f,g,h=0,n;this.Kg.show(a.Ln());f=a.Un();X(this.rl);n=U(this.rl,"div",{});for(c=0;c<a.W.length;c++)if(0<a.W[c]||f){0>=a.W[c]?(f=k,g="prismatic"):g=14==
a.W[c]?"prismatic":Math.log(a.W[c])/Math.log(2);d=this.Ha[c];d.k[1].style.backgroundImage="url(images/socket_interface/socket_"+g+"_large.png)";if(a.kd(c)==j)d.k[3].className="si_braces",d.k[3].style.backgroundImage="url(images/socket_interface/socket_"+g+"_braces_open.png)",Kb(d.k[1]);else{var r=document.createElement("img");r.src="images/icons/large/"+a.kd(c).t+".png";r.className="si_gem_icon";p(d.k[1],r);d.k[3].className="si_braces";d.k[3].style.backgroundImage="url(images/socket_interface/socket_"+
g+"_braces_closed.png)"}W(n,d.k[0]);h++}n.className="si_sp_"+h+"_gems";X(this.Id);W(U(this.Id,"span",{"class":"si_used_title_fix",text:locale.SI_UsedGems}),Xc("Gems already present on your gear"));for(var v in b)c=b[v],d=U(this.Id,"a",{"class":"si_used_gem",backgroundImage:"images/icons/small/"+c.t+".png"}),H(d,"mouseover",this.Ao,this,[c]),H(d,"mouseout",this.zo,this,[c]),H(d,"click",this.yo,this,[c.id]),d.onmousemove=function(){t.move()};Jb(this.Id);this.lh(this.cc)}},wo:function(a){V(this.Ha[a].k[2],
"si_highlight");this.Ba!=j&&this.Ba.kd(a)&&t.Kb(this.Ba.kd(a).ka())},vo:function(a){Vc(this.Ha[a].k[2],"si_highlight");t.Z()},Ao:function(a){this.c.g("used_gem_tooltip_show",{socket:this.cc,gemId:a.id});t.Kb(a.ka()+"<div class='tt_note'>Left click to socket</div>")},zo:function(a){t.Z();this.c.g("used_gem_tooltip_hide",{socket:this.cc,gemId:a.id})},yo:function(a){this.c.g("socket_used_gem",{socket:this.cc,gemId:a})},uo:function(a){this.lh(a);this.c.g("socket_left_click",{socket:a})},Sg:function(a){if(a==
Yd)this.c.g("remove_all_gems",{});else{var b=this.Ba.kd(this.cc).id;switch(a){case 3:this.c.g("remove_all_gems_by_id",{gemId:b});break;case 1:this.c.g("socket_all_gems",{gemId:b});break;case 2:this.c.g("socket_all_gems",{gemId:b,color:this.Ba.W[this.cc]})}}},lh:function(a){this.R.remove("remove_color");this.R.remove("add_all");this.R.remove("add_color");if(-1!=a){var b=this.Ba.kd(a);this.Id.style.display="block";V(this.Ha[a].k[0],"si_gem_p_selected");b!=j&&(this.R.Le("remove_color",J(locale.SI_RemoveGems,
b.name),new x(function(){this.Sg(3)},this)),this.R.Le("add_all",J(locale.SI_SocketAll,b.name),new x(function(){this.Sg(1)},this)),1<this.Ba.W[a]&&this.R.Le("add_color",I(locale.SI_SocketAllColor,[b.name,locale.SI_SocketColors[this.Ba.W[a]]]),new x(function(){this.Sg(2)},this)));this.jl(i)}else this.Id.style.display="none",this.jl(k);-1!=this.cc&&this.cc!=a&&Vc(this.Ha[this.cc].k[0],"si_gem_p_selected");this.cc=a}};function cd(){this.c=new A;this.c.i("reforge",["reduce","add"]);this.c.i("reforge_all",["reforge_array"]);this.c.i("reforge_preview",["reforge_array"]);this.c.i("reforge_item_preview",["reduce","add"]);this.c.i("restore",[]);this.c.i("restore_all",[]);this.c.i("remove_reforge_preview",[]);this.c.i("remove_reforge_item_preview",[]);this.c.i("wowreforge_export",[]);this.b=S("div",{});this.R=new Vd;V(this.R.b,"ra_group");W(this.b,this.R.b);var a=S("form",{action:"javascript:;"});this.Nl=U(a,"input",
{"class":"input rf_wowreforgeurl"});var b=U(a,"input",{type:"submit",text:locale.RF_ImportWoWReforge,"class":"button button_light"});this.R.Yj("wowreforge_import",locale.RF_WoWReforgeImport,a,locale.RF_WoWReforgeImportHelp);H(a,"submit",this.Lm,this,j);H(b,"mouseover",function(){var a=this.Jj();a!=j&&this.c.g("reforge_preview",{reforge_array:a})},this,j);H(b,"mouseout",function(){this.c.g("remove_reforge_preview")},this,j);a=S("div",{});b=U(a,"input",{type:"submit",text:locale.RF_ExportWoWReforge,
"class":"button button_light"});this.R.Yj("wowreforge_import",locale.RF_WoWReforgeExport,a,locale.RF_WoWReforgeExportHelp);H(b,"click",this.Km,this,j);a=this.R.Le("restore_all",locale.RF_RestoreAll,new x(function(){this.c.g("restore_all")},this));H(a.node,"mouseover",function(){this.c.g("reforge_preview",{reforge_array:[]})},this,j);H(a.node,"mouseout",function(){this.c.g("remove_reforge_preview")},this,j);this.content=U(this.b,"div",{})}
cd.prototype={c:j,b:j,content:j,Nl:j,R:j,update:function(a){var b=[],c=[],d,f,g,h,n,r,v;X(this.content);if(a){v=S("div",{"class":"rf_title_c"});U(v,"span",{text:"Reforge ","class":"rf_title"});d=U(v,"a",{text:a.name,"class":"item_quality_"+a.ha+" rf_item_name",href:"javascript:"});Yc(d,a.ka());for(d=0;d<La.length;d++)f=La[d],g=a.mi(f),0<g?b.push([f,g]):c.push(f);if(a.si())if(0==b.length)p(this.content,v),U(this.content,"div",{text:"This items has no reforgable stats!","class":"rf_error"});else{var s=
new Y(0,c.length+2);s.b.className="rf_grid";r=s.Mh();W(s.cells[r][0],v);r=s.$c();for(d=0;d<c.length;d++)s.cells[r][2+d].innerHTML=locale.ItemStatNamesShort[c[d]],s.cells[r][2+d].className="rf_to_stat";for(d=0;d<b.length;d++){r=s.$c();h=0==d%2?"row_bg1":"row_bg2";s.cells[r][0].innerHTML=locale.ItemStatNames[b[d][0]];s.cells[r][0].className=h+" rf_from_stat";s.cells[r][1].innerHTML=b[d][1];s.cells[r][1].className=h+" rf_from_value";d==b.length-1&&(V(s.cells[r][0],"rf_from_stat_bottom"),V(s.cells[r][1],
"rf_from_value_bottom"));for(f=0;f<c.length;f++){v=S("div",{"class":h+" rf_cell"});0==d&&V(v,"rf_cell_top");d==b.length-1&&V(v,"rf_cell_bottom");0==f&&V(v,"rf_cell_left");f==c.length-1&&V(v,"rf_cell_right");if(a.ea==c[f]&&a.ta==b[d][0])s.cells[r][1].className+=" red",n=U(v,"a",{"class":"rf_to_value rf_to_active",text:a.ja,href:"javascript:"}),H(n,"click",this.Mj,this,[]),H(n,"mouseover",this.Fj,this,[-1,-1]),H(n,"mouseout",this.Ej,this,[]),Yc(n,"<div class='rf_tt_c'>Click to restore <span class='green'>"+
a.ja+"</span> <span class='green'>"+locale.ItemStatNames[b[d][0]]+"</span> from <span class='red'>"+locale.ItemStatNames[c[f]]+"</span></div>");else{g=b[d][1];if(a.ta==b[d][0])g=a.sc;g=Math.floor(0.4*g);n=U(v,"a",{"class":"rf_to_value",text:g,href:"javascript:"});H(n,"click",this.xm,this,[b[d][0],c[f]]);H(n,"mouseover",this.Fj,this,[b[d][0],c[f]]);H(n,"mouseout",this.Ej,this,[]);Yc(n,"<div class='rf_tt_c'>Click to reforge <span class='green'>"+g+"</span> <span class='red'>"+locale.ItemStatNames[b[d][0]]+
"</span> into <span class='green'>"+locale.ItemStatNames[c[f]]+"</span></div>")}p(s.cells[r][2+f],v)}}d=s.Mh();s.cells[d][0].className="rf_b";n=U(s.cells[d][0],"a",{"class":"button button_light link_button",href:"javascript:",text:"Restore"});H(n,"click",this.Mj,this,[]);W(this.content,s.b)}else p(this.content,v),U(this.content,"div",{text:"This items is not reforgable!","class":"rf_error"})}},xm:function(a,b){this.c.g("reforge",{reduce:a,add:b})},Mj:function(){this.c.g("restore",{})},Ej:function(){this.c.g("remove_reforge_item_preview",
{})},Fj:function(a,b){this.c.g("reforge_item_preview",{reduce:a,add:b})},Lm:function(){var a=this.Jj();a!=j&&this.c.g("reforge_all",{reforge_array:a})},Jj:function(){var a=ka(this.Nl);if(!a)return j;var b=a.match(/reforge=((?:\d|-){34})/i);if(!b[1])return t.A(J(locale.RF_WoWReforge_UnableToParse,a)),j;for(var a=b[1],b=[],c=0;17>c;c++)"-"==a[2*c]||"-"==a[2*c+1]||(b[Oa[c]]=[Na[parseInt(a[2*c],10)],Na[parseInt(a[2*c+1],10)]]);return b},Km:function(){this.c.g("wowreforge_export",{})}};function Zd(){this.b=S("div",{"class":"rs_p"})}
Zd.prototype={b:j,update:function(a){for(var b=new Y(1,La.length+1),c=[0,0,0,0,0,0,0,0],d=0;d<La.length;d++)b.cells[0][1+d].innerHTML="<div class='rs_header'>"+locale.ItemStatNamesShort[La[d]]+"</div>";for(d=0;18>d;d++){var f=a.l[d];if(f&&-1!=f.ta){var g=b.$c(),h=U(b.cells[g][0],"div",{"class":"row_bg"+(1+g%2)+" rs_cell rs_cell_l"}),n=U(h,"a",{text:f.name,"class":"item_quality_"+f.ha,href:"javascript:;"});Yc(n,f.ka());1==g&&V(h,"rs_cell_top");for(h=0;h<La.length;h++)f.ta==La[h]?(U(b.cells[g][1+h],
"span",{"class":"rs_stat red",text:"-"+f.ja}),c[h]-=f.ja):f.ea==La[h]?(U(b.cells[g][1+h],"span",{"class":"rs_stat green",text:"+"+f.ja}),c[h]+=f.ja):U(b.cells[g][1+h],"span",{"class":"grey",text:"0"}),V(b.cells[g][1+h],"rs_cell row_bg"+(1+g%2)),1==g&&V(b.cells[g][1+h],"rs_cell_top");V(b.cells[g][1],"rs_cell_lp");V(b.cells[g][8],"rs_cell_rp")}}g=b.$c();for(h=0;h<La.length;h++)0<c[h]?U(b.cells[g][1+h],"div",{"class":"rs_stat_sum green",text:"+"+Math.abs(c[h])}):0>c[h]&&U(b.cells[g][1+h],"div",{"class":"rs_stat_sum red",
text:"-"+Math.abs(c[h])});X(this.b);U(this.b,"div",{"class":"rs_title",text:"Reforge Summary"});W(this.b,b.b)}};function dd(){this.b=S("div",{"class":"gi_p"});this.c=new A;this.c.i("add_glyph",["glyph"]);this.c.i("remove_glyph",["glyph"])}
dd.prototype={b:j,c:j,update:function(a,b){var c,d;X(this.b);if(0==b.Fc())U(this.b,"div",{"class":"gi_error",text:"You have to select a Class before you can use Glyphs!"});else if(0==b.qk())U(this.b,"div",{"class":"gi_error",text:"You have to reach Level 25 before you can use Glyphs!"});else{c=U(this.b,"div",{"class":"gi_glyphs_p"});U(this.b,"div",{"class":"gi_list_h",text:"Available Glyphs"});var f=U(this.b,"div",{"class":"gi_list_p"}),g=U(c,"div",{"class":"gi_glyphs_c"}),h=U(c,"div",{"class":"gi_glyphs_c"}),
n=U(c,"div",{"class":"gi_glyphs_c"});U(g,"div",{"class":"gi_list_h",text:"Prime Glyphs"});U(h,"div",{"class":"gi_list_h",text:"Major Glyphs"});U(n,"div",{"class":"gi_list_h",text:"Minor Glyphs"});var r=[0,0,0],v={};for(c=0;c<b.O.length;c++){2==b.O[c].Mb.type?(d=g,r[2]++):0==b.O[c].Mb.type?(d=h,r[0]++):(d=n,r[1]++);v[b.O[c].id]=i;var s=U(d,"div",{"class":"gi_glyph_c"});U(s,"img",{"class":"gi_glyph_icon",src:"images/icons/half/"+b.O[c].Mb.n.t+".png"});d=U(s,"a",{"class":"gi_glyph",href:"javascript:",
text:b.O[c].getName()});d.oncontextmenu=l(k);Yc(d,b.O[c].ka()+"<div class='gi_note'>Right click to remove</div>");s.oncontextmenu=l(k);H(s,"contextmenu",this.c.g,this.c,["remove_glyph",{glyph:b.O[c]}])}for(c=0;c<b.qk();c++)c>=r[0]&&(s=U(h,"div",{"class":"gi_glyph_c gi_empty"}),d=U(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),Yc(d,"Select a Glyph from the list below")),c>=r[1]&&(s=U(n,"div",{"class":"gi_glyph_c gi_empty"}),d=U(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),Yc(d,"Select a Glyph from the list below")),
c>=r[2]&&(s=U(g,"div",{"class":"gi_glyph_c gi_empty"}),d=U(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),Yc(d,"Select a Glyph from the list below"));g=U(f,"div",{"class":"gi_list_c"});h=U(f,"div",{"class":"gi_list_c"});f=U(f,"div",{"class":"gi_list_c"});for(c=0;c<a.length;c++)v[a[c].id]!==i&&(d=2==a[c].Mb.type?g:0==a[c].Mb.type?h:f,d=U(d,"a",{"class":"gi_list_entry",href:"javascript:",text:a[c].getName()}),Yc(d,a[c].ka()+"<div class='gi_note'>Left click to add</div>"),H(d,"click",this.c.g,this.c,
["add_glyph",{glyph:a[c]}]))}}};function fd(){this.b=document.createElement("div");this.b.className="ra_group rpi_parent";this.c=new A;this.c.i("change",["randomEnchantmentId"])}
fd.prototype={b:j,select:j,Ic:j,c:j,update:function(a){this.b.style.display="none";if(a!=j){var b=[],c=a.ig;Kb(this.b);if(c){this.b.style.display="block";b[0]=[0,""];for(var d=0;d<c.length;d++)b[d+1]=[c[d].id,"..."+c[d].name+": "+c[d].description];this.select=new Id(b);a.S&&this.select.select(a.S.id);H(this.select.b,"change",this.Ci,this,[]);this.b.innerHTML="<div class='rpi_title'>"+locale.RPI_SelectRandomEnchant+"</div>";a=document.createElement("div");a.className="rpi_content";a.appendChild(this.select.b);
this.select.b.className="single_select rpi_select";this.b.appendChild(a)}}},Ci:function(){this.c.g("change",{randomEnchantmentId:parseInt(this.select.la(),10)})},qh:function(a,b){this.Ic=[a,b]}};function hd(a){var b;this.Tg=a;this.b=S("div",{"class":"im_parent"});b=S("form",{action:"javascript:"});H(b,"submit",this.Fe,this,[]);this.Jg=document.createElement("input");this.Jg.className="input im_sa_in";this.oi=document.createElement("input");this.oi.className="input im_sa_in";this.$e=new Id([["us",locale.US+"/"+locale.Oceanic],["eu",locale.Europe],["kr",locale.Korea],["tw",locale.Taiwan],["cn",locale.China]]);g_settings.userData&&g_settings.userData.region&&this.$e.select(g_settings.userData.region);
U(b,"div",{"class":"content_header im_header",text:"Import a character from Battle.net"});this.$e.b.className="single_select single_select_focussable";this.pi=S("input",{type:"submit",value:"Import"});Nb(this.pi,{"default":"button button_light",focus:"button_light_hover",hover:"button_light_hover"});a=U(b,"div",{"class":"im_sa_r"});U(a,"div",{"class":"im_sa_left",text:"Name"});W(U(a,"div",{"class":"im_sa_right"}),this.Jg);Wc(a);a=U(b,"div",{"class":"im_sa_r"});U(a,"div",{"class":"im_sa_left",text:"Realm"});
W(U(a,"div",{"class":"im_sa_right"}),this.oi);Wc(a);a=U(b,"div",{"class":"im_sa_r"});U(a,"div",{"class":"im_sa_left",text:"Region"});W(U(a,"div",{"class":"im_sa_right"}),this.$e.b);Wc(a);W(U(b,"div",{"class":"im_sa_b"}),this.pi);W(U(this.b,"div",{"class":"im_inputs"}),b);this.Ah=U(this.b,"div",{"class":"im_profiles"});Wc(this.b)}
hd.prototype={b:j,Tg:j,Ah:j,Jg:j,pi:j,$e:j,Fe:function(){var a=this.Jg.value,b=this.oi.value;""==a||2>a.length?t.A("The character name is empty or too short!"):""==b?t.A("The server name is empty or too short!"):this.Tg.ga([a,b,this.$e.la()])},Jl:function(){X(this.Ah);W(this.Ah,W(S("div",{"class":"im_profiles_header",text:"Stored Imports"}),Xc("See your account settings to manage Stored Imports.")));if(g_settings.userData&&g_settings.userData.battlenet_profiles)for(var a in g_settings.userData.battlenet_profiles){var b=
g_settings.userData.battlenet_profiles[a],c=U(this.Ah,"a",{"class":"im_profile",href:"javascript:"});H(c,"click",this.Tg.ga,this.Tg,[[b.Name,b.Realm,b.Region]]);U(c,"span",{"class":"bnpm_name",text:b.Name});U(c,"span",{text:", "+b.Level+" "+locale.CharacterRace[b.CharacterRaceID]+" "});var d=U(c,"span",{"class":"character_class_"+b.CharacterClassID+" bnpm_chrclass",text:locale.CharacterClass[b.CharacterClassID]});5==b.CharacterClassID?V(d,"character_class_5_white_bg_fix"):4==b.CharacterClassID&&V(d,
"character_class_4_white_bg_fix");U(c,"span",{"class":"bnpm_origin",text:", "+b.Region.toUpperCase()+"-"+b.Realm})}}};function id(){this.c=new A;this.c.i("save",["name","desc"]);this.c.i("update",[]);var a;this.b=S("div",{"class":"im_parent"});this.Ce=S("form",{action:"javascript:"});H(this.Ce,"submit",function(){this.c.g("update")},this,[]);U(this.Ce,"div",{"class":"content_header im_header",text:"Update the current profile"});W(U(this.Ce,"div",{"class":"im_sa_b"}),S("input",{type:"submit",value:"Update","class":"button button_light"}));W(U(this.b,"div",{"class":"im_sa_inputs"}),this.Ce);this.pd=S("form",{action:"javascript:"});
H(this.pd,"submit",function(){this.c.g("save",{name:ka(this.Wb),desc:ka(this.di)})},this,[]);this.Wb=S("input",{"class":"input im_sa_in"});this.di=S("input",{"class":"input im_sa_in"});U(this.pd,"div",{"class":"content_header im_header",text:"Save as a profile"});a=U(this.pd,"div",{"class":"im_sa_r"});U(a,"div",{"class":"im_sa_left",text:locale.S_ProfileName});W(U(a,"div",{"class":"im_sa_right"}),this.Wb);Wc(a);a=U(this.pd,"div",{"class":"im_sa_r"});U(a,"div",{"class":"im_sa_left",text:locale.S_CharacterDescription});
W(U(a,"div",{"class":"im_sa_right"}),this.di);Wc(a);W(U(this.pd,"div",{"class":"im_sa_b"}),S("input",{type:"submit",value:"Save","class":"button button_light"}));W(U(this.b,"div",{"class":"im_sa_inputs"}),this.pd)}id.prototype={c:j,b:j,Wb:j,di:j,pd:j,Ce:j,update:function(a){this.Ce.style.display=a?"":"none"}};function ed(){this.c=new A;this.c.i("add_buff",["id"]);this.b=S("div",{"class":"bi_p"});this.content=U(this.b,"div",{display:"none"});this.ya=U(this.content,"div",{});this.Hk=U(this.content,"div",{});this.ul=U(this.content,"div",{});this.Ok=U(this.content,"div",{});this.wi=U(this.b,"div",{"class":"bi_loading"})}
ed.prototype={c:j,b:j,ya:j,Hk:j,Ok:j,qi:k,content:j,wi:j,update:function(a,b,c){var d,f,g=new Fd,h=new Fd;h.za.className="collapse_h bi_collapse_h";h.content.className="collapse_c bi_collapse_c";h.b.className="collapse bi_collapse";g.za.className="collapse_h bi_collapse_h";g.content.className="collapse_c bi_collapse_c";g.b.className="collapse bi_collapse";p(this.Hk,h.b);p(this.Ok,g.b);for(f in a)d=a[f],h.content.appendChild(this.ai(d.t,d,i,d.name));for(f in b)d=b[f],g.content.appendChild(this.ai(d.t,
d,i,d.name));Jb(h.content);h.za.innerHTML="<a clas='bi_bc_link' href='javascript:'>Items (Use-Effects)</a><span class='bi_cb_count'>("+a.length+")</span>";Jb(g.content);g.za.innerHTML="<a clas='bi_bc_link' href='javascript:'>Item Procs</a><span class='bi_cb_count'>("+b.length+")</span>";Kb(this.ul);this.Ea(c,"Talent Buffs",this.ul,i)},hp:function(){this.qi=k;this.content.style.display="none";this.wi.style.display="block"},ld:function(a){X(this.ya);this.Ea(a.Warrior,"Warrior",this.ya,k);this.Ea(a.Paladin,
"Paladin",this.ya,k);this.Ea(a.Hunter,"Hunter",this.ya,k);this.Ea(a.Rogue,"Rogue",this.ya,k);this.Ea(a.Priest,"Priest",this.ya,k);this.Ea(a.DeathKnight,"DeathKnight",this.ya,k);this.Ea(a.Shaman,"Shaman",this.ya,k);this.Ea(a.Mage,"Mage",this.ya,k);this.Ea(a.Warlock,"Warlock",this.ya,k);this.Ea(a.Druid,"Druid",this.ya,k);this.Ea(a.Elixirs,"Elixirs",this.ya,k);this.Ea(a.BattleElixirs,"Battle Elixirs",this.ya,k);this.Ea(a.GuardianElixirs,"Guardian Elixirs",this.ya,k);this.Ea(a.Flasks,"Flasks",this.ya,
k);this.Ea(a.Food,"Food",this.ya,k);this.qi=i;this.content.style.display="block";this.wi.style.display="none"},Ea:function(a,b,c,d){var f=new Fd,g,h;g=j;var n={},r=document.createElement("div");f.za.className="collapse_h bi_collapse_h";f.content.className="collapse_c bi_collapse_c";f.b.className="collapse bi_collapse";for(g=h=0;g<a.length;g++)n[a[g].name+a[g].n.Rb()]=this.ai(a[g].t,a[g].n,k,a[g].name),h++;f.za.innerHTML="<a clas='bi_bc_link' href='javascript:'>"+b+"</a><span class='bi_cb_count'>("+
h+")</span>";g=new Ud(n,r);g.ee.className="input input_small bi_fcc_f";g.Ip();a=U(f.content,"div",{"class":"bi_fcc_parent",text:"Filter"});a.appendChild(g.ee);f.content.appendChild(a);f.content.appendChild(r);Jb(f.content);d||f.collapse();h&&c.appendChild(f.b)},ai:function(a,b,c,d){c=S("div",{"class":"bi_buff_p"});U(c,"img",{src:"images/icons/small/"+a+".png","class":"bi_buff"});a=U(c,"a",{href:"javascript:",text:18<d.length?d.substr(0,15)+"...":d});a.onmouseout=function(){t.Z()};a.onmousemove=function(){t.move()};
a.ondblclick=l(k);xb(a,"mouseover",new x(function(){t.Kb(b.ka())},this),[]);H(a,"click",this.c.g,this.c,["add_buff",{id:b.id}]);return c}};function bd(){this.b=S("div",{"class":"ov_p"});this.e=[]}
bd.prototype={b:j,Ud:j,dd:j,Wd:j,Vd:j,Zh:j,zi:j,e:[],update:function(a){var b,c,d,f=new x(function(b){b.j("stat_tooltip_show")?t.ol(a.Mn(b.get("group"),b.get("index")),b.get("node")):b.j("stat_tooltip_hide")&&t.Z()},this);X(this.b);b=U(this.b,"div",{"class":"ov_header"});U(b,"span",{"class":"ov_name",text:a.name?a.name+",":""});U(b,"span",{"class":"ov_level",text:"Level "+a.f});0<a.rk()&&(U(b,"span",{"class":"ov_character_race",text:locale.CharacterRace[a.rk()]}),0<a.Fc()&&(b=U(b,"span",{"class":"ov_character_class",
text:locale.CharacterClass[a.Fc()]}),V(b,"character_class_"+a.Fc()),5==a.Fc()?V(b,"character_class_5_white_bg_fix"):4==a.Fc()&&V(b,"character_class_4_white_bg_fix")));b=U(this.b,"div",{"class":"ov_gear_container"});U(b,"div",{"class":"ov_title",text:"Gear"});c=U(b,"div",{"class":"ov_items_p"});for(b=0;b<a.l.length;b++)d=U(c,"div",{"class":"ov_item_p row_bg"+(b%2+1)}),this.Pl(d,a,b);c=U(this.b,"div",{"class":"ov_stats_container"});U(c,"div",{"class":"ov_title",text:"Stats"});this.wa=[];for(b=0;b<locale.CS_StatGroups.length;b++){this.wa[b]=
new Fd;6!=b&&this.wa[b].toggle();this.e[b]=[];for(d=0;d<locale.CS_Stats[b].length;d++){var g=new Gd(b,d);g.c.B(new z(["stat_tooltip_show","stat_tooltip_hide"],f));this.e[b][d]=g;this.wa[b].content.appendChild(this.e[b][d].b)}this.wa[b].b.className="cs_st_p";this.wa[b].content.className="ov_st_c";d=U(this.wa[b].za,"div",{"class":"stat_title_p"});U(d,"a",{"class":"stat_title",text:locale.CS_StatGroups[b],href:"javascript:"});c.appendChild(this.wa[b].b)}if(0<g_settings.profileId){this.dd=U(this.b,"div",
{"class":"ov_comments_p"});U(this.dd,"div",{"class":"ov_title",text:"Comments:"});this.Ud=U(this.dd,"div",{"class":"ov_comments_c"});this.Wd=U(this.dd,"div",{"class":"co_page"});if(g_settings.userId)U(this.dd,"div",{text:"Add a comment:","class":"co_add_note"}),this.Vd=U(this.dd,"form",{action:"javascript:"}),this.zi=U(this.Vd,"textarea",{"class":"textarea co_textarea"}),f=U(this.Vd,"input",{type:"submit",value:"Post Comment"}),Nb(f,{"default":"button button_light li_filter_search_btn",focus:"button_light_focus",
hover:"button_light_hover"}),H(this.Vd,"submit",this.im,this,[]),this.Zh=U(this.dd,"div",{"class":"co_bar_loading"});this.Xf(1)}this.Jm(a.N.e,a.Fc(),a.Kn());Wc(this.b);f=new Zd;f.update(a);W(this.b,f.b)},Em:function(){X(this.Ud);X(this.Wd);U(this.Ud,"div",{"class":"loading",text:"&nbsp;"})},Xf:function(a){this.Em();u("php/interface/character_comments.php?page="+a+"&character="+g_settings.profileId,new x(this.Wl,this),[])},im:function(){var a=ka(this.zi);0==a.length||/^\s+$/.exec(a)?t.A("The comment is empty!"):
5>a.length?t.A("The comment is too short!"):(this.Vd.style.display="none",this.Zh.style.display="block",la("php/interface/character_comments.php",{content:a,character:g_settings.profileId},new x(this.jm,this),[]))},jm:function(a){try{y(a),this.Xf(1),this.zi.value=""}catch(b){t.A(b)}this.Vd.style.display="block";this.Zh.style.display="none"},Wl:function(a){try{var b=y(a),c=b.comments,d=b.page,f=b.page_count;X(this.Ud);var g=c.length;d==f&&(g-=1);if(0<g){for(a=0;a<g;a++){var h=U(this.Ud,"div",{"class":"co_c row_bg"+
(1+a%2)});U(h,"div",{"class":"co_header",text:c[a].UserName+", <span class='co_time'>"+c[a].Created+"</span>"});U(h,"div",{"class":"co_content",text:c[a].Content})}X(this.Wd);if(1<d){var n=U(this.Wd,"a",{href:"javascript:;","class":"co_link_page",text:"\u00ab Newer"});xb(n,"click",new x(function(){this.Xf(d-1)},this),[])}U(this.Wd,"span",{href:"javascript:;","class":"co_cur_page",text:d+" of "+f});if(d<f){var r=U(this.Wd,"a",{href:"javascript:;","class":"co_link_page",text:"Older \u00bb"});xb(r,"click",
new x(function(){this.Xf(d+1)},this),[])}}else h=U(this.Ud,"div",{"class":"co_none",text:"No comments!"})}catch(v){t.A(v)}},Pl:function(a,b,c){if(b=b.l[c]){U(a,"span",{"class":"ov_slot_name",text:locale.Slots[c]+":"});c=U(a,"div",{"class":"ov_item_info_p"});U(c,"img",{src:"images/icons/small/"+b.t+".png","class":"ov_item_icon"});a=U(c,"a",{href:"javascript:","class":"ov_item_link item_quality_"+b.ha,text:b.name});Yc(a,b.ka());for(var c=U(c,"div",{"class":"ov_gems_p"}),d=0;3>d;d++){var f=b.kd(d);f!=
j&&(a=U(c,"div",{"class":"ov_gem_p"}),U(a,"img",{src:"images/icons/gem/"+f.t+".png","class":"ov_gem_icon"}),a=U(a,"a",{href:"javascript:","class":"ov_gem_link item_quality_"+f.ha,text:f.name}),Yc(a,f.ka()))}}else U(a,"span",{"class":"ov_slot_name",text:locale.Slots[c]+": Nothing equipped"})},Jm:function(a,b,c){this.e[0][1].b.style.display=0<b&&0==(1<<b&90)?"block":"none";this.e[0][2].b.style.display=0<b&&(1==b||11==b&&5==c)?"block":"none";this.e[0][3].b.style.display=0<b&&(4==b||11==b&&1==c)?"block":
"none";this.e[0][4].b.style.display=0<b&&3==b?"block":"none";this.e[0][5].b.style.display=0<b&&6==b?"block":"none";for(b=0;b<this.e[0].length;b++)this.e[0][b].aa(a.nb[b]);for(b=0;b<this.e[1].length;b++)this.e[1][b].aa(a.attributes[b]);for(b=0;b<this.e[6].length;b++)this.e[6][b].aa(a.$b[b]);for(b=0;b<this.e[4].length;b++)this.e[4][b].aa(a.n[b]);for(b=0;b<this.e[5].length;b++)this.e[5][b].aa(a.pa[b]);for(b=0;b<this.e[2].length;b++)this.e[2][b].aa(a.Q[b]);for(b=0;b<this.e[3].length;b++)this.e[3][b].aa(a.oa[b])}};function $d(a,b){this.Sd=new z("class_change,race_change,level_change,item_change,profession_change,profession_level_change,character_loaded,stats_change,preview_stats_change,buffs_change,shapeform_change,presence_change".split(","),new x(function(a){a.j("class_change")?this.zl(a.get("class")):a.j("race_change")?this.El(a.get("race")):a.j("level_change")?this.Pf(a.get("level")):a.j("item_change")?this.Hl(a.get("slot")):a.j("profession_change")?this.Qf():a.j("profession_level_change")?this.Qf():a.j("character_loaded")?
this.af():a.j("stats_change")?this.Il(a.get("stats")):a.j("buffs_change")?this.yl():a.j("preview_stats_change")?this.aq(a.get("previewStats")):a.j("shapeform_change")?this.Gl():a.j("presence_change")?this.Dl():e(Error("Unhandled event: "+a.event))},this));a.B(this.Sd);this.Ef=new z("race_select,class_select,level_select,profession_select,profession_level_select,stat_tooltip_show,stat_tooltip_hide,item_left_click,item_right_click,item_tooltip_show,item_tooltip_hide,select_shape,select_presence,remove_buff,add_stack".split(","),
new x(function(b){if(b.j("race_select"))P.yn(b.get("race_id"),new x(this.Bm,this)),t.ua();else if(b.j("class_select"))P.wn(b.get("class_id"),new x(this.Am,this)),t.ua();else if(b.j("level_select"))try{this.character.ia(b.get("level"))}catch(d){d instanceof Lc?t.A(d.toString()):ga(d)}else if(b.j("profession_select"))this.character.gl(b.get("index"),b.get("id"));else if(b.j("profession_level_select"))this.character.Cp(b.get("index"),b.get("level"));else if(b.j("stat_tooltip_show")){var f=wd(this.character,
b.get("group"),b.get("index"));f&&t.ol(f,b.get("node"))}else b.j("stat_tooltip_hide")?t.Z():b.j("item_left_click")?0<b.get("index")&&this.character.ra(b.get("slot"),b.get("index"))!=j?(this.character.Tp(b.get("slot"),b.get("index")),this.sheet.xk(b.get("slot"),b.get("index"))):this.sheet.qp(b.get("slot")):b.j("item_right_click")?0==b.get("index")&&(this.character.removeItem(b.get("slot")),this.sheet.xk(b.get("slot"),b.get("index"))):b.j("item_tooltip_show")?(f=this.character.ra(b.get("slot"),b.get("index")))&&
0<b.get("index")&&this.character.cl(b.get("slot"),f):b.j("item_tooltip_hide")?0<b.get("index")&&this.character.Sk():b.j("select_shape")?this.character.xd(b.get("shape_id")):b.j("select_presence")?this.character.we(b.get("presence_id")):b.j("remove_buff")?a.Po(b.get("id")):b.j("add_stack")?a.Nd(b.get("id")):e(Error("Unhandled event: "+b.event))},this));b.B(this.Ef);this.sheet=b;this.character=a;this.af()}
$d.prototype={sheet:j,character:j,Ef:j,Sd:j,Bm:function(a){var b=this.character.d==j?-1:this.character.d.id;this.character.hl(new Oc(this.character,a));a=this.character.d==j?-1:this.character.d.id;b!=a||-1==a?this.sheet.Hi.kl():t.enable()},Am:function(a){this.character.oh(new Pc(a));t.enable()},detach:function(){this.character.tb(this.Sd);this.sheet.tb(this.Ef)},af:function(){this.Qf();this.Il(this.character.e);this.El();this.zl();this.qj();this.Pf();this.yl()},zl:function(){this.sheet.pl(this.character.d==
j?-1:this.character.d.id);this.sheet.$p(this.character.li(),Ic);this.character.d!=j?this.sheet.Ya[18].Wi(i):this.sheet.Ya[18].Wi(k);this.Gl();this.Dl();this.Fl();this.qj();this.Pf()},Gl:function(){if(this.character.d!=j){var a=[],b;for(b in this.character.d.yd){var c=this.character.d.yd[b];a.push(new ae(c.id,c.r[0].n.t,c.r[0].n.Rb(this.character).join("<br />")))}this.sheet.Cf.update(a,this.character.d.Ca)}else this.sheet.Cf.update(j,0)},Dl:function(){if(this.character.d!=j){var a=[],b;for(b in this.character.d.Pc){var c=
this.character.d.Pc[b];a.push(new be(c.id,c.t,c.Rb(this.character).join("<br />")))}this.sheet.lf.update(a,this.character.d.Eb?this.character.d.Eb.n.id:0)}else this.sheet.lf.update(j,0)},El:function(){this.Fl()},Pf:function(){this.sheet.Pf(this.character.f);this.qj()},Fl:function(){this.sheet.Hi.update(this.character.M==j?-1:this.character.M.id,this.character.d==j?-1:this.character.d.id)},Qf:function(){for(var a=[],b=0;2>b;b++){var c=this.character.na[b];c==j?a.push(j):a.push(new Jd(c.id,c.f))}this.sheet.Qf(a,
this.character.f)},Hl:function(a){for(var b=[],c,d=0;5>d;d++)c=this.character.ra(a,d),c==j?b.push(j):b.push(new ce(this.character,c,a));this.sheet.Ya[a].update(b)},qj:function(){for(var a=0;19>a;a++)this.Hl(a)},Il:function(a){var b;b=this.character.d;this.sheet.e[0][1].b.style.display=b!=j&&0==(1<<b.id&90)?"block":"none";this.sheet.e[0][2].b.style.display=b!=j&&(1==b.id||11==b.id&&5==b.Ca)?"block":"none";this.sheet.e[0][3].b.style.display=b!=j&&(4==b.id||11==b.id&&1==b.Ca)?"block":"none";this.sheet.e[0][4].b.style.display=
b!=j&&3==b.id?"block":"none";this.sheet.e[0][5].b.style.display=b!=j&&6==b.id?"block":"none";for(b=0;b<this.sheet.e[0].length;b++)this.sheet.e[0][b].aa(a.nb[b]);for(b=0;b<this.sheet.e[1].length;b++)this.sheet.e[1][b].aa(a.attributes[b]);for(b=0;b<this.sheet.e[6].length;b++)this.sheet.e[6][b].aa(a.$b[b]);for(b=0;b<this.sheet.e[4].length;b++)this.sheet.e[4][b].aa(a.n[b]);for(b=0;b<this.sheet.e[5].length;b++)this.sheet.e[5][b].aa(a.pa[b]);for(b=0;b<this.sheet.e[2].length;b++)this.sheet.e[2][b].aa(a.Q[b]);
for(b=0;b<this.sheet.e[3].length;b++)this.sheet.e[3][b].aa(a.oa[b])},aq:function(a){if(a==j)this.uc();else{var b;for(b=0;b<this.sheet.e[0].length;b++)this.sheet.e[0][b].wd(a.nb[b]);for(b=0;b<this.sheet.e[1].length;b++)this.sheet.e[1][b].wd(a.attributes[b]);for(b=0;b<this.sheet.e[6].length;b++)this.sheet.e[6][b].wd(a.$b[b]);for(b=0;b<this.sheet.e[4].length;b++)this.sheet.e[4][b].wd(a.n[b]);for(b=0;b<this.sheet.e[5].length;b++)this.sheet.e[5][b].wd(a.pa[b]);for(b=0;b<this.sheet.e[2].length;b++)this.sheet.e[2][b].wd(a.Q[b]);
for(b=0;b<this.sheet.e[3].length;b++)this.sheet.e[3][b].wd(a.oa[b])}},uc:function(){var a,b;for(a=0;a<this.sheet.e.length;a++)for(b=0;b<this.sheet.e[a].length;b++)this.sheet.e[a][b].gp()},yl:function(){var a=this.character.r.r,b=[],c;for(c in a)b.push(new de(a[c],this.character));this.sheet.Qe.update(b)}};function xa(a,b){this.G=a;this.w=b;this.Ef=new z(["item_left_click"],new x(function(a){a.j("item_left_click")&&this.mm(a.get("slot"),a.get("index"))},this));this.ze=[];for(var c=0;c<Bc;c++)this.ze[c]="";this.Sd=new z("class_change,gem_change,random_enchant_change,talent_tree_selected,talents_reset,talent_tree_reset,talent_point_added,talent_point_removed,talent_distribution_set,character_loaded,item_change".split(","),new x(function(a){if(a.j("class_change"))this.Sj(a.get("class"));else if(a.j("character_loaded"))this.Of();
else if(a.j("gem_change"))this.ie==nd&&this.Zd==kd&&this.rj();else if(a.j("item_change")){if(a.get("slot")==this.u)switch(this.ie){case Aa:this.Cl();break;case nd:switch(this.Zd){case kd:this.rj();break;case md:this.Rf();break;case ld:this.Al()}}}else a.j("random_enchant_change")?this.ie==nd&&this.Zd==ld&&(a=this.G.H(),this.w.$g.update(new ce(a,a.ra(this.u),this.u))):a.j("talent_tree_selected")?b.wb.vc(a.get("tree")):a.j("talent_tree_reset")?b.wb.update():a.j("talents_reset")?(b.wb.vc(this.G.H().Jn()),
b.wb.update()):a.j("talent_point_added")?b.wb.update():a.j("talent_point_removed")?b.wb.update():a.j("talent_distribution_set")?b.wb.update():e(Error("Unhandled event: "+a.event))},this));this.w.Na.B(this.Ef);c=new z("select_talent_tree,reset_talent_tree,reset_talents,show_tooltip,add_talent_point,remove_talent_point".split(","),new x(function(a){var b=this.G.H();if(a.j("select_talent_tree"))b.rp(a.get("tree"));else if(a.j("reset_talent_tree"))b.ip(a.get("tree"));else if(a.j("reset_talents"))b.jp();
else if(a.j("add_talent_point"))b.Vm(a.get("tree"),a.get("row"),a.get("col"));else if(a.j("remove_talent_point"))b.Wo(a.get("tree"),a.get("row"),a.get("col"));else if(a.j("show_tooltip")){var c=a.get("row"),h=a.get("col"),n=a.get("tree");t.Lp(zd(b.On(),n,c,h),n,c,h,a.get("node"))}else e(Error("Unhandled event "+a.event))},this));b.wb.B(c);this.ba=new qa;this.ba.w.show(k);this.ba.w.Yg.style.display="block";this.ba.B(new z(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new x(function(a){var b;
if(a.j("show_tooltip"))b=this.G.H(),t.Kb(ua(a.get("entity"),b)),b.cl(this.u,a.get("entity"));else if(a.j("move_tooltip"))t.move();else if(a.j("hide_tooltip"))t.Z(),this.G.H().Sk();else if(a.j("click")){if((b=this.G.H())&&-1!=this.u)try{b.Rm(this.u,a.get("entity").ic())}catch(c){c instanceof vc?t.A(c):ga(c)}}else if(a.j("update")&&((new ee("php/interface/get_items.php")).update(this.ba),-1!=this.u)){a=this.ba.Pa();this.Ge("name",a);this.Ge("quality",a);this.Ge("level",a);this.Ge("reqlvl",a);if(ka(this.ba.w.Pk)){var h=
this.ba.D.Ab;for(b in h)this.Ge(h[b].da,h[b].Pa())}this.ze[this.u]=a}},this)));this.Ma=(new oa).Ma;this.cb=new fe;this.cb.B(new z(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new x(function(a){var b;a.j("show_tooltip")?(b=this.G.H(),t.Kb(Ba(a.get("entity"),b,0,j)),b.Ti(this.u,a.get("entity"))):a.j("move_tooltip")?t.move():a.j("hide_tooltip")?(t.Z(),this.G.H().Ro()):a.j("click")?(b=this.G.H())&&-1!=this.u&&b.ra(this.u)!=j&&b.Xc(this.u,a.get("entity").I[0].Jb):a.j("update")&&(new ee("php/interface/get_spells.php")).update(this.cb)},
this)));this.mb=new qa;this.mb.B(new z(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new x(function(a){var b;if(a.j("show_tooltip"))b=this.G.H(),t.Kb(ua(a.get("entity"),b)),b.bl(this.u,this.Uc,a.get("entity"));else if(a.j("move_tooltip"))t.move();else if(a.j("hide_tooltip"))t.Z(),this.G.H().Rk();else if(a.j("click")){if((b=this.G.H())&&-1!=this.u&&b.ra(this.u)!=j)try{b.Yc(this.u,this.Uc,a.get("entity").ic())}catch(c){c instanceof vc?t.A(c):ga(c)}}else a.j("update")&&(new ee("php/interface/get_items.php")).update(this.mb)},
this)));this.w.c.B(new z(["import","save","update","tab_change","csfolder_tab_change"],new x(function(a){a.j("import")?this.Fe(a.get("name"),a.get("server"),a.get("region")):a.j("save")?this.Hj(a.get("name"),a.get("desc")):a.j("update")?this.Ij():a.j("tab_change")?(this.ie=a.get("newTab"),this.ie==Aa?this.Cl():this.ie==od&&this.w.Af.update(0!=this.G.Bf.profileId&&this.G.Bf.profileUserId==this.G.Bf.userId)):a.j("csfolder_tab_change")?(this.Zd=a.get("newTab"),this.pj()):e(Error("Unhandled event "+a.event))},
this)));this.w.Eg.c.B(new z(["add_glyph","remove_glyph"],new x(function(a){var b=this.G.H();if(a.j("add_glyph")){try{b.cg(a.get("glyph").Mb)}catch(c){t.A(c)}this.Of()}else a.j("remove_glyph")&&(b.Pi(a.get("glyph").Mb),this.Of())},this)));this.w.bd.c.B(new z(["add_buff"],new x(function(a){var b=this.G.H();if(a.j("add_buff")){try{b.Ke(a.get("id"))}catch(c){t.A(c)}this.Of()}},this)));this.w.eh.c.B(new z("wowreforge_export,reforge,restore,remove_reforge_preview,reforge_preview,reforge_all,restore_all,reforge_item_preview,remove_reforge_item_preview".split(","),
new x(function(a){var b=this.G.H();if(a.j("reforge"))b.Mo(this.u,a.get("reduce"),a.get("add")),this.Rf();else if(a.j("restore"))b.np(this.u),this.Rf();else if(a.j("reforge_item_preview"))b.Dp(this.u,a.get("reduce"),a.get("add"));else if(a.j("remove_reforge_item_preview"))b.To();else if(a.j("reforge_preview"))b.sh(a.get("reforge_array"));else if(a.j("remove_reforge_preview"))b.Uo();else if(a.j("restore_all"))b.mp();else if(a.j("reforge_all"))b.Lo(a.get("reforge_array")),this.Rf();else if(a.j("wowreforge_export"))a=
this.G.H().Vp(),b=document.createElement("form"),b.method="POST",b.action="http://wowreforge.com/Profiles/Import",b.name="wowreforge_export",b.target="_blank",b.id="wowreforge_export",b.style.display="none",U(b,"input",{type:"hidden",name:"profile",value:a}),U(b,"input",{type:"hidden",name:"metadata",value:'{"BasedOn" : null,"CanUpdate" : false,"Data" : null,"Origin" : "chardev.org","SourceLink" : null}'}),document.body.appendChild(b),document.getElementById("wowreforge_export").submit(),document.body.removeChild(b)},
this)));this.w.xh.c.B(new z(["socket_used_gem","socket_left_click","socket_right_click","used_gem_tooltip_show","used_gem_tooltip_hide"],new x(function(a){var b,c;a.j("socket_left_click")?(b=this.G.H(),c=b.ra(this.u,0),this.Uc=a.get("socket"),c!=j&&(a=1==c.W[this.Uc]?64:2==c.W[this.Uc]?297:4==c.W[this.Uc]?308:8==c.W[this.Uc]?282:32==c.W[this.Uc]?1024:319,ge(this.mb,0,3,a),this.mb.D.U("usablebyclass",i),this.mb.D.U("issocketablegem",i),this.mb.D.U("gemreqitemlvl",i),this.mb.D.U("class",i),this.mb.set((b.d!=
j?"usablebyclass.eq."+(1<<b.d.id-1)+";":"")+"issocketablegem.eq.1;class.eq.3;subclass.ba."+a+";gemreqitemlvl.le."+c.f+";",j,j,1),this.mb.update())):a.j("socket_right_click")?(b=this.G.H(),b.Oi(this.u,a.get("socket"))):a.j("used_gem_tooltip_show")?(b=this.G.H(),b.bl(this.u,a.get("socket"),B.get(a.get("gemId")))):a.j("used_gem_tooltip_hide")?(b=this.G.H(),b.Rk()):a.j("socket_used_gem")?(b=this.G.H(),b.Yc(this.u,a.get("socket"),B.get(a.get("gemId")))):e(Error("Unhandled event "+a.event))},this)));this.w.$g.c.B(new z(["change"],
new x(function(a){a.j("change")?this.G.H().zp(this.u,a.get("randomEnchantmentId")):e(Error("Unhandled event "+a.event))},this)));this.Ma.set("ismine.eq.1;",j,j,1);b.Vn(this.ba.w,this.cb.w,this.Ma.w);b.xh.Ap(this.mb.w.b);this.mb.w.show(i);this.G.B(new z(["character_change","logged_in","logged_out"],new x(function(a){a.j("character_change")?this.gm(a.get("character")):a.j("logged_in")?this.w.Ig.Jl():a.j("logged_out")&&this.w.Ig.Jl()},this)))}
xa.prototype={w:j,G:j,ba:j,mb:j,cb:j,Ma:j,u:-1,Uc:-1,Je:j,ze:[],ie:0,Zd:0,Sd:j,gm:function(a){this.Je&&this.Je.detach();this.Je=new $d(a,this.w.Na);this.Sj(a.d);a.B(this.Sd)},Sj:function(a){var b=a!=j?"usablebyclass.eq."+(1<<a.id-1)+";":"usablebyclass.eq.0;";this.ba.Yo("usablebyclass",b);this.Ih("usablebyclass",b);a!=j?this.w.wb.af(new he(a.q,this.G.H())):this.w.wb.af(j);this.w.bd.hp();this.Of();this.pj()},mm:function(a,b){if(0==b)this.u=a,!this.G.H().ra(this.u,0)&&0!=this.Zd?this.w.tg.show(0):this.pj()},
Of:function(){var a=this.G.H(),b=[];if(a.d)for(var c=0;c<a.d.hg.length;c++)b.push(new ie(a.d.hg[c],a));this.w.Eg.update(b,new je(a))},Cl:function(){this.w.Di.update(new je(this.G.H()))},pj:function(){switch(this.Zd){case 0:if(-1==this.u)break;this.Zp();break;case kd:if(-1==this.u)break;this.rj();break;case ld:if(-1==this.u)break;this.Al();break;case md:if(-1==this.u)break;this.Rf();break;case 5:this.Xp()}},Xp:function(){var a=this.G.H();this.w.bd.qi||Dc(new x(function(a,b){b!=j?t.A(b):this.w.bd.ld(a)},
this),a);var b,c,d,f,g=[],h=[],n,r;for(c=0;19>c;c++)if(f=a.z.get(c)){for(d=0;d<f.L.length;d++)if(n=f.L[d],n!=j){for(b=0;3>b;b++)if((r=n.I[b])&&42==r.We)(r=r.In())&&g.push(new ke(r,a));n.ri()||h.push(new ke(n,a))}for(d=0;d<f.F.length;d++)b=f.F[d],1==b.types[0]&&g.push(new ke(b.L[0],a))}d=[];if(a.d!=j&&a.d.$h!=j)for(c=0;c<a.d.$h.length;c++)f=a.d.$h[c],a.X.Pd[f[0]]&&d.push(f[1]);this.w.bd.update(h,g,d)},Rf:function(){var a=this.G.H(),b=j;-1!=this.u&&(b=a.ra(this.u,0));this.w.eh.update(b==j?j:new ce(a,
b,this.u))},Al:function(){this.cb.w.show(k);if(-1!=this.u){var a=this.G.H(),b=a.ra(this.u,0);this.w.$g.update(b==j?j:new ce(a,b,this.u));b!=j&&(this.cb.D.U("isenchant",i),this.cb.D.U("itemclasssubclasscombined",i),this.cb.D.U("slot",i),this.cb.D.U("enchantitemlevel",i),this.cb.D.U("enchantchrlevel",i),this.cb.set("isenchant.eq.1;itemclasssubclasscombined.eq."+b.$+"."+b.Y+";slot.ba."+(1<<b.Aa)+";enchantitemlevel.le."+b.f+";enchantchrlevel.le."+a.f+";",j,j,1),this.cb.update(),this.cb.w.show(i))}},rj:function(){if(-1!=
this.u){var a=this.G.H(),b=a.ra(this.u,0);this.w.xh.update(b==j?j:new ce(a,b,this.u),this.Pn())}},Zp:function(){var a=this.G.H(),b=this.ze[this.u],c=a.Zm(this.u),d=a.$m(this.u);ge(this.ba,c,d[0],d[1]);this.ba.D.U("usablebyclass",i);this.ba.D.U("issocketablegem",i);this.ba.D.U("canbeusedwithlvl",i);this.ba.D.U("class",i);this.ba.D.U("gemreqitemlvl",i);var f=this.ba,a=a.ao(this.u);f.bq=a;f.w.setProperty("showDpsAndDelay",a);16!=this.u&&17!=this.u&&18!=this.u?this.ba.D.U("slot",i):this.ba.D.U("slot",
k);1==this.u||12==this.u||13==this.u||14==this.u||15==this.u||6==this.u||5==this.u?this.ba.D.U("subclass",i):this.ba.D.U("subclass",k);b=b.replace(/\bclass\.\w+\.[^;]*;/,"")+(0<=d[0]?"class.eq."+d[0]+";":"");b=b.replace(/\bslot\.\w+\.[^;]*;/,"")+(0<c?"slot.ba."+c+";":"");b=b.replace(/\bsubclass\.\w+\.[^;]*;/,"")+(0<d[1]?"subclass.ba."+d[1]+";":"");this.ba.set(b,j,j,1);this.ba.update();this.ba.w.show(i)},Fe:function(a,b,c){try{O.Ko(a,b,c,new x(this.lm,this)),t.ua()}catch(d){t.A(d)}},lm:function(a,
b){b!=j?t.A(b):(this.G.H().load(a),this.w.fe.show(nd),t.enable())},Hj:function(a,b){try{var c=ja.H();c.el(a);c.up(b);O.Ol(0,c,new x(this.sm,this));t.ua()}catch(d){t.A(d)}},Ij:function(){try{O.Ol(this.G.Bf.profileId,ja.H(),new x(this.vm,this)),t.ua()}catch(a){t.A(a)}},sm:function(a,b){b!=j?t.A(b):t.vh("Your profile was saved.<br /><a class='tt_profile_link' href='?profile="+a+"' target='_blank'>Click here</a> to view it.")},vm:function(a,b){b!=j?t.A(b):t.vh("The profile was updated.")},Ih:function(a,
b){for(var c=0;19>c;c++)this.ze[c]=this.ze[c].replace(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;","g"),"")+b},Ge:function(a,b){var c=b.match(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;","g"));c?this.Ih(a,c.join("")):this.Ih(a,"")},Pn:function(){for(var a={},b,c,d=this.G.H(),f=0;f<Bc;f++)if(b=d.ra(f,0),b!=j)for(var g=0;3>g;g++)(c=b.K[g])&&(a[c.id]=new le(d,c,g));return a}};function oa(){this.Ma=new me;this.Ma.w.Yi(i);this.Ma.B(new z(["update","delete"],new x(function(a){a.j("update")?(new ee("php/interface/profiles/get_profiles.php")).update(this.Ma):a.j("delete")&&confirm("Do you really want to delete the character profile '"+a.get("desc")+"'?")&&u("php/interface/profiles/delete_profile.php"+w({id:a.get("profile_id")}),new x(function(a){try{y(a),this.Ma.update()}catch(c){t.A(c)}},this),[])},this)))}oa.prototype={Ma:j};function ce(a,b,c){this.id=b.id;this.t=b.t;this.name=b.name;this.ha=b.ha;this.u=c;this.N=a;this.fc=b;this.W=b.W;this.S=this.ig=j;if(b.Va!=j){this.ig=[];for(a=0;a<b.Va.length;a++)this.ig.push(new ne(b.Va[a]));if(b.S!=j)this.S=new ne(b.S)}this.ta=b.ta;this.sc=b.sc;this.ea=b.ea;this.ja=b.ja}
ce.prototype={fc:j,N:j,t:"",id:0,name:"",ha:-1,u:0,W:[],S:j,ig:[],ta:-1,sc:0,ea:-1,ja:0,ka:function(){return ua(this.fc,this.N)},Ln:function(){return vd(this.fc,this.N,1)},Dk:function(){return!this.N.mg(this.fc)||!this.N.yg(this.fc)||this.fc.Hb>this.N.f},Un:function(){return this.N.vk(this.u)},mi:function(a){return this.fc.mi(a)},si:function(){return this.fc.si()},kd:function(a){var b=this.fc.K[a];return b?new le(this.N,b,a):j}};function le(a,b,c){this.wj=b;this.Fm=c;this.N=a;this.t=b.t;this.id=b.id;this.name=b.name;this.ha=b.ha}le.prototype={wj:j,Fm:0,N:j,t:"",id:0,name:"",ka:function(){return ua(this.wj,this.N)}};function ne(a){this.id=a.id;this.name=a.name;this.description="";for(var b=0;5>b;b++)a.F[b]&&(this.description+=(this.description?", ":"")+a.F[b].description)}ne.prototype={id:0,name:"",description:""};function he(a,b){this.yc=a;this.id=a.id;this.Sb=a.Sb;this.wc=a.ca;this.ac=a.rows;this.jc=a.cols;this.Vb=a.Vb;this.qb=a.qb;this.Kc=a.Kc;this.kb=b.d.id;this.ca=[];for(var c=0;c<a.ca;c++)this.ca[c]=new oe(a,c,b)}he.prototype={yc:j,ca:[],id:0,Sb:k,wc:0,ac:0,jc:0,kb:0,Vb:0,qb:0,Kc:0,Gc:function(){return this.yc.Gc()},Cg:function(a){return this.yc.xa[a]},Hn:function(){return this.yc.Dg()},Ag:function(){return this.yc.Ob},Bg:function(){return this.yc.Bg()}};function oe(a,b,c){var d;this.sa=[];for(d=0;d<a.sa[b].length;d++)this.sa.push(new ke(a.sa[b][d],c));this.q=[];for(d=0;d<a.rows;d++){this.q[d]=[];for(c=0;c<a.cols;c++)a.q[b][d][c]!=j&&(this.q[d][c]=new pe(a.q[b][d][c]))}this.name=a.ec[b];this.ni=a.mj[b];this.description=a.lj[b]}oe.prototype={ni:"",name:"",description:"",sa:[],q:[]};function pe(a){this.hc=a;this.name=a.getName();this.t=a.L[0].t;this.max=a.Gb;this.Ib=[];for(var b in a.Ib)this.Ib.push(a.Ib[b])}pe.prototype={hc:j,max:0,name:"",t:"",ne:function(){return this.hc.T==this.max},Me:function(){return this.hc.Me()}};function ke(a,b){this.$f=a;this.N=b;this.name=a.name;this.id=a.id;this.t=a.t}ke.prototype={$f:j,N:j,name:"",t:"",id:"",Rb:function(){this.$f.ia(this.N.f);return this.$f.Rb(this.N)},ka:function(){return Ba(this.$f,this.N,0,j)}};function ie(a,b){this.Mb=a;this.N=b;this.id=a.id}ie.prototype={Mb:j,N:j,id:0,getName:function(){return this.Mb.n.name},ka:function(){return Ba(this.Mb.n,this.N,0,j)}};function je(a){var b,c;this.N=a;this.f=a.f;this.name=a.name?a.name:"";this.description=a.description?a.description:"";this.l=[];for(c=0;c<Bc;c++)b=a.ra(c,0),this.l[c]=b?new ce(a,a.ra(c,0),c):j;this.O=[];if(a.d){var d=a.d.O;for(c=0;c<d.length;c++)for(b=0;b<d[c].length;b++)d[c][b]&&this.O.push(new ie(d[c][b],a))}}
je.prototype={N:j,f:0,name:"",description:"",l:[],O:[],Fc:function(){return this.N.d?this.N.d.id:0},rk:function(){return this.Vh=this.N.M?this.N.M.id:0},qk:function(){return 0!=this.Fc()?25>this.N.f?0:50>this.N.f?1:75>this.N.f?2:3:0},Mn:function(a,b){return wd(this.N,a,b)},Kn:function(){return this.N.d?this.N.d.Ca:0}};function Ec(a,b,c,d){this.n=new ke(c,d);this.name=a;this.t=b}Ec.prototype={n:j,name:"",t:""};function ae(a,b,c){this.id=a;this.t=b;this.description=c}ae.prototype={id:0,t:"",description:""};function be(a,b,c){this.id=a;this.t=b;this.description=c}be.prototype={id:0,t:"",description:""};function de(a,b){this.Sf=a;this.Tl=b;this.id=a.n.id;this.t=a.n.t;this.Cd=a.Cd}de.prototype={id:-1,t:"",Cd:k,Sf:j,ka:function(){return Ba(this.Sf.n,this.Tl,0,j)}};function qe(a,b){this.da=b;this.name=a;this.b=document.createElement("div")}var re=[["gt","&gt;"],["ge","&ge;"],["lt","&lt;"],["le","&le;"],["eq","="]],se=[["wlike","is"]],te=[["eq","="]];
qe.prototype={b:j,da:"",name:"",Gn:function(a){var b;switch(a){case ue:b=new Id(se);b.b.style.display="none";break;case ve:b=new Id(te);b.b.style.display="none";break;case Z:b=new Id(re);break;default:e(Error("Unable to create operator select for "+a+"!"))}b.b.className="fi_op_select";return b},Pa:function(){e(new Qb("AbstractFilter","getArgumentString"))}};function we(a,b){this.da=b;this.name=a}we.prototype={da:"",name:"",show:i,Xe:function(){e(new Qb("FilterData","getFilter"))}};function $(a,b,c){we.call(this,a,b);this.nk=c}var Z=0,ve=1,ue=2;$.prototype=new we("","");$.prototype.nk=Z;$.prototype.Xe=function(a,b){return new xe(this.name,this.da,a,b,this.nk)};function ye(a,b){we.call(this,a,b)}ye.prototype=new we("","");ye.prototype.Xe=function(a,b){return new ze(this.name,this.da,b)};function Ae(a,b,c){we.call(this,a,b);this.options=c}
Ae.prototype=new we("","");Ae.prototype.options=j;Ae.prototype.Xe=function(a,b){return new Be(this.name,this.da,b,this.options)};function Ce(a,b,c){we.call(this,a,b);this.options=c}Ce.prototype=new we("","");Ce.prototype.options=j;Ce.prototype.Xe=function(a,b){return new De(this.name,this.da,b,this.options)};function Ee(){this.c=new A;this.c.i("set_argument_string",[]);this.c.i("create_filter",[]);this.yj()}
Ee.prototype={data:{},je:{},c:j,ye:{},xe:{},Ab:[],yj:function(){this.data={};this.je={};this.ye={};this.zj()},zj:function(){this.xe={};this.Ab=[]},set:function(a,b){this.yj();this.data=a;for(var c in b)this.ye[b[c]]=i},B:function(a){this.c.B(a)},$k:function(a){var b,c;this.zj();for(b in this.ye)this.Ch(b,j,j);for(;(c=/(^|;)([^;]+;)/.exec(a))!=j;)(b=/^(\w+)\.(\w+)\.([^;]+);/.exec(c[2]))&&this.Ch(b[1],b[2],b[3]),a=a.replace(c[0],c[1])},Ni:function(a){for(var b=0;b<this.Ab.length;b++)if(this.Ab[b]==
a){this.Ab.splice(b,1);return}e(Error("Unable to remove filter "+a+"!"))},Pa:function(){var a="",b;for(b in this.xe)a+=this.xe[b].Pa();for(b=0;b<this.Ab.length;b++)a+=this.Ab[b].Pa();return a},Ch:function(a,b,c){var d=this.data[a];d==j&&e(Error("Unable to find filter data for "+a+" (with "+b+" "+c+")!"));b=d.Xe(b,c);this.ye[a]?this.xe[a]=b:this.Ab.push(b);return b},An:function(a){this.ye[a]&&e(Error("Unable to create custom filter for static filter variable: "+a+"!"));return this.Ch(a,j,j)},U:function(a,
b){b?this.je[a]=i:delete this.je[a]},Bn:function(){var a={},b;for(b in this.data)this.ye[this.data[b].da]||this.je[this.data[b].da]||(a[b]=this.data[b]);return a},Cn:function(){var a=[],b;for(b in this.Ab)this.je[this.Ab[b].da]||a.push(this.Ab[b]);return a},Nn:function(){var a=[],b;for(b in this.xe)this.je[b]||a.push(this.xe[b]);return a}};function xe(a,b,c,d,f){qe.call(this,a,b);this.valueType=f;this.input=document.createElement("input");this.input.className="input fi_in";this.input.value=d!=j?d:this.valueType==Z||this.valueType==ve?"0":"";this.jf=this.Gn(f);c!=j&&this.jf.select(c);this.b.appendChild(this.jf.b);this.b.appendChild(this.input);this.b.className="fi_p"}xe.prototype=new qe("","");m=xe.prototype;m.jf=j;m.input=j;m.valueType=Z;
m.la=function(){switch(this.valueType){case ve:case Z:var a=parseFloat(this.input.value);isNaN(a)&&(a="");return a;default:return this.input.value}};m.Pa=function(){return this.da+"."+this.jf.la()+"."+this.la()+";"};function ze(a,b,c){qe.call(this,a,b);this.le=document.createElement("input");this.le.className="input fi_in_min";this.le.maxLength="5";this.ke=document.createElement("input");this.ke.className="input fi_in_max";this.ke.maxLength="5";if(c!=j&&(a=/(\d*(?:\.\d+)?)-(\d*(?:\.\d+)?)/.exec(c)))this.le.value=a[1],this.ke.value=a[2];this.b.appendChild(this.le);this.b.appendChild(document.createTextNode(" - "));this.b.appendChild(this.ke);this.b.className="fi_p"}ze.prototype=new qe("","");ze.prototype.jf=j;
ze.prototype.le=j;ze.prototype.ke=j;ze.prototype.Pa=function(){var a=parseFloat(this.le.value),b=parseFloat(this.ke.value);return this.da+".btw."+(isNaN(a)?"":""+a)+"-"+(isNaN(b)?"":""+b)+";"};function Be(a,b,c,d){qe.call(this,a,b);this.select=Qd(d);c!=j&&this.select.select(c);this.b.appendChild(this.select.b)}Be.prototype=new qe("","");Be.prototype.select=j;Be.prototype.Pa=function(){return this.da+".eq."+this.select.la()+";"};function De(a,b,c,d){qe.call(this,a,b);var a=[],b=0,f;for(f in d)a[b++]=[f,d[f]];this.select=new Rd(a);c!=j&&this.select.select(c);this.b.className="fi_multi_select";this.b.appendChild(this.select.b)}De.prototype=new qe("","");De.prototype.select=j;De.prototype.Pa=function(){return this.da+".ba."+this.select.la()+";"};function Fe(a,b,c,d){if(!a)return j;this.c=new A;this.c.i("update",["list"]);this.c.i("show_tooltip",["entity"]);this.c.i("click",["entity"]);this.c.i("move_tooltip",[]);this.c.i("hide_tooltip",[]);this.D=new Ee;this.w=a;this.rd=d;d=new z("search,next_page,prev_page,change_order,add_custom_filter,remove_custom_filter".split(","),new x(function(a){a.j("search")?this.update():a.j("next_page")?this.nextPage():a.j("prev_page")?this.Do():a.j("change_order")?this.rh(a.get("order")):a.j("add_custom_filter")?
this.Qm(a.get("variable"),a.get("customFilter")):a.j("remove_custom_filter")&&this.Ni(a.get("filter"))},this));a.B(d);a.fa("show_tooltip",this.c);a.fa("hide_tooltip",this.c);a.fa("move_tooltip",this.c);a.fa("click",this.c);this.D.set(b,c);this.set("","","",1)}var ra=1;function Ge(a){var b=[],c;for(c in a)for(var d in a[c])b[a[c][d].da]=a[c][d];return b}function He(a){var b={},c;for(c in a){b[c]=[];for(var d in a[c])b[c].push(a[c][d].da)}return b}var Ie,Je;
Ie=function(){var a={},b;for(b=1;28>=b;b++)a[b]=14==b?locale.F_ShieldHand:locale.a_slot[b];return a};Je=function(){var a={},b,c;for(c=0;c<vb.length;c++)for(b=0;b<vb[c][1].length;b++)a[c+"."+b]=vb[c][1][b];return a};
Fe.prototype={c:j,page:1,ef:0,D:j,w:j,rd:"",qe:0,B:function(a){this.c.B(a)},dl:function(a){this.ef=a;this.w.sj(this.page,this.ef)},nextPage:function(){this.Jh(this.page+1);this.bg()},Do:function(){this.Jh(this.page-1);this.bg()},Jh:function(a){if(!(0>a||a>this.ef))this.page=a,this.w.sj(this.page,this.ef)},update:function(){this.Jh(1);this.bg()},rh:function(a){this.rd==a?this.qe=0==this.qe?ra:0:this.rd=a;this.bg()},bg:function(){this.c.g("update",{list:this});this.w.ua()},Pa:function(){return this.D.Pa()},
set:function(a,b,c,d){this.page=d;this.w.sj(this.page,this.ef);this.w.rh(this.rd,this.qe);this.D.$k(a);this.w.Yp(this.D.Nn(),this.D.Cn(),this.D.Bn())},Qm:function(a,b){b.al(this.D.An(a))},Ni:function(a){this.D.Ni(a)},setData:function(a){this.w.rh(this.rd,this.qe);2>a.length?(this.w.ph(j),this.dl(0)):(this.dl(Math.ceil(a[0][0]/a[0][1])),this.w.wg(a))},Yo:function(a,b){var c=this.D.Pa(),c=c.replace(RegExp("\u0008"+a+"\\.\\w+\\.[^;]+;"),"")+b;this.D.$k(c)}};function Ke(a){if(!a)return j;this.c=new A;this.c.i("search",[]);this.c.i("remove_custom_filter",["customFilter"]);this.c.i("add_custom_filter",["variable","customFilter"]);this.c.i("next_page",[]);this.c.i("prev_page",[]);this.c.i("change_order",["order"]);this.c.i("hide_tooltip",[]);this.c.i("move_tooltip",[]);this.c.i("show_tooltip",["entity"]);this.c.i("click",["entity"]);this.Uh=a;this.b=document.createElement("div");this.b.className="li_p";this.kc=new Fd;this.lc=document.createElement("div");
this.lc.className="li_filter_p";this.b.appendChild(this.lc);this.kc.za.className="li_fc_header";this.kc.content.className="li_fc_content";this.kc.za.innerHTML="<a href='javascript:'>Filter</a>";this.lc.appendChild(this.kc.b);this.content=document.createElement("div");this.content.className="li_content";this.b.appendChild(this.content);this.form=document.createElement("form");this.form.action="javascript:";this.form.onsubmit="return false";this.kc.content.appendChild(this.form);this.vg=document.createElement("div");
this.de=document.createElement("input");this.de.type="submit";this.de.value=locale.F_Search;Nb(this.de,{"default":"button button_light li_filter_search_btn",focus:"button_light_focus",hover:"button_light_hover"});H(this.form,"submit",this.c.g,this.c,["search",{}]);this.Md=document.createElement("input");this.Md.type="button";this.Md.value=locale.F_AddFilter;Nb(this.Md,{"default":"button button_light li_filter_add_btn",focus:"button_light_focus",hover:"button_light_hover"});H(this.Md,"click",this.Jk,
this,[j]);this.Aj();this.jb=new Y(1,3);this.jb.b.width="100%";this.jb.cols[0].width="33%";this.jb.cols[1].width="34%";this.jb.cols[2].width="33%";this.Yb=document.createElement("a");this.Yb.style.display="none";this.Yb.href="javascript:";Nb(this.Yb,{"default":"button button_light li_prev_page",focus:"button_light_focus",hover:"button_light_hover"});H(this.Yb,"click",this.c.g,this.c,["prev_page",{}]);this.Vg=document.createElement("div");this.Vg.className="li_curr_page";this.Xb=document.createElement("a");
this.Xb.style.display="none";this.Xb.href="javascript:";Nb(this.Xb,{"default":"button button_light li_next_page",focus:"button_light_focus",hover:"button_light_hover"});H(this.Xb,"click",this.c.g,this.c,["next_page",{}]);this.jb.cells[0][0].appendChild(this.Yb);this.jb.cells[0][1].appendChild(this.Vg);this.jb.cells[0][2].appendChild(this.Xb);this.jb.b.className="li_page_p";this.b.appendChild(this.jb.b)}
Ke.prototype={c:j,Uh:{},b:j,content:j,lc:j,kc:j,de:j,form:j,vg:j,Md:j,mc:j,nd:j,jb:j,Vg:j,Xb:j,Yb:j,ik:j,hk:j,bi:j,setProperty:function(){e(new Qb("ListGui","setProperty"))},Yp:function(a,b,c){this.Aj();for(var d in a)this.Rg(a[d]);for(d in b)this.Jk(b[d]);this.ik=c},Aj:function(){this.mc=new Y(0,2);this.nd=new Y(1,1);this.nd.th($c);this.mc.b.cellSpacing="2px";this.mc.b.className="group_t2 li_filter_input_grid li_filter_grp";this.mc.Z();this.nd.cells[0][0].appendChild(this.mc.b);var a=document.createElement("div");
a.className="group_t2 li_filter_grp";a.appendChild(this.vg);a.appendChild(this.Md);Kb(this.form);this.form.appendChild(this.nd.b);this.form.appendChild(a);this.form.appendChild(this.de);Kb(this.vg)},B:function(a){this.c.B(a)},fa:function(a,b){this.c.fa(a,b)},Nh:function(a,b){for(;b+1>=this.nd.cols.length;)this.nd.Pm();var c=document.createElement("div"),d=document.createElement("div");c.innerHTML=a.name;c.className="li_filter_lg_label";p(d,c);d.appendChild(a.b);d.className="group_t2 li_filter_grp li_filter_select";
this.nd.cells[0][b+1].appendChild(d)},Zc:function(a,b){for(;b>=this.mc.rows.length;)this.mc.$c();var c=this.mc.cells[b];c[0].innerHTML=a.name;c[0].className="li_filter_ig_label";p(c[1],a.b);c[1].className="li_filter_ig_input";this.mc.show()},Rg:function(){e(new Qb("ListGui","newStaticFilter"))},Jk:function(a){var b=new Le(this);a!=j&&b.al(a);this.vg.appendChild(b.b)},ua:function(){this.content.innerHTML="<div class='li_loading'>"+locale.L_Loading+"</div>";this.lk(i);this.jb.b.style.display="none"},
lk:function(a){this.de.disabled=a?"disabled":""},ph:function(a){a==j?this.content.innerHTML="<div class='il_nothing'>Nothing Found</div>":p(this.content,a);this.lk(k);this.Xb.disabled="";this.Yb.disabled=""},Yi:function(a){a?this.kc.expand():this.kc.collapse()},sj:function(a,b){0==b?this.jb.b.style.gq="none":(b>a?(this.Xb.innerHTML=locale.next+" &rsaquo;",this.Xb.style.display=""):this.Xb.style.display="none",1<a?(this.Yb.innerHTML="&lsaquo; "+locale.previous,this.Yb.style.display=""):this.Yb.style.display=
"none",this.Vg.innerHTML=I(locale.L_PageOf,[a,b]),this.jb.b.style.display="table")},show:function(a){this.b.style.display=a?"block":"none"},wg:function(){e(new Qb("ListGui","deserialize"))},rh:function(a,b){this.bi=a;this.hk=b},Hc:function(a,b){var c=document.createElement("a");c.innerHTML=a+(b==this.bi?0==this.hk?" \u25bc":" \u25b2":"");c.className="li_sort_link"+(b==this.bi?" li_sort_link_active":"");c.href="javascript:";H(c,"click",this.c.g,this.c,["change_order",{order:b}]);return c}};
function Le(a){this.sd=a;a=new Y(1,3);a.b.className="group_t3 fi_cf_table";var b=document.createElement("option");b.innerHTML="";b.value="";var c=document.createElement("a");c.className="remove fi_cf_remove";c.href="javascript:";this.b=document.createElement("div");this.select=document.createElement("select");this.select.className="single_select";this.lc=document.createElement("div");this.select.appendChild(b);for(var d in this.sd.Uh)this.Zl(d,this.sd.Uh[d]);a.cells[0][0].appendChild(this.select);
a.cells[0][1].appendChild(this.lc);a.cells[0][2].appendChild(c);this.b.appendChild(a.b);H(this.select,"change",this.Ci,this,[]);H(c,"click",this.qo,this,[])}
Le.prototype={b:j,select:j,lc:j,filter:j,sd:j,Ci:function(){var a=this.select.selectedIndex;if(0>=a||this.filter!=j)this.sd.c.g("remove_custom_filter",{filter:this.filter}),this.lc.innerHTML="",this.filter=j;0<a&&this.sd.c.g("add_custom_filter",{variable:this.select.options[a].value,customFilter:this})},qo:function(){this.filter!=j&&this.sd.c.g("remove_custom_filter",{filter:this.filter});this.b.parentNode.removeChild(this.b)},al:function(a){this.filter=a;this.lc.appendChild(a.b);for(var b=this.select.options,
c=0;c<this.select.options.length;c++)if(b[c].value==a.da){b[c].selected="selected";break}},Zl:function(a,b){for(var c=[],d=j,f=0;f<b.length;f++)d=this.sd.ik[b[f]],d!=j&&c.push(d);if(0<c.length)if("none"==a)for(f=0;f<c.length;f++)this.vj(c[f],this.select);else{d=document.createElement("optgroup");d.label=a;for(f=0;f<c.length;f++)this.vj(c[f],d);this.select.appendChild(d)}},vj:function(a,b){var c=document.createElement("option");c.innerHTML=a.name;c.value=a.da;b.appendChild(c)}};function ee(a){this.ak=a;this.ek=new x(this.Xm,this)}m=ee.prototype;m.ih=j;m.ak=j;m.ek=j;m.update=function(a){this.ih=this.ak+"?"+Fa({a:a.Pa(),o:a.rd+"."+(a.qe==ra?"asc":"desc")+";",p:a.page});Ha(this.ih,this.ek,[a,this.ih],k)};m.Xm=function(a,b,c){c==this.ih&&b.setData(a)};var Me={"0":"Any class"};Me[1]=locale.a_class[0];Me[2]=locale.a_class[1];Me[4]=locale.a_class[2];Me[8]=locale.a_class[3];Me[16]=locale.a_class[4];Me[32]=locale.a_class[5];Me[64]=locale.a_class[6];Me[128]=locale.a_class[7];Me[256]=locale.a_class[8];Me[1024]=locale.a_class[10];var Ne={};Ne[0]=locale.F_No;Ne[1]=locale.F_Yes;var Oe={};Oe[0]=locale.a_quality[0];Oe[1]=locale.a_quality[1];Oe[2]=locale.a_quality[2];Oe[3]=locale.a_quality[3];Oe[4]=locale.a_quality[4];Oe[5]=locale.a_quality[5];Oe[6]=locale.a_quality[6];
Oe[7]=locale.a_quality[7];var Pe=[8919044,1116154,2026,2026,2026];function qa(){Fe.call(this,new Qe(He(Re)),Ge(Re),["name","level","reqlvl","quality"],Se)}var Re={};Re[locale.F_General]=[new $(locale.F_Name,"name",ue),new ye(locale.F_ItemLevel,"level"),new Ce(locale.F_Quality,"quality",Oe),new ye(locale.F_RequiredLevel,"reqlvl"),new Ae(locale.F_ItemClass,"class",{4:"Armor",3:"Gem",2:"Weapon"})];
Re[locale.F_Stats]=[new $(locale.CS_Stats[1][0],"str",Z),new $(locale.CS_Stats[1][1],"agi",Z),new $(locale.CS_Stats[1][2],"sta",Z),new $(locale.CS_Stats[1][3],"int",Z),new $(locale.CS_Stats[1][4],"spi",Z)];Re[locale.F_Ratings]=[new $(locale.ItemStatNames[31],"hit",Z),new $(locale.ItemStatNames[32],"crit",Z),new $(locale.ItemStatNames[35],"res",Z),new $(locale.ItemStatNames[36],"haste",Z),new $(locale.ItemStatNames[49],"mast",Z)];
Re[locale.F_Defense]=[new $(locale.ItemStatNames[13],"dod",Z),new $(locale.ItemStatNames[14],"par",Z),new $(locale.ItemStatNames[15],"blo",Z)];Re[locale.F_Melee]=[new $(locale.ItemStatNames[38],"ap",Z),new ye(locale.F_DPS,"dps"),new ye(locale.F_Speed,"delay")];Re[locale.F_Spell]=[new $(locale.ItemStatNames[45],"sp",Z)];Re[locale.F_Requirements]=[new Ae(locale.F_UsableBy,"usablebyclass",Me),new $(locale.F_CanBeUsedWithLevel,"canbeusedwithlvl",Z),new Ae(locale.F_RequiresReputation,"reqrepu",Ne)];
Re[locale.F_Miscellaneous]=[new Ae(locale.F_SocketableGem,"issocketablegem",Ne),new $(locale.F_GemReqItemLevel,"gemreqitemlvl",Z)];var Se="level";qa.prototype=new Fe(j,j,j,"");qa.prototype.bq=k;qa.prototype.ub=0;qa.prototype.$=0;qa.prototype.nc=0;
function ge(a,b,c,d){a.ub=b;a.$=c;a.nc=d;var b=Ge(Re),c=["name","level","reqlvl","quality"],d=k,f=j,g=k,h=k,n=j;switch(a.$){case 4:a.nc&2048?f=Te(a,[11]):(d=i,f=Te(a,[0,1,2,3,4]));break;case 3:a.D.U("subclass",k);a.nc&64?(a.D.U("subclass",i),f=Te(a,[6])):a.nc&1024?(a.D.U("subclass",i),f=Te(a,[10])):f=Te(a,[0,1,2,3,4,5,7,8]);break;case 2:0==a.nc?d=i:f=Te(a,j)}if(0!=(a.ub&6463488)||2==a.$)g=h=i;if(d||0!=a.ub){var n=[],r=-1,v=0,s;if(4==a.$)if(0==a.nc)r&=Pe[0]|Pe[1]|Pe[2]|Pe[3]|Pe[4];else{for(s=0;5>s;s++)a.nc&
1<<s&&(v|=Pe[s]);r&=v}else 2==a.$&&0==a.nc&&(r&=6463488);a.ub=a.ub?a.ub&r:r;for(s=1;28>=s;s++)0!=(a.ub&1<<s)&&(n[s]=14==s?locale.F_ShieldHand:locale.a_slot[s]);n=new Ce(locale.F_InventorySlot,"slot",n)}g?(c.push("dps"),a.D.U("delay",k)):a.D.U("dps",i);h?(c.push("delay"),a.D.U("delay",k)):a.D.U("delay",i);d||n?(c.push("slot"),b.slot=n,a.D.U("slot",k)):a.D.U("slot",i);f?(c.push("subclass"),b.subclass=f):a.D.U("subclass",i);a.D.set(b,c)}
function Te(a,b){var c={},d;if(b)for(d=0;d<b.length;d++)c[b[d]]=vb[a.$][1][b[d]];else for(d=0;32>d;d++)0!=(1<<d&a.nc)&&(c[d]=vb[a.$][1][d]);return new Ce(locale.F_ItemClass,"subclass",c)};function Qe(a){Ke.call(this,a);this.Yg=U(this.kc.content,"div",{"class":"il_prop"});this.Pk=U(this.Yg,"input",{type:"checkbox","class":"il_prop_check",checked:i});U(this.Yg,"span",{text:"Use custom filters for all slots","class":"il_prop_note"})}Qe.prototype=new Ke(j);m=Qe.prototype;m.sl=k;m.ae=k;m.Pk=j;m.Yg=j;m.setProperty=function(a,b){"showDpsAndDelay"==a?this.ae=b:"showStaticLinks"==a?this.sl=b:e(Error("Unknown property "+a+" with value "+b+"!"))};
m.Rg=function(a){var b=a.da;"name"==b?this.Zc(a,0):"level"==b?this.Zc(a,1):"reqlvl"==b?this.Zc(a,2):"dps"==b?this.Zc(a,3):"delay"==b?this.Zc(a,4):"quality"==b?this.Nh(a,0):"slot"==b?this.Nh(a,1):"subclass"==b?this.Nh(a,2):e(Error("Unknown static filter "+a.da+"!"))};
m.wg=function(a){var b,c,d,f,g=0,h;f=new Y(a.length,5+(this.ae?2:0));f.b.cellSpacing="0px";f.b.width="100%";f.b.className="li_content_t";f.rows[0].className="il_header";f.cols[0].width="24px";g++;f.cells[0][g++].appendChild(this.Hc("Name","name"));this.ae&&(f.cells[0][g++].appendChild(this.Hc("DpS","dps")),f.cells[0][g++].appendChild(this.Hc("Spd","delay")));f.cells[0][g++].appendChild(this.Hc("iLvl",Se));f.cells[0][g++].appendChild(this.Hc("Slot","slot"));f.cells[0][g++].appendChild(this.Hc("Type",
"itemclass"));for(b=0;b<g;b++)f.cells[0][b].className="il_header_cell";for(b=1;b<a.length;b++){g=0;c=new ta(a[b][0]);B.set(c);f.rows[b].className="il_row"+b%2;d=document.createElement("a");d.className="il_link item_quality_"+c.ha;d.innerHTML=c.name;h="il_cell "+(0==b%2?"il_cell_bg0":"il_cell_bg1");H(d,"mouseover",this.c.g,this.c,["show_tooltip",{entity:c}]);H(d,"mouseout",this.c.g,this.c,["hide_tooltip",{}]);H(d,"mousemove",this.c.g,this.c,["move_tooltip",{}]);H(d,"click",this.c.g,this.c,["click",
{entity:c}]);if(this.sl)d.href="?item="+c.id;f.cells[b][g].className=h;f.cells[b][g++].innerHTML="<div style='background-image:url(images/icons/small/"+c.t+".png)' class='il_icon' ></div>";f.cells[b][g].className=h;f.cells[b][g].appendChild(d);if(0!=(c.Ae&8))d=document.createElement("sup"),d.className="il_heroic",d.innerHTML="H",f.cells[b][g].appendChild(d);g++;if(this.ae)f.cells[b][g].className=h+" li_"+(c.Be&512?"un":"")+"imp_col",f.cells[b][g++].innerHTML=c.Bb?yb(c):"",f.cells[b][g].className=
h+" li_"+(c.Be&512?"un":"")+"imp_col",f.cells[b][g++].innerHTML=c.Bb?zb(c):"";f.cells[b][g].className=h+" li_imp_col";f.cells[b][g++].innerHTML=c.f;f.cells[b][g].className=h+(this.ae?" li_unimp_col":" li_imp_col");f.cells[b][g++].innerHTML=c.Aa?locale.a_slot[c.Aa]:"";f.cells[b][g].className=h+(this.ae?" li_unimp_col":" li_imp_col");f.cells[b][g++].innerHTML=c.oc[0]}this.ph(f.b)};function fe(){Fe.call(this,new Ue(He(Ve)),Ge(Ve),["name"],We)}var Ve={};Ve[locale.F_General]=[new $(locale.F_Name,"name",ue),new $(locale.F_Description,"description",ue)];Ve[locale.F_Enchant]=[,new Ae(locale.F_IsEnchant,"isenchant",Ne),new $(locale.F_EnchantItemLevel,"enchantitemlevel",Z),new $(locale.F_EnchantCharacterLevel,"enchantchrlevel",Z),new Ae(locale.F_ItemSubClass,"itemclasssubclasscombined",Je()),new Ce(locale.F_InventorySlot,"slot",Ie())];var We="id";fe.prototype=new Fe(j,j,j,"");function Ue(a){Ke.call(this,a)}Ue.prototype=new Ke(j);
Ue.prototype.wg=function(a){var b=0,c,d,f=new Y(a.length,3);f.b.cellSpacing="0px";f.b.width="100%";f.b.className="li_content_t";f.rows[0].className="il_header";f.cols[0].width="24px";b++;f.cells[0][b++].appendChild(this.Hc("Name","name"));f.cells[0][b++].appendChild(this.Hc("Req. Level","enchantchrlevel"));for(c=0;c<b;c++)f.cells[0][c].className="il_header_cell";for(c=1;c<a.length;c++){var b=0,g=new Q(a[c]);C.set(g);f.rows[c].className="il_row"+c%2;d="il_cell "+(0==c%2?"il_cell_bg0":"il_cell_bg1");
var h=document.createElement("a");h.className="il_link";h.innerHTML=g.name;f.cells[c][b].className=d;f.cells[c][b++].innerHTML="<div style='background-image:url(images/icons/small/"+g.t+".png)' class='il_icon' ></div>";f.cells[c][b].className=d;f.cells[c][b++].appendChild(h);for(var n="None",r=0;r<g.I.length;r++)if(g.I[r]&&53==g.I[r].Oe&&g.I[r].Jb!=j){n=g.I[r].Jb.Hb;break}f.cells[c][b].className=d;f.cells[c][b++].innerHTML=n;H(h,"mouseover",this.c.g,this.c,["show_tooltip",{entity:g}]);H(h,"mouseout",
this.c.g,this.c,["hide_tooltip",{}]);H(h,"mousemove",this.c.g,this.c,["move_tooltip",{}]);H(h,"click",this.c.g,this.c,["click",{entity:g}])}this.ph(f.b)};Ue.prototype.Rg=function(a){"name"==a.da?this.Zc(a,0):e(Error("Unknown static filter "+a.da+"!"))};function me(){var a=new Xe(He(Ye));Fe.call(this,a,Ge(Ye),["ismine"],Ze);this.c.i("delete",["profile_id","desc"]);this.w.c.fa("delete",this.c)}var Ye={};Ye.none=[new Ae(locale.F_MyProfiles,"ismine",Ne),new Ae(locale.F_ShowDeleted,"showdeleted",Ne),new $(locale.F_CharacterLevel,"lvl",Z)];var Ze="id";me.prototype=new Fe(j,j,j,"");function Xe(a){Ke.call(this,a);this.c.i("delete",["profile_id","desc"])}Xe.prototype=new Ke(j);Xe.prototype.Rg=function(a){"ismine"==a.da&&this.Zc(a,0)};
Xe.prototype.wg=function(a){var b,c,d,f=0,g;d=new Y(1,4);d.b.cellSpacing="0px";d.b.width="100%";d.b.className="pl_content_t";d.rows[0].className="pl_header";d.cols[f].width="30px";f++;d.cols[f].width="28px";f++;d.cols[f].width="28px";f++;d.cols[f].width="874px";f++;for(b=0;b<f;b++)d.cells[0][b].className="pl_header_cell";for(b=1;b<a.length;b++){f=0;g="pl_cell "+(0==b%2?"pl_cell_bg0":"pl_cell_bg1");var h=d.Mh(),n=a[b][2]?a[b][2]:"Profile #"+a[b][0];d.cells[h][0].className=g+" pl_inline_header";c=U(d.cells[h][0],
"a",{href:"?profile="+a[b][0],"class":"pl_link",text:n});if(a[b][3])c.onmouseout=function(){t.Z()},c.onmousemove=function(){t.move()},H(c,"mouseover",t.show,t,["<div class='pl_desc_tt'>"+a[b][3]+"</div>"]);d.cells[h][0].appendChild(c);U(d.cells[h][0],"span",{"class":"pl_ih_info",text:"&nbsp;Created: "+a[b][7]+"&nbsp;"});h=d.$c();d.cells[h][f].className=g+" pl_level_p";d.cells[h][f++].innerHTML=a[b][6];d.cells[h][f].className=g;d.cells[h][f++].innerHTML="<div style='background-image:url(images/site/race_class/small/chr_race_"+
a[b][4]+".png)' class='pl_icon' ></div>";d.cells[h][f].className=g;d.cells[h][f++].innerHTML="<div style='background-image:url(images/site/race_class/small/"+a[b][5]+".png)' class='pl_icon' ></div>";d.cells[h][f].className=g;g_settings.userId==a[b][1]&&(c=U(d.cells[h][f],"a",{"class":"close pl_delete_link",href:"javascript:;"}),H(c,"click",function(a,b){this.c.g("delete",{profile_id:a,desc:b})},this,[a[b][0],n]))}this.ph(d.b)};function ad(){this.b=document.createElement("div");this.b.className="ts_c";this.c=new A;this.c.i("select_talent_tree",["tree"]);this.c.i("reset_talent_tree",["tree"]);this.c.i("reset_talents",[]);this.c.i("show_tooltip",["tree","row","col","node"]);this.c.i("add_talent_point",["tree","row","col"]);this.c.i("remove_talent_point",["tree","row","col"])}
ad.prototype={c:j,vb:j,wc:0,ac:0,jc:0,Oo:0,id:0,Vb:0,qb:0,Kc:0,Nf:[],ec:[],xa:[],J:-1,Fd:[],ab:[],q:[],Ml:i,b:j,Qi:j,fh:j,he:[],ui:[],B:function(a){this.c.B(a)},af:function(a){X(this.b);if(a==j)U(this.b,"div",{"class":"ts_error",text:"You have to select a Class before you can learn Talents!"});else{this.vb=a;var b,c,d,f,g,h,n;this.Vb=a.Vb;this.qb=a.qb;this.Kc=a.Kc;this.Nf=[];this.ec=[];this.xa=[0,0,0];this.J=a.Sb?0:-1;this.wc=a.wc;this.ac=a.ac;this.jc=a.jc;this.id=a.id;this.he=[];this.Fd=[];this.ab=
[];this.q=[];this.sa=[];this.pe=[];this.zh=[];this.f=85;this.Wc=[];this.Hd=[];this.Ue=document.createElement("div");this.selectNodes=[];this.Gd=[];this.ue=[];this.$i=[];this.Fb=[];this.ui=[];this.fn=a.Sb?["fe","te","cu"]:"wa,pa,hu,ro,pr,dk,sh,ma,wl,,dr".split(",");this.Xd=this.Ob=j;this.ed="";for(b=0;b<a.wc;b++){d=new Y(a.ac,a.jc);d.b.cellSpacing=0;d.b.cellPadding=0;d.b.className="talent_tree_table";this.ec[b]=a.ca[b].name;this.q[b]=Array(a.ac);this.ab[b]=Array(a.ac);for(c=0;c<a.ac;c++)this.q[b][c]=
Array(a.jc),this.ab[b][c]=Array(a.jc);this.Fd[b]=d;for(c=0;c<a.ac;c++)for(d=0;d<a.jc;d++)if(h=a.ca[b].q[c][d],h!=j)this.q[b][c][d]=h,h=new $e(h),h.b.className="talent_border",H(h.Oa,"click",this.no,this,[b,c,d]),H(h.Oa,"contextmenu",this.ro,this,[b,c,d]),H(h.Oa,"mouseover",this.po,this,[b,c,d]),H(h.Oa,"mouseout",this.oo,this,[b,c,d]),p(this.Fd[b].cells[c][d],h.b),this.ab[b][c][d]=h}h=new Y(1,3);b=new Y(1,1);b.b.className="ts_tab";h.b.className="group talent_table";(new Y(1,3)).b.className="align_center";
this.kh=document.createElement("a");this.kh.className="remove talent_reset_link";this.kh.href="javascript:";H(this.kh,"click",this.so,this,[]);this.Qi=document.createElement("div");this.fh=document.createElement("div");this.fj=document.createElement("span");this.fh.className="ts_header_info talent_remaining_points";this.Qi.className="ts_header_info talent_required_level";this.fj.className="ts_header_info ts_total";f=document.createElement("div");f.className="";f.appendChild(this.fh);f.appendChild(this.Qi);
f.appendChild(this.kh);f.appendChild(this.fj);Jb(f);this.Ed=new Sd(2);this.Ed.l[0].appendChild(document.createTextNode(J(locale.ChooseYourSpericalization,locale.a_class[this.id-1])));this.Ed.l[0].className="ts_header_notice";this.Ed.l[1].appendChild(f);this.Ed.b.className="ts_header_c";b.cells[0][0].appendChild(this.Ed.b);for(c=0;c<a.wc;c++){this.selectNodes[c]=document.createElement("div");this.Gd[c]=document.createElement("div");d=0==c?"#D0A000":1==c?"#A00000":"#2E4D99";this.Nf[c]=document.createElement("img");
this.Nf[c].className="ts_tree_icon";if(!a.Sb)this.Nf[c].src="images/icons/small/"+a.ca[c].ni+".png";this.Hd[c]=document.createElement("span");this.Hd[c].className="ts_tree_spent";this.ue[c]=document.createElement("a");this.ue[c].href="javascript:";this.ue[c].className="remove ts_tree_reset";H(this.ue[c],"click",this.to,this,[c]);this.Wc[c]=document.createElement("a");this.Wc[c].className="ts_tree_name";this.Wc[c].href="javascript:";this.Wc[c].innerHTML=this.ec[c];H(this.Wc[c],"click",this.Mk,this,
[c]);f=document.createElement("div");f.className="ts_tree_title";g=document.createElement("div");g.className="ts_tree_name";g.appendChild(this.Wc[c]);f.appendChild(this.Nf[c]);f.appendChild(g);f.appendChild(this.Hd[c]);f.appendChild(this.ue[c]);h.cells[0][c].appendChild(f);this.he[c]=document.createElement("div");this.he[c].className="ts_glow_bg";this.he[c].appendChild(this.Fd[c].b);this.Gd[c].appendChild(this.he[c]);this.Gd[c].className="talent_tree_node";if(!a.Sb){g=document.createElement("div");
g.className="talent_select_title";f=document.createElement("a");f.appendChild(document.createTextNode(this.ec[c]));H(f,"click",this.Mk,this,[c]);this.$i[c]=f;g.appendChild(f);this.selectNodes[c].appendChild(g);this.selectNodes[c].style.borderColor=d;f=document.createElement("div");f.className="talent_select_icon_div";f.style.backgroundImage="url(images/icons/large/"+a.ca[c].ni+".png)";d=document.createElement("div");d.className="talent_select_circle_div";d.style.backgroundImage="url(images/talents/talent_select_circle_grey.png)";
f.appendChild(d);this.selectNodes[c].appendChild(f);f=document.createElement("div");f.className="talent_spells_parent";this.zh[c]=[];this.Fb[c]=[];this.sa[c]=[];for(d=0;d<a.ca[c].sa.length;d++)g=new Kd(3),n=a.ca[c].sa[d],this.sa[c][d]=n,this.Fb[c][d]=document.createElement("a"),this.Fb[c][d].innerHTML+=n.name,this.Fb[c][d].href="javascript:",this.Fb[c][d].className="ts_ps_name_p"+(0==d?"_big":""),this.Fb[c][d].onmouseout=function(){t.Z()},this.Fb[c][d].onmousemove=function(){t.move()},H(this.Fb[c][d],
"mouseover",t.show,t,[a.ca[c].sa[d].ka()]),g.k[0].className="ts_primary_icon"+(0!=d?"_s":""),g.k[0].style.backgroundImage="url(images/icons/"+(0==d?"half":"small")+"/"+a.ca[c].sa[d].t+".png)",g.k[1].className="ts_primary_border"+(0!=d?"_s":""),g.k[2].className="ts_primary_event"+(0!=d?"_s":""),g.k[2].onmouseout=function(){t.Z()},g.k[2].onmousemove=function(){t.move()},H(g.k[2],"mouseover",t.show,t,[a.ca[c].sa[d].ka()]),this.zh[c][d]=g,n=document.createElement("div"),n.appendChild(g.k[0]),n.className=
"ts_ps_icon_p"+(0==d?"_big":""),g=document.createElement("div"),g.className="ts_ps_c"+(0==d?"_big":""),g.appendChild(n),g.appendChild(this.Fb[c][d]),f.appendChild(g);this.selectNodes[c].appendChild(f);f=document.createElement("div");f.className="talent_select_description";f.appendChild(document.createTextNode(Ab(a.ca[c].description,j).join(" ")));this.selectNodes[c].appendChild(f);this.selectNodes[c].className="talent_select_div";this.Gd[c].appendChild(this.selectNodes[c])}h.cells[0][c].appendChild(this.Gd[c])}this.Ue.className=
"talent_link_div";b.cells[0][0].appendChild(h.b);this.Lf=document.createElement("a");this.Lf.innerHTML=locale.ViewTalentTrees;this.Lf.className="talent_switch_link";H(this.Lf,"click",this.xo,this,[c]);a=document.createElement("div");a.className="ts_switch";a.appendChild(this.Lf);b.cells[0][0].appendChild(a);b.cells[0][0].appendChild(this.Ue);this.b.appendChild(b.b);this.vc(-1);this.update()}},vc:function(a){for(var b=0;b<this.wc;b++){this.Gd[b].style.borderColor=b==a?"#FFCC00":"";this.he[b].style.backgroundImage=
b==a?"url(images/talents/talent_tree_glow.png)":"";this.ue[b].style.visibility=-1==a?"hidden":"visible";this.Hd[b].style.visibility=-1==a?"hidden":"visible";for(var c=0;c<this.sa[b].length;c++)this.zh[b][c].k[0].style.backgroundImage="url(images/icons/"+(-1==a||b==a?"":"g/")+(0==c?"half":"small")+"/"+this.sa[b][c].t+".png)",this.zh[b][c].k[1].style.backgroundImage="url(images/icon_border"+(0==c?"_smaller":"_smallest")+(-1==a||b==a?"":"_g")+".png)",this.Fb[b][c].className="ts_ps_name_p"+(0==c?"_big":
"")+" ts_primary_name"+(a==b||-1==a?"":"_g")}this.J=a;-1==a?(this.wh(i),this.Ed.show(0)):(this.wh(k),this.Ed.show(1));this.Nm(-1==a);this.update()},wh:function(a){for(var b=0;b<this.selectNodes.length;b++)this.selectNodes[b].style.display=a?"block":"none";this.Ml=a;this.Lf.innerHTML=a?locale.ViewTalentTrees:locale.ViewSummaries},Nm:function(a){for(var b=0;b<this.wc;b++)a?(this.Wc[b].className="ts_tree_link",this.$i[b].className="talent_select_link"):(this.Wc[b].className="ts_tree_link_inactive",this.$i[b].className=
"talent_select_link_inactive")},update:function(){var a,b,c,d,f=0>=this.vb.Gc(),g,h;for(a=0;a<this.wc;a++){h=0;g=-1==this.J||a!=this.J&&31>this.vb.Cg(this.J);b="url(images/talents/bg/"+(g?"g/":"bg_")+(1<<this.id-1)+"_"+a+".jpg)";if(b!=this.ui[a])this.ui[a]=b,this.Gd[a].style.backgroundImage=b;for(b=0;b<this.ac;b++)for(c=0;c<this.jc;c++)if(d=this.q[a][b][c],d!=j&&(d=this.q[a][b][c],d!=j)){this.ab[a][b][c].update(f||g,d.Me()&&h>=b*this.qb&&!f&&!g);for(var n=0;3>n;n++)d.Ib[n]&&this.Xl(a,b,c,d.Ib[n]);
h+=d.hc.T}}},Xl:function(a,b,c,d){var f="",g=d.zf,h=d.Yh;if(this.q[a][g][h].ne()&&(this.q[a][b][c].ne()||!this.q[a][b][c].ne()&&0!=this.Oo&&this.xa[a]>=this.qb*b))f="_active";if(c!=h){c<h?this.ab[a][g][h].yb[0].className="talent_arrow_left_start"+f:this.ab[a][g][h].yb[2].className="talent_arrow_right_start"+f;for(d=Math.min(c,h)+1;d<Math.max(c,h);d++)this.Fd[a].cells[h][d].className="talent_arrow_horizontal"+f;b!=g?this.Fd[a].cells[g][c].className=c<h?"talent_arrow_left_corner"+f:"talent_arrow_right_corner"+
f:c<h?this.ab[a][b][c].yb[2].className="talent_arrow_left_end"+f:this.ab[a][b][c].yb[0].className="talent_arrow_right_end"+f}if(b!=g){if(c==h)this.ab[a][g][h].yb[3].className="talent_arrow_vertical_start"+f;for(d=Math.min(b,g)+1;d<Math.max(b,g);d++)this.Fd[a].cells[d][c].className="talent_arrow_vertical"+f;this.ab[a][b][c].yb[1].className="talent_arrow_vertical_end"+f}this.Im()},Im:function(){var a="";this.fj.innerHTML=this.vb.Hn()+"/"+this.vb.Bg();this.Hd[0].innerHTML=this.vb.Cg(0);this.Hd[1].innerHTML=
this.vb.Cg(1);this.Hd[2].innerHTML=this.vb.Cg(2);a="?t="+this.fn[this.vb.kb-1]+this.vb.yc.ed;this.Ue.innerHTML="<a class='talent_link' target='_blank' href='"+a+"'>http://chardev.org/"+a+"</a><br/>";a="http://www.wowarmory.com/talent-calc.xml?cid="+(Math.log(this.id)/Math.LN2+1)+"&tal="+this.vb.yc.Xd.join("");this.Ue.innerHTML+="<a class='talent_link' target='_blank' href='"+a+"'>http://www.wowarmory.com/</a>";this.fh.innerHTML=J(locale.Remaining_Points,"<span class='ts_remaining'>"+this.vb.Gc()+
"</span>")},so:function(){this.c.g("reset_talents",{})},to:function(a){this.c.g("reset_talent_tree",{tree:a})},xo:function(){this.Ml?this.wh(k):this.wh(i)},Mk:function(a){this.c.g("select_talent_tree",{tree:a})},no:function(a,b,c){this.c.g("add_talent_point",{tree:a,row:b,col:c});this.c.g("show_tooltip",{tree:a,row:b,col:c,node:this.ab[a][b][c].Oa})},ro:function(a,b,c){this.c.g("remove_talent_point",{tree:a,row:b,col:c});this.c.g("show_tooltip",{tree:a,row:b,col:c,node:this.ab[a][b][c].Oa})},po:function(a,
b,c){this.c.g("show_tooltip",{tree:a,row:b,col:c,node:this.ab[a][b][c].Oa})},oo:function(){t.Z()}};function $e(a){var b=new Kd(6);this.$a=a;this.b=b.k[0];this.yb=[document.createElement("div"),document.createElement("div"),document.createElement("div"),document.createElement("div")];b.k[0].appendChild(this.yb[0]);b.k[0].appendChild(this.yb[1]);b.k[0].appendChild(this.yb[2]);b.k[0].appendChild(this.yb[3]);this.t=document.createElement("img");this.t.className="talent_icon";this.t.src="images/transparent.gif";b.k[1].className="talent_image_div";b.k[1].appendChild(this.t);this.yk=b.k[2];this.yk.className=
"talent_highlight_div";this.border=b.k[3];this.border.className="talent_border_div";this.text=b.k[4];this.text.className="talent_text_div";this.Oa=b.k[5];this.Oa.style.zIndex=6;this.Oa.className="talent_event_parent";this.Oa.ondblclick=l(k);this.Oa.onmousedown=l(k);this.Oa.onmouseup=l(k);this.Oa.oncontextmenu=l(k)}m=$e.prototype;m.$a=j;m.t=j;m.Oa=j;m.text=j;m.border=j;m.yb=j;m.b=j;m.yk=j;
m.update=function(a,b){this.$a.ne()||0<this.$a.hc.T&&a?(this.t.src="images/icons/medium/"+this.$a.t+".png",this.text.innerHTML="<span>"+this.$a.hc.T+"</span>/"+this.$a.max,this.text.style.backgroundImage="url(images/talents/pointsbg.png)",this.border.style.backgroundImage="url(images/talents/gold.gif)",this.text.style.color="#FFCC00"):this.$a.Me()&&b||0<this.$a.hc.T?(this.t.src="images/icons/medium/"+this.$a.t+".png",this.text.innerHTML="<span>"+this.$a.hc.T+"</span>/"+this.$a.max,this.text.style.backgroundImage=
"url(images/talents/pointsbg.png)",this.border.style.backgroundImage="url(images/talents/green.gif)",this.text.style.color="#00DD00"):(this.t.src="images/icons/g/medium/"+this.$a.t+".png",this.text.innerHTML="<span>"+this.$a.hc.T+"</span>/"+this.$a.max,this.text.style.backgroundImage="url(images/talents/pointsbg_g.png)",this.border.style.backgroundImage="url(images/talents/grey.gif)",this.text.style.color="#999999")};window.CHARDEV_CORE_BUILD=140;
