function e(a){throw a;}var i=!0,j=null,k=!1;function ba(a){return function(b){this[a]=b}}function l(a){return function(){return a}}
var m,o={od:function(){window.g_validateLogin=o.Ol;window.g_login=o.oo;window.g_logout=o.po;window.g_checkTopic=o.fn;window.g_checkEdit=o.dn;window.g_checkReply=o.en;window.g_register=o.Ro;window.g_requestPasswordChange=o.dp;window.g_requestPasswordRecovery=o.ep;window.g_deleteThread=o.nn;window.g_lockThread=o.lo;window.g_unlockThread=o.$p;window.g_makePostEditable=o.qo;window.g_showUserInformation=o.Qp;window.g_createAvatarPicker=o.mn;window.g_staticItemList=o.Vp;window.g_addItemTooltipTo=o.Vm},
qo:function(a){var b=new ea;new fa(a.PostID,a.Data,b);p("p"+a.PostID+"_content",b.b);b.ii(i)},dp:function(a,b){try{var c=document.getElementById("password").value;c!=document.getElementById("password_repeat").value?t.C(locale.Password_and_repeat_differ):5>c.length?t.C(locale.Password_to_short):(u("php/interface/user/change_password.php"+w({userId:a,password:MD5(c),guid:b}),new x(o.Yj,o),j),t.wa())}catch(d){t.C(d.toString())}},ep:function(){try{u("php/interface/user/recover_password.php"+w({user_name:encodeURIComponent(document.getElementById("user_name").value),
email:encodeURIComponent(document.getElementById("email").value)}),new x(o.Yj,o),j),t.wa()}catch(a){t.C(a.toString())}},Yj:function(a){if(200==a.status&&(a=eval("("+a.responseText+")"),"object"===typeof a)){if(1==a[0]){t.C(a[1]);return}t.yh(a[1]);return}t.enable()},Ro:function(){var a=document.getElementById("user_name").value,b=MD5(document.getElementById("password").value),c=document.getElementById("email").value;if(document.getElementById("password").value!=document.getElementById("password_repeat").value)return t.C(locale.Password_and_repeat_differ),
k;if(4>a.length)return t.C(locale.Username_to_short),k;if(5>document.getElementById("password").value.length)return t.C(locale.Password_to_short),k;if(-1==document.getElementById("email").value.search("@"))return t.C(locale.Invalid_email),k;t.wa();u("php/interface/user/request_registration.php"+w({u:a,pw:b,e:c}),new x(o.Bm,o),j);document.getElementById("login").disabled=i;return k},Bm:function(a){document.getElementById("login").disabled=k;200==a.status&&(-1!=a.responseText.search("error_username")?
t.C(locale.Username_invalid_characters):-1!=a.responseText.search("register_success")?t.yh("An E-Mail has been sent. Before you can use your account you have to confirm your registration by following the link given in the mail."):t.C(a.responseText))},Ol:function(){try{var a=document.getElementById("login_password").value;if(4>document.getElementById("login_user_name").value.length)return t.C("User name is too short"),k;if(4>a.length)return t.C("Password is too short"),k;document.getElementById("login_password_md5").value=
MD5(a);return i}catch(b){return ga(b),k}},oo:function(){try{o.Ol()&&(t.wa(),u("php/interface/user/authenticate.php"+w({user_name:document.getElementById("login_user_name").value,password:document.getElementById("login_password_md5").value,cookie:document.getElementById("login_cookie").checked}),new x(o.fm,o),j))}catch(a){t.C(a)}},fm:function(a){try{var b=y(a);g_settings.sessionId=b.session_id;g_settings.userId=b.user_id;g_settings.userData=b.user_data;document.getElementById("ix_login_form").style.display=
"none";document.getElementById("ix_logout_form").style.display="block";document.getElementById("ix_self_link").innerHTML=b.user_name;document.getElementById("ix_self_link").href="?user="+b.user_id;g_settings.isPlanner&&ja.mo();t.enable()}catch(c){t.C(c)}},po:function(){try{t.wa(),u("php/interface/user/logout.php",new x(o.gm,o),j)}catch(a){t.C(a)}},gm:function(){g_settings.sessionId="";g_settings.userId=0;g_settings.userName="";g_settings.userData=j;document.getElementById("ix_login_form").style.display=
"block";document.getElementById("ix_logout_form").style.display="none";g_settings.isPlanner&&ja.no();t.enable()},fn:function(a){var b=ka("topic_title"),c=ka("topic_content"),d=ka("thread_type");2>b.length?t.C("The title of your post is too short!"):2>c.length?t.C("The content of your topic is too short!"):(document.getElementById("topic_submit").disabled=i,t.wa(),la("php/interface/forum/forum.php",{action:"new_thread",hook:a,title:b,type:d?d:"thread",content:c},new x(o.Yl,o),j))},Yl:function(a){try{var b=
y(a);window.location.search="?thread="+b}catch(c){t.C(c),document.getElementById("topic_submit").disabled=k}},nn:function(a){confirm("Are you sure you want to delete this thread?")&&(t.wa(),la("php/interface/forum/forum.php",{action:"delete_thread",thread:a},new x(o.cm,o),j))},cm:function(a){try{var b=y(a);window.location.search="?forum="+b}catch(c){t.C(c)}},lo:function(a){t.wa();la("php/interface/forum/forum.php",{action:"lock_thread",thread:a},new x(o.Gj,o),j)},$p:function(a){t.wa();la("php/interface/forum/forum.php",
{action:"unlock_thread",thread:a},new x(o.Gj,o),j)},Gj:function(a){try{var b=y(a);window.location.search="?thread="+b}catch(c){t.C(c)}},mq:function(a){u("php/interface/forum/lockTopic.php?topic="+a+"&session_id="+g_settings.sessionId,j,j)},en:function(a){var b=document.getElementById("reply_content").value;2>b.length?t.C("The content of your post is too short!"):(document.getElementById("reply_submit").disabled=i,t.wa(),la("php/interface/forum/forum.php",{action:"reply",thread:a,content:b},new x(o.Xl,
o),j))},Xl:function(a){try{y(a)}catch(b){t.C(b),document.getElementById("reply_submit").disabled=k}},dn:function(a){var b=document.getElementById("edit_content").value;2>b.length?t.C("The content of your post is too short!"):(document.getElementById("edit_submit").disabled=i,t.wa(),la("php/interface/forum/forum.php",{action:"edit",post:a,content:b},new x(o.xj,o),j))},xj:function(a){try{y(a)}catch(b){t.C(b),document.getElementById("edit_submit").disabled=k}},Qp:function(a,b,c){b?new ma(a,b,"user_information_parent"):
c&&(a=new na,a.Pa.A.bj(k),a.Pa.G.W("ismine",i),a.Pa.set("ismine.eq.1;",j,j,1),a.Pa.update(),p("ui_profiles_parent",a.Pa.A.b))},mn:function(a,b){new oa(a,b)},Vp:function(a,b,c,d){if(a){var f=new pa;f.A.setProperty("showStaticLinks",i);f.setData(a);c&&(f.set(c,"","",b),f.A.bj(i));document.getElementById(d).appendChild(f.A.b);a=new z(["show_tooltip","move_tooltip","hide_tooltip","update"],new x(function(a){if(a.k("show_tooltip"))ja.pl.call(ja,a.get("entity").id);else if(a.k("move_tooltip"))t.move();
else if(a.k("hide_tooltip"))t.$();else if(a.k("update"))window.location.search=w({items:f.Sa().replace(/\;/g,"_"),p:f.page,o:f.ud+"."+(f.we==qa?"asc":"desc")+"_"})},this));f.D(a)}},Vm:function(a,b,c){if(a){var d=new ra,c=document.getElementById(c),a=new sa(a);d.show(ta(a));document.getElementById(b).appendChild(d.z);d.z.style.position="relative";b=document.createElement("img");b.className="dbi_icon";b.src="images/icons/large/"+a.v+".png";c.appendChild(b)}}};window.__chardev_init=o.od;function ua(){}
ua.prototype={rg:j,c:j,Re:j,uc:j,Gf:j,D:function(a){this.c.D(a)},od:function(a){this.c=new A;this.c.j("character_change",["character"]);this.c.j("logged_in",[]);this.c.j("logged_out",[]);this.Gf=a;if(a.isPlanner){var b=new va;this.Re=new wa(this,b);this.rg=new xa;this.rg.c.ha("character_change",this.c);var c=new ya;this.rg.Rm(c);a.character&&(c.load(a.character),b.ke.show(za));a.profileLoadError&&t.C(a.profileLoadError);document.getElementById("mtf_p").className="ix_center cp_mm_p";document.getElementById("mtf_p").appendChild(b.ke.Ug);
document.getElementById("planner_parent").appendChild(b.b)}},L:function(){return this.rg.L()},mo:function(){this.c.i("logged_in",{})},no:function(){this.c.i("logged_out",{})},pl:function(a){t.show("Loading Tooltip...");this.uc={item:a};B.Ud(a,new x(function(a){var c=B.get(a);if(c!=j&&this.uc!=j&&this.uc.item==a)t.Mb(ta(c,j)),this.uc=j},this),[a])},Op:function(a){t.show("Loading Tooltip...");this.uc={spell:a};E.Ud(a,new x(function(a){var c=E.get(a);if(c!=j&&this.uc!=j&&this.uc.spell==a)t.Mb(Aa(c,j,
0,j)),this.uc=j},this),[a])}};var ja=new ua;window.__engine_init=function(a){ja.od.call(ja,a)};window.g_showItemTooltip=function(a){ja.pl.call(ja,a)};window.g_hideItemTooltip=function(){ja.uc=j;t.$()};window.g_showSpellTooltip=function(a){ja.Op.call(ja,a)};function la(a,b,c,d){var f=Ca();a||e(new Da(a));d||(d=[]);a=-1==a.search(/\?/)?a+("?_="+(new Date).getTime()):a+("&_="+(new Date).getTime());f.open("POST",a,i);f.onreadystatechange=c?function(){Ea(this,c,d,i)}:function(){};f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; Charset=utf-8");f.send(Fa(b))}function Ca(){var a=j;window.XMLHttpRequest?a=new XMLHttpRequest:window.ActiveXObject?a=new ActiveXObject("MSXML2.XMLHTTP.3.0"):e(new Ga);return a}function u(a,b,c){Ha(a,b,c,i)}
function Ha(a,b,c,d){var f=Ca();a||e(new Da(a));c||(c=[]);a=-1==a.search(/\?/)?a+("?_="+(new Date).getTime()):a+("&_="+(new Date).getTime());f.open("GET",a,i);f.onreadystatechange=b?function(){Ea(this,b,c,d)}:function(){};f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; Charset=utf-8");f.send(j)}
function Ea(a,b,c,d){4==a.readyState&&(!d&&200==a.status?((d=a.getResponseHeader("error"))&&e(new Ia(d)),c.splice(0,0,eval("("+a.responseText+")")),b.ia(c)):d?(c.splice(0,0,a),b.ia(c)):e(new La(a)))}function y(a){if(200==a.status){a.getResponseHeader("error")&&e(new Ia(a.responseText));if(""==a.responseText)return j;var b=eval("("+a.responseText+")");if(a.getResponseHeader("auto_redirect"))window.location.href=b.toString();return b}e(new La(a))}function Da(a){this.url=a}Da.prototype={url:j};
function La(a){this.response=a}La.prototype={response:j};function Ga(){}function Ia(a){this.message=a}Ia.prototype={message:"",toString:function(){return this.message}};var Ma=[6,13,14,31,32,36,37,49],Na={"-1":-1,6:0,13:1,14:2,31:3,32:4,36:5,37:6,49:7},Oa={"0":32,1:13,2:37,3:36,4:31,5:49,6:14,7:6},Pa={"0":0,1:1,2:2,3:3,4:4,5:7,6:8,7:9,8:10,9:11,10:12,11:13,12:14,13:15,14:16,15:17,16:18},Qa={6:4,5:3,7:2,3:1,4:0},Ra=[0,4,10,9,8,6,15,11,3,5,0,7],Sa={1:0,2:1,3:2,16:3,5:4,4:5,20:4,19:6,9:7,10:8,6:9,7:10,8:11,21:16,14:17,28:18,24:19,15:18,22:17,23:17,25:18,26:18},Ta="head,neck,shoulder,back,chest,shirt,tabard,wrist,hands,waist,legs,feet,finger1,finger2,trinket1,trinket2,mainHand,offHand,ranged".split(","),
Ua={164:"Blacksmithing",165:"Leatherworking",171:"Alchemy",182:"Herbalism",186:"Mining",197:"Tailoring",202:"Engineering",333:"Enchanting",393:"Skinning",755:"Jewelcrafting",773:"Inscription"};function Va(a,b,c,d,f){var b=100*(0<b?b-1:11)+(f-1),g=f=0;return 0!=c&&b<Wa.length?(f=Wa[b]*c*a,g=f*d,[f-g/2,g]):j}function Xa(a,b,c,d){return a!=b&&0<c&&0<b&&0<a?(a=Math.min(b,a+(b-a)/c*(d-1)),[a,a/b]):j}
var Ya=[164,165,171,182,186,197,202,333,393,755,773],Za="#bbbbbb,#FFFFFF,#00DD00,#40A0FF,#DD80FF,#FF8000,#E5CC80,#E5CC80".split(","),$a={"0":[0,0,0,0,0],1:[20,20,20,20,20],2:[23,17,21,17,22],3:[25,16,21,19,19],4:[16,24,20,20,20],5:[19,18,20,18,25],6:[25,16,21,16,22],7:[15,22,20,23,20],8:[21,22,21,16,21],9:[17,22,20,23,18],10:[17,22,20,23,18],11:[21,17,20,20,22],22:[23,22,20,16,19]},ab=[0,0,0.00652,-0.01532,-0.00295,0.031765,0,0.02922,0.03454,0.02622,0,0.074755],bb=[0,0,0.033355,0,0,0.012375,0,0.02201,
0.009075,0.017,0,0.018515],cb=[0,3.75955,3.65168-3,-5.43889,-0.588581,3.18783,3.66584,1.67504,3.47569,2.04144,0,4.97143],db=[0,1,0,2,1,0,0,0,0,0,0,0],eb=[0,1,0,2,1,0,0,0,0,0,0,0],fb=[0,-10,0,-20,-10,0,0,0,0,0,0,0],gb=[[0,0,0,0,0],[2,0,0,0,0],[2,0,0,0,0],[1,1,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[2,0,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[2,0,0,0,0]],hb=[2,2,0,0,0],ib=[2,2,0,0,0],jb=[2,0,0,0,0],kb=[5,5.5,6,8],lb=[24,24.5,25,27],mb=[4,5,6,17],nb=[5,5.5,6,8],ob=[5,5.5,6,14],pb=[5,5.5,6,6.5],
qb=[0,3,3,2,2,0,3,2,0,0,0,3],rb=[0.956,0.956,0.988,0.988,0.953,0.956,0.988,0.953,0.953,0,0.972],sb=[65.63144,65.63144,145.560408,145.560408,0,65.63144,145.560408,0,0,0,0],ub=[65.63144,65.63144,145.560408,145.560408,150.37594,65.63144,145.560408,150.37594,150.37594,0,116.890707],F=[[0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.144231,0.192308,0.240385,0.288462,0.336538,0.384615,0.432692,0.480769,0.528846,0.576923,0.625,0.673077,0.721154,0.769231,0.817308,
0.865385,0.913462,0.961538,1.00961,1.05769,1.10577,1.15385,1.20192,1.25,1.29808,1.34615,1.39423,1.44231,1.49039,1.53846,1.58654,1.63461,1.68269,1.73077,1.77885,1.82692,1.875,1.92308,1.97115,2.01923,2.06731,2.11539,2.16346,2.21154,2.25961,2.30769,2.35577,2.40385,2.45192,2.5,2.59494,2.69737,2.80822,2.92857,3.0597,3.20313,3.36066,3.53448,3.72727,3.94231,4.24173,4.56391,4.91054,5.28351,5.68481,6.11658,6.58115,7.08101,7.61883,8.1975,10.764,14.1349,18.5689,24.3818,32.0143,12.7186,13.6846,14.724,15.8423,
17.0456,18.3402,19.7332,21.232,22.8446,24.5797,26.4466,28.4553,30.6166,32.942,35.444],[0.0576922,0.0576922,0.0576922,0.0576922,0.0576923,0.0576923,0.0576923,0.0576922,0.0576922,0.0576922,0.0865385,0.115385,0.144231,0.173077,0.201923,0.230769,0.259615,0.288462,0.317308,0.346154,0.375,0.403846,0.432692,0.461538,0.490385,0.519231,0.548077,0.576923,0.605769,0.634615,0.663462,0.692308,0.721154,0.75,0.778846,0.807692,0.836538,0.865385,0.894231,0.923077,0.951923,0.980769,1.00961,1.03846,1.06731,1.09615,
1.125,1.15385,1.18269,1.21154,1.24039,1.26923,1.29808,1.32692,1.35577,1.38461,1.41346,1.44231,1.47115,1.5,1.55696,1.61842,1.68493,1.75714,1.83582,1.92188,2.01639,2.12069,2.23636,2.36539,2.54504,2.73834,2.94633,3.17011,3.41089,3.66995,3.94869,4.2486,4.5713,4.9185,6.4584,8.48096,11.1413,14.6291,19.2086,7.63117,8.21077,8.8344,9.5054,10.2274,11.0041,11.8399,12.7392,13.7068,14.7478,15.868,17.0732,18.3699,19.7652,21.2664],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,
0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,7.43077,7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,27.1062,
29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,195.651],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,7.43077,
7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,27.1062,29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,195.651],
[0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.398077,0.530769,0.663461,0.796154,0.928846,1.06154,1.19423,1.32692,1.45962,1.59231,1.725,1.85769,1.99038,2.12308,2.25577,2.38846,2.52115,2.65385,2.78654,2.91923,3.05192,3.18462,3.31731,3.45,3.58269,3.71538,3.84808,3.98077,4.11346,4.24615,4.37885,4.51154,4.64423,4.77692,4.90962,5.04231,5.175,5.30769,5.44038,5.57308,5.70577,5.83846,5.97115,6.10385,6.23654,6.36923,6.50192,6.63461,6.76731,6.9,7.16202,7.44474,
7.75069,8.08286,8.44478,8.84063,9.27541,9.75517,10.2873,10.8808,11.7072,12.5964,13.5531,14.5825,15.6901,16.8818,18.164,19.5436,21.028,22.6251,29.7087,39.0124,51.2501,67.2938,88.3594,35.1034,37.7696,40.6382,43.7248,47.0458,50.6191,54.4637,58.6004,63.0512,67.8401,72.9927,78.5367,84.5018,90.9199,97.8255],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,2.88594,
3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,7.5756,7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,55.2404,
59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,2.88594,3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,7.5756,
7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,55.2404,59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.461538,0.615385,
0.769231,0.923077,1.07692,1.23077,1.38461,1.53846,1.69231,1.84615,2,2.15385,2.30769,2.46154,2.61539,2.76923,2.92308,3.07692,3.23077,3.38461,3.53846,3.69231,3.84615,4,4.15385,4.30769,4.46154,4.61539,4.76923,4.92308,5.07692,5.23077,5.38461,5.53846,5.69231,5.84615,6,6.15385,6.30769,6.46154,6.61539,6.76923,6.92308,7.07692,7.23077,7.38461,7.53846,7.69231,7.84615,8,8.3038,8.63158,8.9863,9.37143,9.79105,10.25,10.7541,11.3103,11.9273,12.6154,13.5736,14.6045,15.7137,16.9072,18.1914,19.5731,21.0597,22.6592,
24.3803,26.232,34.4448,45.2318,59.4204,78.0218,102.446,40.6996,43.7908,47.1168,50.6954,54.5459,58.6888,63.1463,67.9425,73.1029,78.6552,84.6292,91.057,97.973,105.414,113.421],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,
9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,0.538462,
0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,
23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,
7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,
198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.459472,0.612629,0.765786,0.918944,1.0721,1.22526,1.37842,1.53157,1.68473,1.83789,1.99104,2.1442,
2.29736,2.45052,2.60367,2.75683,2.90999,3.06315,3.2163,3.36946,3.52262,3.67577,3.82893,3.98209,4.13525,4.2884,4.44156,4.59472,4.74788,4.90103,5.05419,5.20735,5.3605,5.51366,5.66682,5.81998,5.97313,6.12629,6.27945,6.43261,6.58576,6.73892,6.89208,7.04523,7.19839,7.35155,7.50471,7.65786,7.81102,7.96418,8.26661,8.59293,8.94606,9.32947,9.7472,10.2041,10.7059,11.2597,11.8739,12.5589,13.5128,14.5391,15.6434,16.8315,18.1099,19.4854,20.9654,22.5578,24.2711,26.1145,32.5965,40.6875,50.7868,63.3928,79.1278,45.582,
49.044,52.7691,56.777,61.0893,65.7292,70.7215,76.093,81.8724,88.0909,94.7816,101.98,109.726,118.06,127.027],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,
3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,
68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,
8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,
1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,
56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.135279,0.180372,0.225465,0.270557,0.315649,0.360742,0.405835,0.450928,0.496021,0.541114,0.586207,0.6313,0.676393,0.721486,0.766579,0.811672,0.856764,
0.901856,0.946949,0.992042,1.03714,1.08223,1.12732,1.17241,1.21751,1.2626,1.30769,1.35279,1.39788,1.44297,1.48806,1.53316,1.57825,1.62334,1.66844,1.71353,1.75862,1.80371,1.84881,1.8939,1.93899,1.98409,2.02918,2.07427,2.11936,2.16446,2.20955,2.25464,2.29974,2.34483,2.43387,2.52995,2.63392,2.7468,2.86979,3.00431,3.15206,3.3151,3.49593,3.69761,3.97846,4.28063,4.60575,4.95557,5.33196,5.73693,6.17267,6.6415,7.14594,7.68869,10.0959,13.2576,17.4163,22.8685,30.0272,11.9292,12.8352,13.8101,14.859,15.9876,
17.2019,18.5084,19.9142,21.4267,23.0541,24.8051,26.6891,28.7162,30.8973,33.244],[0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.270872,0.361163,0.451454,0.541745,0.632036,0.722326,0.812617,0.902908,0.993199,1.08349,1.17378,1.26407,1.35436,1.44465,1.53494,1.62523,1.71553,1.80582,1.89611,1.9864,2.07669,2.16698,2.25727,2.34756,2.43785,2.52814,2.61843,2.70872,2.79902,2.88931,2.9796,3.06989,3.16018,3.25047,3.34076,3.43105,3.52134,3.61163,3.70192,3.79221,3.8825,
3.9728,4.06309,4.15338,4.24367,4.33396,4.42425,4.51454,4.60483,4.69512,4.87342,5.06579,5.27397,5.5,5.74627,6.01563,6.31147,6.63793,7,7.40385,7.96619,8.57124,9.22224,9.9227,10.6763,11.4872,12.3597,13.2985,14.3085,15.3953,20.2153,26.5461,34.8732,45.7902,60.1244,23.8862,25.7004,27.6524,29.7527,32.0124,34.4439,37.06,39.8748,42.9034,46.162,49.6681,53.4405,57.4994,61.8666,66.5656],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,
1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,
60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],vb=[0.020979,0.020515,0.020079,0.019516,0.018997,0.018646,0.018314,0.017997,0.017584,0.017197,0.016551,0.015729,0.015229,0.01458,0.014008,
0.01365,0.013175,0.012832,0.012475,0.012073,0.01184,0.011494,0.011292,0.01099,0.010761,0.010546,0.010321,0.010151,0.009949,0.00974,0.009597,0.009425,0.009278,0.009123,0.008974,0.008847,0.008698,0.008581,0.008457,0.008338,0.008235,0.008113,0.008018,0.007906,0.007798,0.007713,0.007612,0.007524,0.00743,0.00734,0.007268,0.007184,0.007116,0.007029,0.006945,0.006884,0.006805,0.006747,0.006667,0.0066,0.006421,0.006314,0.006175,0.006072,0.005981,0.005885,0.005791,0.005732,0.005668,0.005596,0.005316,0.005049,
0.004796,0.004555,0.004327,0.00411,0.003903,0.003708,0.003522,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345],G={1:[6,8,4,5,8,8,9,3,2,1,1,1,21,31,51,77,27,42,68,102,22,34,55,83,24,37,60,89,19,29,47,70,15,24,38,57,17,26,43,64,12,18,30,45,14],2:[6,9,4,6,9,9,9,3,3,2,1,1,22,34,56,84,30,46,75,112,24,37,61,91,26,40,66,98,21,32,52,77,17,26,42,63,19,29,47,70,13,20,
33,49,15],3:[7,9,4,6,9,10,12,4,3,2,1,1,24,37,61,91,32,50,81,122,26,41,66,99,28,44,71,107,22,34,56,84,18,28,46,69,20,31,51,76,14,22,35,53,16],4:[7,10,5,6,10,11,12,4,3,2,1,1,26,40,65,98,35,54,87,131,28,44,71,106,31,47,76,115,24,37,60,90,20,30,49,74,22,34,54,82,15,24,38,57,18],5:[8,10,5,7,10,12,15,5,4,3,2,2,28,43,70,105,38,57,94,141,31,46,76,115,33,50,82,123,26,39,65,97,21,32,53,79,24,36,59,88,17,25,41,62,19],6:[8,11,5,7,11,12,15,5,4,3,2,2,30,46,75,113,40,61,100,150,33,50,81,122,35,53,88,131,28,42,69,
103,23,34,56,84,25,38,63,94,18,27,44,66,20],7:[9,11,6,7,11,13,18,6,4,3,2,3,32,49,80,120,43,65,106,160,35,53,86,130,38,57,93,140,30,45,73,110,24,37,60,90,27,41,66,100,19,28,46,70,22],8:[9,12,6,8,12,14,21,7,5,4,2,3,34,52,85,127,45,69,113,169,37,56,92,137,39,60,99,148,31,47,78,116,25,39,64,95,28,43,71,106,20,30,49,74,23],9:[10,13,6,8,13,15,21,7,5,4,2,3,36,55,89,134,48,73,119,179,39,59,97,145,42,64,104,157,33,50,82,123,27,41,67,101,30,46,74,112,21,32,52,78,24],10:[10,13,7,9,13,16,24,8,6,4,2,3,38,58,94,
141,50,77,125,188,41,63,102,153,44,67,109,165,34,53,86,129,28,43,70,106,31,48,78,118,22,34,55,82,25],11:[11,14,7,9,14,16,24,8,6,5,3,4,40,61,99,149,53,81,132,198,43,66,107,161,46,71,116,173,36,56,91,136,30,46,74,111,33,51,83,124,23,35,58,87,27],12:[11,15,7,10,15,17,27,9,7,5,3,4,42,64,104,156,56,85,138,208,46,69,112,169,49,74,121,182,39,58,95,143,32,48,78,117,35,53,86,130,25,37,60,91,28],13:[12,16,8,10,16,18,27,9,7,5,3,4,44,67,108,163,58,89,145,217,47,72,118,176,51,78,127,190,40,61,100,149,33,50,82,
122,36,56,91,136,25,39,63,95,29],14:[12,16,8,11,16,19,30,10,8,6,3,4,45,69,113,170,61,93,151,227,50,76,123,184,53,81,132,199,42,64,104,156,34,52,85,128,38,58,94,142,27,41,66,99,31],15:[13,17,9,11,17,20,33,11,8,6,3,5,47,72,118,177,63,96,157,236,51,78,128,192,55,84,137,207,43,66,108,162,35,54,88,133,39,60,98,148,28,42,69,103,32],16:[14,18,9,12,18,21,33,11,8,6,4,5,49,75,123,184,66,100,164,246,54,81,133,200,58,88,144,215,45,69,113,169,37,56,92,138,41,63,103,154,29,44,72,108,33],17:[14,19,9,12,19,22,36,
12,9,7,4,5,51,78,128,192,68,104,170,255,55,85,138,207,60,91,149,223,47,72,117,175,38,59,96,143,43,65,106,159,30,46,74,112,34],18:[15,19,10,13,19,23,36,12,9,7,4,5,53,81,132,199,71,108,176,265,58,88,143,215,62,95,154,232,49,74,121,182,40,61,99,149,44,68,110,166,31,47,77,116,36],19:[15,20,10,13,20,24,39,13,10,7,4,6,55,84,137,206,73,112,183,275,59,91,149,223,64,98,160,241,50,77,126,189,41,63,103,155,46,70,114,172,32,49,80,120,37],20:[16,21,10,14,21,25,42,14,10,8,4,6,57,87,142,213,76,116,189,284,62,94,
154,231,67,102,165,249,52,80,130,195,43,65,106,160,48,73,118,178,33,51,83,124,38],21:[16,21,11,14,21,26,42,14,11,8,5,6,59,90,147,220,79,120,195,294,64,98,158,239,69,105,171,257,54,83,134,202,44,68,110,165,49,75,122,184,35,53,85,129,40],22:[17,22,11,14,22,27,45,15,11,8,5,6,61,93,151,227,81,124,202,303,66,101,164,246,71,109,177,265,56,85,139,208,46,70,114,170,51,78,126,189,35,54,88,133,41],23:[17,23,11,15,23,28,45,15,12,9,5,7,63,96,156,235,84,128,208,313,68,104,169,254,74,112,182,274,58,88,143,215,
47,72,117,176,53,80,130,196,37,56,91,137,42],24:[18,23,12,15,23,29,48,16,12,9,5,7,65,99,161,242,86,132,215,322,70,107,175,262,75,116,188,282,59,91,148,221,48,74,121,181,54,83,134,201,38,58,94,141,43],25:[19,24,12,16,24,30,51,17,12,9,5,7,67,102,166,249,89,136,221,332,72,111,180,270,78,119,193,291,61,94,152,228,50,77,124,187,56,85,138,208,39,60,97,145,45],26:[19,25,13,17,25,30,51,17,13,10,5,7,68,105,170,256,91,139,227,342,74,113,184,278,80,122,199,299,63,96,156,235,51,78,128,192,57,87,142,214,40,61,
99,150,46],27:[20,26,13,17,26,31,54,18,13,10,6,8,70,108,175,263,94,143,234,351,76,116,190,285,82,125,205,307,65,98,161,241,53,80,132,197,59,89,146,219,41,63,102,154,47],28:[21,27,14,18,27,32,54,18,14,10,6,8,72,110,180,270,96,147,240,361,78,119,195,293,84,129,210,316,66,101,165,248,54,83,135,203,60,92,150,226,42,64,105,158,48],29:[22,29,14,19,29,32,57,19,14,11,6,8,74,113,185,278,99,151,246,370,80,123,200,301,87,132,215,324,68,104,169,254,56,85,138,208,62,94,154,231,43,66,108,162,50],30:[23,30,15,20,
30,33,60,20,15,11,6,8,76,116,190,285,102,155,253,380,83,126,206,309,89,136,221,333,70,107,174,261,57,87,142,214,64,97,158,238,45,68,111,166,51],31:[24,31,16,20,31,34,60,20,15,11,6,9,78,119,194,292,104,159,259,389,85,129,210,316,91,139,227,340,72,109,178,267,59,89,146,219,65,99,162,243,46,70,113,170,52],32:[25,32,16,21,32,34,63,21,16,12,7,9,80,122,199,299,107,163,265,399,87,132,215,324,94,143,232,349,74,112,182,274,60,92,149,224,67,102,166,249,47,71,116,175,54],33:[25,33,17,22,33,35,63,21,16,12,7,
9,82,125,204,306,109,167,272,408,89,136,221,332,95,146,238,357,75,115,187,281,61,94,153,230,68,104,170,255,48,73,119,179,55],34:[26,34,17,23,34,36,66,22,16,12,7,9,84,128,209,314,112,171,278,418,91,139,226,340,98,150,243,366,77,118,191,287,63,96,156,235,70,107,174,261,49,75,122,183,56],35:[27,35,18,23,35,37,69,23,17,13,7,10,86,131,213,321,114,175,285,428,93,142,232,348,100,153,249,375,78,120,196,294,64,98,160,241,71,109,178,268,50,77,125,187,57],36:[28,36,18,24,36,38,69,23,17,13,7,10,88,134,218,328,
117,178,291,437,95,145,236,355,102,156,255,382,80,122,200,300,66,100,164,246,73,111,182,273,51,78,127,191,59],37:[28,37,19,24,37,39,72,24,18,13,8,10,90,137,223,335,119,182,297,447,97,148,241,363,104,159,260,391,82,125,204,307,67,102,167,251,74,114,186,279,52,80,130,196,60],38:[29,38,19,25,38,40,72,24,18,14,8,10,92,140,228,342,122,186,304,456,99,151,247,371,107,163,266,399,84,128,209,314,69,105,171,257,76,116,190,285,53,81,133,200,61],39:[29,38,19,25,38,41,75,25,19,14,8,11,93,143,233,349,125,190,310,
466,102,154,252,379,109,166,271,408,86,131,213,320,70,107,174,262,78,119,194,291,55,83,136,204,63],40:[30,39,20,26,39,42,78,26,19,14,8,11,95,146,237,357,127,194,316,475,103,158,257,386,111,170,277,416,87,133,217,327,71,109,178,267,79,121,198,297,56,85,138,208,64],41:[31,40,20,26,40,43,78,26,20,15,8,11,97,149,242,364,130,198,323,485,106,161,262,394,114,173,283,424,89,136,222,333,73,111,182,273,81,124,202,303,57,87,141,212,65],42:[31,41,21,27,41,44,81,27,20,15,8,11,99,151,247,371,132,202,329,495,107,
164,267,402,116,177,288,433,91,139,226,340,74,114,185,278,83,126,206,309,58,88,144,217,66],43:[32,41,21,27,41,45,81,27,20,15,9,12,101,154,252,378,135,206,336,504,110,167,273,410,118,180,294,441,93,142,231,347,76,116,189,284,84,129,210,315,59,90,147,221,68],44:[32,42,21,28,42,47,84,28,21,16,9,12,103,157,256,385,137,210,342,514,111,171,278,418,120,184,299,450,94,144,235,353,77,118,192,289,86,131,214,321,60,92,150,225,69],45:[33,43,22,29,43,48,84,28,21,16,9,12,105,160,261,392,140,214,348,523,114,174,
283,425,123,187,305,458,96,147,239,360,79,120,196,294,88,134,218,327,61,94,152,229,70],46:[34,44,22,29,44,50,87,29,22,16,9,12,107,163,266,400,142,218,355,533,115,177,288,433,124,191,311,466,98,150,244,366,80,123,200,300,89,136,222,333,62,95,155,233,71],47:[34,45,23,30,45,51,90,30,22,17,9,13,109,166,271,407,145,221,361,542,118,180,293,440,127,193,316,474,100,152,248,373,82,124,203,305,91,138,226,339,63,97,158,237,73],48:[35,45,23,30,45,52,90,30,23,17,10,13,111,169,276,414,148,225,367,552,120,183,298,
449,130,197,321,483,102,155,252,380,83,127,206,311,93,141,229,345,65,98,161,242,74],49:[35,46,23,31,46,53,93,31,23,17,10,13,113,172,280,421,150,229,374,561,122,186,304,456,131,200,327,491,103,157,257,386,84,129,210,316,94,143,234,351,66,100,164,245,75],50:[36,47,24,31,47,54,93,31,24,18,10,13,115,175,285,428,153,233,380,571,124,189,309,464,134,204,333,500,105,160,261,393,86,131,214,321,96,146,238,357,67,102,166,250,77],51:[37,48,24,32,48,54,96,32,24,18,10,14,116,178,290,435,155,237,386,581,126,193,
314,472,136,207,338,508,107,163,265,399,87,133,217,327,97,148,241,363,68,104,169,254,78],52:[37,49,25,32,49,55,99,33,24,18,10,14,118,181,295,443,158,241,393,590,128,196,319,479,138,211,344,516,109,166,270,406,89,136,221,332,99,151,246,369,69,105,172,258,79],53:[38,49,25,33,49,57,99,33,25,19,11,14,120,183,297,445,160,243,396,593,130,197,322,482,140,213,347,519,110,167,272,408,90,137,223,334,100,152,248,371,70,106,173,259,80],54:[38,50,25,33,50,58,102,34,25,19,11,14,122,184,299,447,162,246,398,596,
132,200,323,484,142,215,348,522,111,169,274,410,91,138,224,335,101,154,249,373,71,108,174,261,81],55:[39,51,26,34,51,59,102,34,26,19,11,15,123,186,301,450,165,248,401,600,134,202,326,488,144,217,351,525,113,171,276,413,93,140,226,338,103,155,251,375,72,109,175,263,83],56:[40,52,26,34,52,61,105,35,26,20,11,15,125,188,303,452,167,251,404,603,136,204,328,490,146,220,354,528,115,173,278,415,94,141,227,339,104,157,253,377,73,110,177,264,84],57:[40,53,27,35,53,62,108,36,27,20,11,15,127,190,305,455,169,
253,407,606,137,206,331,492,148,221,356,530,116,174,280,417,95,142,229,341,106,158,254,379,74,111,178,265,85],58:[50,65,33,43,65,85,139,46,34,25,14,19,157,223,342,497,210,297,456,663,171,241,371,539,184,260,399,580,144,204,314,456,118,167,257,373,131,186,285,414,92,130,200,290,105],59:[51,67,34,44,67,88,142,47,36,27,15,20,163,229,349,505,217,305,465,674,176,248,378,548,190,267,407,590,149,210,320,463,122,172,262,379,136,191,291,421,95,133,203,295,109],60:[53,68,35,45,68,91,148,49,37,28,16,21,171,
240,365,513,228,320,487,684,185,260,396,556,200,280,426,599,157,220,335,470,128,180,274,385,143,200,304,428,100,140,213,299,114],61:[54,70,36,47,70,94,154,51,39,29,16,22,181,254,386,533,242,338,515,711,197,275,418,578,212,296,451,622,166,232,354,489,136,190,290,400,151,211,322,444,106,148,225,311,121],62:[55,72,36,48,72,97,160,53,40,30,17,22,192,269,409,578,255,358,545,771,207,291,443,626,223,313,477,675,175,246,375,530,143,201,307,434,159,224,341,482,112,157,238,337,128],63:[56,73,37,49,73,100,163,
54,41,31,17,23,203,284,433,623,270,379,577,831,219,308,469,675,236,332,505,727,186,261,397,571,152,213,325,467,169,237,361,519,118,166,252,364,135],64:[58,75,38,50,75,104,166,55,42,31,18,24,214,301,458,668,286,401,611,890,232,326,496,723,250,351,535,779,197,276,420,612,161,226,344,501,179,251,382,556,125,175,267,389,143],65:[60,78,40,52,78,109,172,57,43,32,18,24,227,318,485,713,302,424,647,950,245,345,526,772,264,371,566,831,208,292,445,653,170,239,364,534,189,265,404,594,132,186,283,416,151],66:[62,
81,41,54,81,113,175,58,44,33,18,25,240,337,514,757,320,449,685,1010,260,365,557,821,280,393,599,884,220,309,471,694,180,253,385,568,200,281,428,631,140,196,300,442,160],67:[65,84,43,56,84,117,178,59,45,34,19,25,254,356,544,802,338,475,725,1070,275,386,589,869,296,416,634,936,232,327,498,736,190,267,408,602,211,297,453,669,148,208,317,468,169],68:[91,119,61,79,119,168,253,84,62,47,26,36,361,498,749,1091,482,664,998,1454,392,540,811,1181,422,581,873,1272,331,457,686,1E3,271,374,561,818,301,415,624,
909,211,291,437,636,241],69:[93,121,62,81,121,172,262,87,64,48,27,37,375,518,779,1144,500,691,1039,1526,406,561,844,1240,438,605,909,1335,344,475,714,1049,281,389,584,858,313,432,649,954,219,302,455,668,250],70:[95,124,63,82,124,175,271,90,67,50,28,39,389,539,811,1198,519,718,1082,1597,422,583,879,1298,454,628,947,1397,357,494,744,1098,292,404,609,898,324,449,676,998,227,314,473,699,260],71:[97,127,65,84,127,179,280,93,69,52,29,40,404,560,845,1252,539,746,1126,1669,438,606,915,1356,472,653,985,1460,
371,513,774,1147,303,420,633,939,337,466,704,1043,236,326,493,730,270],72:[99,129,66,86,129,183,292,97,72,54,30,42,419,582,879,1306,559,776,1172,1741,454,631,952,1415,489,679,1026,1523,384,534,806,1197,314,437,659,979,349,485,733,1088,245,340,513,762,280],73:[102,132,68,88,132,187,304,101,75,56,32,43,435,605,915,1359,580,806,1220,1813,471,655,991,1473,508,705,1068,1586,399,554,839,1246,326,453,686,1020,363,504,763,1133,254,353,534,793,290],74:[104,135,69,90,135,191,313,104,78,58,33,45,451,628,952,
1414,601,838,1269,1885,488,681,1031,1532,526,733,1110,1649,413,576,872,1296,338,471,714,1060,376,524,793,1178,263,367,555,825,301],75:[106,138,71,92,138,196,325,108,81,60,34,46,468,653,990,1468,624,870,1320,1957,507,707,1073,1590,546,761,1155,1712,429,598,908,1345,351,489,743,1101,390,544,825,1223,273,381,578,856,312],76:[109,141,72,94,141,200,340,113,84,63,35,48,485,678,1030,1522,647,904,1373,2029,526,735,1116,1649,566,791,1201,1775,445,622,944,1395,364,509,772,1141,404,565,858,1268,283,396,601,
888,324],77:[111,145,74,96,145,205,352,117,87,65,37,50,503,704,1071,1576,670,939,1429,2102,544,763,1161,1708,586,822,1250,1839,461,646,982,1445,377,528,804,1182,419,587,893,1314,293,411,625,920,335],78:[114,148,76,99,148,210,364,121,90,68,38,52,521,731,1114,1631,695,975,1486,2174,565,792,1207,1766,608,853,1300,1902,478,670,1022,1495,391,548,836,1223,434,609,929,1359,304,427,650,951,348],79:[117,152,78,101,152,215,380,126,94,71,40,54,534,751,1146,1660,713,1001,1528,2213,579,813,1242,1798,624,876,1337,
1936,490,688,1051,1521,401,563,860,1245,446,626,955,1383,312,438,669,968,357],80:[120,156,80,104,156,220,395,131,97,73,41,56,546,762,1156,1668,729,1016,1541,2224,592,826,1252,1807,638,889,1348,1946,501,699,1059,1529,410,572,867,1251,456,635,963,1390,319,445,674,973,365],81:[225,293,150,195,293,414,928,308,229,172,97,132,813,1017,1390,1875,1084,1356,1854,2500,881,1102,1506,2031,949,1187,1622,2188,745,932,1275,1719,610,763,1043,1406,678,848,1159,1563,474,593,811,1094,542],82:[262,353,175,235,353,498,
1108,368,273,205,116,158,829,1062,1485,2034,1105,1416,1981,2713,898,1151,1610,2204,967,1239,1733,2374,760,974,1362,1865,622,797,1114,1526,691,885,1238,1696,483,620,867,1187,553],83:[309,417,206,278,417,590,1310,435,323,242,137,186,844,1104,1577,2189,1125,1472,2102,2919,914,1196,1708,2372,984,1288,1839,2554,773,1012,1445,2007,633,828,1182,1642,703,920,1314,1824,492,644,920,1277,563],84:[336,454,224,302,454,641,1425,473,351,263,149,203,852,1126,1624,2271,1136,1501,2166,3028,923,1220,1760,2460,994,1313,
1895,2650,781,1032,1489,2082,639,844,1218,1703,710,938,1354,1893,497,657,948,1325,568],85:[362,489,241,326,489,691,1533,509,378,284,160,218,858,1145,1668,2346,1145,1527,2224,3128,930,1241,1807,2542,1002,1336,1946,2737,787,1050,1529,2151,644,859,1251,1760,716,954,1390,1955,501,668,973,1369,573]},Wa=[23.3107,24.1651,24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,
95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,237.558,246.991,256.628,266.467,276.51,286.755,297.203,307.853,318.707,329.763,341.022,352.484,364.149,376.016,388.086,400.36,412.835,425.514,478.257,491.95,512.169,532.943,554.279,576.187,598.672,621.743,645.407,669.673,694.546,720.036,746.15,772.895,800.278,828.309,856.993,886.339,916.355,947.048,978.425,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,
1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,34.6214,35.4356,35.5984,35.8589,36.038,36.2139,36.3562,36.4902,37.8794,38.6922,39.413,40.0417,40.5784,42.3805,44.1849,45.9759,47.738,49.4556,51.1132,52.6953,54.4846,56.2322,57.9299,59.5701,61.1453,62.6485,64.0733,65.4135,66.6632,67.8171,70.2758,72.7271,75.1662,77.5882,79.9881,82.3611,84.7021,87.0064,89.2691,91.4851,94.5168,97.5646,100.626,103.699,106.78,109.868,112.959,116.052,119.144,122.232,125.314,128.387,131.45,134.499,
137.532,140.547,143.541,293.024,327.008,332.962,354.075,375.985,398.707,422.256,446.646,471.89,498.002,524.997,552.889,581.691,611.418,642.083,673.701,706.285,739.849,774.407,809.974,846.562,884.185,922.858,943.72,964.814,986.142,1007.7,1029.49,1051.52,1073.77,1096.26,1118.98,1141.93,1165.11,1188.51,1212.15,1236.02,1260.12,1284.45,1309,1333.79,1358.8,1384.04,5.2216,5.7727,6.27696,6.74717,7.1928,7.72152,8.5082,9.33304,10.196,11.0972,12.0365,13.0139,14.0295,15.5282,17.1514,18.9051,20.7947,22.826,25.0047,
27.3363,29.7556,32.3265,35.0535,37.9411,40.9935,44.215,47.6099,51.1823,54.9364,58.8762,63.0058,67.3291,71.8499,76.5723,81.4999,86.6366,91.9859,97.5516,103.337,109.346,116.451,123.889,131.668,139.798,148.289,157.15,166.392,176.025,186.057,196.501,207.366,218.662,230.4,242.591,255.245,268.373,281.986,296.095,338.963,355.055,376.742,399.409,423.086,447.802,473.588,500.474,528.491,557.67,588.043,619.643,652.502,686.653,722.129,758.966,797.196,836.855,877.979,920.602,964.762,1010.49,1032.93,1055.63,1078.57,
1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,37.2971,38.6641,39.5754,40.1829,40.588,41.398,43.4485,45.4989,47.5494,49.5998,51.6503,53.7007,55.7512,59.5064,63.4644,67.6252,71.9888,76.5552,81.3244,86.2964,90.3279,94.4277,98.5882,102.802,107.061,111.358,115.686,120.036,124.402,128.775,133.148,137.513,141.863,146.19,150.486,154.745,158.957,163.117,167.215,171.245,182.128,193.477,205.302,217.615,230.425,243.742,257.576,
271.937,286.836,302.283,318.287,334.86,352.01,369.749,388.086,407.032,426.597,446.79,510.141,532.946,552.215,571.938,592.122,612.77,633.888,655.481,677.554,700.112,723.161,746.704,770.748,795.297,820.357,845.932,872.028,898.65,925.802,953.49,981.719,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,22.555,22.8271,22.8815,22.9686,23.0284,23.0872,23.1348,23.1796,23.5733,23.9155,24.209,24.4536,
24.6495,25.7049,26.7761,27.8523,28.923,29.9776,31.0057,31.9966,33.6486,35.3325,37.0434,38.7764,40.5265,42.2887,44.0578,45.8288,47.5965,49.3556,52.144,55.0287,58.0102,61.0891,64.2659,67.5409,70.9147,74.3878,77.9607,81.6337,84.8264,88.0704,91.3642,94.7066,98.0965,101.533,105.013,108.538,112.105,115.713,119.361,123.047,126.771,130.531,134.326,138.154,142.015,291.813,328.421,336.625,355.277,374.585,394.558,415.208,436.546,458.581,481.326,504.79,528.985,553.92,579.607,606.055,633.277,661.281,690.078,719.679,
750.095,781.334,813.409,846.328,865.675,885.235,905.007,924.992,945.189,965.597,986.215,1007.04,1028.08,1049.33,1070.78,1092.45,1114.32,1136.39,1158.68,1181.16,1203.86,1226.75,1249.85,1273.16,23.3107,24.1651,24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,
235.578,242.875,250.212,257.585,264.988,272.417,279.866,287.33,294.804,302.283,309.762,317.236,324.699,332.148,339.576,346.978,354.35,361.687,402.533,409.958,432.076,454.951,478.595,503.02,528.24,554.267,581.114,608.793,637.318,666.7,696.953,728.089,760.121,793.062,826.923,861.719,897.461,934.163,971.836,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,30.0793,30.7255,30.8547,31.0615,
31.2037,31.3433,31.4562,31.5626,32.6485,33.3104,33.8949,34.4021,34.832,36.3846,37.9444,39.4977,41.0304,42.5288,43.9789,45.367,46.6013,47.7707,48.8674,49.8842,50.8144,51.6517,52.3907,53.0262,53.5537,53.9691,55.3766,56.7193,57.9908,59.1841,60.2929,61.3102,62.2297,63.0445,63.7481,64.3338,66.6823,69.059,71.4627,73.892,76.3458,78.8229,81.3219,83.8416,86.3809,88.9384,91.5129,94.1033,96.7081,99.3263,101.957,104.598,107.248,219.815,246.45,251.971,274.168,297.331,321.476,346.622,372.788,399.993,428.254,457.591,
488.021,519.562,552.234,586.053,621.039,657.21,694.583,733.177,773.01,814.099,856.463,900.12,920.54,941.187,962.061,983.161,1004.49,1026.04,1047.82,1069.82,1092.05,1114.5,1137.18,1160.08,1183.2,1206.55,1230.12,1253.91,1277.92,1302.15,1326.61,1351.28,31.0214,31.4306,31.5124,31.6433,31.7334,31.8217,31.8933,31.9606,32.5713,33.0673,33.4947,33.8535,34.1437,35.6445,37.1693,38.7032,40.231,41.7376,43.208,44.6273,46.8581,49.1244,51.4189,53.7345,56.064,58.4003,60.7361,63.0644,65.378,67.6698,71.3599,75.1661,
79.0884,83.1267,87.2807,91.5504,95.9356,100.436,105.052,109.783,113.1,116.4,119.677,122.928,126.146,129.329,132.47,135.565,138.61,141.599,144.529,147.394,150.189,152.911,155.554,158.114,160.585,325.929,362.339,366.621,384.399,402.743,421.66,441.159,461.248,481.937,503.232,525.144,547.679,570.847,594.656,619.113,644.228,670.008,696.462,723.597,751.422,779.945,809.174,839.117,858.338,877.77,897.413,917.266,937.33,957.603,978.085,998.776,1019.67,1040.78,1062.09,1083.61,1105.33,1127.26,1149.39,1171.72,
1194.26,1217,1239.94,1263.08,32.2214,32.7267,32.8278,32.9895,33.1006,33.2098,33.2981,33.3813,34.1745,34.7479,35.2466,35.6706,36.0198,37.5977,39.1938,40.7928,42.3796,43.939,45.4558,46.9148,48.8949,50.8768,52.8527,54.8151,56.7566,58.67,60.5484,62.3851,64.1734,65.907,68.9589,72.0684,75.233,78.4502,81.7176,85.0327,88.393,91.7962,95.2397,98.7212,101.446,104.135,106.785,109.391,111.947,114.45,116.894,119.274,121.587,123.827,125.989,128.069,130.062,131.964,133.769,135.473,137.072,277.12,306.629,308.962,
328.7,349.192,370.449,392.487,415.318,438.956,463.412,488.702,514.837,541.831,569.697,598.448,628.097,658.656,690.139,722.558,755.927,790.257,825.563,861.855,881.517,901.397,921.494,941.807,962.336,983.08,1004.04,1025.21,1046.6,1068.2,1090.02,1112.04,1134.28,1156.73,1179.39,1202.26,1225.35,1248.64,1272.13,1295.84,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,25.7771,26.4755,26.6152,26.8387,26.9923,27.1432,27.2653,27.3802,28.5971,29.2692,29.8687,30.3957,30.8502,32.1517,33.4634,34.773,36.0683,37.3369,38.5667,39.7455,41.294,42.8351,44.3625,45.8701,47.3519,48.8023,50.2157,51.5869,52.9107,54.1822,56.5272,58.9058,61.3156,63.7541,66.2189,68.7075,71.2174,73.7463,76.2916,78.851,81.422,84.0022,86.5891,89.1804,91.7735,94.3661,96.9557,99.5399,102.116,104.683,107.236,109.775,112.296,114.797,117.276,119.73,122.157,249.109,277.898,282.633,303.65,325.525,
348.274,371.914,396.46,421.927,448.333,475.691,504.019,533.332,563.645,594.974,627.334,660.742,695.212,730.76,767.402,805.152,844.027,884.04,904.113,924.408,944.926,965.665,986.626,1007.81,1029.21,1050.83,1072.68,1094.74,1117.02,1139.52,1162.24,1185.17,1208.33,1231.7,1255.28,1279.08,1303.1,1327.33,3,3,4,4,5,5,6,7,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,18,19,20,20,21,21,22,23,23,24,24,25,26,26,27,27,28,28,29,30,30,31,31,32,33,33,34,34,35,36,36,37,37,54,55,56,57,59,60,61,63,68,70,89,93,
96,100,104,107,112,116,120,125,305,338,375,407,443,1083,1200,1330,1446,1573,3847,4262,4722,5135,5584,13659,15134,16767,18234,19829],wb=[["Consumable","Consumable,Potion,Elixir,Flask,Scroll,Food & Drink,Item Enhancement,Bandage,Other".split(",")],["Container","Bag,Soul Bag,Herb Bag,Enchanting Bag,Engineering Bag,Gem Bag,Mining Bag,Leatherworking Bag,Inscription Bag,Tackle Box".split(",")],["Weapon","One-Handed Axes,Two-Handed Axes,Bows,Guns,One-Handed Maces,Two-Handed Maces,Polearms,One-Handed Swords,Two-Handed Swords,Obsolete,Staves,One-Handed Exotics,Two-Handed Exotics,Fist Weapons,Miscellaneous,Daggers,Thrown,Spears,Crossbows,Wands,Fishing Poles".split(",")],
["Gem","Red,Blue,Yellow,Purple,Green,Orange,Meta,Simple,Prismatic,Hydraulic,Cogwheel".split(",")],["Armor","Miscellaneous,Cloth,Leather,Mail,Plate,Bucklers,Shields,Librams,Idols,Totems,Sigils,Relic".split(",")],["Reagent",["Reagent"]],["Projectile",["Wand(OBSOLETE)","Bolt(OBSOLETE)","Arrow","Bullet","Thrown(OBSOLETE)"]],["Trade Goods","Trade Goods,Parts,Explosives,Devices,Jewelcrafting,Cloth,Leather,Metal & Stone,Meat,Herb,Elemental,Other,Enchanting,Materials,Item Enchantment,Weapon Enchantment - Obsolete".split(",")],
["Generic(OBSOLETE)",["Generic(OBSOLETE)"]],["Recipe","Book,Leatherworking,Tailoring,Engineering,Blacksmithing,Cooking,Alchemy,First Aid,Enchanting,Fishing,Jewelcrafting,Inscription".split(",")],["Money",["Money(OBSOLETE)"]],["Quiver",["Quiver(OBSOLETE)","Quiver(OBSOLETE)","Quiver","Ammo Pouch"]],["Quest",["Quest"]],["Key",["Key","Lockpick"]],["Permanent(OBSOLETE)",["Permanent"]],["Miscellaneous","Junk,Reagent,Pet,Holiday,Other,Mount".split(",")],["Glyph",{1:"Warrior",2:"Paladin",3:"Hunter",4:"Rogue",
5:"Priest",6:"Death Knight",7:"Shaman",8:"Mage",9:"Warlock",11:"Druid"}]],xb={164:[164,"Schmiedekunst","Eine hohe Schmiedefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schmiedepl\u00e4ne zu benutzen. Pl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schmiedepl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],165:[165,"Lederverarbeitung","Eine hohe Lederverarbeitungsfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],171:[171,"Alchemie","Eine hohe Alchemiefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Rezepte zu benutzen. Alchemierezepte k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Rezepte oder Ihr erhaltet sie als Questbelohnung.",[]],182:[182,"Kr\u00e4uterkunde","Eine hohe Kr\u00e4uterkundefertigkeit erm\u00f6glicht es Euch, schwierigere Kr\u00e4uter zu ernten. Wenn Ihr ein bestimmtes Kraut nicht ernten k\u00f6nnt, steigert Eure Kr\u00e4uterkundefertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Kr\u00e4uter erntet.",
[[22119,[81708,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,11,0,0,26,0,0,0,0,0,68781],[0,6,189,0,5,0,0,0,917504,0,0,0,0,87571],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 5 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,1,55428],[19355,[55428,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,29,0,0,61,0,0,0,0,0,48361],[0,6,189,0,15,0,0,0,917504,0,0,0,0,87572],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 15 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,75,55480],[19356,[55480,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,47,0,0,97,0,0,0,0,0,48439],[0,6,189,0,35,0,0,0,917504,0,0,0,0,87573],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 35 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,150,55500],[19357,[55500,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,71,0,0,145,0,0,0,0,0,48442],[0,6,189,0,55,0,0,0,917504,0,0,0,0,87574],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 55 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,225,55501],[19358,[55501,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,89,0,0,181,0,0,0,0,0,48443],[0,6,189,0,70,0,0,0,917504,0,0,0,0,87575],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 70 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,300,55502],[19359,[55502,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,119,0,0,241,0,0,0,0,0,48444],[0,6,189,0,120,0,0,0,917504,0,0,0,0,87576],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 120 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,375,55503],[19360,[55503,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,359,0,0,721,0,0,0,0,0,48445],[0,6,189,0,240,0,0,0,917504,0,0,0,0,87577],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 240 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74497],[21619,[74497,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,719,0,0,1441,0,0,0,0,0,74358],[0,6,189,0,480,0,0,0,917504,0,0,0,0,87594],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 480 haste rating for $time(20). Can be used while stealthed or invisible.",
k,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],186:[186,"Bergbau","Eine hohe Bergbaufertigkeit erm\u00f6glicht es Euch, schwierigere Erzvorkommen abzubauen. Wenn Ihr ein bestimmtes Erzvorkommen nicht abbauen k\u00f6nnt, steigert Eure Bergbaufertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Erzvorkommen abbaut.",[[17987,[53120,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,
0,0,j,[[0,6,29,0,3,0,0,0,2,0,0,0,0,45755],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 3.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,75,53121],[17988,[53121,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,5,0,0,0,2,0,0,0,0,45756],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 5.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,150,53122],[17989,[53122,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,7,0,0,0,2,0,0,0,0,45757],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 7.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,225,53123],[17990,[53123,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,10,0,0,0,2,0,0,0,0,45758],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 10.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,300,53124],[17991,[53124,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,30,0,0,0,2,0,0,0,0,45759],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 30.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,375,53040],[17984,[53040,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,60,0,0,0,2,0,0,0,0,45636],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 60.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74496],[21618,[74496,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,120,0,0,0,2,0,0,0,0,74357],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 120.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],197:[197,"Schneiderei","Eine hohe Schneiderfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],202:[202,"Ingenieurskunst","Eine hohe Ingenieursfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Baupl\u00e4ne zu benutzen. Baupl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Baupl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],333:[333,"Verzauberkunst","Eine hohe Verzauberungsfertigkeit erm\u00f6glicht es Euch, m\u00e4chtigere Formeln zu benutzen. Verzauberungsformeln k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben und auch bei toten Gegnern und beim Questen finden.",
[]],393:[393,"K\u00fcrschnerei","Eine hohe K\u00fcrschnerfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Monster zu h\u00e4uten. Sobald Euer Fertigkeitswert 100 \u00fcbersteigt, ist die maximale Stufe der Monster, die Ihr h\u00e4uten k\u00f6nnt, Euer Fertigkeitswert geteilt durch 5.",[[17993,[53125,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,
3,0,0,0,1792,0,0,0,0,45760],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 3.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,75,53662],[18277,[53662,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,6,0,0,0,1792,0,0,0,0,46349],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 6.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,150,53663],[18278,[53663,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,9,0,0,0,1792,0,0,0,0,46350],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 9.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,225,53664],[18279,[53664,"Master of Anatomy",
"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,12,0,0,0,1792,0,0,0,0,46351],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 12.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,300,53665],[18280,[53665,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.",
"inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,20,0,0,0,1792,0,0,0,0,46352],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 20.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,375,53666],[18281,[53666,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,40,0,0,0,1792,0,0,0,0,46353],j,
j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 40.",k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74495],[21617,[74495,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,80,0,0,0,1792,0,0,0,0,74356],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 80.",
k,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],755:[755,"Juwelenschleifen","Eine hohe Juwelenschleiferfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Vorlagen zu benutzen. Vorlagen bekommt Ihr bei allen Juwelierskunstlehrern, von toten Gegnern und als Questbelohnung.",[]],773:[773,"Inschriftenkunde","Eine h\u00f6here Inschriftenfertigkeit erm\u00f6glicht es Euch, fortgeschrittenere Inschriften zu erlernen. Inschriften k\u00f6nnt Ihr bei den gelehrten Schreibern \u00fcberall in der Welt erwerben.",
[]]};function x(a,b){this.Kc=a;this.scope=b}x.prototype.Kc=j;x.prototype.scope=j;x.prototype.ia=function(a){this.Kc.apply(this.scope,a)};function H(a,b,c,d,f){function g(a){f?c.apply(d,f):c.apply(d,[a])}document.addEventListener?a.addEventListener(b,g,k):document.attachEvent&&a.attachEvent("on"+b,g)}function yb(a,b,c,d){document.addEventListener?a.addEventListener(b,function(){c.ia(d)},k):document.attachEvent&&a.attachEvent("on"+b,function(){c.ia(d)})};function zb(a){return Math.floor(10*a.Cb)/10+(0==Math.floor(10*a.Cb)%10?".0":"")}function Ab(a){return 0==a.Ma%1E3?a.Ma/1E3+".00":0==a.Ma%100?a.Ma/1E3+"0":Math.floor(a.Ma/10)/100+""}function I(a,b){if(!a)return b.join(" ");var c;for(c=0;c<b.length;c++){if(-1==a.search(/\$/)){for(;c<b.length;c++)a+=" "+b[c];break}a=a.replace(/\$/,b[c])}return a}function J(a,b){return!a?""+b:-1==a.search(/\$/)&&b?a:a.replace(/\$/,""+b)}function w(a){return"?"+Fa(a)}
function Fa(a){var b="",c=0,d,f;for(f in a)0<c&&(b+="&"),b+=f,d=a[f],""!==d&&(b+="="+encodeURIComponent(""+d)),c++;return b}
function Bb(a,b){if(!a)return[""];var c,d,f;for(f=a;d=a.match(/\$(\?.*)$/i);){a=a.replace(d[0],Cb(d[1],b?b.Z:j));if(a==f)break;f=a}a=a.replace(/\$G(\w+):(\w+);/i,"$1 / $2");b?(d=b.f,a=a.replace(/\$pl\b/gi,""+b.g),a=a.replace(/\$max\b/gi,"Math.max"),a=a.replace(/\$hnd\b/gi,b.ta(16,0)?17==b.ta(16,0).Ca&&j==b.ta(17,0)?"2":"1":"1"),a=a.replace(/\$ap\b/gi,""+Math.floor(d.xa)),a=a.replace(/\$rap\b/gi,""+Math.floor(d.sb)),a=a.replace(/\$ar\b/gi,""+Math.floor(d.ra[0])),a=a.replace(/\$sp\b/gi,""+Math.floor(d.q[0])),
a=a.replace(/\$MWS\b/gi,K(d.ib,2)),a=a.replace(/\$mw/g,d.S[0][0]),a=a.replace(/\$MW/g,d.S[0][1]),a=a.replace(/\$z\b/gi,"[Location]")):(a=a.replace(/\$pl\b/gi,"[Player Level]"),a=a.replace(/\$max\b/gi,"[Maximum]"),a=a.replace(/\$hnd\b/gi,"[Hands]"),a=a.replace(/\$ap\b/gi,"[AP]"),a=a.replace(/\$rap\b/gi,"[rAP]"),a=a.replace(/\$ar\b/gi,"[Armor]"),a=a.replace(/\$sph\b/gi,"[SpDmg Holy]"),a=a.replace(/\$spn\b/gi,"[SpDmg Nature]"),a=a.replace(/\$spfr\b/gi,"[SpDmg Frost]"),a=a.replace(/\$spfi\b/gi,"[SpDmg Fire]"),
a=a.replace(/\$sps\b/gi,"[SpDmg Shadow]"),a=a.replace(/\$spa\b/gi,"[SpDmg Arcane]"),a=a.replace(/\$sp\b/gi,"[SpDmg]"),a=a.replace(/\$MWS\b/gi,"[Wpn Speed]"),a=a.replace(/\$mwb\b/g,"[Wpn minDmg]"),a=a.replace(/\$MWB\b/g,"[Wpn maxDmg]"),a=a.replace(/\$rwb\b/g,"[rWpn minDmg]"),a=a.replace(/\$RWB\b/g,"[rWpn maxDmg]"),a=a.replace(/\$mw\b/g,"[Wpn minDmg]"),a=a.replace(/\$MW\b/g,"[Wpn maxDmg]"),a=a.replace(/\$z/gi,"[Location]"));for(;c=a.match(/\$?\{([^{]*)\}(?:\.([\d]*))?/);)try{a=a.replace(c[0],function(){return Math.abs(Db(parseFloat(eval("("+
c[1]+")")),c[2]?parseInt(c[2],10):0))})}catch(g){a=a.replace(c[0],"<span class='yellow'>"+c[1]+"</span>")}return a.split("|")}function Eb(a,b){var c="",d="",c="",f,g=a.match(/^\?(!?)(a|s)(\d+)(.+)?$/i);if(!g)return["",a];f=Fb(g[4],b);c=f[0];f=Fb(f[1],b);d=f[0];if("!"==g[1])var h=c,c=d,d=h;c=b!=j&&b.Oa(parseInt(g[3],10))?c:d;return[c,f[1]]}function Fb(a,b){var c=a.match(/^(?:(\[([^\]]*)\])|(\?))(.*)$/i);return c[1]?[c[2],c[4]]:Eb(a,b)}function Cb(a,b){var c=Eb(a,b);return c[0]+c[1]}
function Gb(a,b){return 0<a?I(locale.ydRange2,[a,b]):J(locale.ydRange,b)}function K(a,b){for(var c="",a=Math.round(a*Math.pow(10,b));0<b;b--)if(0==a%10)c="0"+c,a/=10;else break;return 0==b?Math.floor(a)+"."+c:Math.floor(a)/Math.pow(10,b)+c}function L(a){var b,a=Math.round(100*a);b=a%10+"";a/=10;b=Math.floor(a%10)+b;return b=Math.floor(a/10)+"."+b}function Hb(a){a=Math.round(10*a);return Math.floor(a/10)+"."+a%10}
function Ib(a){a=Math.round(10*a)/10;return 0==a%3600?a/3600+" "+locale.h:0==a%60?a/60+" "+locale.m:a+" "+locale.s};function Jb(){if("undefined"!=typeof window.innerWidth)return[window.innerWidth,window.innerHeight];var a=window.document.compatMode&&"CSS1Compat"==window.document.compatMode?window.document.documentElement:window.document.body;return[parseInt(a.clientWidth,10),parseInt(a.clientHeight,10)]}function Kb(a){var b=document.createElement("div");b.style.clear="both";a.appendChild(b)}function Lb(a){if(a)for(;a.firstChild;)a.removeChild(a.firstChild)}
function Db(a,b){return b?Math.floor(Math.pow(10,b)*a)/Math.pow(10,b):Math.floor(a)}function N(a){return"<tr><td colspan='2'>"+a+"</td></tr>"}function O(a,b){return"<tr><td vAlign='bottom'>"+a+"</td><td vAlign='bottom' style='white-space:nowrap; padding-left:50px' align='right'>"+b+"</td></tr>"}var Mb=[{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:-1},{x:0,y:1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:0}];
function Nb(a){for(var b=[],c=document.createElement("div"),d=0;9>d;d++)switch(b[d]=document.createElement("div"),b[d].innerHTML=a,b[d].style.position="absolute",b[d].style.textAlign="right",b[d].style.width="24px",b[d].style.top=Mb[d].y+"px",b[d].style.left=Mb[d].x+"px",b[d].style.zIndex=d,c.appendChild(b[d]),d){case 8:b[d].style.color="#FFFFFF";break;default:b[d].style.color="#000000"}c.style.position="relative";c.style.height="17px";c.style.marginTop="6px";c.style.fontSize="12px";return c}
function Ob(a,b){b["default"]||e("Default css class missing!");a.className=b["default"];a.Dg=k;if(b.focus)a.onfocus=function(){this.Dg=i;this.className=b["default"]+" "+b.focus};a.onblur=function(){this.Dg=k;this.className=b["default"]};if(b.hover)a.onmouseover=b.focusHover?function(){this.className=this.Dg?b["default"]+" "+b.focusHover:b["default"]+" "+b.hover}:function(){this.className=b["default"]+" "+b.hover},a.onmouseout=function(){this.className=this.Dg&&b.focus?b["default"]+" "+b.focus:b["default"]}}
function ga(a){a.stack&&e(a.stack);e(a)}window.g_removeDots=function(a){return!a?a:a.replace(/\./," ")};function Pb(a,b){return 75<=b?6:165==a||182==a||186==a?55<=b?5:40<=b?4:25<=b?3:10<=b?2:1:65<=b?5:50<=b?4:35<=b?3:20<=b?2:10<=b?1:5<=b?0:-1}function Qb(a,b){var c=Pb(a,b);return 0>c?0:75*(c+1)};function Rb(a,b){this.message="Called abstract method "+a+"::"+b;this.name="NotImplementedException"}Rb.prototype=Error();function Sb(){}Sb.prototype=Error();function Tb(a,b,c,d){this.yc=b;this.event=a;this.wl=c;this.Nk=d}Tb.prototype={event:"",yc:{},wl:j,Nk:j,get:function(a){this.yc.hasOwnProperty(a)||e(Error("The key "+a+" is not defined for this event!"));return this.yc[a]},k:function(a){this.wl.bo(a)||e(Error("The event "+a+" is not registered for the subject!"));this.Nk.ko(a)||e(Error("The event "+a+" is not registered for the observer!"));return this.event===a}};function A(){this.Md={}}
A.prototype={Md:{},j:function(a,b){this.Md.hasOwnProperty(a)&&e(Error("The event "+a+" is already registered!"));"object"!==typeof b&&e(Error("Given arguments are not the correct type!"));for(var c in b)"string"!==typeof b[c]&&e(Error("The argument "+b[c]+" on index "+c+" is not of the type string!"));this.Md[a]={args:b,observers:[],propagators:[]}},i:function(a,b){var c=this.cf(a),d,f=0;d=c.args;for(f in b)d.hasOwnProperty(f)&&e(Error("The argument "+b[f]+" was not defined when registering the event!"));for(f in d)b.hasOwnProperty(f)&&
e(Error("The required argument "+d[f]+" was found!"));d=c.observers;for(f in d)d[f].Kc.ia([new Tb(a,b,this,d[f])]);c=c.propagators;for(f in c)c[f].i(a,b)},Oi:function(a){this.zm(a.event,a)},zm:function(a,b){var c=this.cf(a),d,f=0;d=c.args;for(f in b.yc)d.hasOwnProperty(f)&&e(Error("The argument "+b.yc[f]+" was not defined when registering the event!"));for(f in d)b.yc.hasOwnProperty(f)&&e(Error("The required argument "+d[f]+" was found!"));d=c.observers;for(f in d)d[f].Kc.ia([new Tb(a,b.yc,this,d[f])]);
c=c.propagators;for(f in c)c[f].i(a,b.yc)},D:function(a){for(var b in a.md){var c=this.cf(a.md[b]);a instanceof z||e(Error("You may only add GenericObserver as observer!"));c.observers.push(a)}},ub:function(a){for(var b in a.md){var c=a.md[b],d=this.cf(c).observers,f;for(f in d)if(a==d[f]){d.splice(f,1);return}e(Error("Unable to remove observer +"+a+" for event "+c+"!"))}},ha:function(a,b){this.cf(a).propagators.push(b)},Wk:function(a,b){var c=this.Md[a];("undefined"===typeof c||c===j)&&e(Error("The event "+
a+" is not registered!"));var d=c.propagators,f;for(f in c.propagators)if(b==d[f]){d.splice(f,1);return}e(Error("Unable to remove propagators +"+b+" for event "+a+"!"))},cf:function(a){var b=this.Md[a];("undefined"===typeof b||b===j)&&e(Error("The event "+a+" is not registered!"));return b},bo:function(a){a=this.Md[a];return"undefined"!==typeof a&&a!==j}};function z(a,b){if(a==j||b==j)return j;"object"!==typeof a&&e(Error("Given events to listen to are not the correct type!"));for(var c in a)"string"!==typeof a[c]&&e(Error("The event "+a[c]+" on index "+c+" is not of the type string!"));b instanceof x||e(Error("Given handler is not an instance of handler!"));this.md=a;this.Kc=b}z.prototype={md:{},Kc:j,ko:function(a){for(var b in this.md)if(this.md[b]===a)return i;return k}};var P={Zj:function(a,b){var c=j,d=j;try{c=y(a)}catch(f){d=f}b.ia([c,d])},$j:function(a,b){var c=0,d=j;try{c=y(a)}catch(f){d=f}b.ia([c,d])}};P.Oo=function(a,b,c,d){u("php/interface/profiles/get_battlenet_profile.php"+w({name:a,server:b,region:c}),new x(P.Zj,P),[d])};P.sq=function(a,b,c,d,f){u("php/interface/profiles/set_profile.php"+w({id:a,name:b,password:MD5(c),serialized:JSON.stringify(d.zl())}),new x(P.$j,P),[f,d])};
P.Rl=function(a,b,c){u("php/interface/profiles/set_profile.php"+w({id:a,session_id:g_settings.sessionId,serialized:JSON.stringify(b.zl())}),new x(P.$j,P),[c,b])};P.oq=function(a,b){u("php/interface/profiles/get_profile.php"+w({id:a}),new x(P.Zj,P),[b])};P.jq=function(a,b){u("php/interface/profiles/delete_profile.php"+w({id:a}),b,[a])};var Q={gq:"DatabaseIO: Error - "};Q.zn=function(a,b){u("php/interface/get_character_class.php"+w({"class":a,lang:g_settings.language}),new x(Q.An,Q),[b])};Q.An=function(a,b){var c=j;200==a.status?(c=parseInt(a.getResponseHeader("error"),10))&&e(new Ia("DatabaseIO.getCharacterClass")):e(new La(a));b&&b.ia([eval("("+a.responseText+")")])};Q.Bn=function(a,b){u("php/interface/get_character_race.php"+w({race:a,lang:g_settings.language}),new x(Q.Cn,Q),[b])};
Q.Cn=function(a,b){var c=j;200==a.status?(c=parseInt(a.getResponseHeader("error"),10))&&e(new Ia("DatabaseIO.getCharacterRace")):e(new La(a));b&&b.ia([eval("("+a.responseText+")")])};Q.rq=function(a,b,c,d,f,g,h){u("php/interface/user/save_stat_weights.php"+w({name:b,description:c,chr_class_mask:g,"public":d?1:0,serialized:JSON.stringify(a),overwrite:f?1:0}),new x(Q.sp,Q),[h])};
Q.sp=function(a,b){var c="",d=k;200==a.status?(d=eval("("+a.responseText+")"),c=d[0],d=d[1]):c="Wrong HTTP Response code: "+a.status;b&&b.ia([c,d])};Q.qq=function(a,b,c){u("php/interface/user/remove_stat_weights.php"+w({name:b,user_id:a}),new x(Q.ap,Q),[c])};Q.ap=function(a,b){var c="",c=200==a.status?eval("("+a.responseText+")"):"Wrong HTTP Response code: "+a.status;b&&b.ia([c])};function Ub(a,b){this.q=a;this.ab=b;this.Qg=k;this.pd=i;this.se=this.co=k;this.ld=Vb;this.Fd=this.q.Ve&&1<this.q.Ve.ab}var Vb=0;Ub.prototype={q:j,ab:0,Qg:k,pd:i,se:k,ld:Vb,Fd:k,Sd:function(){this.q.Ve&&this.q.Ve.ab>this.ab&&this.ab++},Zo:function(){1<this.ab&&this.ab--},Jp:ba("Qg"),Kp:function(a){this.se=(this.pd=a)?k:this.se},Bp:ba("ld"),Ap:function(a){this.pd=(this.se=a)?k:this.pd}};function Wb(a){this.id=a[0];this.type=a[1];this.q=a[2]?new R(a[2]):j;this.Jk=a[3]}Wb.prototype={id:0,type:0,q:j,Jk:0};function sa(a){var b;this.M=[j,j,j];this.I=[];this.fc=a;this.id=a[0];this.ja=a[1];this.ba=a[2];this.Al=this.aa=a[3];this.Ca=a[4];this.Cc=a[5];this.g=a[6];this.Jb=a[7];this.hp=a[8];this.Be=a[9];this.Xk=a[10];this.Zk=a[11];this.Up=a[12];this.f=a[13];this.Ma=a[14];this.N=[];for(b=0;b<a[15].length;b++)this.N[b]=a[15][b]!=j?new R(a[15][b]):j;this.fk=a[17];this.sj=this.name=a[18];this.oa=a[19]!=j?new Xb(a[19]):j;this.Bg=a[20];this.Y=a[21];this.Dd=a[22]!=j?new Yb(a[22]):j;this.v=a[23];this.qc=a[24];this.Ie=
a[25];this.Zm=a[26];this.Wi=a[27];this.Pb=a[28];this.unique=a[29];this.Yk=a[30];this.ij=a[31];this.Tp=a[32];this.ej=a[33];this.Sp=a[34];this.Rp=a[35];this.sa=a[36]!=j?new Zb(a[36]):j;this.description=a[37];this.Cb=a[38];this.Oc=a[39];this.Mc=a[40];this.Xa=j;if(a[41]){this.Xa=[];for(b=0;b<a[41].length;b++)this.Xa[b]=new $b(a[41][b])}else if(a[42]){this.Xa=[];for(b=0;b<a[42].length;b++)this.Xa[b]=new ac(a[42][b])}this.dc=a[43];this.Je=a[44];this.gi=a[45];this.Tk=a[46];this.io=a[47];this.jo=a[48];this.hn=
a[49]}
sa.prototype={M:j,Db:j,U:j,dd:j,id:0,ja:0,ba:0,aa:0,Ca:0,Cc:0,g:0,Jb:0,hp:0,Be:0,Xk:0,Zk:0,Up:0,f:0,Ma:0,N:j,fk:0,name:"",oa:0,Bg:0,Y:0,Dd:0,v:"",qc:"",Ie:0,Je:0,Zm:0,Wi:0,Pb:0,unique:0,Yk:0,ij:0,Tp:0,ej:0,Sp:0,Rp:0,sa:0,description:"",Cb:0,Oc:0,Mc:0,gi:0,Tk:0,io:0,jo:0,hn:0,ga:-1,la:-1,va:-1,tc:-1,Xa:j,sj:"",dc:j,Al:0,Ae:0,gp:0,jp:0,fp:j,ip:j,qh:function(a){this.dd=a;for(var b=0;3>b;b++)this.M[b]&&this.M[b].qh(a)},wi:function(){return 200<=this.g},Pi:function(a,b){var c,d=k,f=-1,g=-1;-1!=this.va&&e(new bc(this,
a,b,cc));200>this.g&&e(new bc(this,a,b,dc));for(c=0;c<Ma.length;c++)a==Ma[c]&&(d=i);d||e(new bc(this,a,b,ec));for(c=0;c<this.f.length;c++)this.f[c]&&(this.f[c][0]==b&&e(new bc(this,a,b,fc)),this.f[c][0]==a&&(f=c));if(this.U)for(c=0;c<this.U.I.length;c++)if((d=this.U.I[c])&&5==d.types[0])d.Ka[0]==b&&e(new bc(this,a,b,fc)),d.Ka[0]==a&&(g=c);-1==f&&-1==g&&e(new bc(this,a,b,hc));this.va=a;this.ga=b;if(-1!=f)this.tc=this.f[f][1],this.la=Math.floor(0.4*this.f[f][1]),this.f[f][1]-=this.la;else if(-1!=g)d=
this.U.I[g],this.tc=c=d.Fa[0],this.la=Math.floor(0.4*c),d.ca(c-this.la)},restore:function(){var a;if(-1!=this.va){for(a=0;a<this.f.length;a++)if(this.f[a]&&this.f[a][0]==this.va){this.f[a][1]=this.tc;break}if(this.U)for(a=0;a<this.U.I.length;a++){var b=this.U.I[a];b&&5==b.types[0]&&b.Ka[0]==this.va&&b.ca(this.tc)}}this.tc=this.va=this.la=this.ga=-1},Zi:function(a){if(this.dc!=j){var b=0,c=0,d=0,a=Math.min(a,this.dc[21]);this.f[b]!=j&&50<this.f[b][0]&&(this.f[9]=this.f[b],this.f[b]=j);if(4==this.ba){switch(this.Ca){case 1:this.Pb=
G[a][19+this.aa];c=G[a][7];break;case 3:this.Pb=G[a][11+this.aa];c=G[a][8];break;case 5:case 20:this.Pb=G[a][15+this.aa];c=G[a][7];break;case 7:this.Pb=G[a][23+this.aa];c=G[a][7];break;case 11:c=G[a][9];break;case 12:c=G[a][8];break;case 16:this.Pb=G[a][44],c=G[a][9]}switch(this.Al){case 4:this.aa=40<=a?4:3;this.qc[0]=locale.a_armor[this.aa];break;case 3:this.aa=40<=a?3:2,this.qc[0]=locale.a_armor[this.aa]}}else if(2==this.ba){var f=1<<this.aa;f&262156?(c=G[a][10],d=G[a][4]):f&43153?(c=G[a][11],d=
G[a][this.Je&512?2:0]):f&1185122&&(c=G[a][7],d=G[a][this.Je&512?3:1])}if(c){for(f=0;10>f;f++)0<this.dc[f]&&(this.f[b++]=[this.dc[f],Math.floor(this.dc[f+10]*c/1E4)]);this.Je&512&&2==this.ba&&0<G[a][6]&&(this.f[b++]=[45,G[a][6]])}if(d)this.Cb=d,this.Oc=Math.floor(this.Cb*this.Ma*(1-this.gi/2)/1E3),this.Mc=Math.floor(this.Cb*this.Ma*(1+this.gi/2)/1E3)}},ll:function(a){if(!(this.U&&a==this.U.id))if(this.restore(),0==a)this.U=j,this.name=this.sj;else{if(this.Xa)for(var b=0;b<this.Xa.length;b++)if(this.Xa[b].id==
a){this.U=this.Xa[b].kc();this.name=this.sj+" "+this.U.name;return}e(Error("Unable to set random property (ID:"+a+")"))}},Yc:function(a){if(!a)return j;for(var b=0;b<this.I.length;b++){var c=this.I[b];if(7==c.types[0]&&7==a.types[0]||7!=c.types[0]&&7!=a.types[0])return this.I[b]=a,c}this.I.push(a);return j},Uo:function(a){if(a)for(var b=0;b<this.I.length;b++)if(this.I[b].id==a.id){this.I.splice(b,1);break}},Zc:function(a,b){this.Xj(a,b,k)},bk:function(a,b){this.Xj(a,b,i)},Xj:function(a,b,c){if(a){!c&&
this.dd!=j&&(0<a.unique||a.Hk()==i)&&(this.M[b]==j||this.M[b].id!=a.id)&&!this.dd.mj(a.id)&&e(new ic(a,0,jc));if(1!=this.Y[b]&&6==a.aa||1==this.Y[b]&&6!=a.aa)return;if(a.sa&&a.sa.kh>this.g){c||e(new ic(a,0,kc));return}a.qh(this.dd)}this.M[b]=a},Si:function(a){this.M[a]=j},xi:function(){if(!this.Dd)return k;for(var a=0;3>a;a++)if(this.Y[a]){if(this.M[a]==j)return k;switch(this.Y[a]){case 1:if(6!=this.M[a].aa)return k;break;case 2:if(!(Math.pow(2,this.M[a].aa)&297))return k;break;case 4:if(!(Math.pow(2,
this.M[a].aa)&308))return k;break;case 8:if(!(Math.pow(2,this.M[a].aa)&282))return k}}return i},Ha:function(){var a=this.dd.Z,b,c;for(b=0;5>b;b++)(c=this.N[b])&&1==this.ij[b]&&a.add(this.N[b]);for(b=0;3>b;b++)(c=this.M[b])&&c.Ha(a);for(b=0;b<this.I.length;b++)this.I[b].Ha(a);this.Dd!=j&&this.xi()&&this.Dd.Ha(a);this.sa!=j&&this.sa.Db.Oa(this.dd)&&this.sa.Db.Ha(a)},eo:function(){return 0<this.unique},Hk:function(){return 0!=(this.Ie&524288)},Wn:function(){for(var a=0,b=0,c=0;3>c;c++)this.M[c]&&b++,
this.Y[c]&&a++;return b>a},le:function(a){for(var b=0,c=0;10>c;c++)this.f[c]!=j&&0<this.f[c][0]&&(b+=a[this.f[c][0]]*this.f[c][1]);this.sa&&(b+=this.sa.Db.le(a));return b},kc:function(){return new sa(this.fc)},qi:function(a){var b;for(b=0;b<this.f.length;b++)if(this.f[b]&&this.f[b][0]==a)return this.f[b][1];if(this.U)for(b=0;b<this.U.I.length;b++){var c=this.U.I[b];if(c&&5==c.types[0]&&c.Ka[0]==a)return c.Fa[0]}return 0}};function lc(a,b){this.id=b[0];this.name=b[1];this.description=b[2];this.pg=[];for(var c=0;c<b[3].length;c++){var d=new mc(b[3][c]);d&&(this.pg.push(d),E.set(d.q))}this.character=a;this.ka(Qb(this.id,a.g))}lc.prototype={id:0,name:"",description:"",pg:[],g:0,ka:function(a){var b=Qb(this.id,this.character.g);this.g=a>b?b:a},yn:function(){for(var a=0,b=j,c=0;c<this.pg.length;c++){var d=this.pg[c];if(d.Ae>a&&d.Ae<=this.g)a=d.Ae,b=d}return b==j?j:b.q}};function nc(a){var b,c;this.id=a[0];this.t=[];for(b=0;b<a[1].length;b++)c=new R(a[1][b]),this.t.push(new Ub(c,1)),E.set(c);this.Z=[];for(b=0;b<a[2].length;b++)this.Z.push(new R(a[2][b]))}nc.prototype={t:[],Z:[],id:0};function oc(a){this.id=a[0];this.name=a[1];this.an=a[2]}oc.prototype={id:0,name:"",an:0};function mc(a){this.id=a[0];this.q=a[1]?new R(a[1]):j;this.No=a[2];this.tg=a[3];this.Ae=a[4];this.cp=a[5]}mc.prototype={id:0,q:j,No:0,Ae:0,cp:0};function R(a){var b,c=a[17],d=j;if(c!=j)for(b=0;b<c.length;b++)(d=c[b])&&!E.contains(d[0])&&E.set(new R(d));this.g=85;this.fc=a;this.id=a[0];this.name=a[1];this.on=a[2];this.v=a[3];this.duration=a[4];this.Ya=a[5];this.gd=a[6];this.ge=a[7];this.Ye=a[8];this.wg=a[9];this.cj=this.wg==j?0:Math.max(this.wg[0],this.wg[1])/1E3;this.H=Array(3);for(b=0;3>b;b++)this.H[b]=a[10][b]?new pc(a[10][b]):j;this.Uc=a[11]?new qc(a[11]):j;this.gk=a[12]?a[12]:"";this.tp=a[13];this.xh=a[14]?new rc(a[14]):j;this.gb=a[15]?
new sc(a[15]):j;this.type=[];for(b=0;b<a[16].length;b++)c=a[16][b],0>c&&(c=~c+1),this.type[b]=c;this.Ve=a[18]?new tc(a[18]):j;this.kn=a[19]?new uc(a[19]):j;this.ld=a[20];this.ka(this.g)}
R.prototype={g:0,fc:j,id:j,name:j,on:j,v:j,duration:j,Ya:j,gd:j,ge:j,Ye:j,wg:j,cj:0,H:j,Uc:j,gk:j,tp:k,xh:j,gb:j,Ve:j,kn:j,type:j,ld:0,xd:0,Tb:function(a){for(var b=this.gk,c,d,f;(c=b.match(/\$(s|m|M)\(-?(\d+),(-?\d+),(-?\d+),(-?\d+),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?)\)/i))!=j;)f=parseFloat(c[8]),d=Xa(parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],10),this.g),d=Va(d?d[1]:1,parseInt(c[5],10),parseFloat(c[6]),parseFloat(c[7]),this.g),b=b.replace(c[0],Math.floor(f*(Math.abs(d[0])+
("M"==c[1]?Math.abs(d[1]):0))));for(;(c=b.match(/\$d\((\d+),(\d+),(\d+),(\d+(?:\.\d+)?)\)/i))!=j;)d=Xa(parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],10),this.g),b=b.replace(c[0],d[0]);for(;c=b.match(/(\${[^}]*)\$time\((-?\d+(?:\.\d+)?)\)([^}]*})/i);)b=b.replace(c[0],c[1]+c[2]+c[3]);for(;c=b.match(/\$time\((-?\d+(?:\.\d+)?)\)/i);)b=b.replace(c[0],Ib(c[1]));return Bb(b.replace(/\$pl/ig,this.g),a)},ka:function(a){var b,c;this.g=a;if(this.Uc!=j){a=Xa(this.Uc.jk,this.Uc.ik,this.Uc.Dk,this.g);if(a!=
j)this.Ye=a[0];for(c=0;c<this.H.length;c++)if(this.H[c]!=j&&(b=Va(a!=j?a[1]:1,this.Uc.Qb,this.Uc.ai[c],this.Uc.nk[c],this.g),b!=j))this.H[c].value=b[0],this.H[c].mk=b[1]}else for(c=0;c<this.H.length;c++)this.H[c]!=j&&this.H[c].ka(a)},vi:function(){return 0!=(this.type[0]&64)&&0>=this.duration},kc:function(){return new R(this.fc)},toString:function(){return"Spell ["+this.id+"]: "+this.Tb(j)},bl:function(){return this.id},le:function(a){var b=0;if(!this.vi())return 0;for(var c=0;3>c;c++)this.H[c]&&
(b+=this.H[c].le(a));return b},xk:function(){for(var a=0;3>a;a++)if(this.H[a]&&23==this.H[a].kd)return E.get(this.H[a].ye)}};function Yb(a){var b;this.id=a[0];this.types=[];this.Fa=[];this.Ka=[];for(b=0;5>b;b++)this.types[b]=a[1][b],this.Fa[b]=a[2][b],this.Ka[b]=a[3][b];this.N=[];for(b=0;3>b;b++)this.N[b]=1==this.types[b]||3==this.types[b]||7==this.types[b]?new R(a[4][b]):a[4][b];this.description=a[5];this.Dc=a[6];this.mh=a[7]?new oc(a[7]):j;this.Be=a[8];this.Jb=a[9];this.vb=a[10]}
Yb.prototype={id:0,types:[],Fa:[],Ka:[],description:"",rj:"",Dc:j,mh:j,Be:0,Jb:0,N:[],vb:0,Fk:function(a){if(a!=j&&this.Dc!=j)for(var b=0;5>b;b++)if(!this.Ek(b,a.B.Gc))return k;return i},Ek:function(a,b){var c=this.Dc[1][a];c||(c=0);var d=this.Dc[2][a];d||(d=0);var f=this.Dc[3][a];f||(f=0);var g=this.Dc[4][a];g||(g=0);if(!b||0==d&&0!=g&&b[c]!=g||2==d&&b[c]>=b[f])return k;if(3==d)if(0<g){if(b[c]<g+1)return k}else if(b[c]<=b[f])return k;return 0<c&&5==d&&b[c]<g?k:i},ca:function(a){if(5==this.types[0]||
4==this.types[0])this.Fa[0]=a;else if(3==this.types[0]&&this.N[0]!=j&&this.N[0].H[0]!=j)this.N[0].H[0].value=a;if(!this.rj)this.rj=this.description;this.description=this.rj.replace(/\$i/g,a)},rk:function(a){return 1>=this.Jb||a!=j&&this.Jb<=a.g},sk:function(a){return this.mh&&0<this.Be?a&&(a=a.vk(this.mh.id),a!=j&&a.g>=this.Be)?i:k:i},Oa:function(a){return this.rk(a)&&this.sk(a)&&this.Fk(a)},ma:function(a){var b=this.rk(a),c=this.sk(a),d=this.Fk(a),a="<table cellpadding = 0 cellspacing = 0>"+N("<span "+
(c&&b?d?"class='green'":"class='grey'":"class='red'")+">"+(7==this.types[0]&&this.N[0]?locale.use+": "+this.N[0].Tb(a).join("<br />"):this.description)+"</span>");b||(a+=N("<span class='red'>"+J(locale.reqLevel,this.Jb)+"</span>"));c||(a+=N("<span class='red'>"+locale.req+" "+this.mh.name+" ("+this.Be+")</span>"));return a+"</table>"},Ha:function(a){for(var b=0;3>b;b++)3==this.types[b]&&a.add(this.N[b])},le:function(a){for(var b=0,c=0;3>c;c++)switch(this.types[c]){case 5:switch(this.Ka[c]){case 0:b+=
a[2]*this.Fa[c];break;default:b+=a[this.Ka[c]]*this.Fa[c]}break;case 4:switch(this.Ka[c]){case 0:b+=a[50]*this.Fa[c];break;case 1:b+=a[53]*this.Fa[c];break;case 2:b+=a[51]*this.Fa[c];break;case 3:b+=a[55]*this.Fa[c];break;case 4:b+=a[52]*this.Fa[c];break;case 5:b+=a[54]*this.Fa[c];break;case 6:b+=a[56]*this.Fa[c]}break;case 3:b+=this.N[c].le(a)}return b}};function vc(a,b){var c;this.V=0;this.id=b[0];this.oj=a;this.Ef=b[1];this.bi=b[2];this.N=Array(5);for(c=this.Ib=0;c<b[3].length;c++)b[3][c]?(this.N[c]=new R(b[3][c]),E.set(this.N[c]),this.Ib++):this.N[c]=j;this.v=this.N[0].v;this.$k=b[4];this.Kb=[j,j,j];this.Wa=b[5]}
vc.prototype={id:0,N:j,Ib:0,$k:0,V:0,oj:0,Ef:0,bi:0,id:0,Kb:[],v:"Temp",Te:function(){for(var a=0;3>a;a++)if(this.Kb[a]!=j&&!this.Kb[a].te())return k;return i},Ip:function(a,b){this.Kb[a]=b},getName:function(){return this.N[0]?this.N[0].name:j},wk:function(){return 0==this.V?j:this.N[this.V-1]},In:function(){return this.V==this.Ib?j:this.N[this.V]},te:function(){return this.Ib==this.V},$n:function(a,b){return 4==b?3==a||31==a||35==a||41==a?(this.Wa[0]&212992||0==this.Wa[0])&&(this.Wa[1]&2147483648||
0==this.Wa[1])?i:k:this.Wa[0]&21238021||0==this.Wa[0]?i:k:1==b?7==a||37==a||44==a?(this.Wa[0]&2064||0==this.Wa[0])&&(this.Wa[1]&268435456||0==this.Wa[1])?i:k:(this.Wa[0]&42476576||0==this.Wa[0])&&(this.Wa[1]&201326592||0==this.Wa[1])?i:k:i}};function pc(a){this.Lo=a[0];this.Ue=a[1];this.kd=a[2];this.Fo=a[3];this.value=a[4];this.Yp=a[5];this.ln=a[6];this.mk=a[7];this.Lb=53==this.Ue?new Yb(a[8]):a[8];this.Nl=a[9];this.Io=a[10];this.zi=a[11];this.ye=a[12];this.id=a[13];this.ek=this.value}
pc.prototype={id:0,Lo:0,Ue:0,kd:0,Fo:0,value:0,Yp:0,ln:0,mk:0,Lb:j,Nl:0,Io:0,zi:0,ye:0,ek:0,ka:function(a){if(0!=this.zi)this.value=Math.floor(this.ek+this.zi*(a-1))},Ln:function(){return 0>=this.ye?j:E.get(this.ye)},le:function(a){var b=0,c;switch(this.kd){case 22:for(c=0;7>c;c++)if(0!=(this.Lb&1<<c))switch(c){case 0:b+=a[50]*this.value;break;case 1:b+=a[53]*this.value;break;case 2:b+=a[51]*this.value;break;case 3:b+=a[55]*this.value;break;case 4:b+=a[52]*this.value;break;case 5:b+=a[54]*this.value;
break;case 6:b+=a[55]*this.value}break;case 29:switch(this.Lb){case 0:b+=a[4]*this.value;break;case 1:b+=a[3]*this.value;break;case 2:b+=a[7]*this.value;break;case 3:b+=a[5]*this.value;break;case 4:b+=a[6]*this.value;break;case -1:for(c=3;7>=c;c++)b+=a[c]*this.value}break;case 34:b+=a[1]*this.value;break;case 35:0==this.Lb&&(b+=a[2]*this.value);break;case 85:b+=a[43]*this.value;break;case 99:b+=a[38]*this.value;break;case 124:b+=a[39]*this.value;break;case 189:for(c=0;32>c;c++)0!=(this.Lb&1<<c)&&
(19>=c?b+=a[c+11]*this.value:23==c?b+=a[37]*this.value:25==c&&(b+=a[49]*this.value))}return b}};function sc(a){this.mb=a[0];this.vb=a[1];this.Pf=a[2]}sc.prototype={mb:0,vb:0,Pf:0};function qc(a){this.jk=a[0];this.ik=a[1];this.Dk=a[2];this.Qb=a[3];this.ai=a[4];this.nk=a[5]}qc.prototype={jk:0,ik:0,Dk:0,ai:0,nk:0,Qb:0};function rc(a){this.sn=a[0];this.tn=a[1];this.mi=a[2];this.un=a[3];this.vn=a[4]}rc.prototype={sn:0,tn:0,mi:0,un:0,vn:0};function tc(a){this.ab=a[0];this.Ko=a[1];this.Jo=a[2]}tc.prototype={ab:0,Ko:0,Jo:0};function uc(a){this.mb=a[0]}uc.prototype={mb:0};function bc(a,b,c,d){this.Ab=d;this.Da=a;this.iq=c;this.pq=b}bc.prototype={Ab:j,Da:j,add:-1,red:-1,toString:function(){return"Unable to reforge "+this.Da+", reducing "+this.red+" and adding "+this.add+(this.Ab?"!\n Cause:"+this.Ab.toString():"")}};var ec=2,fc=3,hc=4,dc=5,cc=6;function wc(a,b){this.Ab=b;this.Da=a}
wc.prototype={Ab:j,Da:j,toString:function(){switch(this.Ab){case xc:return"You do not match the class requirement to wear this item!";case yc:return"You do not match the requirement to wear this item!";case zc:return"You are already wearing this item!";default:return"Unable to equip "+this.Da.name+" due to unknown reason!"}}};var xc=0,yc=1,zc=3;function ic(a,b,c){this.Ab=c;this.wn=a}ic.prototype={Ab:j,wn:j};var kc=0,jc=3;function Zb(a){this.Db=new Yb(a[0]);this.kh=a[1]}Zb.prototype.Db=j;Zb.prototype.kh=0;function Ac(){}Ac.prototype={id:0,name:"",I:[],fc:[],kc:l(j)};function $b(a){this.id=a[0];this.name=a[1];this.I=[];for(var b=0;5>b;b++)this.I[b]=a[2+b]?new Yb(a[2+b]):j;this.fc=a}$b.prototype=new Ac;$b.prototype.kc=function(){return new $b(this.fc)};function ac(a){this.id=0-a[0];this.name=a[1];this.I=[];for(var b=0;5>b;b++)a[2+b]?(this.I[b]=new Yb(a[2+b][1]),this.I[b].ca(a[2+b][0])):this.I[b]=j;this.fc=a}ac.prototype=new Ac;ac.prototype.kc=function(){return new ac(this.fc)};function Xb(a){var b;this.id=a[0];this.name=a[1];this.lq=a[2];this.Xd=[];for(b=0;b<a[3].length;b++)this.Xd[b]=a[3][b]!=j?new R(a[3][b]):j;this.Vi=a[4];this.ho=a[5];this.n=a[6]}Xb.prototype={id:0,name:"",Xd:[],Vi:[],Ha:function(a){for(var b=0;8>b;b++)this.Xd[b]!=j&&a.ni(this.id)>=this.Vi[b]&&a.Z.add(this.Xd[b])}};function Bc(a){this.character=a;this.H=[this.Xf(),this.Xf(),this.Xf(),this.Xf()];this.hf=[-1,-1];this.pf=[-1,-1];this.Bf=[-1,-1];this.Xe=this.Vd=this.re=j}
Bc.prototype={character:j,Z:[],t:[],H:[],hf:[-1,-1],pf:[-1,-1],Bf:[-1,-1],re:{},Vd:{},Xe:{},Th:{},Jm:0,Xf:function(){var a=Array(321);a[13]=Array(7);a[22]=Array(7);a[29]=Array(5);a[30]=Array(96);a[35]=Array(7);a[55]=Array(7);a[71]=Array(7);a[79]=Array(7);a[98]=Array(96);a[101]=Array(25);a[107]=Array(25);a[108]=Array(25);a[123]=Array(7);a[135]=Array(7);a[137]=Array(7);a[142]=Array(7);a[143]=Array(7);a[174]=Array(7);for(var b=0;7>b;b++)a[174][b]=Array(5);a[175]=Array(5);a[189]=Array(38);a[199]=Array(7);
a[212]=Array(5);a[219]=Array(5);a[220]=[];for(b=0;32>b;b++)a[220][b]=[0,0,0,0,0];a[237]=Array(7);a[238]=Array(7);a[268]=Array(5);return a},yj:function(a){if(a)for(var b=0;b<a.length;b++)"object"===typeof a[b]?this.yj(a[b]):a[b]=0},add:function(a){a&&!this.Vd[a.id]&&(this.Z.push(a),this.Vd[a.id]=i)},Qd:function(a){a&&!this.Xe[a.q.id]&&(this.t.push(a),this.Xe[a.q.id]=i)},Oa:function(a){return this.Vd[a]||this.Xe[a]?i:k},Hn:function(){var a=[],b={},c,d;c=j;this.Jm=Ra[this.character.d?this.character.d.id:
0];this.Z=[];this.t=[];this.yj(this.H);this.Vd={};this.Xe={};this.Th={};this.hf=[-1,-1];this.pf=[-1,-1];this.Bf=[-1,-1];this.character.Ha();for(d=0;d<Cc;d++)if(c=this.character.ta(d,0)){c.Ha();if(16==d)this.hf=[c.ba,c.aa];if(17==d)this.pf=[c.ba,c.aa];if(18==d)this.Bf=[c.ba,c.aa];if(c.oa!=j&&b[c.oa.id]!==i)b[c.oa.id]=i,a[a.length]=c.oa}for(d=0;d<a.length;d++)a[d].Ha(this.character);this.re={};for(d=0;d<this.Z.length;d++)this.Fj(this.Z[d],1,k,k);for(d=0;d<this.t.length;d++)c=this.t[d],!c.se&&!this.Th[c.q.id]&&
this.Fj(c.q,c.ab,i,c.co);return this.H},Fj:function(a,b,c,d){if(a&&(a.ka(this.character.g),!(a.xh&&0!=a.xh.mi&&0==(a.xh.mi&1<<(this.character.d?this.character.d.Ea-1:0))||!c&&!a.vi())))if(this.Th[a.id]=i,a.gb!=j&&-1!=a.gb.mb){if(a.gb.mb==this.hf[0]&&a.gb.Pf&1<<this.hf[1]&&this.Le(a,this.H[1],b,c,d),a.gb.mb==this.pf[0]&&a.gb.Pf&1<<this.pf[1]&&this.Le(a,this.H[2],b,c,d),a.gb.mb==this.Bf[0]&&a.gb.Pf&1<<this.Bf[1]&&this.Le(a,this.H[3],b,c,d),4==a.gb.mb){var f,g,h=i;for(f=0;32>f&&h;f++)if(a.gb.vb&1<<f&&
(g=Sa[f],g=this.character.ta(g,0),!g||!(g.ba==a.gb.mb&&a.gb.Pf&1<<g.aa)))h=k;h&&this.Le(a,this.H[0],b,c,d)}}else this.Le(a,this.H[0],b,c,d)},Le:function(a,b,c,d,f){var a=a.H,g=0,h,n=k;if(d&&!f)for(d=0;3>d;d++)if(a[d]!=j&&65==a[d].Ue){n=i;break}for(d=0;3>d;d++)if(f=a[d],f!=j&&(g=f.id,h=f.value,!(n&&65!=f.Ue))){switch(g){case 68368:if(this.re[47203])continue;break;case 47203:if(this.re[68368])continue;break;case 46325:case 68163:if(!this.Pd([46325,68163]))continue;this.Pd([44537,68341,68343,90962,90963])||
(h-=6);break;case 44537:case 90962:case 90963:case 68341:case 68343:if(!this.Pd([44537,68341,68343,90962,90963]))continue;if(!this.Pd([46325,68163]))continue;break;case 3549:case 45922:case 48552:if(!this.Pd([3549,45922,48552]))continue;break;case 86186:case 97691:case 48553:if(!this.Pd([86186,97691,48553]))continue}this.re[g]=i;this.Fh(b,f.kd,h*c,f.Lb,f.Nl,g)}},Pd:function(a){for(var b in a)if(this.re[a[b]])return k;return i},Fh:function(a,b,c,d,f,g){var h;h=this.character.d?this.character.d.Ea:
0;switch(g){case 81812:c=120;break;case 88002:case 88004:case 88006:if(5!=h&&8!=h)return;b=142;d=1;break;case 8697:case 8700:case 8694:if(5!=h&&8!=h)return;b=137;f=4;break;case 8699:case 8696:case 8693:if(1!=h)return;b=166}switch(b){case 13:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 22:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 29:if(-1==d)for(h=0;5>h;h++)this.Fh(a,b,c,h,f,g);else a[b][d]+=c;break;case 30:a[b][d]+=c;break;case 35:a[b][d]+=c;break;case 55:0==
d&&(d=127);for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 71:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 79:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 98:a[b][d]+=c;break;case 99:a[b]+=c;break;case 101:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 107:a[b][d]+=c;break;case 108:a[b][d]+=c;break;case 123:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 124:a[b]+=c;break;case 135:for(h=0;h<a[b].length;h++)d&
Math.pow(2,h)&&(a[b][h]+=c);break;case 137:for(h=0;h<a[b].length;h++)if(f&1<<h||-1==f)a[b][h]=100*((1+a[b][h]/100)*(1+c/100)-1);break;case 142:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]=100*((1+a[b][h]/100)*(1+c/100)-1));break;case 143:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]=Math.max(c,a[b][h]));break;case 174:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h][f]+=c);break;case 175:a[b][d]+=c;break;case 189:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 199:for(h=
0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 212:a[b][d]+=c;break;case 219:a[b][d]+=c;break;case 220:for(h=0;32>h;h++)d&1<<h&&(a[b][h][f]+=c);break;case 237:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 238:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 240:21444==g&&this.Oa(56416)&&(c+=10);a[b]+=c;break;case 268:if(-1==d)for(h=0;5>h;h++)this.Fh(a,b,c,h,f,g);else a[b][d]+=c;break;default:a[b]+=c}}};function Dc(){this.t={};this.c=new A;this.c.j("change",["silent"]);this.c.j("remove_buff",["buff","silent"]);this.c.j("remove_stack",["buff","silent"])}var Ec;
Ec=function(a,b){u("php/interface/get_buffs.php",new x(function(c){try{var d=y(c),c={},f;for(f in d){c[f]=[];for(var g=0;g<d[f].length;g++)if("Food"===f){var h=new sa(d[f][g]);B.set(h);var n=h.N[0]!=j&&h.N[0].xk()?new Fc(h.name,h.v,h.N[0].xk(),b):j;n&&c[f].push(n)}else{var r=new R(d[f][g]);E.set(r);c[f].push(new Fc(r.name,r.v,r,b))}}a.ia([c,j])}catch(v){a.ia([j,v])}},Dc),[])};
Dc.prototype={t:{},D:function(a){this.c.D(a)},set:function(a){this.t[a.q.id]=a;this.c.i("change",{silent:k})},Sd:function(a){(a=this.t[a])&&a.Sd();this.c.i("change",{silent:k})},hg:function(a,b,c){E.Ud(a,new x(this.Wj,this),[a,b,i,i,c,Vb])},add:function(a,b){E.Ud(a,new x(this.Wj,this),[a,k,k,b,k,Vb])},Wj:function(a,b,c,d,f,g){d=k;switch(a){case 79060:case 79062:this.yb([79060,79062])||(d=i);break;case 80353:case 32182:this.yb([80353,32182])||(d=i);break;case 79104:case 6307:case 469:this.yb([79104,
6307,469])||(d=i);break;case 79101:case 53138:case 30808:case 19506:this.yb([79101,53138,30808,19506])||(d=i);break;case 79057:case 54424:this.yb([79057,54424])||(d=i);break;case 77747:case 53646:this.yb([77747,53646])||(d=i);break;case 2895:case 49868:case 24907:this.yb([24907,49868,2895])||(d=i);break;case 53290:case 8515:case 55610:this.yb([8515,55610,53290])||(d=i);break;case 51701:case 29801:case 51470:case 24932:this.yb([51701,29801,51470,24932])||(d=i);break;case 6673:case 8076:case 57330:case 93435:this.yb([6673,
8076,57330,93435])||(d=i)}var h=E.get(a),n=[];if(h.ld){for(var r in this.t)0!=(this.t[r].q.ld&h.ld)&&n.push(this.t[r].q.id);d=!this.yb(n)}d||(this.t[a]!=j&&this.t[a].pd==(c?k:i)&&this.t[a].Fd?this.t[a].Sd():(this.t[a]=new Ub(h,1),this.t[a].Jp(b),this.t[a].Kp(c?k:i),this.t[a].Bp(g),this.t[a].Ap(f)));this.c.i("change",{silent:c?i:k})},jh:function(a,b){b&&(!this.t[a]||!this.t[a].pd)?delete this.t[a]:this.Oj(a,i)},remove:function(a){this.Oj(a,k)},Oj:function(a,b){if(this.t[a]&&!this.t[a].Qg&&(!b||!this.t[a].pd))if(this.t[a]&&
1<this.t[a].ab)this.t[a].Zo(),this.c.i("remove_stack",{buff:this.t[a],silent:b?i:k});else{var c=this.t[a];delete this.t[a];this.c.i("remove_buff",{buff:c,silent:b?i:k})}},yb:function(a){for(var b=0;b<a.length;b++){if(this.t[a[b]]&&this.t[a[b]].Qg)return k;delete this.t[a[b]]}return i},Oa:function(a){return this.t[a]?i:k}};function Gc(a){this.n=Array(19);this.Gc=[0,0,0,0,0];this.character=a;this.Cf=j;for(a=0;a<this.n.length;a++)this.n[a]=[j,j,j,j,j]}var Hc=[1,2,3,16,[20,5],4,19,9,10,6,7,8,11,11,12,12,[21,17,13],[23,22,14,13,17],[28,26,25,15]],Cc=19;
Gc.prototype={n:[],$g:j,Rc:0,sf:-1,Fi:j,Ok:j,ji:k,ki:j,Cf:{},Gc:[],character:j,cg:function(a){for(var b=this.n[a].length-1;0<b;b--)this.n[a][b]=this.n[a][b-1];this.n[a][0]=j},Tj:function(a,b){16==b&&!this.character.Xh()&&17==a.Ca&&this.n[17][0]!=j&&this.cg(17);17==b&&!this.character.Xh()&&this.n[16][0]&&17==this.n[16][0].Ca&&this.cg(16)},vh:function(a){this.Za();this.Cf=this.Qi();this.Df();this.gh(a)},il:function(a,b,c){-1<c?(this.Ok=this.n[b][0].M[c],this.n[b][0].bk(a,c)):(this.$g=a)&&a.qh(this.character);
this.Rc=b;this.sf=c},Xi:function(a,b){if(this.n[b][0]!=j){var c=j;if(a!=j&&a.H[0]!=j&&a.H[0].Lb)c=a.H[0].Lb;this.ki=c;this.Fi=this.n[b][0].Yc(c);this.Rc=b;this.ji=i}},Za:function(){-1<this.Rc&&(-1<this.sf&&(this.n[this.Rc][0].bk(this.Ok,this.sf,i),this.El()),this.ji&&(this.n[this.Rc][0].Uo(this.ki),this.n[this.Rc][0].Yc(this.Fi)));if(this.Cf)this.Df(),this.gh(this.Cf),this.Cf=j;this.$g=this.Fi=j;this.sf=this.Rc=-1;this.ji=k;this.ki=j},set:function(a,b){var c=k,d;if("object"==typeof Hc[a])for(d=0;d<
Hc[a].length;d++)b.Ca==Hc[a][d]&&(c=i);else b.Ca==Hc[a]&&(c=i);b.Zi(this.character.g);this.character.qg(b)||e(new wc(b,yc));this.character.Cg(b)||e(new wc(b,xc));this.Uj(b,a)&&(this.Tj(b,a),c&&(this.cg(a),(this.n[a][0]=b)&&b.qh(this.character)));return c},mj:function(a){var b,c,d,f;for(b=0;b<this.n.length;b++)if(d=this.n[b][0],d!=j)for(c=0;c<d.M.length;c++)if(f=d.M[c],f!=j&&f.id==a)return k;return i},Uj:function(a,b){var c;if(a.eo()||a.Hk()==i)for(c=0;c<this.n.length;c++)c!=b&&this.n[c][0]!=j&&a.id==
this.n[c][0].id&&e(new wc(a,zc));return i},remove:function(a){this.n[a][0]!=j&&this.cg(a)},Wp:function(a,b){if(this.Uj(this.n[a][b],a)){this.Tj(this.n[a][b],a);var c=this.n[a][0];this.n[a][0]=this.n[a][b];this.n[a][b]=c}},get:function(a){return this.Rc==a&&-1==this.sf&&this.$g!=j?this.$g:0<=a&&a<this.n.length?this.n[a][0]:j},ni:function(a){for(var b=0,c=j,d=0;19>d;d++)c=this.get(d),c!=j&&c.oa!=j&&c.oa.id==a&&b++;return b},bl:function(){for(var a="",b=1;b<this.n.length;b++)a+="_",this.n[b][0]!=j&&
(a+=this.n[b][0].bl());return a},El:function(){var a=j,b=j,b=-1;this.Gc=[0,0,0,0,0];for(var c=0;19>c;c++)if(a=this.get(c))for(var d=0;3>d;d++)if(b=a.M[d])b=b.aa,6==b&&this.Gc[1]++,(0==b||3==b||5==b||8==b)&&this.Gc[2]++,(2==b||4==b||5==b||8==b)&&this.Gc[3]++,(1==b||3==b||4==b||8==b)&&this.Gc[4]++},Si:function(a){var b,c;for(b=0;b<this.n.length;b++)if(this.n[b][0]!=j)for(c=0;3>c;c++)this.n[b][0].M[c]&&this.n[b][0].M[c].id==a&&this.n[b][0].Zc(j,c)},Df:function(){var a;for(a=0;19>a;a++)this.n[a][0]&&
this.n[a][0].restore()},gh:function(a){this.Df();for(var b in a)if(this.n[b][0])if(-1==a[b][0])this.n[b][0].restore();else try{this.n[b][0].Pi(a[b][0],a[b][1])}catch(c){e(c)}},Qi:function(){for(var a=[],b=0;19>b;b++)this.n[b][0]&&(a[b]=[this.n[b][0].va,this.n[b][0].ga]);return a}};function Ic(a,b,c){this.c=new A;this.c.j("talents_reset",[]);this.c.j("talent_tree_reset",["tree"]);this.c.j("talent_tree_selected",["tree"]);this.c.j("talent_point_added",["tree","row","col","remainingPoints"]);this.c.j("talent_point_removed",["tree","row","col","remainingPoints"]);this.c.j("talent_distribution_set",["distribution"]);this.c.j("talents_init",[]);this.id=a;this.Go=0;this.ea=(this.Ub=c)?1:3;this.rows=c?6:11;this.cols=4;this.Xb=c?20:10;this.rb=c?3:5;this.Lc=c?4:1;this.g=Jc;this.r=[];
this.ua=[];this.ve=[];this.Qb=[];this.ce=[];this.gc=[];this.qj=[];this.pj=[];for(var d,f=[],a=0;a<this.ea;a++){this.gc[a]=b[a][0];this.qj[a]=b[a][2];this.pj[a]=b[a][1];this.r[a]=Array(this.rows);for(c=0;c<this.rows;c++)this.r[a][c]=Array(this.cols);for(c=0;c<b[a][3].length;c++)if(d=new vc(a,b[a][3][c]),!this.Ub||d.$n(this.Go,this.id))this.r[a][d.Ef][d.bi]=d,f[d.id]=d;for(c=0;c<this.rows;c++)for(d=0;d<this.cols;d++)if(this.r[a][c][d]!=j)for(var g=this.r[a][c][d],h=0;3>h;h++){var n=g.$k[h];n&&g.Ip(h,
f[n])}this.ve[a]=[];for(c=0;c<b[a][4].length;c++)this.ve[a][c]=b[a][4][c]!=j?new R(b[a][4][c]):j;this.ua[a]=[];for(c=0;c<b[a][5].length;c++)this.ua[a][c]=new R(b[a][5][c])}this.wc(-1);this.c.i("talents_init",{})}var Kc=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];
Ic.prototype={c:j,Xb:10,g:0,ea:0,rows:0,cols:0,rb:0,Lc:1,r:[],Qb:[],ce:[],fd:"",za:[],K:-1,Ub:k,ve:[],ua:[],gc:[],qj:[],pj:[],D:function(a){this.c.D(a)},ub:function(a){this.c.ub(a)},wc:function(a){this.K=a;this.bg(i);this.c.i("talent_tree_selected",{tree:a})},Ic:function(){return this.Pm<this.Xb?0:this.Fg()-this.Hg()},Fg:function(){return this.g<this.Xb?0:this.Ub?Math.floor((this.g-this.Xb)/this.Lc+1):1+Math.min(35,this.g-9>>1)+Math.max(0,this.g-80)},Hg:function(){for(var a=0,b=0;b<this.ea;b++)a+=
this.za[b];return a},ka:function(a){this.Pm=a;0>this.Ic()&&this.bg(i)},Wm:function(a,b,c){this.Hj(a,b,c,1)&&this.c.i("talent_point_added",{tree:a,row:b,col:c,remainingPoints:this.Ic()})},Wo:function(a,b,c){this.Hj(a,b,c,-1)&&this.c.i("talent_point_removed",{tree:a,row:b,col:c,remainingPoints:this.Ic()})},Hj:function(a,b,c,d){if(-1!=this.K&&this.r[a][b][c]!=j&&this.r[a][b][c].V+d<=this.r[a][b][c].Ib&&0<=this.r[a][b][c].V+d&&0<=this.Ic()-d&&this.za[a]>=this.rb*b&&(31<=this.za[this.K]||a==this.K)&&(this.K!=
a||31<=this.za[a]+d||this.Hg()==this.za[a])){this.r[a][b][c].V+=d;this.za[a]+=d;if(this.Km(a))return this.Qe(),i;this.r[a][b][c].V-=d;this.za[a]-=d}return k},Km:function(a){var b=0,c,d,f,g=[];for(c=0;c<this.rows;c++){g[c]=[];for(d=0;d<this.cols;d++)if(g[c][d]=-1,f=this.r[a][c][d],f!=j&&0<f.V){if(b<c*this.rb||!f.Te())return k;b+=f.V}}return i},reset:function(){this.bg(k);this.Qe();this.c.i("talents_reset",{})},bg:function(a){for(var b=0;b<this.ea;b++)this.Pj(b);a||this.wc(-1)},op:function(a){a==this.K&&
this.Hg()!=this.za[a]?(this.bg(i),this.Qe(),this.c.i("talents_reset",{})):(this.Pj(a),this.Qe(),this.c.i("talent_tree_reset",{tree:a}))},Pj:function(a){for(var b,c=0;c<this.rows;c++)for(var d=0;d<this.cols;d++)if(b=this.r[a][c][d],b!=j)b.V=0;this.za[a]=0},Ih:function(a){a=9<a?35<a?65+a-36:97+a-10:48+a;return unescape("%"+Kc[Math.floor(a/16)]+Kc[Math.floor(a%16)])},Qe:function(){this.Qb=[];this.ce=[];this.fd="";var a=0,b=0,c=-1,d="",f,g,h;for(f=0;f<this.ea;f++)for(g=0;g<this.rows;g++)for(h=0;h<this.cols;h++)this.r[f][g][h]!=
j?(this.ce[a++]=this.r[f][g][h].V,this.Qb[b++]=this.r[f][g][h].V,-1==c?c=this.r[f][g][h].V:(c=6*c+this.r[f][g][h].V,d+=this.Ih(c),c=-1)):this.Qb[b++]=0;-1!=c&&(d+=this.Ih(6*c));for(g=0;g<d.length;g++)if(48==d.charCodeAt(g)){for(a=0;48==d.charCodeAt(g)&&g<d.length;)g++,a++;g!=d.length&&(g--,this.fd+=","+this.Ih(a))}else this.fd+=d.charAt(g)},zp:function(a,b){var c=0,d,f,g,h,n=[];for(f=0;f<this.ea;f++)for(g=n[f]=0;g<this.rows;g++)for(h=0;h<this.cols;h++)this.r[f][g][h]!=j&&(d=parseInt(a[c],10),d=isNaN(d)?
0:d,n[f]+=d,b&&c++),b||c++;c=0;d=-1;for(g=0;g<this.ea;g++){if(31<=n[g]){d=g;break}n[g]>c&&(d=g,c=n[g])}-1!=d&&this.wc(d);for(f=c=0;f<this.ea;f++)for(g=this.za[f]=0;g<this.rows;g++)for(h=0;h<this.cols;h++){if(this.r[f][g][h]!=j)d=parseInt(a[c],10),this.r[f][g][h].V=isNaN(d)?0:d,this.za[f]+=d,b&&c++;b||c++}this.Qe();this.c.i("talent_distribution_set",{distribution:this.Eg(k)})},Eg:function(a){return a?this.ce:this.Qb},Ha:function(a){var b=j,c,d,f;for(c=0;c<this.ea;c++){for(d=0;d<this.rows;d++)for(f=
0;f<this.cols;f++)this.r[c][d][f]!=j&&(b=this.r[c][d][f].wk(),b!=j&&a.add(b));if(c==this.K){for(d=0;d<this.ua[c].length;d++)a.add(this.ua[c][d]);for(d=0;d<this.ve[c].length;d++)a.add(this.ve[c][d])}}}};function xa(){this.sg=[];this.c=new A;this.c.j("character_change",["character"])}xa.prototype={sg:[],c:j,cursor:-1,Rm:function(a){this.sg.push(a);this.cursor=this.sg.length-1;this.c.i("character_change",{character:a})},L:function(){return-1==this.cursor?j:this.sg[this.cursor]}};function ya(){this.c=new A;this.c.j("race_change",["race"]);this.c.j("class_change",["class"]);this.c.j("level_change",["level"]);this.c.j("character_loaded",["character"]);this.c.j("stats_change",["stats"]);this.c.j("preview_stats_change",["previewStats"]);this.c.j("profession_change",["index","profession"]);this.c.j("profession_level_change",["index","level"]);this.c.j("item_change",["slot"]);this.c.j("gem_change",["slot","socket"]);this.c.j("enchant_change",["slot"]);this.c.j("reforge_change",
["slot"]);this.c.j("random_enchant_change",["slot"]);this.c.j("talents_reset",[]);this.c.j("talent_tree_reset",["tree"]);this.c.j("talent_tree_selected",["tree"]);this.c.j("talent_point_added",["tree","row","col","remainingPoints"]);this.c.j("talent_point_removed",["tree","row","col","remainingPoints"]);this.c.j("talent_distribution_set",["distribution"]);this.c.j("talents_init",[]);this.c.j("buffs_change",[]);this.c.j("shapeform_change",["new_shape","old_shape"]);this.c.j("presence_change",["new_presence",
"old_presence"]);var a=new x(function(a){this.c.Oi(a)},this);this.pa=[j,j];this.f=new Lc(this);this.Ji=new Lc(this);this.B=new Gc(this);this.Z=new Bc(this);this.t=new Dc;this.lj=new z("talents_reset,talent_tree_reset,talent_tree_selected,talent_point_added,talent_point_removed,talent_distribution_set,talents_init".split(","),a);this.t.D(new z(["change","remove_buff","remove_stack"],new x(function(a){if(a.k("remove_buff")){var c=this.d?this.d.shape:j;if(c)for(var d in c.t)if(a.get("buff").q.id==c.t[d].q.id){this.Ad(0);
break}}a.get("silent")||this.X();this.c.i("buffs_change",{})},this)));this.$h=new z(["shapeform_change","presence_change"],new x(function(a){if(a.k("shapeform_change")){var c=a.get("old_shape"),d=a.get("new_shape"),f;if(c)for(f=0;f<c.t.length;f++)this.t.jh(c.t[f].q.id,i);if(d)for(f=0;f<d.t.length;f++)this.t.hg(d.t[f].q.id,1==this.d.id,i);this.c.Oi(a)}else a.k("presence_change")&&(c=a.get("old_presence"),d=a.get("new_presence"),c&&this.t.jh(c.q.id,i),d&&this.t.hg(d.q.id,i,i),this.c.Oi(a))},this));
this.ka(Jc);this.description=this.name="";this.em=j}var Jc=85;
ya.prototype={c:j,lj:j,$h:j,O:j,d:j,g:Jc,B:j,t:j,pa:j,f:j,Ji:j,Z:j,description:"",name:"",em:j,D:function(a){this.c.D(a)},ub:function(a){this.c.ub(a)},ka:function(a){if(a>=this.pi()&&85>=a){this.d!=j&&this.d.ka(a);this.g=a;for(var b=0;2>b;b++)this.pa[b]&&(0==Qb(this.pa[b].id,this.g)&&(this.pa[b]=j),this.pa[b].ka(this.g))}else e(new Mc(a));this.X();this.c.i("level_change",{level:a})},rh:function(a){this.d!=j&&(this.d.r.ub(this.lj),this.d.ub(this.$h));if(a!=j){(this.O==j||!this.O.Ik(a.id))&&e(new Nc(this.O,
a));this.d=a;try{this.d.ka(this.g)}catch(b){b instanceof Mc?b.g>Jc?this.d.ka(Jc):this.d.ka(this.pi()):ga(b)}this.d.r.D(this.lj);this.d.D(this.$h)}else this.d=j;this.X();this.c.i("class_change",{"class":a})},kl:function(a){a==j?this.rh(j):(this.d!=j&&!a.Ik(this.d.id)&&this.rh(j),this.O=a);this.X();this.c.i("race_change",{race:a})},X:function(){Oc(this.f,k);this.c.i("stats_change",{stats:this.f})},eb:function(){Oc(this.Ji,i);this.c.i("preview_stats_change",{previewStats:this.Ji});this.B.Za()},vc:function(){this.c.i("preview_stats_change",
{previewStats:j})},qg:function(a){if(4==a.ba){if(0!=(1<<a.aa&this.xn()))return i}else if(2==a.ba)return i;return k},Cg:function(a){return 0==a.Cc||1535==(a.Cc&1535)||this.d!=j&&0!=(a.Cc&1<<this.d.id-1)},bn:function(a){switch(a){case 0:return 2;case 1:return 4;case 2:return 8;case 3:return 65536;case 4:return 1048608;case 5:return 16;case 6:return 524288;case 7:return 512;case 8:return 1024;case 9:return 64;case 10:return 128;case 11:return 256;case 12:return 2048;case 13:return 2048;case 14:return 4096;
case 15:return 4096;case 16:if(this.d!=j)switch(this.d.id){case 4:break;default:return 2236416}return 2105344;case 17:if(this.d!=j)switch(this.d.id){case 1:return 8404992|(1==this.d.r.K?4202496:0)|(this.Xh()?131072:0);case 2:return 8404992;case 3:return 12591104;case 4:return 12591104;case 6:return 12591104;case 7:return 8404992|(1==this.d.r.K?4202496:0)}return 8388608}return 0},Gn:function(){var a=31;if(this.d!=j)switch(this.d.id){case 1:a=40<=this.g?16:8;break;case 2:a=40<=this.g?16:8;break;case 3:a=
40<=this.g?8:4;break;case 4:a=4;break;case 5:a=2;break;case 6:a=16;break;case 7:a=40<=this.g?8:4;break;case 8:a=2;break;case 9:a=2;break;case 11:a=4}return a},cn:function(a){switch(a){case 0:case 2:case 4:case 7:case 8:case 9:case 10:case 11:return[4,this.Gn()];case 3:return[4,2];case 5:case 6:return[4,3];case 1:case 12:case 13:case 14:case 15:return[4,1];case 18:if(this.d!=j)switch(this.d.id){case 9:case 8:case 5:return[2,524288];case 1:case 3:case 4:return[2,327692];case 2:case 7:case 6:case 11:return[4,
2048]}return[100,1]}return[-1,0]},xn:function(){if(this.d!=j)switch(this.d.id){case 1:return(40<=this.g?31:15)+64;case 2:return(40<=this.g?31:15)+2112;case 6:return(40<=this.g?31:15)+2048;case 3:return 40<=this.g?15:7;case 7:return(40<=this.g?15:7)+2112;case 11:return 2055;case 4:return 7;case 5:case 8:case 9:return 3}return 31},Xh:function(){return this.d!=j&&1==this.d.id&&0<this.d.r.r[1][6][1].V},zk:function(){return this.d==j?k:0==(1<<this.d.id&90)},jl:function(a,b){this.pa[a]=0<b?new lc(this,
xb[b]):j;this.X();this.c.i("profession_change",{index:a,profession:this.pa[a]})},Gp:function(a,b){this.pa[a].ka(b);this.X();this.c.i("profession_level_change",{index:a,level:this.pa[a].g})},yk:function(a){var b=this.vk(164);return(7==a||8==a)&&this.B.get(a)!=j&&60<=this.B.get(a).g&&b!=j&&400<=b.g||9==a&&70<=this.g&&this.B.get(a)!=j&&80<=this.B.get(a).g?i:k},vk:function(a){return this.pa[0]&&this.pa[0].id==a?this.pa[0]:this.pa[1]&&this.pa[1].id==a?this.pa[1]:j},Od:function(a){this.Z.Oa(a)&&!this.t.Oa(a)?
this.t.hg(a,k,i):!this.Z.Oa(a)&&this.t.Oa(a)&&this.t.jh(a,k)},Ha:function(){var a=this.t.t,b=0;this.d&&this.d.Ha(this.Z);this.O&&this.O.Ha(this.Z);for(b=0;2>b;b++)if(this.pa[b]){var c=this.pa[b].yn();c&&this.Z.add(c)}if(this.d)switch(this.d.id){case 1:this.Od(29801);break;case 3:this.Od(53290);break;case 4:this.Od(51701);this.Od(31223);break;case 6:this.Od(55610);break;case 7:this.Od(51470);break;case 11:this.Z.Oa(17007)&&this.d!=j&&0!=(1<<this.d.Ea&290)?this.t.hg(24932,k,k):this.t.jh(24932,k)}for(b in a)this.Z.Qd(a[b])},
fo:function(a){return 16==a||17==a&&this.d!=j&&0!=(1<<this.d.id&154)||18==a&&this.d!=j&&0!=(1<<this.d.id&826)},load:function(a){var b,c=0,d,f;if(a!=j){this.name=a[0][0];this.description=a[0][1];this.kl(new Pc(this,a[0][2]));this.rh(new Qc(a[0][3]));this.ka(a[0][4]);this.d&&this.d.Ad(a[0][5]?a[0][5]:0);b=a[0][6]?a[0][6]:0;if(0==b&&this.d!=j&&6==this.d.id){switch(a[4]){case 0:b=48263;break;case 1:b=48266;break;case 2:b=48265;break;default:b=48263}this.d.Ee(b)}if(this.d){(2===a[4]||1===a[4]||0===a[4])&&
this.d.r.wc(a[4]);a[2]&&this.d.r.zp(a[2],i);if(a[5])for(b=0;b<a[5].length;b++)a[5][b]&&(this.jl(b,a[5][b][0]),this.pa[b].ka(a[5][b][1]));for(b=0;b<a[3].length;b++)a[3][b]&&this.d.gg(new Wb(a[3][b]))}for(b=0;19>b;b++)if(a[1][b])if(a[1][b][0]){d=new sa(a[1][b][0]);try{this.B.set(b,d)}catch(g){if(g instanceof wc)continue;ga(g)}for(c=0;3>c;c++)a[1][b][1+c]&&(f=new sa(a[1][b][1+c]),d.Zc(f,c),B.set(f.kc()));a[1][b][4]&&d.Yc(new Yb(a[1][b][4]));a[1][b][6]!=j&&0!=a[1][b][6]&&d.ll(a[1][b][6]);if(a[1][b][5]&&
-1!=a[1][b][5][0]&&-1!=a[1][b][5][1])try{d.Pi(a[1][b][5][0],a[1][b][5][1])}catch(h){h instanceof bc||ga(h)}if(a[1][b][7])for(c=0;c<a[1][b][7].length;c++)d.Yc(new Yb(a[1][b][7][c]));B.set(d.kc())}else this.B.remove(b);for(b in a[6])c=new R(a[6][b][0]),E.set(c),this.t.set(new Ub(c,a[6][b][1]));this.X();this.c.i("character_loaded",{character:this})}},pi:function(){return this.d!=j&&6==this.d.id?55:1},zl:function(){var a=[],b,c,d,f=this.d?this.d.Ea:0,g=this.d!=j&&this.d.Gb!=j?this.d.Gb.q.id:0;this.d.Ad(0);
this.d.Ee(0);a[0]=[this.name,this.description,this.O?this.O.id:0,this.d?this.d.id:0,this.g,f,g];a[1]=[];for(b=0;19>b;b++)if(d=this.B.n[b][0],d==j)a[1][b]=j;else{a[1][b]=[];a[1][b][0]=d.id;a[1][b][1]=d.M[0]?d.M[0].id:0;a[1][b][2]=d.M[1]?d.M[1].id:0;a[1][b][3]=d.M[2]?d.M[2].id:0;a[1][b][4]=0<d.I.length?d.I[0].id:j;a[1][b][5]=[d.va,d.ga];a[1][b][6]=d.U?d.U.id:0;a[1][b][7]=[];for(c=1;c<d.I.length;c++)a[1][b][7].push(d.I[c].id)}a[2]=this.d?this.d.r.Eg(i):[];a[3]=[];if(this.d)for(b=0;b<this.d.R.length;b++)for(c=
0;c<this.d.R[b].length;c++)this.d.R[b][c]&&a[3].push(this.d.R[b][c].id);a[4]=this.d?this.d.r.K:-1;a[5]=[j,j];for(b=0;2>b;b++)c=this.pa[b],a[5][b]=c?[c.id,c.g]:j;a[6]=[];c=this.t.t;for(b in c)c[b]&&!c[b].se&&a[6].push([c[b].q.id,c[b].ab]);this.d.Ad(f);this.d.Ee(g);return a},Zp:function(){var a,b,c,d={averageItemLevel:0,averageItemLevelEquipped:0},f,g,h,n=this.d!=j?this.d.r:j,r=[[],[],[]],v=[];for(a=0;19>a;a++)if(h=this.B.n[a][0],h!=j){f=Ta[a];g={};for(b=0;b<h.I.length;b++)c=h.I[b],7==c.types[0]?g.tinker=
c.id:g.enchant=c.id;for(b=0;3>b;b++)if(h.M[b])g["gem"+b]=h.M[b].id;h.Wn()&&(g.extraSocket=i);-1!=h.va&&-1!=h.ga&&(g.reforge=7*Na[h.va]+113+Na[h.ga]-(h.ga>h.va?1:0));if(h.U)g.suffix=h.U.id;d[f]={icon:h.v,id:h.id,name:h.name,quality:h.ja,tooltipParams:g}}if(this.d){for(a=0;a<this.d.R.length;a++)for(b=0;b<this.d.R[a].length;b++)(c=this.d.R[a][b])&&r[a].push({glyph:c.id,item:c.Jk,name:c.q.name,icon:c.q.v});b=[{selected:i,name:-1!=n.K?n.gc[n.K]:"None",icon:"",build:n.Eg(i).join(""),trees:[],glyphs:{prime:r[2],
major:r[0],minor:r[1]}}]}else b=j;for(a=0;2>a;a++)(n=this.pa[a])&&v.push({id:n.id,name:Ua[n.id],rank:n.g});return JSON.stringify({name:this.name,race:this.O!=j?this.O.id:0,"class":this.d!=j?this.d.id:0,level:this.g,items:d,talents:b,professions:{primary:v,secondary:[]}})},Um:function(a,b){this.B.Za();this.vc();this.B.set(a,b);this.X();16==a||17==a?(this.c.i("item_change",{slot:16}),this.c.i("item_change",{slot:17})):this.c.i("item_change",{slot:a})},removeItem:function(a){this.B.Za();this.vc();this.B.remove(a);
this.X();this.c.i("item_change",{slot:a})},Zc:function(a,b,c){this.B.Za();this.vc();this.B.n[a][0].Zc(c,b);this.X();this.c.i("gem_change",{slot:a,socket:b})},Si:function(a,b){this.B.Za();this.vc();this.B.n[a][0].Zc(j,b);this.X();this.c.i("gem_change",{slot:a,socket:b})},Xp:function(a,b){this.B.Za();this.vc();this.B.Wp(a,b);this.X();16==a||17==a?(this.c.i("item_change",{slot:16}),this.c.i("item_change",{slot:17})):this.c.i("item_change",{slot:a})},Yc:function(a,b){this.B.Za();this.vc();this.B.n[a][0].Yc(b);
this.X();this.c.i("enchant_change",{slot:a})},Xi:function(a,b){this.B.Xi(b,a);this.eb()},Vo:function(){this.B.Za();this.eb()},Dp:function(a,b){this.B.Za();this.vc();this.B.n[a][0].ll(b);this.X()},fl:function(a,b){this.B.il(b,a,-1);this.eb()},Vk:function(){this.B.Za();this.eb()},el:function(a,b,c){this.B.il(c,a,b);this.eb()},Uk:function(){this.B.Za();this.eb()},ta:function(a,b){return"undefined"===typeof b?this.B.n[a][0]:this.B.n[a][b]},mj:function(a){return this.B.mj(a)},ni:function(a){return this.B.ni(a)},
Qo:function(a,b,c){if(a=this.B.n[a][0])a.restore(),a.Pi(b,c),this.X()},Hp:function(a,b,c){var d=this.B.Qi();d[a]=[b,c];this.B.vh(d);this.eb()},vh:function(a){this.B.vh(a);this.eb()},Xo:function(){this.B.Za();this.eb()},Yo:function(){this.B.Za();this.eb()},rp:function(a){if(a=this.B.n[a][0])a.restore(),this.X()},qp:function(){this.B.Df();this.X();this.eb()},Po:function(a){var b=this.B.Qi();try{this.B.Df(),this.B.gh(a),this.X(),this.eb()}catch(c){this.B.gh(b),this.X(),this.eb(),e(c)}},Qd:function(a){this.t.add(a,
k)},Sd:function(a){this.t.Sd(a)},To:function(a){this.t.remove(a,k)},ao:function(a){return this.t.Oa(a)},np:function(){var a=this.d!=j?this.d.r:j;a&&(a.reset(),this.X())},mp:function(a){var b=this.d!=j?this.d.r:j;b&&(b.op(a),this.X())},Ym:function(a,b,c){var d=this.d!=j?this.d.r:j;d&&(d.Wm(a,b,c),this.X())},$o:function(a,b,c){var d=this.d!=j?this.d.r:j;d&&(d.Wo(a,b,c),this.X())},vp:function(a){var b=this.d!=j?this.d.r:j;b&&(b.wc(a),this.X())},Mn:function(){var a=this.d!=j?this.d.r:j;return a?a.K:-1},
Rn:function(){return this.d!=j?this.d.r:j},hl:ba("name"),yp:ba("description"),gg:function(a){this.d.gg(a);this.X()},Ti:function(a){if(this.d!=j&&a!=j)for(var b=this.d.R[a.type],c=0;c<b.length;c++)if(b[c]!=j&&b[c].id==a.id){this.d.Ti(a.type,c);this.X();break}},Ad:function(a){this.d!=j&&(this.d.Ad(a),this.X())},Ee:function(a){this.d!=j&&(this.d.Ee(a),this.X())}};function Nc(a,b){this.O=a;this.d=b}
Nc.prototype={O:j,d:j,toString:function(){return"Illegal combination of race ("+this.O+") and class("+this.d+")."}};function Mc(a){this.g=a}Mc.prototype={g:j};function Pc(a,b){this.character=a;this.id=b[0];this.name=b[1];this.wf=[];for(var c=0;c<b[2].length;c++)this.wf[c]=new mc(b[2][c]);if(1<<this.id&4196506)this.Zn=i}
Pc.prototype={id:0,character:j,name:"",wf:[],Zn:k,Ha:function(a){for(var b,c,d=0;d<this.wf.length;d++)if(b=this.wf[d],b.q!=j)c=this.character.d,(c!=j&&1<<c.id-1&b.tg||0>=b.tg)&&a.add(b.q)},toString:function(){return"CharacterRace ("+this.name+","+this.wf+")"},Ik:function(a){switch(this.id){case 11:return 11!=a&&9!=a&&4!=a;case 3:return 11!=a;case 7:return 11!=a&&3!=a&&2!=a&&7!=a;case 1:return 11!=a&&7!=a;case 4:return 2!=a&&7!=a&&9!=a;case 22:return 2!=a&&7!=a;case 10:return 11!=a&&7!=a;case 9:return 11!=
a&&2!=a;case 2:return 11!=a&&5!=a;case 6:return 8!=a&&4!=a&&9!=a;case 8:return 2!=a;case 5:return 11!=a&&2!=a&&7!=a}return k}};function Qc(a){this.c=new A;this.c.j("shapeform_change",["new_shape","old_shape"]);this.c.j("presence_change",["new_presence","old_presence"]);this.c.j("glyph_added",["glyph"]);this.c.j("glyph_removed",["glyph"]);var b,c=0;this.fc=a;this.f=[];this.g=-1;this.Bd=j;this.R=[[j,j,j],[j,j,j],[j,j,j]];this.id=a[0];this.name=a[1];this.r=new Ic(a[0],a[2],k);this.ck=a[3];this.If={};this.ug=[];for(b=0;b<a[4].length;b++)this.ug[b]=new mc(a[4][b]);this.lg=[];for(c=0;c<a[5].length;c++)for(b=0;b<a[5][c].length;b++)this.lg.push(new Wb(a[5][c][b]));
if(a[6]){this.Bd=[];for(b=0;b<a[6].length;b++)this.Bd[b]=new nc(a[6][b]),this.If[this.Bd[b].id]=this.Bd[b]}if(a[7]){this.Qc=[];for(b=0;b<a[7].length;b++)c=new R(a[7][b]),this.Qc.push(c),E.set(c)}if(a[9]){this.Qc=[];for(b=0;b<a[9].length;b++)E.set(new R(a[9][b]))}this.di=a[8]}
Qc.prototype={c:j,id:0,name:"",g:0,Ea:0,shape:j,Bd:j,If:j,R:j,lg:j,kg:0,r:j,Gb:j,Qc:j,ug:j,ck:j,ha:function(a,b){this.c.ha(a,b)},Wk:function(a,b){this.c.Wk(a,b)},D:function(a){this.c.D(a)},ub:function(a){this.c.ub(a)},ka:function(a){this.g=a;this.r.ka(a);for(a=this.kg=25>a?0:50>a?1:75>a?2:3;3>a;a++)this.R[0][a]=j,this.R[1][a]=j,this.R[2][a]=j},Ad:function(a){var b=this.shape;this.Ea=a;0!=this.Ea?this.If[this.Ea]?this.shape=this.If[this.Ea]:e(new Sb):this.shape=j;this.c.i("shapeform_change",{new_shape:this.shape,
old_shape:b})},Ee:function(a){var b=this.Gb;if(0==a)this.Gb=j,this.c.i("presence_change",{new_presence:this.Gb,old_presence:b});else{for(var c=0;c<this.Qc.length;c++)if(this.Qc[c].id==a){this.Gb=new Ub(this.Qc[c],1);this.c.i("presence_change",{new_presence:this.Gb,old_presence:b});return}e(Error("Unable to set presence "+a))}},Ha:function(a){var b,c;if(0!=this.Ea){b=this.If[this.Ea];for(c=0;c<b.t.length;c++)a.Qd(b.t[c]);for(c=0;c<b.Z.length;c++)a.add(b.Z[c])}this.Gb&&a.Qd(this.Gb);this.r.Ha(a);for(c=
0;c<this.R.length;c++)for(b=0;b<this.R[c].length;b++)this.R[c][b]&&a.add(this.R[c][b].q);for(c=0;c<this.ug.length;c++)if(b=this.ug[c],b.q!=j){if(b.q.type[8]&1048576)switch(this.id){case 1:if(86101==b.q.id&&0!=this.r.K||86110==b.q.id&&1!=this.r.K||86535==b.q.id&&2!=this.r.K)continue;break;case 2:if(86103==b.q.id&&0!=this.r.K||86102==b.q.id&&1!=this.r.K||86539==b.q.id&&2!=this.r.K)continue;break;case 6:if(86537==b.q.id&&0!=this.r.K||86536==b.q.id&&1!=this.r.K||86113==b.q.id&&2!=this.r.K)continue;break;
case 7:if(86100==b.q.id&&0!=this.r.K||86099==b.q.id&&1!=this.r.K||86108==b.q.id&&2!=this.r.K)continue;break;case 11:if(86093==b.q.id&&0!=this.r.K||86096==b.q.id&&(1!=this.r.K||0==(1<<this.Ea&288))||86097==b.q.id&&(1!=this.r.K||0==(1<<this.Ea&2))||86104==b.q.id&&2!=this.r.K)continue}(1<<this.id-1&b.tg||0>=b.tg)&&a.add(b.q)}},gg:function(a){var b,c=-1;0==this.kg&&e(new Rc(Sc));for(b=0;b<this.kg;b++)this.R[a.type][b]==j?c=-1==c?b:c:this.R[a.type][b].id==a.id&&e(new Rc(Tc));-1==c&&e(new Rc(Uc));this.R[a.type][c]=
a;this.c.i("glyph_added",{glyph:a})},Ti:function(a,b){this.R[a][b]=j;this.c.i("glyph_removed",j)}};function Rc(a){this.Ab=a}Rc.prototype={Ab:0,toString:function(){switch(this.Ab){case Sc:return"Unable to add Glyph, there are no empty slots available!";case Tc:return"Unable to add Glyph, this Glyph is already in use!";case Uc:return"Unable to add Glyph, there are no empty slots available!";default:return"Unable to add Glyph, due to unknown reasons!"}}};var Sc=0,Tc=1,Uc=2;function Lc(a){this.character=a;this.reset();this.eg=k}m=Lc.prototype;m.character=j;m.ob=[];m.attributes=[];m.Wd=[];m.jg=[];m.Bh=[];m.de=[];m.Kf=[];m.F=[];m.P=[];m.bc=[];m.S=[];m.q=[];m.ra=[];m.ai=[];m.kj=[];m.df=0;m.jf=0;m.Wh=0;m.ng=0;m.Of=0;m.Mf=0;m.gj=0;m.Nf=0;m.hj=0;m.Ed=0;m.Pc=0;m.Lf=0;m.fj=0;m.Wc=[];m.Sg=0;m.Kg=0;m.Tg=0;m.Eb=0;m.rd=0;m.Td=0;m.xa=0;m.Bc=0;m.Bi=0;m.mf=0;m.lf=0;m.Wb=[];m.Nc=[];m.Vb=[];m.rc=[];m.Sb=[];m.Rb=[];m.Va=0;m.Ua=0;m.ib=0;m.kb=0;m.jb=0;m.Fb=0;m.sb=0;m.Mi=0;m.zf=0;m.eh=0;
m.xf=0;m.yf=0;m.Ni=0;m.Af=0;m.vf=0;m.uf=0;m.sc=0;m.bh=0;m.wd=0;m.af=0;m.hd=0;m.xe=0;m.og=0;m.ue=0;m.Uh=0;m.nf=0;m.Ck=0;m.qn=0;m.rn=0;m.eg=k;
m.reset=function(){var a;this.ob=[0,0,0,0,0,0,0];this.attributes=[0,0,0,0,0];this.Wd=[0,0,0,0,0];this.jg=[0,0,0,0,0];this.Bh=[0,0,0,0,0];this.de=[0,0,0,0,0];this.Kf=[0,0,0,0,0];this.F=[];for(a=0;40>a;a++)this.F[a]=0;this.S=[0,0,0,0,0,0,0,0,0,0];this.qa=[[0,0],0,0,0,0,0,0,0];this.q=[0,0,0,0,0,0,0,0];this.ra=[0,0,0,0,0,0,0];this.bc=[0,0,0,0,0];this.hj=this.Nf=this.gj=this.Mf=this.Of=this.Wh=this.ng=this.jf=this.df=0;this.Wc=[];this.lf=this.mf=this.Bi=this.Bc=this.xa=this.Td=this.Tg=this.Kg=this.Sg=
this.fj=this.Lf=this.Pc=this.Ed=0;this.Wb=[0,0,0];this.Nc=[0,0,0];this.Vb=[0,0,0];this.rc=[0,0,0];this.Af=this.Ni=this.yf=this.xf=this.eh=this.zf=this.Mi=0;this.Sb=[0,0,0,0];this.Rb=[0,0,0,0];for(a=this.Ck=this.bh=this.sc=this.uf=this.vf=this.sb=this.nf=this.Uh=this.og=this.xe=this.hd=this.af=this.wd=this.Ei=this.Fb=this.jb=this.kb=this.Ci=this.ib=this.Ua=this.Va=this.rd=this.Eb=0;6>a;a++)this.Wc[a]=0;for(a=0;7>a;a++)this.P[a]=0;this.ue=0;this.kj=[0,0,0,0,0,0,0,0]};
function Oc(a,b){a.eg&&e("Concurring calls of Stats::calculate");a.eg=i;a.character.B.El();var c,d,f,g,h;g=0;var n=a.character.B,r=n.get(17)!=j&&2==n.get(17).ba,v=n.get(18)!=j&&2==n.get(18).ba,s=a.character.g,M=a.character.Z.Hn(k),q=M[0],da=M[1],aa=M[2],ha=M[3];f=a.character.O==j?0:a.character.O.id;var Ja=a.character.d,tb=k,C=0,ia=0,gc=-1,Ba=j,ca=j;if(Ja)tb=i,C=Ja.id,ia=Ja.Ea,gc=Ja.r.K,Ba=Ja.ck,Ba[s]&&(ca=Ba[s]);var Ba=[0,0,0,0,0],Ka=gb[C];if(11==C&&0<ia)switch(ia){case 1:Ka=hb;break;case 5:Ka=ib;
break;case 31:Ka=jb}a.reset();if(!tb||!ca)ca=[0,0,0,0,0,0,0,0,0,0,0];a.Wh=ca[5];a.ng=ca[6];for(c=0;5>c;c++)Ba[c]=$a[f][c]+(tb?ca[c]:0),a.Wd[c]=Math.floor(Ba[c]*(1+q[137][c]/100));if(1==ia||5==ia||8==ia)a.character.Z.Oa(17002)?q[49]+=2:a.character.Z.Oa(24866)&&(q[49]+=4);if(a.character.Z.Oa(48411)&&(1==ia&&(q[290]+=4),5==ia||8==ia))q[79][0]+=4;a.Uh=q[142][0]/100;for(c=0;19>c;c++)if(h=a.character.yk(c),f=b?n.get(c):n.n[c][0],!(f==j||!a.character.qg(f)||!a.character.Cg(f))){f.Zi(s);5!=c&&6!=c&&(g++,
a.ue+=f.g);d=a;for(var D=f,S=void 0,S=0;S<D.f.length;S++)if(D.f[S]!=j)if(50<=D.f[S][0])switch(D.f[S][0]){case 50:d.P[0]+=D.f[S][1];break;case 51:d.P[2]+=D.f[S][1];break;case 52:d.P[4]+=D.f[S][1];break;case 53:d.P[1]+=D.f[S][1];break;case 54:d.P[5]+=D.f[S][1];break;case 55:d.P[3]+=D.f[S][1];break;case 56:d.P[6]+=D.f[S][1]}else 11<=D.f[S][0]?d.F[D.f[S][0]-11]+=D.f[S][1]:d.attributes[Qa[D.f[S][0]]]+=D.f[S][1];-1!=D.ga&&-1!=D.la&&(11<=D.ga?d.F[D.ga-11]+=D.la:d.attributes[Qa[D.ga]]+=D.la);d.P[0]+=D.Pb;
4==D.ba&&0<D.aa&&(d.P[0]+=D.Pb*d.Uh);for(d=0;3>d;d++)if(f.M[d]){if(0>=f.Y[d])if(h)h=k;else continue;Vc(a,f.M[d].sa.Db)}f.xi()&&Vc(a,f.Dd);for(d=0;d<f.I.length;d++)h=f.I[d],h!=j&&Vc(a,h);if(f.U){f=f.U.I;for(d=0;5>d;d++)h=f[d],h!=j&&Vc(a,h)}}a.P[0]=Math.round((a.P[0]+q[22][0]+q[143][0])*(1+q[101][0]/100));for(c=1;c<a.P.length;c++)a.P[c]=Math.round((a.P[c]+q[22][c]+q[143][c])*(1+q[142][c]/100));a.ue=0<g?a.ue/g:0;a.kj=[0,q[133],q[132],q[137][1],q[137][0],q[137][3],q[137][4],q[137][2]];for(c=0;5>c;c++){a.attributes[c]+=
q[29][c];a.attributes[c]*=1+q[137][c]/100;a.attributes[c]+=a.Wd[c];a.attributes[c]=Math.floor(a.attributes[c]);0<Ka[c]&&(a.jg[c]=a.attributes[c]>=10*Ka[c]?a.attributes[c]*(q[268][c]/100+Ka[c])-10*Ka[c]:0);for(d=0;32>d;d++)a.F[d]+=Math.floor(q[220][d][c]/100*(a.attributes[c]-Ba[c]))}a.de[1]+=100*ab[C]+a.attributes[1]*ca[7];a.Kf[3]+=100*bb[C]+a.attributes[3]*ca[8];a.Sb[0]=a.F[26];for(c=0;4>c;c++)a.Sb[c]+=M[c][189][23],a.Rb[c]+=a.Sb[c]/F[23][s-1]+M[c][240],0<c&&(a.Rb[c]+=a.Rb[0],a.Sb[c]+=a.Sb[0]);a.qn=
Math.ceil((pb[3]-0.25*a.Rb[1])*F[23][s-1]/0.25);a.rn=Math.ceil((ob[3]-0.25*a.Rb[1])*F[23][s-1]/0.25);if(80<=s)a.Eb=a.F[38]+q[189][25],a.rd=1==C&&1==Ja.r.K?2+a.Eb/F[25][s-1]:8==C&&2==Ja.r.K?2+a.Eb/F[25][s-1]:8+a.Eb/F[25][s-1];a.Kg=(80>s?10:10+0.8*(s-80))*Math.max(0,a.attributes[2]-20)+(20<=a.attributes[2]?20:a.attributes[2]);a.df=a.Kg+a.Wh*(1+q[282]/100)+q[34]+q[230];a.df*=1+q[133]/100;a.Sg=15*Math.max(0,a.attributes[3]-20)+(20<=a.attributes[3]?20:a.attributes[3]);a.jf=a.Sg+a.ng+q[35][0];a.jf*=1+q[132]/
100;a.mf=a.F[17]+a.F[25]+q[189][17];a.lf=a.mf/F[17][s-1];a.zf=a.F[18]+a.F[25]+q[189][18];a.eh=a.zf/F[18][s-1];a.Bc=q[99]+a.F[27]+(0!=q[285]?a.P[0]/q[285]:0);a.xa+=a.Bc;a.Td+=q[166];a.xa+=qb[C]*s;for(c=0;5>c;c++)a.xa+=a.jg[c];a.Bc*=1+a.Td/100;a.xa*=1+a.Td/100;a.sb=q[124]+a.F[27]+db[C]*a.attributes[1]+eb[C]*s+fb[C];for(c=0;5>c;c++)a.sb+=a.attributes[c]*(q[212][c]/100);a.sb*=1+q[167]/100;a.Wb[0]=a.F[5]+a.F[20];a.Vb[0]=a.F[8]+a.F[21];for(d=0;d<a.attributes.length;d++)a.rc[0]+=a.de[d];for(c=0;3>c;c++)a.Wb[c]+=
M[c][189][5]+M[c][189][20],a.Nc[c]+=a.Wb[c]/F[5][s-1]+M[c][54],a.Vb[c]+=M[c][189][8]+M[c][189][21],a.rc[c]+=a.Vb[c]/F[8][s-1]+M[c][52]+M[c][290]+M[c][71][0],0<c&&(a.Nc[c]+=a.Nc[0],a.Wb[c]+=a.Wb[0],a.rc[c]+=a.rc[0],a.Vb[c]+=a.Vb[0]);a.Ck=Math.ceil((kb[3]-a.Nc[1])*F[5][s-1]);a.Af=a.F[6]+a.F[20];a.Ni=a.Af/F[6][s-1]+q[54]+ha[54];a.yf=a.F[9]+a.F[21];a.xf=a.yf/F[9][s-1]+q[290]+q[71][0]+q[52]+ha[290]+ha[71][0]+ha[52];for(d=0;d<a.attributes.length;d++)a.xf+=a.de[d];if(11==C&&5==ia){if(a.ib=2500,g=n.get(16))a.Va=
2500*g.Oc/g.Ma,a.Ua=2500*g.Mc/g.Ma}else if(11==C&&1==ia){if(a.ib=1E3,g=n.get(16))a.Va=1E3*g.Oc/g.Ma,a.Ua=1E3*g.Mc/g.Ma}else(g=n.get(16))?(a.ib=g.Ma,a.Va=g.Oc,a.Ua=g.Mc):(a.ib=2E3,a.Va=22.6,a.Ua=22.6);a.Va+=a.xa/14*a.ib/1E3;a.Ua+=a.xa/14*a.ib/1E3;a.ib/=(1+a.lf/100)*(1+q[138]/100+da[138]/100)*(1+q[319]/100+da[319]/100)*(1+q[192]/100+da[192]/100)*(1+q[193]/100+da[193]/100);a.Bi=100*((1+a.lf/100)*(1+q[138]/100)*(1+q[319]/100)*(1+q[192]/100)*(1+q[193]/100)-1);a.Va+=q[13][0]+da[13][0];a.Ua+=q[13][0]+da[13][0];
a.Va*=1+(q[79][0]+da[79][0])/100;a.Ua*=1+(q[79][0]+da[79][0])/100;a.Ci=500*(a.Va+a.Ua)/a.ib;if(r)g=n.get(17),a.Fb=g.Ma,a.kb=g.Oc+a.xa/14*a.Fb/1E3,a.jb=g.Mc+a.xa/14*a.Fb/1E3,a.Fb/=(1+a.lf/100)*(1+q[138]/100+aa[138]/100)*(1+q[319]/100+aa[319]/100)*(1+q[192]/100+aa[192]/100)*(1+q[193]/100+aa[193]/100),a.kb+=q[13][0]+aa[13][0],a.jb+=q[13][0]+aa[13][0],a.kb*=1+(q[79][0]+aa[79][0])/100,a.kb*=1+(q[122]+aa[122])/100,a.kb>>=1,a.jb*=1+(q[79][0]+aa[79][0])/100,a.jb*=1+(q[122]+aa[122])/100,a.jb>>=1,a.Ei=500*
(a.kb+a.jb)/a.Fb;if(v)g=n.get(18),a.sc=g.Ma,a.vf=g.Oc+a.sb/14*a.sc/1E3+q[13][0]+ha[13][0],a.uf=g.Mc+a.sb/14*a.sc/1E3+q[13][0]+ha[13][0],a.sc/=(1+a.eh/100)*(1+(q[140]+ha[140])/100)*(1+(q[141]+ha[141])/100)*(1+(q[320]+ha[320])/100)*(1+(q[192]+ha[192])/100)*(1+(q[193]+ha[193])/100),a.bh=500*(a.vf+a.uf)/a.sc;a.Mi=100*((1+a.eh/100)*(1+q[140]/100)*(1+q[141]/100)*(1+q[320]/100)*(1+q[192]/100)*(1+q[193]/100)-1);a.Bh[3]=Math.max(0,a.attributes[3]-10);a.Of=a.Bh[3]+a.F[34]+q[238][1]/100*a.xa+q[135][1];a.Of*=
1+q[317]/100;a.Mf=a.F[19]+a.F[25]+q[189][19];a.gj=100*((1+a.Mf/F[19][s-1]/100)*(1+q[65]/100)*(1+q[193]/100)-1);a.Nf=a.F[7]+a.F[20]+q[189][7]+q[189][20];a.hj=a.Nf/F[7][s-1]+Math.min(q[55][1],q[55][2],q[55][3],q[55][4],q[55][5],q[55][6]);a.Lf=a.F[10]+a.F[21]+q[189][10]+q[189][21];a.fj=a.Kf[3]+a.Lf/F[10][s-1]+q[57]+q[290]+Math.max(da[57],aa[57]);for(c=0;6>c;c++)a.Wc[c]=Math.abs(a.F[36])+Math.abs(q[123][c]);if(a.character.zk()){a.Tg=5*(0.0010+Math.sqrt(a.attributes[3])*a.attributes[4]*vb[s-1]);a.Ed=a.Tg;
a.Pc=q[85]+a.F[32]+a.Ed*(q[134]/100);for(c=0;5>c;c++)a.Pc+=q[219][c]/100*a.attributes[c]}else a.Pc=0,a.Ed=0;a.Ed+=ca[10];a.Pc+=ca[10];if(0!=(1<<C&134))a.og=5+q[51]+(2==C&&1==gc?2.25*a.rd:0)+(1==C&&2==gc?1.5*a.rd:0)+(a.F[4]+q[189][4])/F[4][s-1];a.af=a.F[2]+q[189][2];if(tb){if(a.hd=2==C||1==C||6==C?q[49]+5+1/(rb[C-1]/(a.af/F[2][s-1]+ca[9])+(ub[C-1]?1/ub[C-1]:0)):q[49]+cb[C]+a.Wd[1]*ca[9]+1/(rb[C-1]/(a.af/F[2][s-1]+ca[9]*(a.attributes[1]-a.Wd[1]))+(ub[C-1]?1/ub[C-1]:0)),0!=(1<<C&94)){a.wd=a.F[3]+q[189][3];
switch(C){case 1:case 2:case 6:a.wd+=0.27*(a.attributes[0]-Ba[0])}a.xe=5+q[47]+1/(rb[C-1]/(a.wd/F[3][s-1])+(sb[C-1]?1/sb[C-1]:0))}}else a.hd=q[49]+a.af/F[2][s-1];a.al=a.F[24]+Math.min(a.F[14]+q[189][14],a.F[15]+q[189][15],a.F[16]+q[189][16]);a.pp=1-Math.pow(0.99,a.al/F[15][s-1]);a.nf=5-M[0][184]-M[1][184]-M[2][184]-M[3][184];a.ob[0]=a.df;a.ob[1]=a.jf;a.ob[2]=100;a.ob[3]=100+q[35][3]+Math.min(da[35][3],aa[35][3]);a.ob[4]=100;a.ob[5]=Math.floor(100+q[35][6]/10);a.ob[6]=a.ue;a.S[0]=[[Math.floor(a.Va),
Math.ceil(a.Ua)],r?[Math.floor(a.kb),Math.ceil(a.jb)]:j];a.S[1]=[a.Ci,r?a.Ei:j];a.S[2]=a.xa;a.S[3]=[a.ib,r?a.Fb:j];a.S[4]=a.Bi;a.S[5]=a.Nc[1];a.S[6]=a.rc[1];a.S[7]=[Math.floor(a.Rb[1]),r?Math.floor(a.Rb[2]):j];a.S[8]=a.rd;v?(a.qa[0]=[Math.floor(a.vf),Math.ceil(a.uf)],a.qa[1]=a.bh,a.qa[3]=a.sc):(a.qa[0]=[-1,-1],a.qa[1]=-1,a.qa[3]=-1);a.qa[2]=a.sb;a.qa[4]=a.Mi;a.qa[5]=a.Ni;a.qa[6]=a.xf;a.qa[7]=a.rd;a.q[0]=a.Of;a.q[1]=a.gj;a.q[2]=a.hj;a.q[3]=Math.min(a.Wc[1],a.Wc[2],a.Wc[3],a.Wc[4],a.Wc[5]);a.q[4]=a.Ed;
a.q[5]=a.Pc;a.q[6]=a.fj;a.q[7]=a.rd;a.ra[0]=a.P[0];a.ra[1]=a.hd;a.ra[2]=a.xe;a.ra[3]=a.og;a.ra[4]=a.al;a.ra[5]=a.nf+a.hd+a.xe;a.ra[6]=a.nf+a.hd+a.og+a.xe;a.bc[0]=a.P[6];a.bc[1]=a.P[2];a.bc[2]=a.P[3];a.bc[3]=a.P[4];a.bc[4]=a.P[5];a.eg=k}function Vc(a,b){var c;if(b.Oa(a.character))for(c=0;c<b.types.length;c++)5==b.types[c]?11<=b.Ka[c]?a.F[b.Ka[c]-11]+=b.Fa[c]:a.attributes[Qa[b.Ka[c]]]+=b.Fa[c]:4==b.types[c]&&(a.P[b.Ka[c]]+=b.Fa[c])};var B={elements:{}};B.set=function(a){B.elements[a.id]=a};B.get=function(a){return B.elements[a]};B.contains=function(a){return B.elements[a]||k};B.Ud=function(a,b,c){B.get(a)?b.ia(c):Ha("php/interface/get_item.php"+w({item:a,lang:g_settings.language}),B.oi,[b,c],k)};B.Vh=function(a,b,c){a!=j&&(B.set(new sa(a)),b.ia(c))};B.oi=new x(B.Vh,B);var E={elements:{},set:function(a){E.elements[a.id]=a},get:function(a){return E.elements[a]},contains:function(a){return E.elements[a]||k},Ud:function(a,b,c){E.get(a)?b.ia(c):Ha("php/interface/get_spell.php"+w({spell:a,lang:g_settings.language}),E.oi,[b,c],k)},Vh:function(a,b,c){a!=j&&(E.set(new R(a)),b.ia(c))}};E.oi=new x(E.Vh,E);function T(a,b){var c=document.createElement(a);if(b)for(var d in b)"class"==d?c.className=b[d]:"action"==d?c.action=b[d]:"clear"==d?c.style.clear=b[d]:"display"==d?c.style.display=b[d]:"href"==d?c.href=b[d]:"src"==d?c.src=b[d]:"target"==d?c.target=b[d]:"name"==d?c.name=b[d]:"id"==d?c.id=b[d]:"backgroundImage"==d?c.style.backgroundImage="none"===b[d].toLowerCase()||"inherit"===b[d].toLowerCase()?b[d]:"url("+b[d]+")":"text"==d?"input"===a?c.value=b[d]:c.innerHTML=b[d]:"type"==d?c.type=b[d]:"value"==
d?c.value=b[d]:"title"==d?c.title=b[d]:"checked"==d?c.checked=b[d]:e(Error("Unknown parameter "+d+" with value "+b[d]));return c}function U(a,b,c){b=T(b,c);"string"==typeof a?document.getElementById(a).appendChild(b):a.appendChild(b);return b}function V(a,b){Wc(a,b);a.className=(a.className?a.className+" ":"")+b}
function Wc(a,b){"string"===typeof a&&(a=document.getElementById(a));if(a)if(b instanceof RegExp)for(var c=a,d=c.className.split(" "),f=d.length,g=0;g<f;g++){if(b.exec(d[g])!==j){d[g]=d[f-1];d.pop();c.className=d.join(" ");break}}else{c=a;d=c.className.split(" ");f=d.length;for(g=0;g<f;g++)if(d[g]===b){d[g]=d[f-1];d.pop();c.className=d.join(" ");break}}}
function p(a,b){"string"===typeof a&&(a=document.getElementById(a));if("string"===typeof b)a.innerHTML+=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(b)}}function Xc(a){a.appendChild(T("div",{clear:"both"}))}function W(a,b){"string"===typeof a&&(a=document.getElementById(a));"string"===typeof b?a.innerHTML+=b:a.appendChild(b);return a}function X(a){for(;a.firstChild;)a.removeChild(a.firstChild)}
function ka(a){"string"===typeof a&&(a=document.getElementById(a));if(a!=j){var b=a.nodeName.toLowerCase();if("input"===b&&"checkbox"==a.type)return a.checked;if("input"===b||"textarea"==b)return a.value;if("select"===b)return-1!=a.selectedIndex?a.options[a.selectedIndex].value:j}return j}function Yc(a){var b=T("a",{"class":"info",href:"javascript:"});H(b,"mouseover",t.Mb,t,[a]);H(b,"mouseout",t.$,t,[]);H(b,"mousemove",t.move,t,[]);return b}
function Zc(a,b){H(a,"mousemove",t.move,t,[]);H(a,"mouseout",t.$,t,[]);H(a,"mouseover",t.Mb,t,[b])};function va(){this.Qa=new $c;this.c=new A;this.c.j("import",["name","server","region"]);this.c.j("save",["name","desc"]);this.c.j("update",[]);this.c.j("tab_change",["newTab","oldTab"]);this.c.j("csfolder_tab_change",["newTab","oldTab"]);var a,b,c=new Y(1,2);c.wh(ad);var d=document.createElement("div"),f=document.createElement("div");a=document.createElement("div");this.b=document.createElement("div");this.b.className="gui_p";this.aj=document.createElement("div");this.aj.className="cs_sheet_p";this.xb=
new bd;this.Hi=new cd;this.Ki=document.createElement("div");this.Ki.style.paddingTop="20px";this.Lk=document.createElement("div");this.pk=document.createElement("div");this.Lp=document.createElement("div");this.aj.appendChild(this.Qa.b);this.hh=new dd;this.Ig=new ed;this.cd=new fd;this.dh=new gd;a.appendChild(this.dh.b);a.appendChild(this.pk);this.xg=new hd([this.Lk,d,a,this.hh.b,this.Lp,this.cd.b],"Items,Gems,Enchants,Reforging,Sets,Buffs".split(","),"eqf");a=document.createElement("div");a.className=
"gui_lp_menu";a.appendChild(this.xg.Ug);b=document.createElement("div");b.className="gui_lp_content";b.appendChild(this.xg.b);c.cols[0].style.width="300px";c.cols[1].style.width="660px";c.cells[0][0].appendChild(this.aj);c.cells[0][1].className="gui_list_p";c.cells[0][1].appendChild(a);c.cells[0][1].appendChild(b);a=new hd([this.xb.b,this.Ig.b],["Talents","Glyphs"],"tsf");f.appendChild(a.Ug);f.appendChild(a.b);f.className="gui_tt";this.Mg=new id(new x(this.Ne,this));this.Ff=new jd;this.Ff.c.ha("save",
this.c);this.Ff.c.ha("update",this.c);this.ke=new hd([c.b,f,this.Hi.b,this.Mg.b,this.Ff.b,this.Ki],"Character Sheet,Talents,Overview,Import,Save,Browse".split(","),"cp_mm");this.b.appendChild(this.ke.b);this.Ah=new kd;d.appendChild(this.Ah.b);this.ke.th(new x(function(a,b){this.c.i("tab_change",{newTab:a,oldTab:b})},this));this.xg.th(new x(function(a,b){this.c.i("csfolder_tab_change",{newTab:a,oldTab:b})},this))}var ld=1,md=2,nd=3,od=0,za=2,pd=4;
va.prototype={Qa:j,c:j,ke:j,xb:j,Mg:j,Ff:j,hh:j,Ig:j,cd:j,Hi:j,Ne:function(a,b,c){this.c.i("import",{name:a,server:b,region:c})},Lj:function(a,b){this.c.i("save",{name:a,desc:b})},Mj:function(){},Yn:function(a,b,c){p(this.Lk,a.b);p(this.pk,b.b);p(this.Ki,c.b)}};function ma(a,b,c){this.data=b;this.yl=c;this.map={};this.b=document.createElement("div");this.Fc=[];this.userId=a;c=a=0;p(document.getElementById(this.yl),this.b);b=new Y(0,2);b.wh(ad);b.b.className="ui_data_tab";for(a in this.data){this.map[a]=c;b.ad();b.cells[c][0].className="ui_data_label";b.cells[c][0].innerHTML=this.data[a].label;b.cells[c][1].className="ui_data_data";if("select"==this.data[a].editable){var d=new qd(this.data[a].options);V(d.select.b,"ui_data_select");this.Fc[c]=d}else"input"==
this.data[a].editable?(d=new rd,V(d.input.b,"ui_data_input"),this.Fc[c]=d):"battlenetprofilemanager"==this.data[a].editable?(this.Fc[c]=new sd(this.data[a].realms),b.cells[c][0].appendChild(Yc("<div>These profiles will be shown in the import section of the character planner, so you can quickly import them, without having to type the character name or select region and realm.</div>"))):e(Error("Unknown editable "+this.data[a].editable));new td(a,this.data[a].data,this.Fc[c]);this.Fc[c].readOnly(g_settings.userId!=
this.userId);b.cells[c][1].appendChild(this.Fc[c].b);this.Fc[c].setData(this.data[a].data);c++}this.b.appendChild(b.b)}ma.prototype={data:{},Fc:[],b:j,map:{},userId:0,yl:""};function td(a,b,c){z.call(this,["change"],new x(this.ic,this));this.key=a;this.data=b;this.Ec=c;this.Ec.D(this)}td.prototype=new z([],j);m=td.prototype;m.key="";m.data=j;m.Ec=j;m.ic=function(a){if(a.k("change")){var b={};b[this.key]=a.get("data");u("php/interface/user/set_user_setting.php"+w(b),new x(this.Rj,this),[])}};
m.Rj=function(a){try{var b=y(a);this.data=b==j?"":b}catch(c){t.C(c)}this.Ec.setData(this.data)};function fa(a,b,c){z.call(this,["change"],new x(this.ic,this));this.Qk=a;this.data=b;this.Ec=c;this.Ec.setData(this.data);this.Ec.D(this)}fa.prototype=new z([],j);m=fa.prototype;m.Qk="";m.data=j;m.Ec=j;m.ic=function(a){a.k("change")&&la("php/interface/forum/forum.php",{action:"edit",post:this.Qk,content:a.get("data")},new x(o.xj,o),j)};m.Rj=function(a){try{var b=y(a);this.data=b==j?"":b}catch(c){t.C(c)}this.Ec.setData(this.data)};function oa(a,b){this.parent=document.getElementById(a);this.yg=b;this.ol()}
oa.prototype={parent:"",yg:"",page:1,Ii:function(a){u("php/interface/get_icons.php"+w({page:a}),new x(this.Ul,this),[]);t.wa()},Ul:function(a){try{var b=y(a),c=b[0],d=Math.ceil(b[1]/b[2]);this.page=b[3];var f=T("div",{"class":"ui_avatar_container"}),g=U(f,"a",{"class":"close ui_avatar_close",href:"javascript:;"});H(g,"click",t.enable,t,[]);var h=U(f,"div",{"class":"ui_avatar_img_container"}),n;for(n in c){var r=U(h,"a",{title:c[n],href:"javascript:;"});U(r,"img",{"class":"ui_avatar_preview_img",src:"images/icons/large/"+
c[n]+".png"});H(r,"click",this.Cm,this,[c[n]])}var v=U(f,"div",{"class":"ui_avatar_container_lf"}),s=U(f,"div",{"class":"ui_avatar_container_c"}),M=U(f,"div",{"class":"ui_avatar_container_rf"});if(1<this.page){var q=U(v,"a",{href:"javascript:;","class":"button button_light ui_avatar_page_btn",text:locale.previous});H(q,"click",this.Ii,this,[this.page-1])}U(s,"span",{text:this.page+" "+locale.of+" "+d});if(this.page<d){var da=U(M,"a",{href:"javascript:;","class":"button button_light ui_avatar_page_btn",
text:locale.next});H(da,"click",this.Ii,this,[this.page+1])}Xc(f);U(f,"div",{"class":"tt_note",text:"Press Escape to return"});t.Cd(f)}catch(aa){t.C(aa)}},Cm:function(a){t.wa();u("php/interface/user/set_user_setting.php"+w({Avatar:a}),new x(this.Fm,this),[])},Fm:function(a){this.yg=y(a);this.ol();t.enable()},ol:function(){X(this.parent);var a=U(this.parent,"a",{href:"javascript:;"});H(a,"click",this.Ii,this,[0]);this.yg?U(a,"img",{"class":"ui_avatar_img",src:"images/icons/large/"+this.yg+".png"}):
U(a,"span",{text:"Select an avatar"})}};function ud(a,b,c,d){var f=0,g="",c=c-11;switch(c){case 20:f=Math.floor(100*(d/F[5][b-1]))/100;b=Math.floor(100*(d/F[7][b-1]))/100;g=(0<f?"m:"+L(f)+"%":"")+(0<b?(0<f?", ":"")+"s:"+L(b)+"%":"");break;case 27:if(a)f=a.f.Td,b=d*(1+f/100),g=(0<f?Math.floor(b)+", ":"")+Hb(b/14)+" "+locale.dps2;break;default:if(10>=c)f=F[c][b-1];else switch(c){case 21:f=F[8][b-1];break;case 24:f=F[15][b-1];break;case 25:f=F[17][b-1];break;case 26:f=F[23][b-1];break;case 38:f=F[25][b-1]}b=0<f?Math.floor(100*(d/f))/100:0;
g=0<b?L(b)+"%":""}return"<span class='green'>"+locale.equip+": "+J(locale.imprStats[c],d)+(g?"<span class='tt_rating_percent'>("+g+")<span>":"")+"</span>"}function vd(a,b,c){return a&&(a=a.f.kj[b])?"+"+c+" "+locale.ItemStatNames[b]+"<span class='tt_stat_with_mods'>("+Math.floor(c*(1+a/100))+")</span>":"+"+c+" "+locale.ItemStatNames[b]}function ta(a,b){return wd(a,b,0)}
function wd(a,b,c){var d="",f,g,h="",n="",r,v="",s="",b=b?b:a.dd;r=b!=j?b.g:Jc;a.Zi(r);for(f=0;f<a.f.length;f++)a.f[f]&&0!=a.f[f][1]&&(a.f[f]&&11<a.f[f][0]&&50>a.f[f][0]?n+=N(ud(b,r,a.f[f][0],a.f[f][1])):h+=N(vd(b,a.f[f][0],a.f[f][1])));-1<a.ga&&(11>=a.ga?h+=N("<div class='green'>"+vd(b,a.ga,a.la)+"</div>"):n+=N("<div class='green'>"+ud(b,r,a.ga,a.la)+"</div>"));for(f=0;f<a.I.length;f++)g=a.I[f],d=N(g.ma(b)),7==g.types[0]&&g.N[0]?s+=d:v+=d;g="<table cellpadding='0px' cellspacing='0px' class='tooltip_table tt_item'>"+
N("<div class='tooltip_title' style='color:"+Za[a.ja]+"; white-space:nowrap;'>"+a.name+"</div>");a.Ie&8&&(g+=N("<span class='green'>"+locale.Heroic+"</span>"));if(a.Ie&134217728)g+=N(locale.boa);else switch(a.fk){case 1:g+=N(locale.bop);break;case 2:g+=N(locale.boe);break;case 3:g+=N(locale.bou)}1==a.unique?g+=N(locale.Unique):1<a.unique&&(g+=N(J(locale.UniqueMultiple,a.unique)));a.sa&&a.sa.kh&&(g+=N(J(locale.RequiresItemLevel,a.sa.kh)));a.Ie&524288&&(g+=N(locale.UniqueEquipped));a.Tk&&(g+=N(locale.This_Item_Begins_a_Quest));
if(a.qc)switch(a.ba){case 4:0!=a.Ca&&(g=0==a.Ca||0==a.aa?g+N(locale.a_slot[a.Ca]):a.sa==j?g+O(locale.a_slot[a.Ca],"<span"+((b!=j?b.qg(a):1)?"":" class='red'")+">"+a.qc[0]+"</span>"):g+N(a.qc[0]));break;case 2:g+=O(locale.a_slot[a.Ca],a.qc[0]);break;case 1:g+=N(a.qc[0])}-1!=a.va&&(g+=N("<span class='green'>"+locale.Reforged+"</span><span class='tooltip_reforge_info'>: "+a.la+" "+locale.ItemStatNames[a.va]+" \u21e8 "+a.la+" "+locale.ItemStatNames[a.ga]+"</span>"));24==a.Ca?g+=N(J(locale.Adds,zb(a))):
a.Cb&&(g+=O(Math.floor(a.Oc)+" - "+Math.ceil(a.Mc)+" "+locale.damage,locale.Speed+" "+Ab(a)),g+=N("("+J(locale.dps,Math.floor(10*a.Cb)/10+(0==Math.floor(10*a.Cb)%10?".0":""))+")"));0<a.Pb&&(g+=N(J(locale.armor,a.Pb)));g+=h;if(a.Xa)if(a.U!=j)for(f=0;f<a.U.I.length;f++)(d=a.U.I[f])&&(g+=N(d.description));else g+=N("<span class='green'>&lt;"+locale.RandomEnchantment+"&gt;</span>");g+=v;for(f=0;3>f;f++)a.M[f]!=j?g+=N("<div class='tooltip_gem' style='background-image:url(images/icons/gem/"+a.M[f].v+".png);'>"+
a.M[f].sa.Db.ma(b)+"</div>"):a.Y[f]&&(g=14==a.Y[f]?g+N("<div class='tooltip_socket_empty' style='background-image:url(images/socket_prismatic.png);'>"+locale.PrismaticSocket+"</div>"):g+N("<div class='tooltip_socket_empty' style='background-image:url(images/socket_"+Math.log(a.Y[f])/Math.log(2)+".png);'>"+locale.a_socket[Math.log(a.Y[f])/Math.log(2)]+"</div>"));a.Dd&&(g+=N("<span class='"+(a.xi()?"green":"grey")+"'>"+locale.socketBonus+": "+a.Dd.description+"</span>"));a.sa&&(g+=N(a.sa.Db.description));
a.Bg&&(g+=N(locale.Durability+": "+a.Bg+"/"+a.Bg));if(0!=a.Cc&&1535!=(a.Cc&1535)&&0<a.Cc){v=d="";for(f=0;11>f;f++)0!=(a.Cc&1<<f)&&(d+=(d?", ":"")+locale.a_class[f],v+=(v?", ":"")+"<span class='character_class_"+(f+1)+"'>"+locale.a_class[f]+"</span>");d&&(g=b!=j&&!b.Cg(a)?g+N("<span class='red'>"+locale.Classes+": "+d+"</span>"):g+N(locale.Classes+": "+v))}if(a.Jb||7==a.ja)g=a.dc?g+N(I(locale.RequiredLevelScaling,[Math.max(1,a.dc[20]),a.dc[21],Math.min(a.dc[21],r)])):g+N("<span class='"+(r>=a.Jb?"":
"red")+"'>"+J(locale.reqLevel,a.Jb)+"</span>");a.gp&&(g+=N("<span class='red'>"+locale.req+" "+a.fp+" ("+a.Ae+")</span>"));a.jp&&(g+=N("<span class='red'>"+locale.req+" "+a.ip+"</span>"));a.Xk&&(g+=N("<span class='red' style='white-space:nowrap'>"+locale.req+" "+a.Yk+" - "+locale.a_reputation[a.Zk]+"</span>"));if(a.g&&(2==a.ba||4==a.ba))g+=N(J(locale.itemLevel,a.g));g+=n;for(f=0;5>f;f++)if(a.N[f]!=j&&(d=a.N[f].Tb(b),r=n="",d)){switch(a.ij[f]){case 0:r=locale.use;0<a.ej[f]&&(n="("+Ib(a.ej[f]/1E3)+
" "+locale.Cooldown+")");break;case 1:r=locale.equip;break;case 2:r=locale.hit}g+=N("<span class='green'>"+r+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+a.N[f].id+"'>")+d.join("<br/>")+" "+(g_settings.isPlanner?"":"</a>")+n+"</span>")}g+=s;if(a.sa!=j&&a.sa.Db.Dc)for(f=0;5>f;f++){s="#888888";if(a.sa.Db.Ek(f,b!=j?b.B.Gc:j))s="#FFFFFF";d=a.sa.Db.Dc;n=d[1][f]?d[1][f]:0;r=d[3][f]?d[3][f]:0;v=d[4][f]?d[4][f]:0;switch(d[2][f]?d[2][f]:0){case 0:0!=v&&(g+=N("<div class='tt_meta_condition' style='color:"+
s+"'>"+(1<v?I(locale.Meta_RequiresExactlyPl,[v,locale.Meta_Category[n]]):J(locale.Meta_RequiresExactly,locale.Meta_Category[n]))+"</div>"));break;case 2:g+=N("<div class='tt_meta_condition' style='color:"+s+"'>"+I(locale.Meta_RequiresMore,[locale.Meta_Category[r],locale.Meta_Category[n]])+"</div>");break;case 3:g=0==v?g+N("<div class='tt_meta_condition' style='color:"+s+"'>"+I(locale.Meta_RequiresMore,[locale.Meta_Category[n],locale.Meta_Category[r]])+"</div>"):g+N("<div class='tt_meta_condition' style='color:"+
s+"'>"+(1<v+1?I(locale.Meta_RequiresAtLeastPl,[v+1,locale.Meta_Category[n]]):J(locale.Meta_RequiresAtLeast,locale.Meta_Category[n]))+NaN);break;case 5:0<n&&(g+=N("<div class='tt_meta_condition' style='color:"+s+"'>"+(1<v?I(locale.Meta_RequiresAtLeastPl,[v,locale.Meta_Category[n]]):J(locale.Meta_RequiresAtLeast,locale.Meta_Category[n]))+"</div>"))}}a.description&&(g+=N("<span style='color:#DDDD00'>\""+a.description+'"</span>'));if(1!=(c&1)){if(a.oa!=j){s=a.oa.ho;c=0;n=[];if(b!=j)for(f=0;f<Cc;f++)if(d=
b.ta(f,0),d!=j&&d.oa!=j&&d.oa.id==a.oa.id){for(r=0;r<s;r++)if(a.oa.n[r]&&a.oa.n[r][0]==d.Ca)n[r]=d.name;c++}g+=N("<div class='tooltip_set_name'>"+a.oa.name+" ("+c+"/"+s+")</div>");for(f=0;f<s;f++)g+=N("<span class='"+(n[f]?"tooltip_set_item_active":"tooltip_set_item_inactive")+"'>"+(n[f]?n[f]:a.oa.n[f]&&a.oa.n[f][1]?a.oa.n[f][1]:locale.Unknown)+"</span>");g+=N("<div class='tooltip_set_bonus_spacing'></div>");for(f=0;8>f;f++)(s=a.oa.Vi[f])&&(g+=N("<div class='"+(c>=s?"tooltip_set_bonus_active":"tooltip_set_bonus_inactive")+
"'>("+s+") "+locale.Set+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+a.oa.Xd[f].id+"'>")+a.oa.Xd[f].Tb(b).join("<br />")+(g_settings.isPlanner?"":"</a>")+"</div>"))}if(0<a.Wi)b=a.Wi,f="<span class='tooltip_sell_price'>",1E4<b&&(f+=Math.floor(b/1E4)+"<img alt='g' class='tooltip_coint' align='center' src='images/tooltip/UI-GoldIcon.png' />",b%=1E4),100<b&&(f+=Math.floor(b/100)+"<img alt='s' class='tooltip_coint' align='center' src='images/tooltip/UI-SilverIcon.png' />",
b%=100),b&&(f+=b+"<img alt='c' class='tooltip_coint' align='center' src='images/tooltip/UI-CopperIcon.png' />"),g+=N(J(locale.SellPrice,f+"</span>"));g_settings.isPlanner==i&&a.Xa!=j&&(g+=N("<span style='white-space: normal; color:#808080; font-size:11px'>See Enchants to change the random enchantment</span>"))}return g+"</table>"};function Aa(a,b,c,d){a.ka(b!=j?b.g:85);var f="<table cellpadding = 0 cellspacing = 0 style='vertical-align: top'>",g="",h="",n="";if(!c||0==(c&1))f+=N("<span class='tooltip_title'>"+a.name+"</span>");h="";a.xd&&5==a.ge?(a.xd[0]&&(h+=a.xd[0]+" "+locale.Blood),a.xd[1]&&(h+=(h?", ":"")+a.xd[1]+" "+locale.Unholy),a.xd[2]&&(h+=(h?", ":"")+a.xd[2]+" "+locale.Frost)):a.gd&&(g=1==a.ge||6==a.ge?a.gd[0]/10:a.gd[0],b!=j?(g=Math.max(Db(g,2),Math.floor(a.gd[1]*b.f.ng/100)),0<g&&(h=g+" "+locale.energy2[a.ge])):
0<g?h=g+" "+locale.energy2[a.ge]:0<a.gd[1]&&(h=Db(a.gd[1],2)+"% "+locale.ofBaseMana));h=h?"<span style='white-space:nowrap'>"+h+"</span>":"";n="";a.Ya!=j&&0<a.Ya[1]&&(n=0<a.Ya[3]&&(a.Ya[1]!=a.Ya[3]||a.Ya[0]!=a.Ya[2])?J(locale.RangeEnemy,Gb(a.Ya[0],a.Ya[1]))+"<br />"+J(locale.RangeFriendly,Gb(a.Ya[2],a.Ya[3])):Gb(a.Ya[0],a.Ya[1]));if(h&&n)f+=O(h,n);else if(h||n)f+=N(h?h:n);g=a.cj;n="";a.cj&&(n=Ib(g)+" "+locale.cooldown);h="";if(0<a.Ye||n)h="<span style='white-space:nowrap'>"+(0<a.Ye?J(locale.cast,
Math.ceil(Math.pow(10,2)*(a.Ye/1E3))/Math.pow(10,2)):locale.instantCast)+"</span>";n?f+=O(h,n):h&&(f+=N(h));if(c&1)for(c=0;c<d.length;c++)f+=N("<span class='tooltip_talents_required'>"+d[c]+"</span");f+=N("<span class='tooltip_spell_description'>"+a.Tb(b).join("<br />")+"</span>");return f+"</table>"};function ra(){this.he=document.createElement("div");this.he.className="tt_msg_c"}
ra.prototype={z:j,content:j,qb:j,disabled:k,li:k,he:j,x:0,y:0,Zf:j,pb:k,Lg:k,Cp:ba("Lg"),Fp:function(a){this.content=document.createElement("div");this.z=document.createElement("div");this.z.className="tooltip_div";var b=new Y(3,3);b.cells[0][0].innerHTML="<div class='tt_bg_lt'></div>";b.cells[0][1].className="tt_bg_t";b.cells[0][2].innerHTML="<div class='tt_bg_rt'></div>";b.cells[1][0].className="tt_bg_l";b.cells[1][1].appendChild(this.content);this.content.className="tt_bg";b.cells[1][2].className=
"tt_bg_r";b.cells[2][0].innerHTML="<div class='tt_bg_lb'></div>";b.cells[2][1].className="tt_bg_b";b.cells[2][2].innerHTML="<div class='tt_bg_rb'></div>";this.Zf=b;this.z.appendChild(b.b);a.appendChild(this.z)},am:function(){this.content=document.createElement("div");this.z=document.createElement("div");this.z.className="tooltip_div";var a=new Y(3,3);a.cells[0][0].innerHTML="<div class='tt_bg_lt'></div>";a.cells[0][1].className="tt_bg_t";a.cells[0][2].innerHTML="<div class='tt_bg_rt'></div>";a.cells[1][0].className=
"tt_bg_l";a.cells[1][1].appendChild(this.content);this.content.className="tt_bg";a.cells[1][2].className="tt_bg_r";a.cells[2][0].innerHTML="<div class='tt_bg_lb'></div>";a.cells[2][1].className="tt_bg_b";a.cells[2][2].innerHTML="<div class='tt_bg_rb'></div>";this.Zf=a;this.z.appendChild(a.b);document.body.appendChild(this.z)},Pe:function(a){this.z==j&&this.am();this.z.style.width="";this.z.style.whiteSpace="nowrap";this.content.innerHTML=a;this.z.style.display="block";350<this.Zf.b.offsetWidth?this.Oh(350):
this.z.style.width=this.Zf.b.offsetWidth+"px"},Oh:function(a){this.z.style.whiteSpace="normal";this.z.style.width=a+"px";if(this.z.firstChild.offsetWidth>a)this.z.style.width=this.z.firstChild.offsetWidth+"px"},Bj:function(a,b){var c=Jb(),d=Math.max(document.documentElement.scrollTop,document.body.scrollTop);this.z&&(b+this.z.offsetHeight+24>c[1]+d&&(b=c[1]+d-this.z.offsetHeight-24),a+this.z.offsetWidth>document.body.scrollLeft+document.body.offsetWidth&&(a-=this.z.offsetWidth+20));return[Math.max(0,
a),Math.max(0,b)]},Hh:function(a){for(var b=0,c=0,d=a.offsetWidth,f=a.offsetHeight;a!=j;)c+=a.offsetTop,b+=a.offsetLeft,a=a.offsetParent;return[b,c,d,f]},Vl:function(a){var b=a.scrollHeight,c=Jb(),d=document.body.scrollTop;a.style.marginLeft=Math.max(0,document.body.scrollLeft+(c[0]/2-a.scrollWidth/2))+"px";a.style.marginTop=Math.max(0,d+(c[1]/3-b/2))+"px"},dm:function(){if(this.qb==j)this.qb=document.getElementById("tt_overlay");var a=Jb();this.qb.style.width=Math.max(a[0],document.body.scrollWidth)+
"px";this.qb.style.height=Math.max(a[1],document.body.scrollHeight)+"px";this.qb.style.display="block";this.disabled=i;this.qb.onclick=j},move:function(){var a=this.Bj(this.x+10,this.y+10);if(this.z)this.z.style.left=a[0]+"px",this.z.style.top=a[1]+"px"},Vn:function(a){if(!a)a=window.event;document.all&&document.getElementById?(this.x=a.clientX+document.documentElement.scrollLeft,this.y=a.clientY+document.documentElement.scrollTop):(this.x=a.pageX,this.y=a.pageY)},Tn:function(a){27==a.keyCode&&this.disabled&&
this.enable();if(17==a.keyCode)this.pb=i},Un:function(a){if(17==a.keyCode)this.pb=k},od:function(){H(document,"mousemove",t.Vn,t,j);H(document,"keydown",t.Tn,t,j);H(document,"keyup",t.Un,t,j)},ql:function(a,b){if(this.pb&&this.Lg)this.pb=k;else{var c=this.Hh(b);this.Pe(a);c=this.Bj(c[0]+c[2]+10,c[1]);this.z.style.left=c[0]+"px";this.z.style.top=c[1]+"px"}},$:function(){if(this.z!=j)this.z.style.display="none"},Cd:function(a){this.dm();p(this.qb,a);this.Vl(a)},yh:function(a){a+='<br /><span class="tt_close_notice">Left click or hit escape to continue.</span>';
this.Cd(U(T("div",{"class":"tt_msg_c"}),"div",{text:a,"class":"tt_msg"}));this.qb.onclick=function(){t.enable()}},enable:function(){if(this.qb)X(this.qb),this.qb.style.display="none";this.li=this.disabled=k},C:function(a){a='<div class="tt_error_msg"><div class="tt_error_msg_title">Error</div><div class="tt_error_msg_content">'+a+"</div></div>";this.li?this.he.innerHTML=a+"<br />"+this.he.innerHTML:(this.li=i,this.he.innerHTML=a+'<br /><span class="tt_close_notice">Left click or hit escape to continue.</span>');
this.Cd(this.he);this.qb.onclick=function(){t.enable()}},wa:function(){var a=document.createElement("div");a.className="tt_loading";a.innerHTML="Loading";this.Cd(a)},rl:function(a,b){this.Pe(a+"</table>");var c=this.Hh(b);this.z.style.left=c[0]+c[2]+"px";this.z.style.top=c[1]+"px";300<this.z.offsetWidth&&this.Oh(300)},Pp:function(a,b,c,d,f){f=this.Hh(f);this.Pe(a);this.Oh(250);this.z.style.left=1==b&&1<d||2==b?f[0]-this.z.offsetWidth-10+"px":f[0]+f[2]+10+"px";this.z.style.top=5<c?f[1]+f[3]-this.z.offsetHeight+
"px":f[1]+"px"},Mb:function(a){this.pb&&this.Lg?this.pb=k:(this.Pe(a),this.move())},show:function(a){this.pb&&this.Lg?this.pb=k:this.Pe(a)}};var t=new ra;t.Cp(i);window.__tooltip_init=t.od;window.g_moveTooltip=function(){t.move.call(t)};window.g_hideTooltip=function(){t.$.call(t)};function xd(a,b,c){var d=a.f,f="";switch(b){case 0:f+=N("<span class='tt_stat_title'>"+locale.CS_Stats[b][c]+" "+Math.floor(d.ob[c])+"</span>");switch(c){case 0:f+=N(locale.TT_StatText.Health);break;case 1:f+=N(locale.TT_StatText.Mana);break;case 2:f+=N(locale.TT_StatText.Rage);break;case 3:f+=N(locale.TT_StatText.Energy);break;case 4:f+=N(locale.TT_StatText.Focus);break;case 5:f+=N(locale.TT_StatText.RunicPower);break;case 6:f+=N(locale.TT_StatText.ItemLevel)}break;case 1:var g=Math.floor(d.Wd[c]),
h=Math.floor(d.attributes[c]),n=h-g,r=Math.floor(d.jg[c]),v=Math.floor(d.Bh[c]),s=Math.round(100*d.de[c])/100,M=Math.round(100*d.Kf[c])/100,f=f+N("<span class='tt_stat_title'>"+locale.CS_Stats[b][c]+" "+h+(0<n?" ("+g+"+<span class='green'>"+n+"</span>)":"")+"</span>");(3==c||4==c)&&!a.zk()?f+=N("<span class='tt_stat_no_benefit'>"+locale.TT_StatText.NoBenefit+"</span>"):(a="",2==c?a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesHealth,Math.floor(d.Kg)):3==c?a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesMana,
Math.floor(d.Sg)):4==c&&(a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesManaRegen,Math.floor(d.Tg))),0<r&&(a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesAP,r)),0<v&&(a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesSP,v)),0<s&&(a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesCrit,L(s))),0<M&&(a+=(a?"<br />":"")+J(locale.TT_StatText.IncreasesSpellCrit,L(M))),a&&(f+=N(a)));break;case 2:switch(c){case 0:f+=N("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");f+=O(locale.TT_StatText.AttackSpeed,
K(d.ib/1E3,2));f+=O(locale.TT_StatText.Damage,Math.floor(d.Va)+" - "+Math.ceil(d.Ua));f+=O(locale.TT_StatText.DamagePerSecond,K(d.Ci,1));0<d.Fb&&(f+=N("<div style='padding:5px'></div>"),f+=N("<span class='tt_stat_title'>"+locale.TT_StatTitle.OffHand+"</span>"),f+=O(locale.TT_StatText.AttackSpeed,K(d.Fb/1E3,2)),f+=O(locale.TT_StatText.Damage,Math.floor(d.kb)+" - "+Math.ceil(d.jb)),f+=O(locale.TT_StatText.DamagePerSecond,K(d.Ei,1)));break;case 1:f+=N("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+
"</span>");break;case 2:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.MeleeAp,Math.floor(d.xa)+(0<Math.floor(d.Bc)?" ("+(Math.floor(d.xa)-Math.floor(d.Bc))+"<span class='green'>+"+Math.floor(d.Bc)+"</span>)":""))+"</span>");f+=N(J(locale.TT_StatText.IncreasesMeleeDamage,K(d.xa/14,1)));break;case 3:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.AttackSpeed,K(d.S[3][0]/1E3,2)+(d.S[3][1]!=j?" / "+K(d.S[3][1]/1E3,2):""))+"</span>");break;case 4:f+=N("<span class='tt_stat_title'>"+
J(locale.TT_StatTitle.Haste,L(d.S[4]))+"</span>");f+=N(locale.TT_StatText.IncreasesAttackSpeed);f+=N(I(locale.TT_StatText.IncreasesHaste,[d.mf,L(d.mf/F[17][a.g-1])]));break;case 5:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.HitChance,K(d.S[5],2))+"</span>");f+=N(I(locale.TT_StatText.HitRating,[Math.floor(d.Wb[1]),K(d.Wb[1]/F[5][a.g-1],2)]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+
locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";if(0<d.Fb){c+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_NormalAttacks+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.g+b)+"</td><td class='tt_miss'>"+L(Math.max(0,lb[b]-d.S[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+yd(lb[3],d.S[5],F[5][a.g-1])+"</td></tr>";c+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_SpecialAttacks+"</td></tr>"}for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+
(a.g+b)+"</td><td class='tt_miss'>"+L(Math.max(0,kb[b]-d.S[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+yd(kb[3],d.S[5],F[5][a.g-1])+"</td></tr>";f+=N(c+"</table>");break;case 6:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.CritChance,L(d.S[6]))+"</span>");f+=N(locale.TT_StatText.ExtraDamage);f+=N(I(locale.TT_StatText.CritRating,[Math.floor(d.Vb[1]),L(d.Vb[1]/F[8][a.g-1])]));break;case 7:r=0.25*d.S[7][0];v=d.S[7][1]==j?j:0.25*d.S[7][1];s=F[23][a.g-1]/0.25;f+=N("<span class='tt_stat_title'>"+
locale.CS_Stats[b][c]+" "+d.S[7][0]+(v!=j?" / "+d.S[7][1]:"")+"</span>");f+=N(J(locale.TT_StatText.ReduceDodgeParry,L(r)+"%"+(v!=j?"/"+L(v)+"%":"")));f+=N(I(locale.TT_StatText.ExpertiseRating,[Math.floor(d.Sb[1]),Math.floor(d.Sb[1]/F[23][a.g-1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup>"+("<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_DodgeChance+"</td></tr>");
c+=zd(a.g,pb,r,v);c+="<tr><td colspan='2'>"+yd(pb[3],r,s)+"</td></tr>";c+="<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_ParryChance+"</td></tr>";c+=zd(a.g,ob,r,v);c+="<tr><td colspan='2'>"+yd(ob[3],r,s)+"</td></tr>";f+=N(c+"</table>");break;case 8:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.Mastery,L(d.S[8]))+"</span>"),f+=N(I(locale.TT_StatText.MasteryRating,[Math.floor(d.Eb),L(d.Eb/F[25][a.g-1])]))}break;case 3:switch(c){case 0:f+=
N("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");f+=O(locale.TT_StatText.AttackSpeed,L(d.sc/1E3));f+=O(locale.TT_StatText.Damage,Math.floor(d.vf)+" - "+Math.ceil(d.uf));f+=O(locale.TT_StatText.DamagePerSecond,Hb(d.bh));break;case 1:f+=N("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+"</span>");break;case 2:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.RangedAp,Math.floor(d.sb))+"</span>");f+=N(J(locale.TT_StatText.IncreasesRangedDamage,Hb(d.sb/14)));break;
case 3:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.AttackSpeed,L(d.qa[3]/1E3))+"</span>");break;case 4:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.Haste,L(d.qa[4]))+"</span>");f+=N(locale.TT_StatText.IncreasesAttackSpeedAndFocus);f+=N(I(locale.TT_StatText.IncreasesHaste,[d.zf,L(d.zf/F[18][a.g-1])]));break;case 5:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.HitChance,L(d.qa[5]))+"</span>");f+=N(I(locale.TT_StatText.HitRating,[Math.floor(d.Af),L(d.Af/F[6][a.g-
1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.g+b)+"</td><td class='tt_miss'>"+L(Math.max(0,nb[b]-d.qa[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+yd(nb[3],d.qa[5],F[6][a.g-1])+"</td></tr>";f+=N(c+"</table>");break;case 6:f+=N("<span class='tt_stat_title'>"+
J(locale.TT_StatTitle.CritChance,L(d.qa[6]))+"</span>");f+=N(locale.TT_StatText.ExtraDamage);f+=N(I(locale.TT_StatText.CritRating,[Math.floor(d.yf),L(d.yf/F[9][a.g-1])]));break;case 7:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.Mastery,L(d.qa[7]))+"</span>"),f+=N(I(locale.TT_StatText.MasteryRating,[Math.floor(d.Eb),L(d.Eb/F[25][a.g-1])]))}break;case 4:switch(c){case 0:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.SpellPower,Math.floor(d.q[0]))+"</span>");f+=N(locale.TT_StatText.IncreasesDamageAndHealing);
break;case 1:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.Haste,L(d.q[1]))+"</span>");f+=N(locale.TT_StatText.IncreasesSpellCasting);f+=N(I(locale.TT_StatText.IncreasesHaste,[d.Mf,L(d.Mf/F[19][a.g-1])]));break;case 2:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.HitChance,L(d.q[2]))+"</span>");f+=N(I(locale.TT_StatText.HitRating,[Math.floor(d.Nf),L(d.Nf/F[7][a.g-1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+
locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.g+b)+"</td><td class='tt_miss'>"+L(Math.max(0,mb[b]-d.q[2]))+"%</td></tr>";c+="<tr><td colspan='2'>"+yd(mb[3],d.q[2],F[7][a.g-1])+"</td></tr>";f+=N(c+"</table>");break;case 4:f+=N("<span class='tt_stat_title'>"+locale.TT_StatTitle.ManaRegen+"</span>");f+=N(J(locale.TT_StatText.ManaRegen,Math.floor(d.q[4])));break;case 5:f+=N("<span class='tt_stat_title'>"+
locale.TT_StatTitle.CombatRegen+"</span>");f+=N(J(locale.TT_StatText.CombatRegen,Math.floor(d.q[5])));break;case 6:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.CritChance,L(d.q[6]))+"</span>");f+=N(I(locale.TT_StatText.CritRating,[Math.floor(d.Lf),L(d.Lf/F[10][a.g-1])]));break;case 7:f+=N("<span class='tt_stat_title'>"+J(locale.TT_StatTitle.Mastery,L(d.q[7]))+"</span>"),f+=N(I(locale.TT_StatText.MasteryRating,[Math.floor(d.Eb),L(d.Eb/F[25][a.g-1])]))}break;case 5:f+=N("<span class='tt_stat_title'>"+
J(locale.TT_StatTitle_Defense[c],4==c||0==c?d.ra[c]:L(d.ra[c]))+"</span>");switch(c){case 0:f+=N(J(locale.TT_StatText.ReducesPhysical,L(100*(81<=a.g?d.ra[0]/(d.ra[0]+2167.5*a.g-158167.5):60<=a.g?d.ra[0]/(d.ra[0]+467.5*a.g-22167.5):d.ra[0]/(d.ra[0]+85*a.g+400)))));break;case 1:f+=N(I(locale.TT_StatText.DodgeRating,[d.F[2],L(d.F[2]/F[2][a.g-1])]));break;case 2:f+=N(I(locale.TT_StatText.ParryRating,[d.wd,L(d.wd/F[3][a.g-1])]));break;case 3:f+=N(I(locale.TT_StatText.BlockRating,[d.F[4],L(d.F[4]/F[4][a.g-
1])]));break;case 4:f+=N(J(locale.TT_StatText.Resilience,L(100*d.pp)));break;case 5:f+=N(I(locale.TT_StatText.Avoidance,[L(d.nf),L(d.hd),L(d.xe)]))}break;case 6:f+=N("<span class='tt_stat_title'>"+J(locale.TT_ResistanceTitle[c],d.bc[c])+"</span>"),f+=N(J(locale.TT_Resistance[c],0))}f&&(f="<table style='line-height:125%' class='tt_stat_text'>"+f+"</table>");return f}
function yd(a,b,c){a=Math.floor((a-b)*c);return 0!=a?0<a?"<div class='tt_hit_cap'>"+J(locale.TillCap,a)+"</div>":"<div class='tt_hit_cap'>"+J(locale.OverCap,Math.abs(a))+"</div>":""}function zd(a,b,c,d){var f,g="";for(f=0;4>f;f++)g+="<tr><td class='tt_miss_level'>"+(a+f)+"</td><td class='tt_miss'>"+L(Math.max(0,b[f]-c))+(d!=j?"/"+L(Math.max(0,b[f]-d)):"")+"%</td></tr>";return g};function Ad(a,b,c,d){var b=a.r[b][c][d],f=b.wk(),c=b.In(),d=[],g="<table cellpadding='0px' cellspacing='0px'>";f!=j?(g+=N("<span class='tooltip_talent_name'>"+f.name+"</span>"),g+=N("<span class='tooltip_talent_rank'>"+locale.Rank+" "+b.V+"/"+b.Ib+"</span>"),g+=N(Aa(f,j,1,[])),c!=j&&(g+=N("<div class='tooltip_talent_next_rank'>"+locale.Nextrank+"</div>"))):g+=O("<span class='tooltip_talent_name'>"+c.name+"</span>","<span class='tooltip_talent_rank'>"+locale.Rank+" "+b.V+"/"+b.Ib+"</span>");if(c!=
j){for(f=0;3>f;f++){var h=b.Kb[f];h&&h.V!=h.Ib&&(d[d.length]=1<h.Ib?I(locale.requires_points_in,[h.Ib,h.getName()]):J(locale.requires_point_in,h.getName()))}f=a.rb;a.za[b.oj]<b.Ef*f&&(d[d.length]=I(locale.requires_points_in_tree,[b.Ef*f,a.gc[b.oj]]));g+=Aa(c,j,1,[])}return g+"</table>"};function Bd(){this.b=T("div",{"class":"bb_p"});this.c=new A;this.c.j("remove_buff",["id"]);this.c.j("add_stack",["id"])}
Bd.prototype={c:j,b:j,update:function(a){X(this.b);for(var b in a)this.Gm(a[b])},Gm:function(a){var b=U(this.b,"div",{"class":"bb_buff",backgroundImage:"images/icons/small/"+a.v+".png"});H(b,"contextmenu",this.Lh,this,[a.id]);H(b,"click",this.Nd,this,[a.id]);b.oncontextmenu=l(k);b.onmouseout=function(){t.$()};b.onmousemove=function(){t.move()};a.Fd&&b.appendChild(Nb(a.Wf.ab));var c=a.ma(),c=a.Fd?1<a.Wf.ab?c+"<div class='tt_note'>Left click to increase and right click to decrease the stack</div>":
c+"<div class='tt_note'>Left click to increase the stack and right click to remove the Buff</div>":c+"<div class='tt_note'>Right click to remove the Buff</div>";H(b,"mouseover",t.Mb,t,[c])},Lh:function(a){this.c.i("remove_buff",{id:a})},Nd:function(a){this.c.i("add_stack",{id:a})}};function $c(){this.c=new A;this.c.j("race_select",["race_id"]);this.c.j("class_select",["class_id"]);this.c.j("level_select",["level"]);this.c.j("profession_select",["index","id"]);this.c.j("profession_level_select",["index","level"]);this.c.j("stat_tooltip_show",["group","index","node"]);this.c.j("stat_tooltip_hide",["group","index","node"]);this.c.j("item_right_click",["slot","index"]);this.c.j("item_left_click",["slot","index"]);this.c.j("item_tooltip_show",["slot","index"]);this.c.j("item_tooltip_hide",
["slot","index"]);this.c.j("remove_buff",["id"]);this.c.j("add_stack",["id"]);this.c.j("select_shape",["shape_id"]);this.c.j("select_presence",["presence_id"]);var a,b,c,d,f;this.Li=new Cd(this);this.Hf=new Dd;this.Hf.ha("select_shape",this.c);this.rf=new Ed;this.rf.Xm("select_presence",this.c);this.We=new Bd;this.We.c.ha("remove_buff",this.c);this.We.c.ha("add_stack",this.c);this.b=document.createElement("div");c=document.createElement("div");c.className="cs_level_parent";this.g=document.createElement("select");
this.g.className="single_select";c.appendChild(this.g);H(this.g,"change",this.qm,this,j);a=document.createElement("div");a.className="cs_t";a.appendChild(this.Li.b);a.appendChild(this.We.b);a.appendChild(c);Kb(a);a.appendChild(this.Hf.b);a.appendChild(this.rf.b);this.b.appendChild(a);a=new Y(1,2);a.wh(ad);a.b.className="cs_m_grid";a.cols[0].width="180px";a.cols[1].width="160px";c=document.createElement("div");c.className="cs_m_grid_t";c.appendChild(a.b);f=U(c,"div",{"class":"cs_prof_p"});this.b.appendChild(c);
c=document.createElement("div");c.className="cs_m_grid_sl";d=new Y(8,2);this.$a=[];for(b=0;19>b;b++)this.$a[b]=new Fd(this,b);for(b=0;8>b;b++)d.cells[b][0].appendChild(this.$a[b].b),d.cells[b][1].appendChild(this.$a[b+8].b);c.appendChild(d.b);b=new Y(1,3);c.appendChild(b.b);b.cells[0][0].appendChild(this.$a[16].b);b.cells[0][1].appendChild(this.$a[17].b);b.cells[0][2].appendChild(this.$a[18].b);b.b.className="cs_w_grid";a.cells[0][0].appendChild(c);this.f=[];this.ya=[];for(b=0;b<locale.CS_StatGroups.length;b++){this.ya[b]=
new Gd;6==b&&this.ya[b].toggle();this.f[b]=[];for(c=0;c<locale.CS_Stats[b].length;c++)d=new Hd(b,c),d.ha("stat_tooltip_show",this.c),d.ha("stat_tooltip_hide",this.c),this.f[b][c]=d,this.ya[b].content.appendChild(this.f[b][c].b);this.ya[b].b.className="group cs_st_p";this.ya[b].content.className="cs_st_c";c=U(this.ya[b].Ba,"div",{"class":"stat_title_p"});U(c,"a",{"class":"stat_title",text:locale.CS_StatGroups[b],href:"javascript:"});a.cells[0][1].appendChild(this.ya[b].b)}this.tf=new Y(2,2);this.tf.b.className=
"cs_prof_grid";this.Sc=[j,j];this.ac=[j,j];this.Tl();for(b=0;2>b;b++)this.tf.cells[b][0].appendChild(this.Sc[b].b),this.tf.cells[b][1].appendChild(this.ac[b].b);U(f,"div",{"class":"cs_prof_title",text:locale.Professions});f.appendChild(this.tf.b);this.$a[18].$i(k);this.sl(-1)}var Id={1:24,2:8,3:52,4:56,5:44,6:24,7:40,8:44,9:44,11:8};
$c.prototype={c:j,b:j,character:j,We:j,$a:[],f:[],ph:-1,ya:[],g:j,Hf:j,rf:j,tf:j,Sc:[],ac:[],D:function(a){this.c.D(a)},ub:function(a){this.c.ub(a)},Tl:function(){for(var a,b,c=0;2>c;c++){a=[[0,""]];for(b=0;b<Ya.length;b++){var d=Ya[b];a.push([d,locale.PrimaryProfessions[d]])}this.Sc[c]=new Jd([]);this.Sc[c].b.className="single_select cs_prof_sel";H(this.Sc[c].b,"change",this.rm,this,[c]);this.ac[c]=new Jd([]);this.ac[c].b.className="single_select cs_prof_level_sel";H(this.ac[c].b,"change",this.sm,
this,[c])}},rm:function(a){this.c.i("profession_select",{index:a,id:parseInt(this.Sc[a].na(),10)})},sm:function(a){this.c.i("profession_level_select",{index:a,level:parseInt(this.ac[a].na(),10)})},qm:function(){this.c.i("level_select",{level:parseInt(this.g.options[this.g.selectedIndex].value,10)})},Tf:function(a){for(var b=0;b<this.g.options.length;b++)if(parseInt(this.g.options[b].value,10)==a){this.g.options[b].selected="true";break}},dq:function(a,b){var c;Lb(this.g);for(var d=a;d<=b;d++)c=document.createElement("option"),
c.value=d,c.innerHTML=d,this.g.appendChild(c)},sl:function(a){var b=0;0<a&&Id[a]&&(b=Id[a]);b|=64;for(a=0;a<this.ya.length;a++)0!=(1<<a&b)?this.ya[a].collapse():this.ya[a].expand()},Uf:function(a,b){for(var c,d,f,g=0;2>g;g++){var h=a[g];c=[[0,""]];for(d=0;d<Ya.length;d++)f=Ya[d],0>Pb(Ya[d],b)||0==g&&a[1]!=j&&a[1].id==f||1==g&&a[0]!=j&&a[0].id==f||c.push([f,locale.PrimaryProfessions[f]]);this.Sc[g].set(c);if(h!=j){this.Sc[g].select(h.id.toString());this.ac[g].b.style.display="block";f=Qb(h.id,b);c=
[];for(d=1;d<=f;d++)c.push([d,d]);this.ac[g].set(c);this.ac[g].select(h.g.toString())}else this.ac[g].b.style.display="none"}},up:function(a){-1!=a&&this.$a[a].select();-1!=this.ph&&this.ph!=a&&this.$a[this.ph].pn();this.ph=a},wp:function(a){this.c.i("class_select",{class_id:a})},xp:function(a){this.c.i("race_select",{race_id:a})},Ak:function(a,b){this.$a[a].pb(b)}};function Kd(a,b){this.id=a;this.g=b}Kd.prototype={id:0,g:0};function Fd(a,b){var c;this.Qa=a;this.b=document.createElement("div");this.Ia=[];this.w=b;this.b.className="cs_is_p  cs_is_p_"+(8>b?0:16>b?1:2);for(c=0;4>c;c++)this.Ia[c]=document.createElement("img"),this.Ia[c].className=0==c?"cs_is_img_large":"cs_is_img_small";this.Ta=new Ld(2);this.Ta.l[0].className="cs_is_ip cs_is_ip_"+(8>b?0:16>b?1:2);this.Ta.l[0].appendChild(this.Ia[0]);this.Ta.l[1].className="character_sheet_item_highlight";this.Ta.l[1].oncontextmenu=l(k);this.b.appendChild(this.Ta.l[0]);H(this.Ta.l[1],
"mouseover",this.tl,this,[0]);H(this.Ta.l[1],"mouseout",this.pb,this,[0]);H(this.Ta.l[1],"click",this.Nd,this,[0]);H(this.Ta.l[1],"contextmenu",this.Kj,this,[0]);this.hb=[];for(c=0;3>c;c++){this.hb[c]=new Ld(3);document.createElement("div");this.hb[c].l[0].className="cs_is_hi";this.hb[c].l[1].appendChild(this.Ia[c+1]);this.hb[c].l[1].className="cs_is_hip";this.hb[c].l[1].style.zIndex="";this.hb[c].l[2].className="cs_is_hi_event_p";var d=U(this.hb[c].l[2],"a",{"class":"cs_is_hi_event",href:"javascript:"});
d.oncontextmenu=l(k);H(d,"mouseover",this.tl,this,[c+1]);H(d,"mouseout",this.pb,this,[c+1]);H(d,"click",this.Nd,this,[c+1]);H(d,"contextmenu",this.Kj,this,[c+1]);this.b.appendChild(this.hb[c].l[0])}this.n=[]}
Fd.prototype={b:j,Ia:[],w:-1,ja:-1,selected:k,Qa:j,n:[],Ta:j,hb:[],tl:function(a){if(this.n[a])if(1<=a){this.Ia[a].src="images/icons/large/"+this.n[a].v+".png";this.Ia[a].className="cs_is_img_large";V(this.hb[a-1].l[1],"cs_is_hip_enlarge");var b=this.n[a].ma()+"<div class='tt_note'>Press CTRL to prevent this tooltip from showing</div>";t.ql(b,this.Ia[a])}else t.ql(this.n[a].ma(),this.Ia[a]);this.Qa.c.i("item_tooltip_show",{slot:this.w,index:a})},pb:function(a){if(1<=a){if(this.n[a])this.Ia[a].src=
"images/icons/gem/"+this.n[a].v+".png";this.Ia[a].className="cs_is_img_small";Wc(this.hb[a-1].l[1],"cs_is_hip_enlarge")}t.$();this.Qa.c.i("item_tooltip_hide",{slot:this.w,index:a})},Nd:function(a){this.Qa.c.i("item_left_click",{slot:this.w,index:a})},Kj:function(a){this.Qa.c.i("item_right_click",{slot:this.w,index:a})},$i:function(a){this.b.style.display=a?"block":"none"},select:function(){this.Ta.l[0].style.backgroundImage="url(images/site/item_border_hover.png)";this.selected=i},pn:function(){this.Ta.l[0].style.backgroundImage=
-1<this.ja?"url(images/site/item_border_q"+this.ja+".png)":"url(images/site/item_border.png)";this.selected=k},update:function(a){this.n=a;for(var b=0;4>b;b++)a=this.n[b],a==j?0<b?(this.Ia[b].style.display="none",Wc(this.hb[b-1].l[0],/^cs_is_quality_\d+$/)):(this.Ia[b].src="images/charsheet/slots/slot_"+this.w+".jpg",this.Ta.l[0].style.backgroundImage="url(images/site/item_border.png)"):0<b?(this.Ia[b].style.display="block",V(this.hb[b-1].l[0],"cs_is_quality_"+a.ja),this.Ia[b].src="images/icons/gem/"+
a.v+".png"):(this.ja=a.ja,this.Ta.l[0].style.backgroundImage=this.selected?"url(images/site/item_border_hover.png)":a.Gk()?"url(images/site/item_border_invalid.png)":-1<this.ja?"url(images/site/item_border_q"+this.ja+".png)":"url(images/site/item_border.png)",this.Ia[b].src=a.Gk()?"images/icons/r/large/"+(a.v?a.v:"Temp")+".png":"images/icons/large/"+(a.v?a.v:"Temp")+".png")}};function Ed(){this.b=document.createElement("div");this.c=new A;this.c.j("select_presence",["presence_id"])}
Ed.prototype={b:j,c:j,Xm:function(a,b){this.c.ha(a,b)},update:function(a,b){Lb(this.b);if(!(a==j||0==a.length)){for(var c=0;c<a.length;c++){var d=U(this.b,"div",{"class":"ps_presence",backgroundImage:"images/icons/"+(a[c].id==b?"":"g/")+"small/"+a[c].v+".png"});H(d,"mouseover",t.show,t,["<div class='tooltip_spell_description'>"+a[c].description+"</div>"]);d.onmouseout=function(){t.$()};d.onmousemove=function(){t.move()};H(d,"click",function(a){this.c.i("select_presence",{presence_id:a})},this,[a[c].id])}Kb(this.b)}}};var Md={1:447,2:493,3:511,4:1213,5:445,6:1143,7:441,8:1533,9:509,10:447,11:247,22:1469},Nd=[[1,3,4,7,11,22],[2,5,6,8,10,9]];
function Cd(a){this.Qa=a;var b=new Y(1,2),a=new Y(7,2),c;this.b=document.createElement("div");this.b.className="rcs_parent";this.De=document.createElement("div");this.De.className="rcs_icon_race_container";this.yd=document.createElement("div");this.yd.className="rcs_icon_container";this.O=document.createElement("div");this.O.className="character_race_icon";this.O.style.backgroundImage="url(images/site/race_class/medium/slot_empty.png)";this.ze=document.createElement("img");this.ze.className="rcs_icon_s";
this.ze.src="images/site/race_class/medium/slot_empty.png";this.O=new Ld(4);this.O.l[0].appendChild(this.ze);this.O.l[0].className="rcs_icon_l";this.O.l[1].className="rcs_shadow";this.O.l[2].className="rcs_border";this.O.l[3].className="rcs_event_l";b.cells[0][0].appendChild(this.O.l[0]);this.Zd=document.createElement("img");this.Zd.className="rcs_icon_s";this.Zd.src="images/site/race_class/medium/slot_empty.png";this.d=new Ld(4);this.d.l[0].appendChild(this.Zd);this.d.l[0].className="rcs_icon_l";
this.d.l[1].className="rcs_shadow";this.d.l[2].className="rcs_border";this.d.l[3].className="rcs_event_l";b.cells[0][1].appendChild(this.d.l[0]);this.b.appendChild(b.b);b=document.createElement("div");b.innerHTML="<span class='rcs_select_header'>Select a Race:</span>";c=document.createElement("a");c.className="close rcs_close";c.onclick=function(){t.enable()};b.appendChild(c);this.De.appendChild(b);a.cells[0][0].innerHTML="<div class='rcs_faction_alliance'>Alliance</div>";a.cells[0][1].innerHTML=
"<div class='rcs_faction_horde'>Horde</div>";for(b=0;2>b;b++)for(c=0;c<Nd[b].length;c++){var d=document.createElement("div");d.className="rcs_race_icon";d.style.backgroundImage="url(images/site/race_class/medium/chr_race_"+Nd[b][c]+".png)";H(d,"click",this.tm,this,[Nd[b][c]]);a.cells[1+c][b].appendChild(d)}this.De.appendChild(a.b);H(this.d.l[3],"click",this.nl,this,[]);H(this.O.l[3],"click",this.Np,this,[]);H(this.d.l[3],"mouseover",this.$f,this,[1,1]);H(this.O.l[3],"mouseover",this.$f,this,[0,1]);
H(this.d.l[3],"mouseout",this.$f,this,[1,0]);H(this.O.l[3],"mouseout",this.$f,this,[0,0])}
Cd.prototype={b:j,De:j,yd:j,O:j,ze:j,d:j,Zd:j,Zh:-1,gn:-1,Qa:j,$f:function(a,b){a?this.d.l[2].style.backgroundPosition=1!=b?"0px 0px":"48px 0px":this.O.l[2].style.backgroundPosition=1!=b?"0px 0px":"48px 0px"},update:function(a,b){this.Zh=a;this.gn=b;var c,d;if(-1!=a){this.ze.src="images/site/race_class/resized_chr_race_"+a+".png";-1!=b?(this.Zd.src="images/site/race_class/resized_"+b+".png",this.d.l[2].className="rcs_class_border",this.d.l[2].style.backgroundImage="url(images/site/race_class/class_border_"+
b+".png)"):(this.Zd.src="images/site/race_class/medium/slot_empty.png",this.d.l[2].className="rcs_border",this.d.l[2].style.backgroundImage="");Lb(this.yd);c=document.createElement("div");c.innerHTML="<span class='rcs_select_header'>Select a Class:</span>";d=document.createElement("a");d.className="close rcs_close";d.onclick=function(){t.enable()};c.appendChild(d);this.yd.appendChild(c);for(c=0;11>c;c++)if(0!=(Md[a]&1<<c))d=document.createElement("div"),d.className="rcs_icon",d.style.backgroundImage=
"url(images/site/race_class/medium/"+(c+1)+".png)",H(d,"click",this.km,this,[c+1]),this.yd.appendChild(d);c=document.createElement("div");c.className="clear_both";this.yd.appendChild(c)}else this.ze.src="images/site/race_class/medium/slot_empty.png"},km:function(a){this.Qa.wp(a)},tm:function(a){this.Qa.xp(a)},nl:function(){-1!=this.Zh?t.Cd(this.yd):t.Cd(this.De)},Np:function(){t.Cd(this.De)}};function Dd(){this.b=document.createElement("div");this.c=new A;this.c.j("select_shape",["shape_id"])}
Dd.prototype={c:j,b:j,Nd:function(a){this.c.i("select_shape",{shape_id:a})},ha:function(a,b){this.c.ha(a,b)},update:function(a,b){var c,d;Lb(this.b);if(a!=j&&0!=a.length){c=document.createElement("div");for(var f=0;f<a.length;f++)d=document.createElement("div"),d.className="cs_shape",d.style.backgroundImage="url(images/icons/"+(a[f].id==b?"":"g/")+"small/"+a[f].v+".png)",c.appendChild(d),H(d,"mouseover",t.show,t,["<div class='tooltip_spell_description'>"+a[f].description+"</div>"]),d.onmouseout=function(){t.$()},
d.onmousemove=function(){t.move()},H(d,"click",this.Nd,this,[a[f].id]),this.hq=i;this.b.appendChild(c);Kb(this.b)}}};function Hd(a,b){this.c=new A;this.c.j("stat_tooltip_show",["group","index","node"]);this.c.j("stat_tooltip_hide",["group","index","node"]);this.Jg=a;this.index=b;var c=document.createElement("div");c.className="stat_table_value_div";this.b=document.createElement("div");this.b.className="stat_table_name_div";this.b.innerHTML=locale.CS_Stats[a][b];this.b.appendChild(c);this.compareNode=document.createElement("span");this.compareNode.className="stat_table_stat_span stat_table_stat_compare_span";this.La=
document.createElement("span");this.La.className="stat_table_stat_span";this.La.innerHTML=0;c.appendChild(this.compareNode);c.appendChild(this.La);H(this.b,"mouseover",this.wm,this,[]);H(this.b,"mouseout",this.nm,this,[]);this.b.onmouseout=function(){t.$()};this.Na=Od[this.Jg][this.index]}var Od=[[0,0,0],[0,0,0,0,0],[68,96,0,65,16,24,16,64,256],[132,160,0,129,16,24,16,256],[0,16,24,0,0,0,16,256],[0,16,16,16,0,16,16],[0,0,0,0,0]];
Hd.prototype={Jg:-1,index:-1,name:"",nj:"",b:j,value:0,La:j,Na:0,c:j,wm:function(){this.c.i("stat_tooltip_show",{group:this.Jg,index:this.index,node:this.b})},nm:function(){this.c.i("stat_tooltip_hide",{group:this.Jg,index:this.index,node:this.b})},D:function(a){this.c.D(a)},ha:function(a,b){this.c.ha(a,b)},ca:function(a){this.value=a;this.La.innerHTML="";(-1===a||"object"===typeof a&&-1===a[0])&&this.Na&128?this.La.innerHTML+="N/A":this.Na&64?(this.Sh(a[0]),a[1]!=j&&(this.La.innerHTML+="/",this.Sh(a[1]))):
this.Sh(a)},Sh:function(a){this.La.innerHTML=this.Na&16?this.La.innerHTML+((this.Na&8?"+":"")+K(a,2)+"%"):this.Na&32?this.La.innerHTML+K(a,1):this.Na&256?this.La.innerHTML+K(a,2):this.Na&1?this.La.innerHTML+K(a/1E3,2):this.Na&4?this.La.innerHTML+(a[0]+"-"+a[1]):this.La.innerHTML+Math.floor(a)},kp:function(){this.compareNode.innerHTML=""},zd:function(a){var b;this.compareNode.innerHTML="";if(!((-1===a||"object"===typeof a&&-1===a[0])&&this.Na&128))if(this.Na&64){if(!(this.Na&4))if(b=this.Ph(a[0],this.value[0]),
a[1]!=j){if(a=this.Ph(a[1],this.value[1]),b||a)this.compareNode.innerHTML=(b?b:"0")+"/"+(a?a:"0")}else if(b!=j)this.compareNode.innerHTML=b}else b=this.Ph(a,this.value),this.compareNode.innerHTML=b?b:""},Ph:function(a,b){var c;c=0!=(272&this.Na)?Math.floor(100*(a-b))/100:Math.floor(a-b);return 0!=c?this.Na&1?"<span class='stat_table_stat_span "+(0<c?"compare_red":"compare_green")+"'>"+(0<c?"+":"-")+L(Math.abs(c)/1E3)+"</span>":"<span class='stat_table_stat_span "+(0<c?"compare_green":"compare_red")+
"'>"+(0<c?"+":"-")+(0!=(this.Na&16)?L(Math.abs(c)):Math.abs(c))+"</span>":j}};function Pd(){}Pd.prototype={b:j,na:function(){e(new Rb("SimpleUserControl","getValue"))},ca:function(){e(new Rb("SimpleUserControl","setValue"))}};function Qd(){this.b=document.createElement("input");this.b.className="input"}Qd.prototype=new Pd;Qd.prototype.b=j;Qd.prototype.ca=function(a){this.b.value=a};Qd.prototype.na=function(){return this.b.value};function Jd(a){this.b=document.createElement("select");this.b.className="single_select";this.set(a)}function Rd(a){var b=[],c=0,d;for(d in a)b[c++]=[d,a[d]];return new Jd(b)}Jd.prototype=new Pd;m=Jd.prototype;m.b=j;m.options=[];m.hl=function(a){this.b.name=a};m.set=function(a){var b;for(this.options=[];this.b.firstChild;)this.b.removeChild(this.b.firstChild);for(b=0;b<a.length;b++)this.options[b]=document.createElement("option"),this.options[b].value=a[b][0],this.options[b].innerHTML=a[b][1],this.b.appendChild(this.options[b])};
m.select=function(a){for(var b=0;b<this.options.length;b++)if(this.options[b].value===a){this.options[b].selected=i;break}};m.na=function(){return this.b.options[this.b.selectedIndex].value};m.ca=function(a){this.select(a)};function Sd(a){var b;this.b=document.createElement("select");this.b.className="multi_select";this.b.multiple="true";this.options=[];for(b=0;b<a.length;b++)this.options[b]=document.createElement("option"),this.options[b].value=a[b][0],this.options[b].innerHTML=a[b][1],this.b.appendChild(this.options[b])}Sd.prototype.b=j;Sd.prototype.options=[];
Sd.prototype.select=function(a){if(a!=(1<<this.options.length+1)-1)for(var b=0;b<this.options.length;b++)this.options[b].selected=0!=(a&1<<parseInt(this.options[b].value,10))};Sd.prototype.na=function(){var a=0,b,c,d=0;for(b=0;b<this.options.length;b++)c=1<<parseInt(this.options[b].value,10),d+=c,this.options[b].selected==i&&(a+=c);0==a&&(a=d);return a};function Y(a,b){var c,d;this.b=document.createElement("table");this.b.cellSpacing="0";this.b.cellPadding="0";this.rows=Array(a);this.cells=Array(a);this.vg=document.createElement("colgroup");this.cols=Array(b);this.b.appendChild(this.vg);for(d=0;d<b;d++)this.cols[d]=document.createElement("col"),this.vg.appendChild(this.cols[d]);this.Rf=document.createElement("tbody");this.b.appendChild(this.Rf);for(c=0;c<a;c++){this.rows[c]=document.createElement("tr");this.Rf.appendChild(this.rows[c]);this.cells[c]=
Array(b);for(d=0;d<b;d++)this.cells[c][d]=document.createElement("td"),this.rows[c].appendChild(this.cells[c][d])}}var ad="top";
Y.prototype={cells:[],rows:[],cols:[],b:j,Rf:j,vAlign:"",vg:j,wh:function(a){var b,c;this.vAlign=a;for(b=0;b<this.cells.length;b++)for(c=0;c<this.cells[b].length;c++)this.cells[b][c].vAlign=a},ad:function(){var a=this.rows.length,b;this.rows[a]=document.createElement("tr");this.cells[a]=[];for(b=0;b<this.cols.length;b++)this.cells[a][b]=document.createElement("td"),this.cells[a][b].vAlign=this.vAlign,this.rows[a].appendChild(this.cells[a][b]);this.Rf.appendChild(this.rows[a]);return a},Sm:function(){var a=
this.cols.length,b=this.rows.length;this.cols[a]=document.createElement("col");this.vg.appendChild(this.cols[a]);for(var c=0;c<b;c++)this.cells[c][a]=document.createElement("td"),this.cells[c][a].vAlign=this.vAlign,this.rows[c].appendChild(this.cells[c][a]);return a},Qh:function(){var a=this.rows.length,b=j,c;this.rows[a]=document.createElement("tr");this.cells[a]=[];b=document.createElement("td");b.colSpan=this.cols.length;b.vAlign=this.vAlign;this.rows[a].appendChild(b);for(c=0;c<this.cols.length;c++)this.cells[a][c]=
b;this.Rf.appendChild(this.rows[a]);return a},show:function(){this.b.style.display="table"},$:function(){this.b.style.display="none"}};function Gd(){this.b=document.createElement("div");this.Ba=document.createElement("div");this.content=document.createElement("div");this.b.appendChild(this.Ba);this.b.appendChild(this.content);this.Ba.nq=l(k);this.Ba.onmousedown=l(k);H(this.Ba,"click",this.toggle,this,[]);this.collapse()}Gd.prototype={b:j,content:j,Ba:j,Nb:j,collapse:function(){this.content.style.display="none";this.Nb=k},expand:function(){this.content.style.display="block";this.Nb=i},toggle:function(){this.Nb?this.collapse():this.expand()}};function Ld(a){if(0<a){this.l=[];this.l[0]=document.createElement("div");this.l[0].style.position="relative";for(var b=1;b<a;b++)this.l[b]=document.createElement("div"),this.l[b].style.position="absolute",this.l[b].style.zIndex=b,this.l[0].appendChild(this.l[b])}}Ld.prototype={l:j};function hd(a,b,c){this.Yf=new Td(a.length);this.Jh=new Ud(b,c,this.show,this);this.b=this.Yf.b;this.Ug=this.Jh.b;for(b=0;b<a.length;b++)this.Yf.n[b].appendChild(a[b])}hd.prototype={Ug:j,b:j,Nb:0,Jh:j,Yf:j,td:j,th:ba("td"),show:function(a){var b=this.Nb;this.Nb=a;this.Yf.show(a);this.Jh.select(a);this.td&&this.td.ia([a,b])}};function Ud(a,b,c,d){var f=document.createElement("div");this.b=document.createElement("div");this.b.className=b+"_sel";this.Ze=b;this.links=[];for(var g=0;g<a.length;g++)this.links[g]=document.createElement("a"),this.links[g].className=b+"_i"+g+(0==g?"_a "+b+"_i_a_base":" "+b+"_i_base"),this.links[g].innerHTML="<span class='"+b+"_l_f'>"+a[g]+"</span>",H(this.links[g],"click",c,d,[g]),this.b.appendChild(this.links[g]);f.className="clear_both";Kb(f)}m=Ud.prototype;m.Ze="";m.links=j;m.b=j;
m.selected=0;m.select=function(a){this.links[this.selected].className=this.Ze+"_i"+this.selected+" "+this.Ze+"_i_base";this.links[a].className=this.Ze+"_i"+a+"_a "+this.Ze+"_i_a_base";this.selected=a};function Td(a){this.n=[];this.b=document.createElement("div");for(var b=0;b<a;b++)this.n[b]=document.createElement("div"),this.n[b].style.display=0==b?"block":"none",this.n[b].style.width="100%",this.n[b].style.height="100%",this.b.appendChild(this.n[b]);this.Nb=0}Td.prototype={n:j,b:j,Nb:0,td:j,show:function(a){if(a!=this.Nb){var b=this.Nb;this.n[a].style.display="block";this.n[b].style.display="none";this.Nb=a;this.td&&this.td.ia([a,b])}},th:function(a,b){this.td=new x(a,b)}};function Vd(a,b){this.map={};if(a)for(var c in a)this.map[c]=a[c];this.parent=b;this.je=document.createElement("input");H(this.je,"change",this.Kh,this,[]);H(this.je,"keyup",this.Kh,this,[]);H(this.je,"blur",this.Kh,this,[])}Vd.prototype={filter:function(a){Lb(this.parent);for(var b in this.map)(!a||RegExp(a,"i").exec(b))&&this.parent.appendChild(this.map[b])},Mp:function(){Lb(this.parent);for(var a in this.map)this.parent.appendChild(this.map[a])},Kh:function(){this.filter(this.je.value)}};function Wd(){this.T={};this.b=T("div",{"class":"ba_p"});this.bd=new Gd;this.bd.Ba.appendChild(T("a",{href:"javascript:;",text:locale.RF_BatchHeader}));this.bd.Ba.className="collapse_h ba_collapse_h";this.bd.content.className="collapse_c ba_collapse_c";this.bd.b.className="collapse ba_collapse";this.Yg=this.bd.content;W(this.b,this.bd.b)}
Wd.prototype={T:j,bd:j,Yg:j,b:j,Se:function(a,b,c){var d=U(this.Yg,"div",{"class":"ba_op_container"}),b=U(d,"a",{text:b,href:"javascript:;","class":"ba_simple_op_link"});yb(b,"click",c,[a]);this.T[a]={id:a,node:d};return this.T[a]},ak:function(a,b,c,d){var f;f=U(this.Yg,"div",{"class":"ba_op_container"});b=U(f,"div",{"class":"ba_op_title",text:b});d&&W(b,Yc(d));d=U(f,"div",{});W(d,c);this.T[a]={id:a,node:f};return this.T[a]},remove:function(a){"undefined"!==typeof this.T[a]&&this.T[a]!==j&&(this.Yg.removeChild(this.T[a].node),
delete this.T[a])},show:function(a){this.Sj(a);this.T[a].b.display.style="none"},$:function(a){this.Sj(a);this.T[a].b.display.style=""},Sj:function(a){("undefined"===typeof this.T[a]||this.T[a]===j)&&e(Error("No batch operation with id '"+a+"' found!"))}};function Xd(){this.b=document.createElement("div");this.c=new A;this.c.j("change",["data"])}Xd.prototype={b:j,disabled:k,Pg:k,c:j,setData:function(){e(new Rb("Editable","setData"))},readOnly:ba("Pg"),D:function(a){this.c.D(a)}};function Yd(a){return a?'<a href="javascript:;" title="Click to edit">'+a+"</a>":"<span class='ui_data_nothing'>None</span>"};function rd(){Xd.call(this);this.z=T("div",{});this.input=new Qd;H(this.input.b,"blur",this.Me,this,[k]);H(this.z,"click",this.Me,this,[i]);this.form=T("form",{action:"javascript:"});this.form.appendChild(this.input.b);H(this.form,"submit",this.ic,this,[])}rd.prototype=new Xd;m=rd.prototype;m.input=j;m.z=j;m.form=j;m.data=j;m.setData=function(a){this.data=a;this.input.ca(a);this.disabled=k;a=this.input.na();this.z.innerHTML=Yd(a);p(this.b,this.z)};
m.Me=function(a){a?!this.disabled&&!this.Pg&&(p(this.b,this.form),this.input.b.focus()):(p(this.b,this.z),this.input.ca(this.data))};m.ic=function(){this.c.i("change",{data:this.input.na()});p(this.b,T("img",{src:"images/site/bar_loading.gif","class":"ui_bar_loading"}));this.disabled=i};function qd(a){Xd.call(this);this.options=a;this.z=T("div",{});this.select=Rd(a);this.select.b.className+=" single_select_focussable";H(this.select.b,"blur",this.Me,this,[k]);H(this.z,"click",this.Me,this,[i]);H(this.select.b,"change",this.ic,this,[])}qd.prototype=new Xd;m=qd.prototype;m.select=j;m.z=j;m.data=j;m.options=[];m.setData=function(a){this.data=a;this.select.ca(a);this.disabled=k;this.z.innerHTML=Yd(this.options[a]);p(this.b,this.z)};
m.Me=function(a){a?!this.disabled&&!this.Pg&&(p(this.b,this.select.b),this.select.b.focus()):(p(this.b,this.z),this.select.ca(this.data))};m.ic=function(){this.c.i("change",{data:this.select.na()});p(this.b,T("img",{src:"images/site/bar_loading.gif","class":"ui_bar_loading"}));this.disabled=i};function sd(a){var b=[],c=0,d,f,g;Xd.call(this);this.fh=a;this.b.className="bnpm_c";this.content=document.createElement("div");this.content.className="bnpm_content";this.jd=document.createElement("div");this.Ac=document.createElement("a");this.Ac.className="add bnpm_add_link";this.Ac.href="javascript:";this.Ac.innerHTML="Add a Battle.net Profile";H(this.Ac,"click",this.hm,this,[]);d=new Y(2,3);d.b.className="bnpm_grid";this.jd.appendChild(this.Ac);this.b.appendChild(this.content);this.b.appendChild(this.jd);
this.Yb=new Qd;this.Tc=new Jd([]);this.Tc.b.className+=" single_select_focussable";this.tb=new Jd([]);this.tb.b.className+=" single_select_focussable";d.cols[0].width="160px";d.cols[1].width="160px";d.cols[2].width="160px";d.cells[0][0].innerHTML="Name";d.cells[0][1].innerHTML="Region";d.cells[0][2].innerHTML="Realm";d.cells[1][0].appendChild(this.Yb.b);d.cells[1][1].appendChild(this.tb.b);d.cells[1][2].appendChild(this.Tc.b);this.Yb.b.className+=" bnpm_input";this.tb.b.className+=" bnpm_select";
this.Tc.b.className+=" bnpm_select";this.ig=document.createElement("div");this.ig.className="bnpm_add_parent";g=document.createElement("div");g.className="group bnpm_input_parent";g.appendChild(d.b);d=document.createElement("form");d.action="javascript:";H(d,"submit",this.xm,this,[]);d.appendChild(g);g=document.createElement("div");f=document.createElement("input");f.type="button";Ob(f,{"default":"button button_light bnpm_add_cancel_btn",hover:"button_light_hover"});f.value="Cancel";H(f,"click",this.im,
this,[]);g.appendChild(f);f=document.createElement("input");f.type="submit";Ob(f,{"default":"button button_light bnpm_add_add_btn",hover:"button_light_hover"});f.value="Add";g.appendChild(f);g.className="bnpm_add_ctrl_parent";d.appendChild(g);this.ig.appendChild(d);H(this.tb.b,"change",this.um,this,[]);for(var h in a)b[c++]=[h,locale.Regions[h]];this.tb.set(b);this.tb.select("us");Zd(this,this.tb.na())}sd.prototype=new Xd;m=sd.prototype;m.b=j;m.content=j;m.jd=j;m.ig=j;m.Ac=j;m.Mo=j;m.fh=j;m.Yb=j;
m.Tc=j;m.tb=j;
m.setData=function(a){var b,c;this.Mo=a;this.content.innerHTML="";for(var d in a){b=a[d];c=document.createElement("div");c.className="group bnpm_entry";var f=U(c,"a",{href:"javascript:;","class":"remove bnpm_remove"});H(f,"click",this.Lh,this,[b,c]);U(c,"span",{text:b.Name,"class":"bnpm_name"});U(c,"span",{text:", "+b.Level+" "+locale.CharacterRace[b.CharacterRaceID]+" "});U(c,"span",{text:locale.CharacterClass[b.CharacterClassID],"class":"character_class_"+b.CharacterClassID+" bnpm_chrclass"});U(c,
"span",{text:", "+b.Region.toUpperCase()+"-"+b.Realm,"class":"bnpm_origin"});U(c,"br",{});U(c,"a",{href:w({planner:"",name:b.Name,realm:b.Realm,region:b.Region}),text:"Static link to import this character from Battle.net into chardev","class":"bnpm_static_link"});this.content.appendChild(c)}this.disabled=k;p(this.jd,this.Ac)};m.im=function(){p(this.jd,this.Ac)};m.hm=function(){p(this.jd,this.ig)};
m.Lh=function(a,b){if(!this.disabled)this.c.i("change",{data:JSON.stringify({removeBattleNetProfile:a})}),b.innerHTML="<img src='images/site/bar_loading.gif' class='bnpm_bar_loading' />"};
m.xm=function(){var a;if(a=!this.disabled)a=this.Yb.na(),2>a.length?(t.C("Character name is too short!"),a=k):12<a.length?(t.C("Character name is too long!"),a=k):a=i;if(a)this.disabled=i,this.c.i("change",{data:JSON.stringify({addBattleNetProfile:{Name:this.Yb.na(),Realm:this.Tc.na(),Region:this.tb.na()}})}),this.jd.innerHTML="<img src='images/site/bar_loading.gif' class='ui_bar_loading' />"};m.um=function(){Zd(this,this.tb.na())};
function Zd(a,b){var c=[],d=0,f;for(f in a.fh[b])c[d++]=[a.fh[b][f],a.fh[b][f]];a.Tc.set(c)};function ea(){Xd.call(this);this.z=T("div",{});this.form=T("form",{action:"javascript:"});this.Gd=U(this.form,"textarea",{"class":"textarea fo_edit"});H(this.Gd,"blur",this.ii,this,[k]);H(this.z,"click",this.ii,this,[i]);H(this.form,"submit",this.ic,this,[])}ea.prototype=new Xd;m=ea.prototype;m.Gd=j;m.z=j;m.form=j;m.data=j;
m.setData=function(a){this.data=a.PlainContent;this.Gd.value=a.PlainContent;this.disabled=k;this.z.innerHTML=a.ParsedContent?a.ParsedContent:"<span class='ui_data_nothing'>Empty</span>";p(this.b,this.z)};m.ii=function(a){if(a){if(!this.disabled&&!this.Pg)this.Gd.style.height=Math.max(100,this.z.offsetHeight)+"px",p(this.b,this.form),this.Gd.focus()}else p(this.b,this.z),this.Gd.value=this.data};
m.ic=function(){this.c.i("change",{data:this.Gd.value});p(this.b,T("img",{src:"images/site/bar_loading.gif","class":"ui_bar_loading"}));this.disabled=i};function kd(){this.c=new A;this.c.j("socket_left_click",["socket"]);this.c.j("socket_right_click",["socket"]);this.c.j("socket_used_gem",["socket","gemId"]);this.c.j("used_gem_tooltip_show",["socket","gemId"]);this.c.j("used_gem_tooltip_hide",["socket","gemId"]);this.c.j("socket_all",["gemId"]);this.c.j("socket_all_color",["color","gemId"]);this.c.j("remove_all_gems",[]);this.c.j("remove_all_gems_by_id",["gemId"]);this.b=T("div",{});this.Ja=[new Ld(5),new Ld(5),new Ld(5)];this.T=new Wd;V(this.T.b,
"ra_group");this.b.appendChild(this.T.b);this.T.Se("remove_all",locale.SI_RemoveAllGems,new x(function(){this.Wg($d)},this));this.gf=U(this.b,"div",{"class":"si_main"});this.nj=U(this.gf,"div",{"class":"si_tt_p"});this.Ld=U(this.gf,"div",{"class":"ra_group si_used_parent"});this.ul=U(this.gf,"div",{"class":"si_socket_parent"});for(var a=0;3>a;a++)this.Ja[a].l[0].className="si_gem_p",this.Ja[a].l[1].className="si_bg",this.Ja[a].l[2].className="si_no_highlight",this.Ja[a].l[4].className="si_event",
this.Ja[a].l[4].oncontextmenu=l(k),H(this.Ja[a].l[4],"mouseover",this.Ao,this,[a]),H(this.Ja[a].l[4],"mouseout",this.zo,this,[a]),this.Ja[a].l[4].onmousemove=function(){t.move()},H(this.Ja[a].l[4],"click",this.yo,this,[a]),H(this.Ja[a].l[4],"contextmenu",this.c.i,this.c,["socket_right_click",{socket:a}]);this.Rg=document.createElement("div");this.b.appendChild(this.Rg);this.oh(-1);this.Og=new ra;this.Og.Fp(this.nj);this.Og.z.className="fixed_tooltip_div";this.Yi(k)}var $d=0;
kd.prototype={ec:-1,nj:j,b:j,gf:j,Ja:[],w:0,character:j,Ld:j,Da:j,c:j,Rg:j,T:j,Og:j,Yi:function(a){this.gf.style.display=a?"block":"none"},ml:function(a){this.Rg.style.display=a?"block":"none"},Ep:function(a){this.Rg.appendChild(a)},update:function(a,b){if(a==j)this.Yi(k);else{this.Yi(i);(this.Da==j||a.id!=this.Da.id)&&this.oh(-1);this.Da=a;var c,d,f,g,h=0,n;this.Og.show(a.On());f=a.Xn();X(this.ul);n=U(this.ul,"div",{});for(c=0;c<a.Y.length;c++)if(0<a.Y[c]||f){0>=a.Y[c]?(f=k,g="prismatic"):g=14==
a.Y[c]?"prismatic":Math.log(a.Y[c])/Math.log(2);d=this.Ja[c];d.l[1].style.backgroundImage="url(images/socket_interface/socket_"+g+"_large.png)";if(a.nd(c)==j)d.l[3].className="si_braces",d.l[3].style.backgroundImage="url(images/socket_interface/socket_"+g+"_braces_open.png)",Lb(d.l[1]);else{var r=document.createElement("img");r.src="images/icons/large/"+a.nd(c).v+".png";r.className="si_gem_icon";p(d.l[1],r);d.l[3].className="si_braces";d.l[3].style.backgroundImage="url(images/socket_interface/socket_"+
g+"_braces_closed.png)"}W(n,d.l[0]);h++}n.className="si_sp_"+h+"_gems";X(this.Ld);W(U(this.Ld,"span",{"class":"si_used_title_fix",text:locale.SI_UsedGems}),Yc("Gems already present on your gear"));for(var v in b)c=b[v],d=U(this.Ld,"a",{"class":"si_used_gem",backgroundImage:"images/icons/small/"+c.v+".png"}),H(d,"mouseover",this.Eo,this,[c]),H(d,"mouseout",this.Do,this,[c]),H(d,"click",this.Co,this,[c.id]),d.onmousemove=function(){t.move()};Kb(this.Ld);this.oh(this.ec)}},Ao:function(a){V(this.Ja[a].l[2],
"si_highlight");this.Da!=j&&this.Da.nd(a)&&t.Mb(this.Da.nd(a).ma())},zo:function(a){Wc(this.Ja[a].l[2],"si_highlight");t.$()},Eo:function(a){this.c.i("used_gem_tooltip_show",{socket:this.ec,gemId:a.id});t.Mb(a.ma()+"<div class='tt_note'>Left click to socket</div>")},Do:function(a){t.$();this.c.i("used_gem_tooltip_hide",{socket:this.ec,gemId:a.id})},Co:function(a){this.c.i("socket_used_gem",{socket:this.ec,gemId:a})},yo:function(a){this.oh(a);this.c.i("socket_left_click",{socket:a})},Wg:function(a){if(a==
$d)this.c.i("remove_all_gems",{});else{var b=this.Da.nd(this.ec).id;switch(a){case 3:this.c.i("remove_all_gems_by_id",{gemId:b});break;case 1:this.c.i("socket_all_gems",{gemId:b});break;case 2:this.c.i("socket_all_gems",{gemId:b,color:this.Da.Y[this.ec]})}}},oh:function(a){this.T.remove("remove_color");this.T.remove("add_all");this.T.remove("add_color");if(-1!=a){var b=this.Da.nd(a);this.Ld.style.display="block";V(this.Ja[a].l[0],"si_gem_p_selected");b!=j&&(this.T.Se("remove_color",J(locale.SI_RemoveGems,
b.name),new x(function(){this.Wg(3)},this)),this.T.Se("add_all",J(locale.SI_SocketAll,b.name),new x(function(){this.Wg(1)},this)),1<this.Da.Y[a]&&this.T.Se("add_color",I(locale.SI_SocketAllColor,[b.name,locale.SI_SocketColors[this.Da.Y[a]]]),new x(function(){this.Wg(2)},this)));this.ml(i)}else this.Ld.style.display="none",this.ml(k);-1!=this.ec&&this.ec!=a&&Wc(this.Ja[this.ec].l[0],"si_gem_p_selected");this.ec=a}};function dd(){this.c=new A;this.c.j("reforge",["reduce","add"]);this.c.j("reforge_all",["reforge_array"]);this.c.j("reforge_preview",["reforge_array"]);this.c.j("reforge_item_preview",["reduce","add"]);this.c.j("restore",[]);this.c.j("restore_all",[]);this.c.j("remove_reforge_preview",[]);this.c.j("remove_reforge_item_preview",[]);this.c.j("wowreforge_export",[]);this.b=T("div",{});this.T=new Wd;V(this.T.b,"ra_group");W(this.b,this.T.b);var a=T("form",{action:"javascript:;"});this.Ql=U(a,"input",
{"class":"input rf_wowreforgeurl"});var b=U(a,"input",{type:"submit",text:locale.RF_ImportWoWReforge,"class":"button button_light"});this.T.ak("wowreforge_import",locale.RF_WoWReforgeImport,a,locale.RF_WoWReforgeImportHelp);H(a,"submit",this.Om,this,j);H(b,"mouseover",function(){var a=this.Nj();a!=j&&this.c.i("reforge_preview",{reforge_array:a})},this,j);H(b,"mouseout",function(){this.c.i("remove_reforge_preview")},this,j);a=T("div",{});b=U(a,"input",{type:"submit",text:locale.RF_ExportWoWReforge,
"class":"button button_light"});this.T.ak("wowreforge_import",locale.RF_WoWReforgeExport,a,locale.RF_WoWReforgeExportHelp);H(b,"click",this.Nm,this,j);a=this.T.Se("restore_all",locale.RF_RestoreAll,new x(function(){this.c.i("restore_all")},this));H(a.node,"mouseover",function(){this.c.i("reforge_preview",{reforge_array:[]})},this,j);H(a.node,"mouseout",function(){this.c.i("remove_reforge_preview")},this,j);this.content=U(this.b,"div",{})}
dd.prototype={c:j,b:j,content:j,Ql:j,T:j,update:function(a){var b=[],c=[],d,f,g,h,n,r,v;X(this.content);if(a){v=T("div",{"class":"rf_title_c"});U(v,"span",{text:"Reforge ","class":"rf_title"});d=U(v,"a",{text:a.name,"class":"item_quality_"+a.ja+" rf_item_name",href:"javascript:"});Zc(d,a.ma());for(d=0;d<Ma.length;d++)f=Ma[d],g=a.qi(f),0<g?b.push([f,g]):c.push(f);if(a.wi())if(0==b.length)p(this.content,v),U(this.content,"div",{text:"This items has no reforgable stats!","class":"rf_error"});else{var s=
new Y(0,c.length+2);s.b.className="rf_grid";r=s.Qh();W(s.cells[r][0],v);r=s.ad();for(d=0;d<c.length;d++)s.cells[r][2+d].innerHTML=locale.ItemStatNamesShort[c[d]],s.cells[r][2+d].className="rf_to_stat";for(d=0;d<b.length;d++){r=s.ad();h=0==d%2?"row_bg1":"row_bg2";s.cells[r][0].innerHTML=locale.ItemStatNames[b[d][0]];s.cells[r][0].className=h+" rf_from_stat";s.cells[r][1].innerHTML=b[d][1];s.cells[r][1].className=h+" rf_from_value";d==b.length-1&&(V(s.cells[r][0],"rf_from_stat_bottom"),V(s.cells[r][1],
"rf_from_value_bottom"));for(f=0;f<c.length;f++){v=T("div",{"class":h+" rf_cell"});0==d&&V(v,"rf_cell_top");d==b.length-1&&V(v,"rf_cell_bottom");0==f&&V(v,"rf_cell_left");f==c.length-1&&V(v,"rf_cell_right");if(a.ga==c[f]&&a.va==b[d][0])s.cells[r][1].className+=" red",n=U(v,"a",{"class":"rf_to_value rf_to_active",text:a.la,href:"javascript:"}),H(n,"click",this.Qj,this,[]),H(n,"mouseover",this.Jj,this,[-1,-1]),H(n,"mouseout",this.Ij,this,[]),Zc(n,"<div class='rf_tt_c'>Click to restore <span class='green'>"+
a.la+"</span> <span class='green'>"+locale.ItemStatNames[b[d][0]]+"</span> from <span class='red'>"+locale.ItemStatNames[c[f]]+"</span></div>");else{g=b[d][1];if(a.va==b[d][0])g=a.tc;g=Math.floor(0.4*g);n=U(v,"a",{"class":"rf_to_value",text:g,href:"javascript:"});H(n,"click",this.Am,this,[b[d][0],c[f]]);H(n,"mouseover",this.Jj,this,[b[d][0],c[f]]);H(n,"mouseout",this.Ij,this,[]);Zc(n,"<div class='rf_tt_c'>Click to reforge <span class='green'>"+g+"</span> <span class='red'>"+locale.ItemStatNames[b[d][0]]+
"</span> into <span class='green'>"+locale.ItemStatNames[c[f]]+"</span></div>")}p(s.cells[r][2+f],v)}}d=s.Qh();s.cells[d][0].className="rf_b";n=U(s.cells[d][0],"a",{"class":"button button_light link_button",href:"javascript:",text:"Restore"});H(n,"click",this.Qj,this,[]);W(this.content,s.b)}else p(this.content,v),U(this.content,"div",{text:"This items is not reforgable!","class":"rf_error"})}},Am:function(a,b){this.c.i("reforge",{reduce:a,add:b})},Qj:function(){this.c.i("restore",{})},Ij:function(){this.c.i("remove_reforge_item_preview",
{})},Jj:function(a,b){this.c.i("reforge_item_preview",{reduce:a,add:b})},Om:function(){var a=this.Nj();a!=j&&this.c.i("reforge_all",{reforge_array:a})},Nj:function(){var a=ka(this.Ql);if(!a)return j;var b=a.match(/reforge=((?:\d|-){34})/i);if(!b[1])return t.C(J(locale.RF_WoWReforge_UnableToParse,a)),j;for(var a=b[1],b=[],c=0;17>c;c++)"-"==a[2*c]||"-"==a[2*c+1]||(b[Pa[c]]=[Oa[parseInt(a[2*c],10)],Oa[parseInt(a[2*c+1],10)]]);return b},Nm:function(){this.c.i("wowreforge_export",{})}};function ae(){this.b=T("div",{"class":"rs_p"})}
ae.prototype={b:j,update:function(a){for(var b=new Y(1,Ma.length+1),c=[0,0,0,0,0,0,0,0],d=0;d<Ma.length;d++)b.cells[0][1+d].innerHTML="<div class='rs_header'>"+locale.ItemStatNamesShort[Ma[d]]+"</div>";for(d=0;18>d;d++){var f=a.n[d];if(f&&-1!=f.va){var g=b.ad(),h=U(b.cells[g][0],"div",{"class":"row_bg"+(1+g%2)+" rs_cell rs_cell_l"}),n=U(h,"a",{text:f.name,"class":"item_quality_"+f.ja,href:"javascript:;"});Zc(n,f.ma());1==g&&V(h,"rs_cell_top");for(h=0;h<Ma.length;h++)f.va==Ma[h]?(U(b.cells[g][1+h],
"span",{"class":"rs_stat red",text:"-"+f.la}),c[h]-=f.la):f.ga==Ma[h]?(U(b.cells[g][1+h],"span",{"class":"rs_stat green",text:"+"+f.la}),c[h]+=f.la):U(b.cells[g][1+h],"span",{"class":"grey",text:"0"}),V(b.cells[g][1+h],"rs_cell row_bg"+(1+g%2)),1==g&&V(b.cells[g][1+h],"rs_cell_top");V(b.cells[g][1],"rs_cell_lp");V(b.cells[g][8],"rs_cell_rp")}}g=b.ad();for(h=0;h<Ma.length;h++)0<c[h]?U(b.cells[g][1+h],"div",{"class":"rs_stat_sum green",text:"+"+Math.abs(c[h])}):0>c[h]&&U(b.cells[g][1+h],"div",{"class":"rs_stat_sum red",
text:"-"+Math.abs(c[h])});X(this.b);U(this.b,"div",{"class":"rs_title",text:"Reforge Summary"});W(this.b,b.b)}};function ed(){this.b=T("div",{"class":"gi_p"});this.c=new A;this.c.j("add_glyph",["glyph"]);this.c.j("remove_glyph",["glyph"])}
ed.prototype={b:j,c:j,update:function(a,b){var c,d;X(this.b);if(0==b.Hc())U(this.b,"div",{"class":"gi_error",text:"You have to select a Class before you can use Glyphs!"});else if(0==b.tk())U(this.b,"div",{"class":"gi_error",text:"You have to reach Level 25 before you can use Glyphs!"});else{c=U(this.b,"div",{"class":"gi_glyphs_p"});U(this.b,"div",{"class":"gi_list_h",text:"Available Glyphs"});var f=U(this.b,"div",{"class":"gi_list_p"}),g=U(c,"div",{"class":"gi_glyphs_c"}),h=U(c,"div",{"class":"gi_glyphs_c"}),
n=U(c,"div",{"class":"gi_glyphs_c"});U(g,"div",{"class":"gi_list_h",text:"Prime Glyphs"});U(h,"div",{"class":"gi_list_h",text:"Major Glyphs"});U(n,"div",{"class":"gi_list_h",text:"Minor Glyphs"});var r=[0,0,0],v={};for(c=0;c<b.R.length;c++){2==b.R[c].Ob.type?(d=g,r[2]++):0==b.R[c].Ob.type?(d=h,r[0]++):(d=n,r[1]++);v[b.R[c].id]=i;var s=U(d,"div",{"class":"gi_glyph_c"});U(s,"img",{"class":"gi_glyph_icon",src:"images/icons/half/"+b.R[c].Ob.q.v+".png"});d=U(s,"a",{"class":"gi_glyph",href:"javascript:",
text:b.R[c].getName()});d.oncontextmenu=l(k);Zc(d,b.R[c].ma()+"<div class='gi_note'>Right click to remove</div>");s.oncontextmenu=l(k);H(s,"contextmenu",this.c.i,this.c,["remove_glyph",{glyph:b.R[c]}])}for(c=0;c<b.tk();c++)c>=r[0]&&(s=U(h,"div",{"class":"gi_glyph_c gi_empty"}),d=U(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),Zc(d,"Select a Glyph from the list below")),c>=r[1]&&(s=U(n,"div",{"class":"gi_glyph_c gi_empty"}),d=U(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),Zc(d,"Select a Glyph from the list below")),
c>=r[2]&&(s=U(g,"div",{"class":"gi_glyph_c gi_empty"}),d=U(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),Zc(d,"Select a Glyph from the list below"));g=U(f,"div",{"class":"gi_list_c"});h=U(f,"div",{"class":"gi_list_c"});f=U(f,"div",{"class":"gi_list_c"});for(c=0;c<a.length;c++)v[a[c].id]!==i&&(d=2==a[c].Ob.type?g:0==a[c].Ob.type?h:f,d=U(d,"a",{"class":"gi_list_entry",href:"javascript:",text:a[c].getName()}),Zc(d,a[c].ma()+"<div class='gi_note'>Left click to add</div>"),H(d,"click",this.c.i,this.c,
["add_glyph",{glyph:a[c]}]))}}};function gd(){this.b=document.createElement("div");this.b.className="ra_group rpi_parent";this.c=new A;this.c.j("change",["randomEnchantmentId"])}
gd.prototype={b:j,select:j,Kc:j,c:j,update:function(a){this.b.style.display="none";if(a!=j){var b=[],c=a.mg;Lb(this.b);if(c){this.b.style.display="block";b[0]=[0,""];for(var d=0;d<c.length;d++)b[d+1]=[c[d].id,"..."+c[d].name+": "+c[d].description];this.select=new Jd(b);a.U&&this.select.select(a.U.id);H(this.select.b,"change",this.Gi,this,[]);this.b.innerHTML="<div class='rpi_title'>"+locale.RPI_SelectRandomEnchant+"</div>";a=document.createElement("div");a.className="rpi_content";a.appendChild(this.select.b);
this.select.b.className="single_select rpi_select";this.b.appendChild(a)}}},Gi:function(){this.c.i("change",{randomEnchantmentId:parseInt(this.select.na(),10)})},th:function(a,b){this.Kc=[a,b]}};function id(a){var b;this.Xg=a;this.b=T("div",{"class":"im_parent"});b=T("form",{action:"javascript:"});H(b,"submit",this.Ne,this,[]);this.Ng=document.createElement("input");this.Ng.className="input im_sa_in";this.si=document.createElement("input");this.si.className="input im_sa_in";this.ef=new Jd([["us",locale.US+"/"+locale.Oceanic],["eu",locale.Europe],["kr",locale.Korea],["tw",locale.Taiwan],["cn",locale.China]]);g_settings.userData&&g_settings.userData.region&&this.ef.select(g_settings.userData.region);
U(b,"div",{"class":"content_header im_header",text:"Import a character from Battle.net"});this.ef.b.className="single_select single_select_focussable";this.ti=T("input",{type:"submit",value:"Import"});Ob(this.ti,{"default":"button button_light",focus:"button_light_hover",hover:"button_light_hover"});a=U(b,"div",{"class":"im_sa_r"});U(a,"div",{"class":"im_sa_left",text:"Name"});W(U(a,"div",{"class":"im_sa_right"}),this.Ng);Xc(a);a=U(b,"div",{"class":"im_sa_r"});U(a,"div",{"class":"im_sa_left",text:"Realm"});
W(U(a,"div",{"class":"im_sa_right"}),this.si);Xc(a);a=U(b,"div",{"class":"im_sa_r"});U(a,"div",{"class":"im_sa_left",text:"Region"});W(U(a,"div",{"class":"im_sa_right"}),this.ef.b);Xc(a);W(U(b,"div",{"class":"im_sa_b"}),this.ti);W(U(this.b,"div",{"class":"im_inputs"}),b);this.Dh=U(this.b,"div",{"class":"im_profiles"});Xc(this.b)}
id.prototype={b:j,Xg:j,Dh:j,Ng:j,ti:j,ef:j,Ne:function(){var a=this.Ng.value,b=this.si.value;""==a||2>a.length?t.C("The character name is empty or too short!"):""==b?t.C("The server name is empty or too short!"):this.Xg.ia([a,b,this.ef.na()])},Ml:function(){X(this.Dh);W(this.Dh,W(T("div",{"class":"im_profiles_header",text:"Stored Imports"}),Yc("See your account settings to manage Stored Imports.")));if(g_settings.userData&&g_settings.userData.battlenet_profiles)for(var a in g_settings.userData.battlenet_profiles){var b=
g_settings.userData.battlenet_profiles[a],c=U(this.Dh,"a",{"class":"im_profile",href:"javascript:"});H(c,"click",this.Xg.ia,this.Xg,[[b.Name,b.Realm,b.Region]]);U(c,"span",{"class":"bnpm_name",text:b.Name});U(c,"span",{text:", "+b.Level+" "+locale.CharacterRace[b.CharacterRaceID]+" "});var d=U(c,"span",{"class":"character_class_"+b.CharacterClassID+" bnpm_chrclass",text:locale.CharacterClass[b.CharacterClassID]});5==b.CharacterClassID?V(d,"character_class_5_white_bg_fix"):4==b.CharacterClassID&&V(d,
"character_class_4_white_bg_fix");U(c,"span",{"class":"bnpm_origin",text:", "+b.Region.toUpperCase()+"-"+b.Realm})}}};function jd(){this.c=new A;this.c.j("save",["name","desc"]);this.c.j("update",[]);var a;this.b=T("div",{"class":"im_parent"});this.Ke=T("form",{action:"javascript:"});H(this.Ke,"submit",function(){this.c.i("update")},this,[]);U(this.Ke,"div",{"class":"content_header im_header",text:"Update the current profile"});W(U(this.Ke,"div",{"class":"im_sa_b"}),T("input",{type:"submit",value:"Update","class":"button button_light"}));W(U(this.b,"div",{"class":"im_sa_inputs"}),this.Ke);this.sd=T("form",{action:"javascript:"});
H(this.sd,"submit",function(){this.c.i("save",{name:ka(this.Yb),desc:ka(this.hi)})},this,[]);this.Yb=T("input",{"class":"input im_sa_in"});this.hi=T("input",{"class":"input im_sa_in"});U(this.sd,"div",{"class":"content_header im_header",text:"Save as a profile"});a=U(this.sd,"div",{"class":"im_sa_r"});U(a,"div",{"class":"im_sa_left",text:locale.S_ProfileName});W(U(a,"div",{"class":"im_sa_right"}),this.Yb);Xc(a);a=U(this.sd,"div",{"class":"im_sa_r"});U(a,"div",{"class":"im_sa_left",text:locale.S_CharacterDescription});
W(U(a,"div",{"class":"im_sa_right"}),this.hi);Xc(a);W(U(this.sd,"div",{"class":"im_sa_b"}),T("input",{type:"submit",value:"Save","class":"button button_light"}));W(U(this.b,"div",{"class":"im_sa_inputs"}),this.sd)}jd.prototype={c:j,b:j,Yb:j,hi:j,sd:j,Ke:j,update:function(a){this.Ke.style.display=a?"":"none"}};function fd(){this.c=new A;this.c.j("add_buff",["id"]);this.b=T("div",{"class":"bi_p"});this.content=U(this.b,"div",{display:"none"});this.Aa=U(this.content,"div",{});this.Kk=U(this.content,"div",{});this.xl=U(this.content,"div",{});this.Rk=U(this.content,"div",{});this.Ai=U(this.b,"div",{"class":"bi_loading"})}
fd.prototype={c:j,b:j,Aa:j,Kk:j,Rk:j,ui:k,content:j,Ai:j,update:function(a,b,c){var d,f,g=new Gd,h=new Gd;h.Ba.className="collapse_h bi_collapse_h";h.content.className="collapse_c bi_collapse_c";h.b.className="collapse bi_collapse";g.Ba.className="collapse_h bi_collapse_h";g.content.className="collapse_c bi_collapse_c";g.b.className="collapse bi_collapse";p(this.Kk,h.b);p(this.Rk,g.b);for(f in a)d=a[f],h.content.appendChild(this.ei(d.v,d,i,d.name));for(f in b)d=b[f],g.content.appendChild(this.ei(d.v,
d,i,d.name));Kb(h.content);h.Ba.innerHTML="<a clas='bi_bc_link' href='javascript:'>Items (Use-Effects)</a><span class='bi_cb_count'>("+a.length+")</span>";Kb(g.content);g.Ba.innerHTML="<a clas='bi_bc_link' href='javascript:'>Item Procs</a><span class='bi_cb_count'>("+b.length+")</span>";Lb(this.xl);this.Ga(c,"Talent Buffs",this.xl,i)},lp:function(){this.ui=k;this.content.style.display="none";this.Ai.style.display="block"},od:function(a){X(this.Aa);this.Ga(a.Warrior,"Warrior",this.Aa,k);this.Ga(a.Paladin,
"Paladin",this.Aa,k);this.Ga(a.Hunter,"Hunter",this.Aa,k);this.Ga(a.Rogue,"Rogue",this.Aa,k);this.Ga(a.Priest,"Priest",this.Aa,k);this.Ga(a.DeathKnight,"DeathKnight",this.Aa,k);this.Ga(a.Shaman,"Shaman",this.Aa,k);this.Ga(a.Mage,"Mage",this.Aa,k);this.Ga(a.Warlock,"Warlock",this.Aa,k);this.Ga(a.Druid,"Druid",this.Aa,k);this.Ga(a.Elixirs,"Elixirs",this.Aa,k);this.Ga(a.BattleElixirs,"Battle Elixirs",this.Aa,k);this.Ga(a.GuardianElixirs,"Guardian Elixirs",this.Aa,k);this.Ga(a.Flasks,"Flasks",this.Aa,
k);this.Ga(a.Food,"Food",this.Aa,k);this.ui=i;this.content.style.display="block";this.Ai.style.display="none"},Ga:function(a,b,c,d){var f=new Gd,g,h;g=j;var n={},r=document.createElement("div");f.Ba.className="collapse_h bi_collapse_h";f.content.className="collapse_c bi_collapse_c";f.b.className="collapse bi_collapse";for(g=h=0;g<a.length;g++)n[a[g].name+a[g].q.Tb()]=this.ei(a[g].v,a[g].q,k,a[g].name),h++;f.Ba.innerHTML="<a clas='bi_bc_link' href='javascript:'>"+b+"</a><span class='bi_cb_count'>("+
h+")</span>";g=new Vd(n,r);g.je.className="input input_small bi_fcc_f";g.Mp();a=U(f.content,"div",{"class":"bi_fcc_parent",text:"Filter"});a.appendChild(g.je);f.content.appendChild(a);f.content.appendChild(r);Kb(f.content);d||f.collapse();h&&c.appendChild(f.b)},ei:function(a,b,c,d){c=T("div",{"class":"bi_buff_p"});U(c,"img",{src:"images/icons/small/"+a+".png","class":"bi_buff"});a=U(c,"a",{href:"javascript:",text:18<d.length?d.substr(0,15)+"...":d});a.onmouseout=function(){t.$()};a.onmousemove=function(){t.move()};
a.ondblclick=l(k);yb(a,"mouseover",new x(function(){t.Mb(b.ma())},this),[]);H(a,"click",this.c.i,this.c,["add_buff",{id:b.id}]);return c}};function cd(){this.b=T("div",{"class":"ov_p"});this.f=[]}
cd.prototype={b:j,$d:j,ed:j,be:j,ae:j,ci:j,Di:j,f:[],update:function(a){var b,c,d,f=new x(function(b){b.k("stat_tooltip_show")?t.rl(a.Pn(b.get("group"),b.get("index")),b.get("node")):b.k("stat_tooltip_hide")&&t.$()},this);X(this.b);b=U(this.b,"div",{"class":"ov_header"});U(b,"span",{"class":"ov_name",text:a.name?a.name+",":""});U(b,"span",{"class":"ov_level",text:"Level "+a.g});0<a.uk()&&(U(b,"span",{"class":"ov_character_race",text:locale.CharacterRace[a.uk()]}),0<a.Hc()&&(b=U(b,"span",{"class":"ov_character_class",
text:locale.CharacterClass[a.Hc()]}),V(b,"character_class_"+a.Hc()),5==a.Hc()?V(b,"character_class_5_white_bg_fix"):4==a.Hc()&&V(b,"character_class_4_white_bg_fix")));b=U(this.b,"div",{"class":"ov_gear_container"});U(b,"div",{"class":"ov_title",text:"Gear"});c=U(b,"div",{"class":"ov_items_p"});for(b=0;b<a.n.length;b++)d=U(c,"div",{"class":"ov_item_p row_bg"+(b%2+1)}),this.Sl(d,a,b);c=U(this.b,"div",{"class":"ov_stats_container"});U(c,"div",{"class":"ov_title",text:"Stats"});this.ya=[];for(b=0;b<locale.CS_StatGroups.length;b++){this.ya[b]=
new Gd;6!=b&&this.ya[b].toggle();this.f[b]=[];for(d=0;d<locale.CS_Stats[b].length;d++){var g=new Hd(b,d);g.c.D(new z(["stat_tooltip_show","stat_tooltip_hide"],f));this.f[b][d]=g;this.ya[b].content.appendChild(this.f[b][d].b)}this.ya[b].b.className="cs_st_p";this.ya[b].content.className="ov_st_c";d=U(this.ya[b].Ba,"div",{"class":"stat_title_p"});U(d,"a",{"class":"stat_title",text:locale.CS_StatGroups[b],href:"javascript:"});c.appendChild(this.ya[b].b)}if(0<g_settings.profileId){this.ed=U(this.b,"div",
{"class":"ov_comments_p"});U(this.ed,"div",{"class":"ov_title",text:"Comments:"});this.$d=U(this.ed,"div",{"class":"ov_comments_c"});this.be=U(this.ed,"div",{"class":"co_page"});if(g_settings.userId)U(this.ed,"div",{text:"Add a comment:","class":"co_add_note"}),this.ae=U(this.ed,"form",{action:"javascript:"}),this.Di=U(this.ae,"textarea",{"class":"textarea co_textarea"}),f=U(this.ae,"input",{type:"submit",value:"Post Comment"}),Ob(f,{"default":"button button_light li_filter_search_btn",focus:"button_light_focus",
hover:"button_light_hover"}),H(this.ae,"submit",this.lm,this,[]),this.ci=U(this.ed,"div",{"class":"co_bar_loading"});this.ag(1)}this.Mm(a.Q.f,a.Hc(),a.Nn());Xc(this.b);f=new ae;f.update(a);W(this.b,f.b)},Hm:function(){X(this.$d);X(this.be);U(this.$d,"div",{"class":"loading",text:"&nbsp;"})},ag:function(a){this.Hm();u("php/interface/character_comments.php?page="+a+"&character="+g_settings.profileId,new x(this.Zl,this),[])},lm:function(){var a=ka(this.Di);0==a.length||/^\s+$/.exec(a)?t.C("The comment is empty!"):
5>a.length?t.C("The comment is too short!"):(this.ae.style.display="none",this.ci.style.display="block",la("php/interface/character_comments.php",{content:a,character:g_settings.profileId},new x(this.mm,this),[]))},mm:function(a){try{y(a),this.ag(1),this.Di.value=""}catch(b){t.C(b)}this.ae.style.display="block";this.ci.style.display="none"},Zl:function(a){try{var b=y(a),c=b.comments,d=b.page,f=b.page_count;X(this.$d);var g=c.length;d==f&&(g-=1);if(0<g){for(a=0;a<g;a++){var h=U(this.$d,"div",{"class":"co_c row_bg"+
(1+a%2)});U(h,"div",{"class":"co_header",text:c[a].UserName+", <span class='co_time'>"+c[a].Created+"</span>"});U(h,"div",{"class":"co_content",text:c[a].Content})}X(this.be);if(1<d){var n=U(this.be,"a",{href:"javascript:;","class":"co_link_page",text:"\u00ab Newer"});yb(n,"click",new x(function(){this.ag(d-1)},this),[])}U(this.be,"span",{href:"javascript:;","class":"co_cur_page",text:d+" of "+f});if(d<f){var r=U(this.be,"a",{href:"javascript:;","class":"co_link_page",text:"Older \u00bb"});yb(r,"click",
new x(function(){this.ag(d+1)},this),[])}}else h=U(this.$d,"div",{"class":"co_none",text:"No comments!"})}catch(v){t.C(v)}},Sl:function(a,b,c){if(b=b.n[c]){U(a,"span",{"class":"ov_slot_name",text:locale.Slots[c]+":"});c=U(a,"div",{"class":"ov_item_info_p"});U(c,"img",{src:"images/icons/small/"+b.v+".png","class":"ov_item_icon"});a=U(c,"a",{href:"javascript:","class":"ov_item_link item_quality_"+b.ja,text:b.name});Zc(a,b.ma());for(var c=U(c,"div",{"class":"ov_gems_p"}),d=0;3>d;d++){var f=b.nd(d);f!=
j&&(a=U(c,"div",{"class":"ov_gem_p"}),U(a,"img",{src:"images/icons/gem/"+f.v+".png","class":"ov_gem_icon"}),a=U(a,"a",{href:"javascript:","class":"ov_gem_link item_quality_"+f.ja,text:f.name}),Zc(a,f.ma()))}}else U(a,"span",{"class":"ov_slot_name",text:locale.Slots[c]+": Nothing equipped"})},Mm:function(a,b,c){this.f[0][1].b.style.display=0<b&&0==(1<<b&90)?"block":"none";this.f[0][2].b.style.display=0<b&&(1==b||11==b&&5==c)?"block":"none";this.f[0][3].b.style.display=0<b&&(4==b||11==b&&1==c)?"block":
"none";this.f[0][4].b.style.display=0<b&&3==b?"block":"none";this.f[0][5].b.style.display=0<b&&6==b?"block":"none";for(b=0;b<this.f[0].length;b++)this.f[0][b].ca(a.ob[b]);for(b=0;b<this.f[1].length;b++)this.f[1][b].ca(a.attributes[b]);for(b=0;b<this.f[6].length;b++)this.f[6][b].ca(a.bc[b]);for(b=0;b<this.f[4].length;b++)this.f[4][b].ca(a.q[b]);for(b=0;b<this.f[5].length;b++)this.f[5][b].ca(a.ra[b]);for(b=0;b<this.f[2].length;b++)this.f[2][b].ca(a.S[b]);for(b=0;b<this.f[3].length;b++)this.f[3][b].ca(a.qa[b])}};function be(a,b){this.Yd=new z("class_change,race_change,level_change,item_change,profession_change,profession_level_change,character_loaded,stats_change,preview_stats_change,buffs_change,shapeform_change,presence_change".split(","),new x(function(a){a.k("class_change")?this.Cl(a.get("class")):a.k("race_change")?this.Hl(a.get("race")):a.k("level_change")?this.Tf(a.get("level")):a.k("item_change")?this.Kl(a.get("slot")):a.k("profession_change")?this.Uf():a.k("profession_level_change")?this.Uf():a.k("character_loaded")?
this.ff():a.k("stats_change")?this.Ll(a.get("stats")):a.k("buffs_change")?this.Bl():a.k("preview_stats_change")?this.eq(a.get("previewStats")):a.k("shapeform_change")?this.Jl():a.k("presence_change")?this.Gl():e(Error("Unhandled event: "+a.event))},this));a.D(this.Yd);this.Jf=new z("race_select,class_select,level_select,profession_select,profession_level_select,stat_tooltip_show,stat_tooltip_hide,item_left_click,item_right_click,item_tooltip_show,item_tooltip_hide,select_shape,select_presence,remove_buff,add_stack".split(","),
new x(function(b){if(b.k("race_select"))Q.Bn(b.get("race_id"),new x(this.Em,this)),t.wa();else if(b.k("class_select"))Q.zn(b.get("class_id"),new x(this.Dm,this)),t.wa();else if(b.k("level_select"))try{this.character.ka(b.get("level"))}catch(d){d instanceof Mc?t.C(d.toString()):ga(d)}else if(b.k("profession_select"))this.character.jl(b.get("index"),b.get("id"));else if(b.k("profession_level_select"))this.character.Gp(b.get("index"),b.get("level"));else if(b.k("stat_tooltip_show")){var f=xd(this.character,
b.get("group"),b.get("index"));f&&t.rl(f,b.get("node"))}else b.k("stat_tooltip_hide")?t.$():b.k("item_left_click")?0<b.get("index")&&this.character.ta(b.get("slot"),b.get("index"))!=j?(this.character.Xp(b.get("slot"),b.get("index")),this.sheet.Ak(b.get("slot"),b.get("index"))):this.sheet.up(b.get("slot")):b.k("item_right_click")?0==b.get("index")&&(this.character.removeItem(b.get("slot")),this.sheet.Ak(b.get("slot"),b.get("index"))):b.k("item_tooltip_show")?(f=this.character.ta(b.get("slot"),b.get("index")))&&
0<b.get("index")&&this.character.fl(b.get("slot"),f):b.k("item_tooltip_hide")?0<b.get("index")&&this.character.Vk():b.k("select_shape")?this.character.Ad(b.get("shape_id")):b.k("select_presence")?this.character.Ee(b.get("presence_id")):b.k("remove_buff")?(b=b.get("id"),a.To(b),a.ao(b)||t.$()):b.k("add_stack")?a.Sd(b.get("id")):e(Error("Unhandled event: "+b.event))},this));b.D(this.Jf);this.sheet=b;this.character=a;this.ff()}
be.prototype={sheet:j,character:j,Jf:j,Yd:j,Em:function(a){var b=this.character.d==j?-1:this.character.d.id;this.character.kl(new Pc(this.character,a));a=this.character.d==j?-1:this.character.d.id;b!=a||-1==a?this.sheet.Li.nl():t.enable()},Dm:function(a){this.character.rh(new Qc(a));t.enable()},detach:function(){this.character.ub(this.Yd);this.sheet.ub(this.Jf)},ff:function(){this.Uf();this.Ll(this.character.f);this.Hl();this.Cl();this.uj();this.Tf();this.Bl()},Cl:function(){this.sheet.sl(this.character.d==
j?-1:this.character.d.id);this.sheet.dq(this.character.pi(),Jc);this.character.d!=j?this.sheet.$a[18].$i(i):this.sheet.$a[18].$i(k);this.Jl();this.Gl();this.Il();this.uj();this.Tf()},Jl:function(){if(this.character.d!=j){var a=[],b;for(b in this.character.d.Bd){var c=this.character.d.Bd[b];a.push(new ce(c.id,c.t[0].q.v,c.t[0].q.Tb(this.character).join("<br />")))}this.sheet.Hf.update(a,this.character.d.Ea)}else this.sheet.Hf.update(j,0)},Gl:function(){if(this.character.d!=j){var a=[],b;for(b in this.character.d.Qc){var c=
this.character.d.Qc[b];a.push(new de(c.id,c.v,c.Tb(this.character).join("<br />")))}this.sheet.rf.update(a,this.character.d.Gb?this.character.d.Gb.q.id:0)}else this.sheet.rf.update(j,0)},Hl:function(){this.Il()},Tf:function(){this.sheet.Tf(this.character.g);this.uj()},Il:function(){this.sheet.Li.update(this.character.O==j?-1:this.character.O.id,this.character.d==j?-1:this.character.d.id)},Uf:function(){for(var a=[],b=0;2>b;b++){var c=this.character.pa[b];c==j?a.push(j):a.push(new Kd(c.id,c.g))}this.sheet.Uf(a,
this.character.g)},Kl:function(a){for(var b=[],c,d=0;5>d;d++)c=this.character.ta(a,d),c==j?b.push(j):b.push(new ee(this.character,c,a));this.sheet.$a[a].update(b)},uj:function(){for(var a=0;19>a;a++)this.Kl(a)},Ll:function(a){var b;b=this.character.d;this.sheet.f[0][1].b.style.display=b!=j&&0==(1<<b.id&90)?"block":"none";this.sheet.f[0][2].b.style.display=b!=j&&(1==b.id||11==b.id&&5==b.Ea)?"block":"none";this.sheet.f[0][3].b.style.display=b!=j&&(4==b.id||11==b.id&&1==b.Ea)?"block":"none";this.sheet.f[0][4].b.style.display=
b!=j&&3==b.id?"block":"none";this.sheet.f[0][5].b.style.display=b!=j&&6==b.id?"block":"none";for(b=0;b<this.sheet.f[0].length;b++)this.sheet.f[0][b].ca(a.ob[b]);for(b=0;b<this.sheet.f[1].length;b++)this.sheet.f[1][b].ca(a.attributes[b]);for(b=0;b<this.sheet.f[6].length;b++)this.sheet.f[6][b].ca(a.bc[b]);for(b=0;b<this.sheet.f[4].length;b++)this.sheet.f[4][b].ca(a.q[b]);for(b=0;b<this.sheet.f[5].length;b++)this.sheet.f[5][b].ca(a.ra[b]);for(b=0;b<this.sheet.f[2].length;b++)this.sheet.f[2][b].ca(a.S[b]);
for(b=0;b<this.sheet.f[3].length;b++)this.sheet.f[3][b].ca(a.qa[b])},eq:function(a){if(a==j)this.vc();else{var b;for(b=0;b<this.sheet.f[0].length;b++)this.sheet.f[0][b].zd(a.ob[b]);for(b=0;b<this.sheet.f[1].length;b++)this.sheet.f[1][b].zd(a.attributes[b]);for(b=0;b<this.sheet.f[6].length;b++)this.sheet.f[6][b].zd(a.bc[b]);for(b=0;b<this.sheet.f[4].length;b++)this.sheet.f[4][b].zd(a.q[b]);for(b=0;b<this.sheet.f[5].length;b++)this.sheet.f[5][b].zd(a.ra[b]);for(b=0;b<this.sheet.f[2].length;b++)this.sheet.f[2][b].zd(a.S[b]);
for(b=0;b<this.sheet.f[3].length;b++)this.sheet.f[3][b].zd(a.qa[b])}},vc:function(){var a,b;for(a=0;a<this.sheet.f.length;a++)for(b=0;b<this.sheet.f[a].length;b++)this.sheet.f[a][b].kp()},Bl:function(){var a=this.character.t.t,b=[],c;for(c in a)b.push(new fe(a[c],this.character));this.sheet.We.update(b)}};function wa(a,b){this.J=a;this.A=b;this.Jf=new z(["item_left_click"],new x(function(a){a.k("item_left_click")&&this.pm(a.get("slot"),a.get("index"))},this));this.He=[];for(var c=0;c<Cc;c++)this.He[c]="";this.Yd=new z("class_change,gem_change,random_enchant_change,talent_tree_selected,talents_reset,talent_tree_reset,talent_point_added,talent_point_removed,talent_distribution_set,character_loaded,item_change".split(","),new x(function(a){if(a.k("class_change"))this.Vj(a.get("class"));else if(a.k("character_loaded"))this.Eh();
else if(a.k("gem_change"))this.ne==od&&this.ee==ld&&this.vj();else if(a.k("item_change")){if(a.get("slot")==this.w)switch(this.ne){case za:this.Fl();break;case od:switch(this.ee){case ld:this.vj();break;case nd:this.Vf();break;case md:this.Dl()}}}else a.k("random_enchant_change")?this.ne==od&&this.ee==md&&(a=this.J.L(),this.A.dh.update(new ee(a,a.ta(this.w),this.w))):a.k("talent_tree_selected")?b.xb.wc(a.get("tree")):a.k("talent_tree_reset")?b.xb.update():a.k("talents_reset")?(b.xb.wc(this.J.L().Mn()),
b.xb.update()):a.k("talent_point_added")?b.xb.update():a.k("talent_point_removed")?b.xb.update():a.k("talent_distribution_set")?b.xb.update():e(Error("Unhandled event: "+a.event))},this));this.A.Qa.D(this.Jf);c=new z("select_talent_tree,reset_talent_tree,reset_talents,show_tooltip,add_talent_point,remove_talent_point".split(","),new x(function(a){var b=this.J.L();if(a.k("select_talent_tree"))b.vp(a.get("tree"));else if(a.k("reset_talent_tree"))b.mp(a.get("tree"));else if(a.k("reset_talents"))b.np();
else if(a.k("add_talent_point"))b.Ym(a.get("tree"),a.get("row"),a.get("col"));else if(a.k("remove_talent_point"))b.$o(a.get("tree"),a.get("row"),a.get("col"));else if(a.k("show_tooltip")){var c=a.get("row"),h=a.get("col"),n=a.get("tree");t.Pp(Ad(b.Rn(),n,c,h),n,c,h,a.get("node"))}else e(Error("Unhandled event "+a.event))},this));b.xb.D(c);this.da=new pa;this.da.A.show(k);this.da.A.ah.style.display="block";this.da.D(new z(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new x(function(a){var b;
if(a.k("show_tooltip"))b=this.J.L(),t.Mb(ta(a.get("entity"),b)),b.fl(this.w,a.get("entity"));else if(a.k("move_tooltip"))t.move();else if(a.k("hide_tooltip"))t.$(),this.J.L().Vk();else if(a.k("click")){if((b=this.J.L())&&-1!=this.w)try{b.Um(this.w,a.get("entity").kc())}catch(c){c instanceof wc?t.C(c):ga(c)}}else if(a.k("update")&&((new ge("php/interface/get_items.php")).update(this.da),-1!=this.w)){a=this.da.Sa();this.Oe("name",a);this.Oe("quality",a);this.Oe("level",a);this.Oe("reqlvl",a);if(ka(this.da.A.Sk)){var h=
this.da.G.Bb;for(b in h)this.Oe(h[b].fa,h[b].Sa())}this.He[this.w]=a}},this)));this.Pa=(new na).Pa;this.fb=new he;this.fb.D(new z(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new x(function(a){var b;a.k("show_tooltip")?(b=this.J.L(),t.Mb(Aa(a.get("entity"),b,0,j)),b.Xi(this.w,a.get("entity"))):a.k("move_tooltip")?t.move():a.k("hide_tooltip")?(t.$(),this.J.L().Vo()):a.k("click")?(b=this.J.L())&&-1!=this.w&&b.ta(this.w)!=j&&b.Yc(this.w,a.get("entity").H[0].Lb):a.k("update")&&(new ge("php/interface/get_spells.php")).update(this.fb)},
this)));this.nb=new pa;this.nb.D(new z(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new x(function(a){var b;if(a.k("show_tooltip"))b=this.J.L(),t.Mb(ta(a.get("entity"),b)),b.el(this.w,this.Vc,a.get("entity"));else if(a.k("move_tooltip"))t.move();else if(a.k("hide_tooltip"))t.$(),this.J.L().Uk();else if(a.k("click")){if((b=this.J.L())&&-1!=this.w&&b.ta(this.w)!=j)try{b.Zc(this.w,this.Vc,a.get("entity").kc())}catch(c){c instanceof wc?t.C(c):ga(c)}}else a.k("update")&&(new ge("php/interface/get_items.php")).update(this.nb)},
this)));this.A.c.D(new z(["import","save","update","tab_change","csfolder_tab_change"],new x(function(a){a.k("import")?this.Ne(a.get("name"),a.get("server"),a.get("region")):a.k("save")?this.Lj(a.get("name"),a.get("desc")):a.k("update")?this.Mj():a.k("tab_change")?(this.ne=a.get("newTab"),this.ne==za?this.Fl():this.ne==pd&&this.A.Ff.update(0!=this.J.Gf.profileId&&this.J.Gf.profileUserId==this.J.Gf.userId)):a.k("csfolder_tab_change")?(this.ee=a.get("newTab"),this.tj()):e(Error("Unhandled event "+a.event))},
this)));this.A.Ig.c.D(new z(["add_glyph","remove_glyph"],new x(function(a){var b=this.J.L();if(a.k("add_glyph")){try{b.gg(a.get("glyph").Ob)}catch(c){t.C(c)}this.Eh()}else a.k("remove_glyph")&&(b.Ti(a.get("glyph").Ob),this.Eh())},this)));this.A.cd.c.D(new z(["add_buff"],new x(function(a){var b=this.J.L();a.k("add_buff")&&(a=a.get("id"),E.Ud(a,new x(function(a){try{var c=E.get(a);c.H[0]&&(23==c.H[0].kd||42==c.H[0].kd)&&0<c.H[0].ye?b.Qd(c.H[0].ye):b.Qd(a)}catch(d){t.C(d)}},this),[a]))},this)));this.A.hh.c.D(new z("wowreforge_export,reforge,restore,remove_reforge_preview,reforge_preview,reforge_all,restore_all,reforge_item_preview,remove_reforge_item_preview".split(","),
new x(function(a){var b=this.J.L();if(a.k("reforge"))b.Qo(this.w,a.get("reduce"),a.get("add")),this.Vf();else if(a.k("restore"))b.rp(this.w),this.Vf();else if(a.k("reforge_item_preview"))b.Hp(this.w,a.get("reduce"),a.get("add"));else if(a.k("remove_reforge_item_preview"))b.Xo();else if(a.k("reforge_preview"))b.vh(a.get("reforge_array"));else if(a.k("remove_reforge_preview"))b.Yo();else if(a.k("restore_all"))b.qp();else if(a.k("reforge_all"))b.Po(a.get("reforge_array")),this.Vf();else if(a.k("wowreforge_export"))a=
this.J.L().Zp(),b=document.createElement("form"),b.method="POST",b.action="http://wowreforge.com/Profiles/Import",b.name="wowreforge_export",b.target="_blank",b.id="wowreforge_export",b.style.display="none",U(b,"input",{type:"hidden",name:"profile",value:a}),U(b,"input",{type:"hidden",name:"metadata",value:'{"BasedOn" : null,"CanUpdate" : false,"Data" : null,"Origin" : "chardev.org","SourceLink" : null}'}),document.body.appendChild(b),document.getElementById("wowreforge_export").submit(),document.body.removeChild(b)},
this)));this.A.Ah.c.D(new z(["socket_used_gem","socket_left_click","socket_right_click","used_gem_tooltip_show","used_gem_tooltip_hide"],new x(function(a){var b,c;a.k("socket_left_click")?(b=this.J.L(),c=b.ta(this.w,0),this.Vc=a.get("socket"),c!=j&&(a=1==c.Y[this.Vc]?64:2==c.Y[this.Vc]?297:4==c.Y[this.Vc]?308:8==c.Y[this.Vc]?282:32==c.Y[this.Vc]?1024:319,ie(this.nb,0,3,a),this.nb.G.W("usablebyclass",i),this.nb.G.W("issocketablegem",i),this.nb.G.W("gemreqitemlvl",i),this.nb.G.W("class",i),this.nb.set((b.d!=
j?"usablebyclass.eq."+(1<<b.d.id-1)+";":"")+"issocketablegem.eq.1;class.eq.3;subclass.ba."+a+";gemreqitemlvl.le."+c.g+";",j,j,1),this.nb.update())):a.k("socket_right_click")?(b=this.J.L(),b.Si(this.w,a.get("socket"))):a.k("used_gem_tooltip_show")?(b=this.J.L(),b.el(this.w,a.get("socket"),B.get(a.get("gemId")))):a.k("used_gem_tooltip_hide")?(b=this.J.L(),b.Uk()):a.k("socket_used_gem")?(b=this.J.L(),b.Zc(this.w,a.get("socket"),B.get(a.get("gemId")))):e(Error("Unhandled event "+a.event))},this)));this.A.dh.c.D(new z(["change"],
new x(function(a){a.k("change")?this.J.L().Dp(this.w,a.get("randomEnchantmentId")):e(Error("Unhandled event "+a.event))},this)));this.Pa.set("ismine.eq.1;",j,j,1);b.Yn(this.da.A,this.fb.A,this.Pa.A);b.Ah.Ep(this.nb.A.b);this.nb.A.show(i);this.J.D(new z(["character_change","logged_in","logged_out"],new x(function(a){a.k("character_change")?this.jm(a.get("character")):a.k("logged_in")?this.A.Mg.Ml():a.k("logged_out")&&this.A.Mg.Ml()},this)))}
wa.prototype={A:j,J:j,da:j,nb:j,fb:j,Pa:j,w:-1,Vc:-1,Re:j,He:[],ne:0,ee:0,Yd:j,jm:function(a){this.Re&&this.Re.detach();this.Re=new be(a,this.A.Qa);this.Vj(a.d);a.D(this.Yd)},Vj:function(a){var b=a!=j?"usablebyclass.eq."+(1<<a.id-1)+";":"usablebyclass.eq.0;";this.da.bp("usablebyclass",b);this.Mh("usablebyclass",b);a!=j?this.A.xb.ff(new je(a.r,this.J.L())):this.A.xb.ff(j);this.A.cd.lp();this.Eh();this.tj()},pm:function(a,b){if(0==b)this.w=a,!this.J.L().ta(this.w,0)&&0!=this.ee?this.A.xg.show(0):this.tj()},
Eh:function(){var a=this.J.L(),b=[];if(a.d)for(var c=0;c<a.d.lg.length;c++)b.push(new ke(a.d.lg[c],a));this.A.Ig.update(b,new le(a))},Fl:function(){this.A.Hi.update(new le(this.J.L()))},tj:function(){switch(this.ee){case 0:if(-1==this.w)break;this.cq();break;case ld:if(-1==this.w)break;this.vj();break;case md:if(-1==this.w)break;this.Dl();break;case nd:if(-1==this.w)break;this.Vf();break;case 5:this.aq()}},aq:function(){var a=this.J.L();this.A.cd.ui||Ec(new x(function(a,b){b!=j?t.C(b):this.A.cd.od(a)},
this),a);var b,c,d,f,g=[],h=[],n,r;for(c=0;19>c;c++)if(f=a.B.get(c)){for(d=0;d<f.N.length;d++)if(n=f.N[d],n!=j){for(b=0;3>b;b++)if((r=n.H[b])&&42==r.kd)(r=r.Ln())&&g.push(new me(r,a));n.vi()||h.push(new me(n,a))}for(d=0;d<f.I.length;d++)b=f.I[d],1==b.types[0]&&g.push(new me(b.N[0],a))}d=[];if(a.d!=j&&a.d.di!=j)for(c=0;c<a.d.di.length;c++)f=a.d.di[c],a.Z.Vd[f[0]]&&d.push(f[1]);this.A.cd.update(h,g,d)},Vf:function(){var a=this.J.L(),b=j;-1!=this.w&&(b=a.ta(this.w,0));this.A.hh.update(b==j?j:new ee(a,
b,this.w))},Dl:function(){this.fb.A.show(k);if(-1!=this.w){var a=this.J.L(),b=a.ta(this.w,0);this.A.dh.update(b==j?j:new ee(a,b,this.w));b!=j&&(this.fb.G.W("isenchant",i),this.fb.G.W("itemclasssubclasscombined",i),this.fb.G.W("slot",i),this.fb.G.W("enchantitemlevel",i),this.fb.G.W("enchantchrlevel",i),this.fb.set("isenchant.eq.1;itemclasssubclasscombined.eq."+b.ba+"."+b.aa+";slot.ba."+(1<<b.Ca)+";enchantitemlevel.le."+b.g+";enchantchrlevel.le."+a.g+";",j,j,1),this.fb.update(),this.fb.A.show(i))}},
vj:function(){if(-1!=this.w){var a=this.J.L(),b=a.ta(this.w,0);this.A.Ah.update(b==j?j:new ee(a,b,this.w),this.Sn())}},cq:function(){var a=this.J.L(),b=this.He[this.w],c=a.bn(this.w),d=a.cn(this.w);ie(this.da,c,d[0],d[1]);this.da.G.W("usablebyclass",i);this.da.G.W("issocketablegem",i);this.da.G.W("canbeusedwithlvl",i);this.da.G.W("class",i);this.da.G.W("gemreqitemlvl",i);var f=this.da,a=a.fo(this.w);f.fq=a;f.A.setProperty("showDpsAndDelay",a);16!=this.w&&17!=this.w&&18!=this.w?this.da.G.W("slot",
i):this.da.G.W("slot",k);1==this.w||12==this.w||13==this.w||14==this.w||15==this.w||6==this.w||5==this.w?this.da.G.W("subclass",i):this.da.G.W("subclass",k);b=b.replace(/\bclass\.\w+\.[^;]*;/,"")+(0<=d[0]?"class.eq."+d[0]+";":"");b=b.replace(/\bslot\.\w+\.[^;]*;/,"")+(0<c?"slot.ba."+c+";":"");b=b.replace(/\bsubclass\.\w+\.[^;]*;/,"")+(0<d[1]?"subclass.ba."+d[1]+";":"");this.da.set(b,j,j,1);this.da.update();this.da.A.show(i)},Ne:function(a,b,c){try{P.Oo(a,b,c,new x(this.om,this)),t.wa()}catch(d){t.C(d)}},
om:function(a,b){b!=j?t.C(b):(this.J.L().load(a),this.A.ke.show(od),t.enable())},Lj:function(a,b){try{var c=ja.L();c.hl(a);c.yp(b);P.Rl(0,c,new x(this.vm,this));t.wa()}catch(d){t.C(d)}},Mj:function(){try{P.Rl(this.J.Gf.profileId,ja.L(),new x(this.ym,this)),t.wa()}catch(a){t.C(a)}},vm:function(a,b){b!=j?t.C(b):t.yh("Your profile was saved.<br /><a class='tt_profile_link' href='?profile="+a+"' target='_blank'>Click here</a> to view it.")},ym:function(a,b){b!=j?t.C(b):t.yh("The profile was updated.")},
Mh:function(a,b){for(var c=0;19>c;c++)this.He[c]=this.He[c].replace(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;","g"),"")+b},Oe:function(a,b){var c=b.match(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;","g"));c?this.Mh(a,c.join("")):this.Mh(a,"")},Sn:function(){for(var a={},b,c,d=this.J.L(),f=0;f<Cc;f++)if(b=d.ta(f,0),b!=j)for(var g=0;3>g;g++)(c=b.M[g])&&(a[c.id]=new ne(d,c,g));return a}};function na(){this.Pa=new oe;this.Pa.A.bj(i);this.Pa.D(new z(["update","delete"],new x(function(a){a.k("update")?(new ge("php/interface/profiles/get_profiles.php")).update(this.Pa):a.k("delete")&&confirm("Do you really want to delete the character profile '"+a.get("desc")+"'?")&&u("php/interface/profiles/delete_profile.php"+w({id:a.get("profile_id")}),new x(function(a){try{y(a),this.Pa.update()}catch(c){t.C(c)}},this),[])},this)))}na.prototype={Pa:j};function ee(a,b,c){this.id=b.id;this.v=b.v;this.name=b.name;this.ja=b.ja;this.w=c;this.Q=a;this.hc=b;this.Y=b.Y;this.U=this.mg=j;if(b.Xa!=j){this.mg=[];for(a=0;a<b.Xa.length;a++)this.mg.push(new pe(b.Xa[a]));if(b.U!=j)this.U=new pe(b.U)}this.va=b.va;this.tc=b.tc;this.ga=b.ga;this.la=b.la}
ee.prototype={hc:j,Q:j,v:"",id:0,name:"",ja:-1,w:0,Y:[],U:j,mg:[],va:-1,tc:0,ga:-1,la:0,ma:function(){return ta(this.hc,this.Q)},On:function(){return wd(this.hc,this.Q,1)},Gk:function(){return!this.Q.qg(this.hc)||!this.Q.Cg(this.hc)||this.hc.Jb>this.Q.g},Xn:function(){return this.Q.yk(this.w)},qi:function(a){return this.hc.qi(a)},wi:function(){return this.hc.wi()},nd:function(a){var b=this.hc.M[a];return b?new ne(this.Q,b,a):j}};function ne(a,b,c){this.Aj=b;this.Im=c;this.Q=a;this.v=b.v;this.id=b.id;this.name=b.name;this.ja=b.ja}ne.prototype={Aj:j,Im:0,Q:j,v:"",id:0,name:"",ma:function(){return ta(this.Aj,this.Q)}};function pe(a){this.id=a.id;this.name=a.name;this.description="";for(var b=0;5>b;b++)a.I[b]&&(this.description+=(this.description?", ":"")+a.I[b].description)}pe.prototype={id:0,name:"",description:""};function je(a,b){this.zc=a;this.id=a.id;this.Ub=a.Ub;this.xc=a.ea;this.cc=a.rows;this.lc=a.cols;this.Xb=a.Xb;this.rb=a.rb;this.Lc=a.Lc;this.mb=b.d.id;this.ea=[];for(var c=0;c<a.ea;c++)this.ea[c]=new qe(a,c,b)}je.prototype={zc:j,ea:[],id:0,Ub:k,xc:0,cc:0,lc:0,mb:0,Xb:0,rb:0,Lc:0,Ic:function(){return this.zc.Ic()},Gg:function(a){return this.zc.za[a]},Kn:function(){return this.zc.Hg()},Eg:function(){return this.zc.Qb},Fg:function(){return this.zc.Fg()}};function qe(a,b,c){var d;this.ua=[];for(d=0;d<a.ua[b].length;d++)this.ua.push(new me(a.ua[b][d],c));this.r=[];for(d=0;d<a.rows;d++){this.r[d]=[];for(c=0;c<a.cols;c++)a.r[b][d][c]!=j&&(this.r[d][c]=new re(a.r[b][d][c]))}this.name=a.gc[b];this.ri=a.qj[b];this.description=a.pj[b]}qe.prototype={ri:"",name:"",description:"",ua:[],r:[]};function re(a){this.jc=a;this.name=a.getName();this.v=a.N[0].v;this.max=a.Ib;this.Kb=[];for(var b in a.Kb)this.Kb.push(a.Kb[b])}re.prototype={jc:j,max:0,name:"",v:"",te:function(){return this.jc.V==this.max},Te:function(){return this.jc.Te()}};function me(a,b){this.dg=a;this.Q=b;this.name=a.name;this.id=a.id;this.v=a.v}me.prototype={dg:j,Q:j,name:"",v:"",id:"",Tb:function(){this.dg.ka(this.Q.g);return this.dg.Tb(this.Q)},ma:function(){return Aa(this.dg,this.Q,0,j)}};function ke(a,b){this.Ob=a;this.Q=b;this.id=a.id}ke.prototype={Ob:j,Q:j,id:0,getName:function(){return this.Ob.q.name},ma:function(){return Aa(this.Ob.q,this.Q,0,j)}};function le(a){var b,c;this.Q=a;this.g=a.g;this.name=a.name?a.name:"";this.description=a.description?a.description:"";this.n=[];for(c=0;c<Cc;c++)b=a.ta(c,0),this.n[c]=b?new ee(a,a.ta(c,0),c):j;this.R=[];if(a.d){var d=a.d.R;for(c=0;c<d.length;c++)for(b=0;b<d[c].length;b++)d[c][b]&&this.R.push(new ke(d[c][b],a))}}
le.prototype={Q:j,g:0,name:"",description:"",n:[],R:[],Hc:function(){return this.Q.d?this.Q.d.id:0},uk:function(){return this.Zh=this.Q.O?this.Q.O.id:0},tk:function(){return 0!=this.Hc()?25>this.Q.g?0:50>this.Q.g?1:75>this.Q.g?2:3:0},Pn:function(a,b){return xd(this.Q,a,b)},Nn:function(){return this.Q.d?this.Q.d.Ea:0}};function Fc(a,b,c,d){this.q=new me(c,d);this.name=a;this.v=b}Fc.prototype={q:j,name:"",v:""};function ce(a,b,c){this.id=a;this.v=b;this.description=c}ce.prototype={id:0,v:"",description:""};function de(a,b,c){this.id=a;this.v=b;this.description=c}de.prototype={id:0,v:"",description:""};function fe(a,b){this.Wf=a;this.Wl=b;this.id=a.q.id;this.v=a.q.v;this.Fd=a.Fd}fe.prototype={id:-1,v:"",Fd:k,Wf:j,ma:function(){return Aa(this.Wf.q,this.Wl,0,j)}};function se(a,b){this.fa=b;this.name=a;this.b=document.createElement("div")}var te=[["gt","&gt;"],["ge","&ge;"],["lt","&lt;"],["le","&le;"],["eq","="]],ue=[["wlike","is"]],ve=[["eq","="]];
se.prototype={b:j,fa:"",name:"",Jn:function(a){var b;switch(a){case we:b=new Jd(ue);b.b.style.display="none";break;case xe:b=new Jd(ve);b.b.style.display="none";break;case Z:b=new Jd(te);break;default:e(Error("Unable to create operator select for "+a+"!"))}b.b.className="fi_op_select";return b},Sa:function(){e(new Rb("AbstractFilter","getArgumentString"))}};function ye(a,b){this.fa=b;this.name=a}ye.prototype={fa:"",name:"",show:i,bf:function(){e(new Rb("FilterData","getFilter"))}};function $(a,b,c){ye.call(this,a,b);this.qk=c}var Z=0,xe=1,we=2;$.prototype=new ye("","");$.prototype.qk=Z;$.prototype.bf=function(a,b){return new ze(this.name,this.fa,a,b,this.qk)};function Ae(a,b){ye.call(this,a,b)}Ae.prototype=new ye("","");Ae.prototype.bf=function(a,b){return new Be(this.name,this.fa,b)};function Ce(a,b,c){ye.call(this,a,b);this.options=c}
Ce.prototype=new ye("","");Ce.prototype.options=j;Ce.prototype.bf=function(a,b){return new De(this.name,this.fa,b,this.options)};function Ee(a,b,c){ye.call(this,a,b);this.options=c}Ee.prototype=new ye("","");Ee.prototype.options=j;Ee.prototype.bf=function(a,b){return new Fe(this.name,this.fa,b,this.options)};function Ge(){this.c=new A;this.c.j("set_argument_string",[]);this.c.j("create_filter",[]);this.Cj()}
Ge.prototype={data:{},oe:{},c:j,Ge:{},Fe:{},Bb:[],Cj:function(){this.data={};this.oe={};this.Ge={};this.Dj()},Dj:function(){this.Fe={};this.Bb=[]},set:function(a,b){this.Cj();this.data=a;for(var c in b)this.Ge[b[c]]=i},D:function(a){this.c.D(a)},cl:function(a){var b,c;this.Dj();for(b in this.Ge)this.Gh(b,j,j);for(;(c=/(^|;)([^;]+;)/.exec(a))!=j;)(b=/^(\w+)\.(\w+)\.([^;]+);/.exec(c[2]))&&this.Gh(b[1],b[2],b[3]),a=a.replace(c[0],c[1])},Ri:function(a){for(var b=0;b<this.Bb.length;b++)if(this.Bb[b]==
a){this.Bb.splice(b,1);return}e(Error("Unable to remove filter "+a+"!"))},Sa:function(){var a="",b;for(b in this.Fe)a+=this.Fe[b].Sa();for(b=0;b<this.Bb.length;b++)a+=this.Bb[b].Sa();return a},Gh:function(a,b,c){var d=this.data[a];d==j&&e(Error("Unable to find filter data for "+a+" (with "+b+" "+c+")!"));b=d.bf(b,c);this.Ge[a]?this.Fe[a]=b:this.Bb.push(b);return b},Dn:function(a){this.Ge[a]&&e(Error("Unable to create custom filter for static filter variable: "+a+"!"));return this.Gh(a,j,j)},W:function(a,
b){b?this.oe[a]=i:delete this.oe[a]},En:function(){var a={},b;for(b in this.data)this.Ge[this.data[b].fa]||this.oe[this.data[b].fa]||(a[b]=this.data[b]);return a},Fn:function(){var a=[],b;for(b in this.Bb)this.oe[this.Bb[b].fa]||a.push(this.Bb[b]);return a},Qn:function(){var a=[],b;for(b in this.Fe)this.oe[b]||a.push(this.Fe[b]);return a}};function ze(a,b,c,d,f){se.call(this,a,b);this.valueType=f;this.input=document.createElement("input");this.input.className="input fi_in";this.input.value=d!=j?d:this.valueType==Z||this.valueType==xe?"0":"";this.qf=this.Jn(f);c!=j&&this.qf.select(c);this.b.appendChild(this.qf.b);this.b.appendChild(this.input);this.b.className="fi_p"}ze.prototype=new se("","");m=ze.prototype;m.qf=j;m.input=j;m.valueType=Z;
m.na=function(){switch(this.valueType){case xe:case Z:var a=parseFloat(this.input.value);isNaN(a)&&(a="");return a;default:return this.input.value}};m.Sa=function(){return this.fa+"."+this.qf.na()+"."+this.na()+";"};function Be(a,b,c){se.call(this,a,b);this.qe=document.createElement("input");this.qe.className="input fi_in_min";this.qe.maxLength="5";this.pe=document.createElement("input");this.pe.className="input fi_in_max";this.pe.maxLength="5";if(c!=j&&(a=/(\d*(?:\.\d+)?)-(\d*(?:\.\d+)?)/.exec(c)))this.qe.value=a[1],this.pe.value=a[2];this.b.appendChild(this.qe);this.b.appendChild(document.createTextNode(" - "));this.b.appendChild(this.pe);this.b.className="fi_p"}Be.prototype=new se("","");Be.prototype.qf=j;
Be.prototype.qe=j;Be.prototype.pe=j;Be.prototype.Sa=function(){var a=parseFloat(this.qe.value),b=parseFloat(this.pe.value);return this.fa+".btw."+(isNaN(a)?"":""+a)+"-"+(isNaN(b)?"":""+b)+";"};function De(a,b,c,d){se.call(this,a,b);this.select=Rd(d);c!=j&&this.select.select(c);this.b.appendChild(this.select.b)}De.prototype=new se("","");De.prototype.select=j;De.prototype.Sa=function(){return this.fa+".eq."+this.select.na()+";"};function Fe(a,b,c,d){se.call(this,a,b);var a=[],b=0,f;for(f in d)a[b++]=[f,d[f]];this.select=new Sd(a);c!=j&&this.select.select(c);this.b.className="fi_multi_select";this.b.appendChild(this.select.b)}Fe.prototype=new se("","");Fe.prototype.select=j;Fe.prototype.Sa=function(){return this.fa+".ba."+this.select.na()+";"};function He(a,b,c,d){if(!a)return j;this.c=new A;this.c.j("update",["list"]);this.c.j("show_tooltip",["entity"]);this.c.j("click",["entity"]);this.c.j("move_tooltip",[]);this.c.j("hide_tooltip",[]);this.G=new Ge;this.A=a;this.ud=d;d=new z("search,next_page,prev_page,change_order,add_custom_filter,remove_custom_filter".split(","),new x(function(a){a.k("search")?this.update():a.k("next_page")?this.nextPage():a.k("prev_page")?this.Ho():a.k("change_order")?this.uh(a.get("order")):a.k("add_custom_filter")?
this.Tm(a.get("variable"),a.get("customFilter")):a.k("remove_custom_filter")&&this.Ri(a.get("filter"))},this));a.D(d);a.ha("show_tooltip",this.c);a.ha("hide_tooltip",this.c);a.ha("move_tooltip",this.c);a.ha("click",this.c);this.G.set(b,c);this.set("","","",1)}var qa=1;function Ie(a){var b=[],c;for(c in a)for(var d in a[c])b[a[c][d].fa]=a[c][d];return b}function Je(a){var b={},c;for(c in a){b[c]=[];for(var d in a[c])b[c].push(a[c][d].fa)}return b}var Ke,Le;
Ke=function(){var a={},b;for(b=1;28>=b;b++)a[b]=14==b?locale.F_ShieldHand:locale.a_slot[b];return a};Le=function(){var a={},b,c;for(c=0;c<wb.length;c++)for(b=0;b<wb[c][1].length;b++)a[c+"."+b]=wb[c][1][b];return a};
He.prototype={c:j,page:1,kf:0,G:j,A:j,ud:"",we:0,D:function(a){this.c.D(a)},gl:function(a){this.kf=a;this.A.wj(this.page,this.kf)},nextPage:function(){this.Nh(this.page+1);this.fg()},Ho:function(){this.Nh(this.page-1);this.fg()},Nh:function(a){if(!(0>a||a>this.kf))this.page=a,this.A.wj(this.page,this.kf)},update:function(){this.Nh(1);this.fg()},uh:function(a){this.ud==a?this.we=0==this.we?qa:0:this.ud=a;this.fg()},fg:function(){this.c.i("update",{list:this});this.A.wa()},Sa:function(){return this.G.Sa()},
set:function(a,b,c,d){this.page=d;this.A.wj(this.page,this.kf);this.A.uh(this.ud,this.we);this.G.cl(a);this.A.bq(this.G.Qn(),this.G.Fn(),this.G.En())},Tm:function(a,b){b.dl(this.G.Dn(a))},Ri:function(a){this.G.Ri(a)},setData:function(a){this.A.uh(this.ud,this.we);2>a.length?(this.A.sh(j),this.gl(0)):(this.gl(Math.ceil(a[0][0]/a[0][1])),this.A.Ag(a))},bp:function(a,b){var c=this.G.Sa(),c=c.replace(RegExp("\u0008"+a+"\\.\\w+\\.[^;]+;"),"")+b;this.G.cl(c)}};function Me(a){if(!a)return j;this.c=new A;this.c.j("search",[]);this.c.j("remove_custom_filter",["customFilter"]);this.c.j("add_custom_filter",["variable","customFilter"]);this.c.j("next_page",[]);this.c.j("prev_page",[]);this.c.j("change_order",["order"]);this.c.j("hide_tooltip",[]);this.c.j("move_tooltip",[]);this.c.j("show_tooltip",["entity"]);this.c.j("click",["entity"]);this.Yh=a;this.b=document.createElement("div");this.b.className="li_p";this.mc=new Gd;this.nc=document.createElement("div");
this.nc.className="li_filter_p";this.b.appendChild(this.nc);this.mc.Ba.className="li_fc_header";this.mc.content.className="li_fc_content";this.mc.Ba.innerHTML="<a href='javascript:'>Filter</a>";this.nc.appendChild(this.mc.b);this.content=document.createElement("div");this.content.className="li_content";this.b.appendChild(this.content);this.form=document.createElement("form");this.form.action="javascript:";this.form.onsubmit="return false";this.mc.content.appendChild(this.form);this.zg=document.createElement("div");
this.ie=document.createElement("input");this.ie.type="submit";this.ie.value=locale.F_Search;Ob(this.ie,{"default":"button button_light li_filter_search_btn",focus:"button_light_focus",hover:"button_light_hover"});H(this.form,"submit",this.c.i,this.c,["search",{}]);this.Rd=document.createElement("input");this.Rd.type="button";this.Rd.value=locale.F_AddFilter;Ob(this.Rd,{"default":"button button_light li_filter_add_btn",focus:"button_light_focus",hover:"button_light_hover"});H(this.Rd,"click",this.Mk,
this,[j]);this.Ej();this.lb=new Y(1,3);this.lb.b.width="100%";this.lb.cols[0].width="33%";this.lb.cols[1].width="34%";this.lb.cols[2].width="33%";this.$b=document.createElement("a");this.$b.style.display="none";this.$b.href="javascript:";Ob(this.$b,{"default":"button button_light li_prev_page",focus:"button_light_focus",hover:"button_light_hover"});H(this.$b,"click",this.c.i,this.c,["prev_page",{}]);this.Zg=document.createElement("div");this.Zg.className="li_curr_page";this.Zb=document.createElement("a");
this.Zb.style.display="none";this.Zb.href="javascript:";Ob(this.Zb,{"default":"button button_light li_next_page",focus:"button_light_focus",hover:"button_light_hover"});H(this.Zb,"click",this.c.i,this.c,["next_page",{}]);this.lb.cells[0][0].appendChild(this.$b);this.lb.cells[0][1].appendChild(this.Zg);this.lb.cells[0][2].appendChild(this.Zb);this.lb.b.className="li_page_p";this.b.appendChild(this.lb.b)}
Me.prototype={c:j,Yh:{},b:j,content:j,nc:j,mc:j,ie:j,form:j,zg:j,Rd:j,oc:j,qd:j,lb:j,Zg:j,Zb:j,$b:j,lk:j,kk:j,fi:j,setProperty:function(){e(new Rb("ListGui","setProperty"))},bq:function(a,b,c){this.Ej();for(var d in a)this.Vg(a[d]);for(d in b)this.Mk(b[d]);this.lk=c},Ej:function(){this.oc=new Y(0,2);this.qd=new Y(1,1);this.qd.wh(ad);this.oc.b.cellSpacing="2px";this.oc.b.className="group_t2 li_filter_input_grid li_filter_grp";this.oc.$();this.qd.cells[0][0].appendChild(this.oc.b);var a=document.createElement("div");
a.className="group_t2 li_filter_grp";a.appendChild(this.zg);a.appendChild(this.Rd);Lb(this.form);this.form.appendChild(this.qd.b);this.form.appendChild(a);this.form.appendChild(this.ie);Lb(this.zg)},D:function(a){this.c.D(a)},ha:function(a,b){this.c.ha(a,b)},Rh:function(a,b){for(;b+1>=this.qd.cols.length;)this.qd.Sm();var c=document.createElement("div"),d=document.createElement("div");c.innerHTML=a.name;c.className="li_filter_lg_label";p(d,c);d.appendChild(a.b);d.className="group_t2 li_filter_grp li_filter_select";
this.qd.cells[0][b+1].appendChild(d)},$c:function(a,b){for(;b>=this.oc.rows.length;)this.oc.ad();var c=this.oc.cells[b];c[0].innerHTML=a.name;c[0].className="li_filter_ig_label";p(c[1],a.b);c[1].className="li_filter_ig_input";this.oc.show()},Vg:function(){e(new Rb("ListGui","newStaticFilter"))},Mk:function(a){var b=new Ne(this);a!=j&&b.dl(a);this.zg.appendChild(b.b)},wa:function(){this.content.innerHTML="<div class='li_loading'>"+locale.L_Loading+"</div>";this.ok(i);this.lb.b.style.display="none"},
ok:function(a){this.ie.disabled=a?"disabled":""},sh:function(a){a==j?this.content.innerHTML="<div class='il_nothing'>Nothing Found</div>":p(this.content,a);this.ok(k);this.Zb.disabled="";this.$b.disabled=""},bj:function(a){a?this.mc.expand():this.mc.collapse()},wj:function(a,b){0==b?this.lb.b.style.kq="none":(b>a?(this.Zb.innerHTML=locale.next+" &rsaquo;",this.Zb.style.display=""):this.Zb.style.display="none",1<a?(this.$b.innerHTML="&lsaquo; "+locale.previous,this.$b.style.display=""):this.$b.style.display=
"none",this.Zg.innerHTML=I(locale.L_PageOf,[a,b]),this.lb.b.style.display="table")},show:function(a){this.b.style.display=a?"block":"none"},Ag:function(){e(new Rb("ListGui","deserialize"))},uh:function(a,b){this.fi=a;this.kk=b},Jc:function(a,b){var c=document.createElement("a");c.innerHTML=a+(b==this.fi?0==this.kk?" \u25bc":" \u25b2":"");c.className="li_sort_link"+(b==this.fi?" li_sort_link_active":"");c.href="javascript:";H(c,"click",this.c.i,this.c,["change_order",{order:b}]);return c}};
function Ne(a){this.vd=a;a=new Y(1,3);a.b.className="group_t3 fi_cf_table";var b=document.createElement("option");b.innerHTML="";b.value="";var c=document.createElement("a");c.className="remove fi_cf_remove";c.href="javascript:";this.b=document.createElement("div");this.select=document.createElement("select");this.select.className="single_select";this.nc=document.createElement("div");this.select.appendChild(b);for(var d in this.vd.Yh)this.bm(d,this.vd.Yh[d]);a.cells[0][0].appendChild(this.select);
a.cells[0][1].appendChild(this.nc);a.cells[0][2].appendChild(c);this.b.appendChild(a.b);H(this.select,"change",this.Gi,this,[]);H(c,"click",this.uo,this,[])}
Ne.prototype={b:j,select:j,nc:j,filter:j,vd:j,Gi:function(){var a=this.select.selectedIndex;if(0>=a||this.filter!=j)this.vd.c.i("remove_custom_filter",{filter:this.filter}),this.nc.innerHTML="",this.filter=j;0<a&&this.vd.c.i("add_custom_filter",{variable:this.select.options[a].value,customFilter:this})},uo:function(){this.filter!=j&&this.vd.c.i("remove_custom_filter",{filter:this.filter});this.b.parentNode.removeChild(this.b)},dl:function(a){this.filter=a;this.nc.appendChild(a.b);for(var b=this.select.options,
c=0;c<this.select.options.length;c++)if(b[c].value==a.fa){b[c].selected="selected";break}},bm:function(a,b){for(var c=[],d=j,f=0;f<b.length;f++)d=this.vd.lk[b[f]],d!=j&&c.push(d);if(0<c.length)if("none"==a)for(f=0;f<c.length;f++)this.zj(c[f],this.select);else{d=document.createElement("optgroup");d.label=a;for(f=0;f<c.length;f++)this.zj(c[f],d);this.select.appendChild(d)}},zj:function(a,b){var c=document.createElement("option");c.innerHTML=a.name;c.value=a.fa;b.appendChild(c)}};function ge(a){this.dk=a;this.hk=new x(this.$m,this)}m=ge.prototype;m.lh=j;m.dk=j;m.hk=j;m.update=function(a){this.lh=this.dk+"?"+Fa({a:a.Sa(),o:a.ud+"."+(a.we==qa?"asc":"desc")+";",p:a.page});Ha(this.lh,this.hk,[a,this.lh],k)};m.$m=function(a,b,c){c==this.lh&&b.setData(a)};var Oe={"0":"Any class"};Oe[1]=locale.a_class[0];Oe[2]=locale.a_class[1];Oe[4]=locale.a_class[2];Oe[8]=locale.a_class[3];Oe[16]=locale.a_class[4];Oe[32]=locale.a_class[5];Oe[64]=locale.a_class[6];Oe[128]=locale.a_class[7];Oe[256]=locale.a_class[8];Oe[1024]=locale.a_class[10];var Pe={};Pe[0]=locale.F_No;Pe[1]=locale.F_Yes;var Qe={};Qe[0]=locale.a_quality[0];Qe[1]=locale.a_quality[1];Qe[2]=locale.a_quality[2];Qe[3]=locale.a_quality[3];Qe[4]=locale.a_quality[4];Qe[5]=locale.a_quality[5];Qe[6]=locale.a_quality[6];
Qe[7]=locale.a_quality[7];var Re=[8919044,1116154,2026,2026,2026];function pa(){He.call(this,new Se(Je(Te)),Ie(Te),["name","level","reqlvl","quality"],Ue)}var Te={};Te[locale.F_General]=[new $(locale.F_Name,"name",we),new Ae(locale.F_ItemLevel,"level"),new Ee(locale.F_Quality,"quality",Qe),new Ae(locale.F_RequiredLevel,"reqlvl"),new Ce(locale.F_ItemClass,"class",{4:"Armor",3:"Gem",2:"Weapon"})];
Te[locale.F_Stats]=[new $(locale.CS_Stats[1][0],"str",Z),new $(locale.CS_Stats[1][1],"agi",Z),new $(locale.CS_Stats[1][2],"sta",Z),new $(locale.CS_Stats[1][3],"int",Z),new $(locale.CS_Stats[1][4],"spi",Z)];Te[locale.F_Ratings]=[new $(locale.ItemStatNames[31],"hit",Z),new $(locale.ItemStatNames[32],"crit",Z),new $(locale.ItemStatNames[35],"res",Z),new $(locale.ItemStatNames[36],"haste",Z),new $(locale.ItemStatNames[49],"mast",Z)];
Te[locale.F_Defense]=[new $(locale.ItemStatNames[13],"dod",Z),new $(locale.ItemStatNames[14],"par",Z),new $(locale.ItemStatNames[15],"blo",Z)];Te[locale.F_Melee]=[new $(locale.ItemStatNames[38],"ap",Z),new Ae(locale.F_DPS,"dps"),new Ae(locale.F_Speed,"delay")];Te[locale.F_Spell]=[new $(locale.ItemStatNames[45],"sp",Z)];Te[locale.F_Requirements]=[new Ce(locale.F_UsableBy,"usablebyclass",Oe),new $(locale.F_CanBeUsedWithLevel,"canbeusedwithlvl",Z),new Ce(locale.F_RequiresReputation,"reqrepu",Pe)];
Te[locale.F_Miscellaneous]=[new Ce(locale.F_SocketableGem,"issocketablegem",Pe),new $(locale.F_GemReqItemLevel,"gemreqitemlvl",Z)];var Ue="level";pa.prototype=new He(j,j,j,"");pa.prototype.fq=k;pa.prototype.vb=0;pa.prototype.ba=0;pa.prototype.pc=0;
function ie(a,b,c,d){a.vb=b;a.ba=c;a.pc=d;var b=Ie(Te),c=["name","level","reqlvl","quality"],d=k,f=j,g=k,h=k,n=j;switch(a.ba){case 4:a.pc&2048?f=Ve(a,[11]):(d=i,f=Ve(a,[0,1,2,3,4]));break;case 3:a.G.W("subclass",k);a.pc&64?(a.G.W("subclass",i),f=Ve(a,[6])):a.pc&1024?(a.G.W("subclass",i),f=Ve(a,[10])):f=Ve(a,[0,1,2,3,4,5,7,8]);break;case 2:0==a.pc?d=i:f=Ve(a,j)}if(0!=(a.vb&6463488)||2==a.ba)g=h=i;if(d||0!=a.vb){var n=[],r=-1,v=0,s;if(4==a.ba)if(0==a.pc)r&=Re[0]|Re[1]|Re[2]|Re[3]|Re[4];else{for(s=0;5>
s;s++)a.pc&1<<s&&(v|=Re[s]);r&=v}else 2==a.ba&&0==a.pc&&(r&=6463488);a.vb=a.vb?a.vb&r:r;for(s=1;28>=s;s++)0!=(a.vb&1<<s)&&(n[s]=14==s?locale.F_ShieldHand:locale.a_slot[s]);n=new Ee(locale.F_InventorySlot,"slot",n)}g?(c.push("dps"),a.G.W("delay",k)):a.G.W("dps",i);h?(c.push("delay"),a.G.W("delay",k)):a.G.W("delay",i);d||n?(c.push("slot"),b.slot=n,a.G.W("slot",k)):a.G.W("slot",i);f?(c.push("subclass"),b.subclass=f):a.G.W("subclass",i);a.G.set(b,c)}
function Ve(a,b){var c={},d;if(b)for(d=0;d<b.length;d++)c[b[d]]=wb[a.ba][1][b[d]];else for(d=0;32>d;d++)0!=(1<<d&a.pc)&&(c[d]=wb[a.ba][1][d]);return new Ee(locale.F_ItemClass,"subclass",c)};function Se(a){Me.call(this,a);this.ah=U(this.mc.content,"div",{"class":"il_prop"});this.Sk=U(this.ah,"input",{type:"checkbox","class":"il_prop_check",checked:i});U(this.ah,"span",{text:"Use custom filters for all slots","class":"il_prop_note"})}Se.prototype=new Me(j);m=Se.prototype;m.vl=k;m.fe=k;m.Sk=j;m.ah=j;m.setProperty=function(a,b){"showDpsAndDelay"==a?this.fe=b:"showStaticLinks"==a?this.vl=b:e(Error("Unknown property "+a+" with value "+b+"!"))};
m.Vg=function(a){var b=a.fa;"name"==b?this.$c(a,0):"level"==b?this.$c(a,1):"reqlvl"==b?this.$c(a,2):"dps"==b?this.$c(a,3):"delay"==b?this.$c(a,4):"quality"==b?this.Rh(a,0):"slot"==b?this.Rh(a,1):"subclass"==b?this.Rh(a,2):e(Error("Unknown static filter "+a.fa+"!"))};
m.Ag=function(a){var b,c,d,f,g=0,h;f=new Y(a.length,5+(this.fe?2:0));f.b.cellSpacing="0px";f.b.width="100%";f.b.className="li_content_t";f.rows[0].className="il_header";f.cols[0].width="24px";g++;f.cells[0][g++].appendChild(this.Jc("Name","name"));this.fe&&(f.cells[0][g++].appendChild(this.Jc("DpS","dps")),f.cells[0][g++].appendChild(this.Jc("Spd","delay")));f.cells[0][g++].appendChild(this.Jc("iLvl",Ue));f.cells[0][g++].appendChild(this.Jc("Slot","slot"));f.cells[0][g++].appendChild(this.Jc("Type",
"itemclass"));for(b=0;b<g;b++)f.cells[0][b].className="il_header_cell";for(b=1;b<a.length;b++){g=0;c=new sa(a[b][0]);B.set(c);f.rows[b].className="il_row"+b%2;d=document.createElement("a");d.className="il_link item_quality_"+c.ja;d.innerHTML=c.name;h="il_cell "+(0==b%2?"il_cell_bg0":"il_cell_bg1");H(d,"mouseover",this.c.i,this.c,["show_tooltip",{entity:c}]);H(d,"mouseout",this.c.i,this.c,["hide_tooltip",{}]);H(d,"mousemove",this.c.i,this.c,["move_tooltip",{}]);H(d,"click",this.c.i,this.c,["click",
{entity:c}]);if(this.vl)d.href="?item="+c.id;f.cells[b][g].className=h;f.cells[b][g++].innerHTML="<div style='background-image:url(images/icons/small/"+c.v+".png)' class='il_icon' ></div>";f.cells[b][g].className=h;f.cells[b][g].appendChild(d);if(0!=(c.Ie&8))d=document.createElement("sup"),d.className="il_heroic",d.innerHTML="H",f.cells[b][g].appendChild(d);g++;if(this.fe)f.cells[b][g].className=h+" li_"+(c.Je&512?"un":"")+"imp_col",f.cells[b][g++].innerHTML=c.Cb?zb(c):"",f.cells[b][g].className=
h+" li_"+(c.Je&512?"un":"")+"imp_col",f.cells[b][g++].innerHTML=c.Cb?Ab(c):"";f.cells[b][g].className=h+" li_imp_col";f.cells[b][g++].innerHTML=c.g;f.cells[b][g].className=h+(this.fe?" li_unimp_col":" li_imp_col");f.cells[b][g++].innerHTML=c.Ca?locale.a_slot[c.Ca]:"";f.cells[b][g].className=h+(this.fe?" li_unimp_col":" li_imp_col");f.cells[b][g++].innerHTML=c.qc[0]}this.sh(f.b)};function he(){He.call(this,new We(Je(Xe)),Ie(Xe),["name"],Ye)}var Xe={};Xe[locale.F_General]=[new $(locale.F_Name,"name",we),new $(locale.F_Description,"description",we)];Xe[locale.F_Enchant]=[,new Ce(locale.F_IsEnchant,"isenchant",Pe),new $(locale.F_EnchantItemLevel,"enchantitemlevel",Z),new $(locale.F_EnchantCharacterLevel,"enchantchrlevel",Z),new Ce(locale.F_ItemSubClass,"itemclasssubclasscombined",Le()),new Ee(locale.F_InventorySlot,"slot",Ke())];var Ye="id";he.prototype=new He(j,j,j,"");function We(a){Me.call(this,a)}We.prototype=new Me(j);
We.prototype.Ag=function(a){var b=0,c,d,f=new Y(a.length,3);f.b.cellSpacing="0px";f.b.width="100%";f.b.className="li_content_t";f.rows[0].className="il_header";f.cols[0].width="24px";b++;f.cells[0][b++].appendChild(this.Jc("Name","name"));f.cells[0][b++].appendChild(this.Jc("Req. Level","enchantchrlevel"));for(c=0;c<b;c++)f.cells[0][c].className="il_header_cell";for(c=1;c<a.length;c++){var b=0,g=new R(a[c]);E.set(g);f.rows[c].className="il_row"+c%2;d="il_cell "+(0==c%2?"il_cell_bg0":"il_cell_bg1");
var h=document.createElement("a");h.className="il_link";h.innerHTML=g.name;f.cells[c][b].className=d;f.cells[c][b++].innerHTML="<div style='background-image:url(images/icons/small/"+g.v+".png)' class='il_icon' ></div>";f.cells[c][b].className=d;f.cells[c][b++].appendChild(h);for(var n="None",r=0;r<g.H.length;r++)if(g.H[r]&&53==g.H[r].Ue&&g.H[r].Lb!=j){n=g.H[r].Lb.Jb;break}f.cells[c][b].className=d;f.cells[c][b++].innerHTML=n;H(h,"mouseover",this.c.i,this.c,["show_tooltip",{entity:g}]);H(h,"mouseout",
this.c.i,this.c,["hide_tooltip",{}]);H(h,"mousemove",this.c.i,this.c,["move_tooltip",{}]);H(h,"click",this.c.i,this.c,["click",{entity:g}])}this.sh(f.b)};We.prototype.Vg=function(a){"name"==a.fa?this.$c(a,0):e(Error("Unknown static filter "+a.fa+"!"))};function oe(){var a=new Ze(Je($e));He.call(this,a,Ie($e),["ismine"],af);this.c.j("delete",["profile_id","desc"]);this.A.c.ha("delete",this.c)}var $e={};$e.none=[new Ce(locale.F_MyProfiles,"ismine",Pe),new Ce(locale.F_ShowDeleted,"showdeleted",Pe),new $(locale.F_CharacterLevel,"lvl",Z)];var af="id";oe.prototype=new He(j,j,j,"");function Ze(a){Me.call(this,a);this.c.j("delete",["profile_id","desc"])}Ze.prototype=new Me(j);Ze.prototype.Vg=function(a){"ismine"==a.fa&&this.$c(a,0)};
Ze.prototype.Ag=function(a){var b,c,d,f=0,g;d=new Y(1,4);d.b.cellSpacing="0px";d.b.width="100%";d.b.className="pl_content_t";d.rows[0].className="pl_header";d.cols[f].width="30px";f++;d.cols[f].width="28px";f++;d.cols[f].width="28px";f++;d.cols[f].width="874px";f++;for(b=0;b<f;b++)d.cells[0][b].className="pl_header_cell";for(b=1;b<a.length;b++){f=0;g="pl_cell "+(0==b%2?"pl_cell_bg0":"pl_cell_bg1");var h=d.Qh(),n=a[b][2]?a[b][2]:"Profile #"+a[b][0];d.cells[h][0].className=g+" pl_inline_header";c=U(d.cells[h][0],
"a",{href:"?profile="+a[b][0],"class":"pl_link",text:n});if(a[b][3])c.onmouseout=function(){t.$()},c.onmousemove=function(){t.move()},H(c,"mouseover",t.show,t,["<div class='pl_desc_tt'>"+a[b][3]+"</div>"]);d.cells[h][0].appendChild(c);U(d.cells[h][0],"span",{"class":"pl_ih_info",text:"&nbsp;Created: "+a[b][7]+"&nbsp;"});h=d.ad();d.cells[h][f].className=g+" pl_level_p";d.cells[h][f++].innerHTML=a[b][6];d.cells[h][f].className=g;d.cells[h][f++].innerHTML="<div style='background-image:url(images/site/race_class/small/chr_race_"+
a[b][4]+".png)' class='pl_icon' ></div>";d.cells[h][f].className=g;d.cells[h][f++].innerHTML="<div style='background-image:url(images/site/race_class/small/"+a[b][5]+".png)' class='pl_icon' ></div>";d.cells[h][f].className=g;g_settings.userId==a[b][1]&&(c=U(d.cells[h][f],"a",{"class":"close pl_delete_link",href:"javascript:;"}),H(c,"click",function(a,b){this.c.i("delete",{profile_id:a,desc:b})},this,[a[b][0],n]))}this.sh(d.b)};function bd(){this.b=document.createElement("div");this.b.className="ts_c";this.c=new A;this.c.j("select_talent_tree",["tree"]);this.c.j("reset_talent_tree",["tree"]);this.c.j("reset_talents",[]);this.c.j("show_tooltip",["tree","row","col","node"]);this.c.j("add_talent_point",["tree","row","col"]);this.c.j("remove_talent_point",["tree","row","col"])}
bd.prototype={c:j,wb:j,xc:0,cc:0,lc:0,So:0,id:0,Xb:0,rb:0,Lc:0,Sf:[],gc:[],za:[],K:-1,Id:[],cb:[],r:[],Pl:i,b:j,Ui:j,ih:j,me:[],yi:[],D:function(a){this.c.D(a)},ff:function(a){X(this.b);if(a==j)U(this.b,"div",{"class":"ts_error",text:"You have to select a Class before you can learn Talents!"});else{this.wb=a;var b,c,d,f,g,h,n;this.Xb=a.Xb;this.rb=a.rb;this.Lc=a.Lc;this.Sf=[];this.gc=[];this.za=[0,0,0];this.K=a.Ub?0:-1;this.xc=a.xc;this.cc=a.cc;this.lc=a.lc;this.id=a.id;this.me=[];this.Id=[];this.cb=
[];this.r=[];this.ua=[];this.ve=[];this.Ch=[];this.g=85;this.Xc=[];this.Kd=[];this.$e=document.createElement("div");this.selectNodes=[];this.Jd=[];this.Ce=[];this.dj=[];this.Hb=[];this.yi=[];this.jn=a.Ub?["fe","te","cu"]:"wa,pa,hu,ro,pr,dk,sh,ma,wl,,dr".split(",");this.ce=this.Qb=j;this.fd="";for(b=0;b<a.xc;b++){d=new Y(a.cc,a.lc);d.b.cellSpacing=0;d.b.cellPadding=0;d.b.className="talent_tree_table";this.gc[b]=a.ea[b].name;this.r[b]=Array(a.cc);this.cb[b]=Array(a.cc);for(c=0;c<a.cc;c++)this.r[b][c]=
Array(a.lc),this.cb[b][c]=Array(a.lc);this.Id[b]=d;for(c=0;c<a.cc;c++)for(d=0;d<a.lc;d++)if(h=a.ea[b].r[c][d],h!=j)this.r[b][c][d]=h,h=new bf(h),h.b.className="talent_border",H(h.Ra,"click",this.ro,this,[b,c,d]),H(h.Ra,"contextmenu",this.vo,this,[b,c,d]),H(h.Ra,"mouseover",this.to,this,[b,c,d]),H(h.Ra,"mouseout",this.so,this,[b,c,d]),p(this.Id[b].cells[c][d],h.b),this.cb[b][c][d]=h}h=new Y(1,3);b=new Y(1,1);b.b.className="ts_tab";h.b.className="group talent_table";(new Y(1,3)).b.className="align_center";
this.nh=document.createElement("a");this.nh.className="remove talent_reset_link";this.nh.href="javascript:";H(this.nh,"click",this.wo,this,[]);this.Ui=document.createElement("div");this.ih=document.createElement("div");this.jj=document.createElement("span");this.ih.className="ts_header_info talent_remaining_points";this.Ui.className="ts_header_info talent_required_level";this.jj.className="ts_header_info ts_total";f=document.createElement("div");f.className="";f.appendChild(this.ih);f.appendChild(this.Ui);
f.appendChild(this.nh);f.appendChild(this.jj);Kb(f);this.Hd=new Td(2);this.Hd.n[0].appendChild(document.createTextNode(J(locale.ChooseYourSpericalization,locale.a_class[this.id-1])));this.Hd.n[0].className="ts_header_notice";this.Hd.n[1].appendChild(f);this.Hd.b.className="ts_header_c";b.cells[0][0].appendChild(this.Hd.b);for(c=0;c<a.xc;c++){this.selectNodes[c]=document.createElement("div");this.Jd[c]=document.createElement("div");d=0==c?"#D0A000":1==c?"#A00000":"#2E4D99";this.Sf[c]=document.createElement("img");
this.Sf[c].className="ts_tree_icon";if(!a.Ub)this.Sf[c].src="images/icons/small/"+a.ea[c].ri+".png";this.Kd[c]=document.createElement("span");this.Kd[c].className="ts_tree_spent";this.Ce[c]=document.createElement("a");this.Ce[c].href="javascript:";this.Ce[c].className="remove ts_tree_reset";H(this.Ce[c],"click",this.xo,this,[c]);this.Xc[c]=document.createElement("a");this.Xc[c].className="ts_tree_name";this.Xc[c].href="javascript:";this.Xc[c].innerHTML=this.gc[c];H(this.Xc[c],"click",this.Pk,this,
[c]);f=document.createElement("div");f.className="ts_tree_title";g=document.createElement("div");g.className="ts_tree_name";g.appendChild(this.Xc[c]);f.appendChild(this.Sf[c]);f.appendChild(g);f.appendChild(this.Kd[c]);f.appendChild(this.Ce[c]);h.cells[0][c].appendChild(f);this.me[c]=document.createElement("div");this.me[c].className="ts_glow_bg";this.me[c].appendChild(this.Id[c].b);this.Jd[c].appendChild(this.me[c]);this.Jd[c].className="talent_tree_node";if(!a.Ub){g=document.createElement("div");
g.className="talent_select_title";f=document.createElement("a");f.appendChild(document.createTextNode(this.gc[c]));H(f,"click",this.Pk,this,[c]);this.dj[c]=f;g.appendChild(f);this.selectNodes[c].appendChild(g);this.selectNodes[c].style.borderColor=d;f=document.createElement("div");f.className="talent_select_icon_div";f.style.backgroundImage="url(images/icons/large/"+a.ea[c].ri+".png)";d=document.createElement("div");d.className="talent_select_circle_div";d.style.backgroundImage="url(images/talents/talent_select_circle_grey.png)";
f.appendChild(d);this.selectNodes[c].appendChild(f);f=document.createElement("div");f.className="talent_spells_parent";this.Ch[c]=[];this.Hb[c]=[];this.ua[c]=[];for(d=0;d<a.ea[c].ua.length;d++)g=new Ld(3),n=a.ea[c].ua[d],this.ua[c][d]=n,this.Hb[c][d]=document.createElement("a"),this.Hb[c][d].innerHTML+=n.name,this.Hb[c][d].href="javascript:",this.Hb[c][d].className="ts_ps_name_p"+(0==d?"_big":""),this.Hb[c][d].onmouseout=function(){t.$()},this.Hb[c][d].onmousemove=function(){t.move()},H(this.Hb[c][d],
"mouseover",t.show,t,[a.ea[c].ua[d].ma()]),g.l[0].className="ts_primary_icon"+(0!=d?"_s":""),g.l[0].style.backgroundImage="url(images/icons/"+(0==d?"half":"small")+"/"+a.ea[c].ua[d].v+".png)",g.l[1].className="ts_primary_border"+(0!=d?"_s":""),g.l[2].className="ts_primary_event"+(0!=d?"_s":""),g.l[2].onmouseout=function(){t.$()},g.l[2].onmousemove=function(){t.move()},H(g.l[2],"mouseover",t.show,t,[a.ea[c].ua[d].ma()]),this.Ch[c][d]=g,n=document.createElement("div"),n.appendChild(g.l[0]),n.className=
"ts_ps_icon_p"+(0==d?"_big":""),g=document.createElement("div"),g.className="ts_ps_c"+(0==d?"_big":""),g.appendChild(n),g.appendChild(this.Hb[c][d]),f.appendChild(g);this.selectNodes[c].appendChild(f);f=document.createElement("div");f.className="talent_select_description";f.appendChild(document.createTextNode(Bb(a.ea[c].description,j).join(" ")));this.selectNodes[c].appendChild(f);this.selectNodes[c].className="talent_select_div";this.Jd[c].appendChild(this.selectNodes[c])}h.cells[0][c].appendChild(this.Jd[c])}this.$e.className=
"talent_link_div";b.cells[0][0].appendChild(h.b);this.Qf=document.createElement("a");this.Qf.innerHTML=locale.ViewTalentTrees;this.Qf.className="talent_switch_link";H(this.Qf,"click",this.Bo,this,[c]);a=document.createElement("div");a.className="ts_switch";a.appendChild(this.Qf);b.cells[0][0].appendChild(a);b.cells[0][0].appendChild(this.$e);this.b.appendChild(b.b);this.wc(-1);this.update()}},wc:function(a){for(var b=0;b<this.xc;b++){this.Jd[b].style.borderColor=b==a?"#FFCC00":"";this.me[b].style.backgroundImage=
b==a?"url(images/talents/talent_tree_glow.png)":"";this.Ce[b].style.visibility=-1==a?"hidden":"visible";this.Kd[b].style.visibility=-1==a?"hidden":"visible";for(var c=0;c<this.ua[b].length;c++)this.Ch[b][c].l[0].style.backgroundImage="url(images/icons/"+(-1==a||b==a?"":"g/")+(0==c?"half":"small")+"/"+this.ua[b][c].v+".png)",this.Ch[b][c].l[1].style.backgroundImage="url(images/icon_border"+(0==c?"_smaller":"_smallest")+(-1==a||b==a?"":"_g")+".png)",this.Hb[b][c].className="ts_ps_name_p"+(0==c?"_big":
"")+" ts_primary_name"+(a==b||-1==a?"":"_g")}this.K=a;-1==a?(this.zh(i),this.Hd.show(0)):(this.zh(k),this.Hd.show(1));this.Qm(-1==a);this.update()},zh:function(a){for(var b=0;b<this.selectNodes.length;b++)this.selectNodes[b].style.display=a?"block":"none";this.Pl=a;this.Qf.innerHTML=a?locale.ViewTalentTrees:locale.ViewSummaries},Qm:function(a){for(var b=0;b<this.xc;b++)a?(this.Xc[b].className="ts_tree_link",this.dj[b].className="talent_select_link"):(this.Xc[b].className="ts_tree_link_inactive",this.dj[b].className=
"talent_select_link_inactive")},update:function(){var a,b,c,d,f=0>=this.wb.Ic(),g,h;for(a=0;a<this.xc;a++){h=0;g=-1==this.K||a!=this.K&&31>this.wb.Gg(this.K);b="url(images/talents/bg/"+(g?"g/":"bg_")+(1<<this.id-1)+"_"+a+".jpg)";if(b!=this.yi[a])this.yi[a]=b,this.Jd[a].style.backgroundImage=b;for(b=0;b<this.cc;b++)for(c=0;c<this.lc;c++)if(d=this.r[a][b][c],d!=j&&(d=this.r[a][b][c],d!=j)){this.cb[a][b][c].update(f||g,d.Te()&&h>=b*this.rb&&!f&&!g);for(var n=0;3>n;n++)d.Kb[n]&&this.$l(a,b,c,d.Kb[n]);
h+=d.jc.V}}},$l:function(a,b,c,d){var f="",g=d.Ef,h=d.bi;if(this.r[a][g][h].te()&&(this.r[a][b][c].te()||!this.r[a][b][c].te()&&0!=this.So&&this.za[a]>=this.rb*b))f="_active";if(c!=h){c<h?this.cb[a][g][h].zb[0].className="talent_arrow_left_start"+f:this.cb[a][g][h].zb[2].className="talent_arrow_right_start"+f;for(d=Math.min(c,h)+1;d<Math.max(c,h);d++)this.Id[a].cells[h][d].className="talent_arrow_horizontal"+f;b!=g?this.Id[a].cells[g][c].className=c<h?"talent_arrow_left_corner"+f:"talent_arrow_right_corner"+
f:c<h?this.cb[a][b][c].zb[2].className="talent_arrow_left_end"+f:this.cb[a][b][c].zb[0].className="talent_arrow_right_end"+f}if(b!=g){if(c==h)this.cb[a][g][h].zb[3].className="talent_arrow_vertical_start"+f;for(d=Math.min(b,g)+1;d<Math.max(b,g);d++)this.Id[a].cells[d][c].className="talent_arrow_vertical"+f;this.cb[a][b][c].zb[1].className="talent_arrow_vertical_end"+f}this.Lm()},Lm:function(){var a="";this.jj.innerHTML=this.wb.Kn()+"/"+this.wb.Fg();this.Kd[0].innerHTML=this.wb.Gg(0);this.Kd[1].innerHTML=
this.wb.Gg(1);this.Kd[2].innerHTML=this.wb.Gg(2);a="?t="+this.jn[this.wb.mb-1]+this.wb.zc.fd;this.$e.innerHTML="<a class='talent_link' target='_blank' href='"+a+"'>http://chardev.org/"+a+"</a><br/>";a="http://www.wowarmory.com/talent-calc.xml?cid="+(Math.log(this.id)/Math.LN2+1)+"&tal="+this.wb.zc.ce.join("");this.$e.innerHTML+="<a class='talent_link' target='_blank' href='"+a+"'>http://www.wowarmory.com/</a>";this.ih.innerHTML=J(locale.Remaining_Points,"<span class='ts_remaining'>"+this.wb.Ic()+
"</span>")},wo:function(){this.c.i("reset_talents",{})},xo:function(a){this.c.i("reset_talent_tree",{tree:a})},Bo:function(){this.Pl?this.zh(k):this.zh(i)},Pk:function(a){this.c.i("select_talent_tree",{tree:a})},ro:function(a,b,c){this.c.i("add_talent_point",{tree:a,row:b,col:c});this.c.i("show_tooltip",{tree:a,row:b,col:c,node:this.cb[a][b][c].Ra})},vo:function(a,b,c){this.c.i("remove_talent_point",{tree:a,row:b,col:c});this.c.i("show_tooltip",{tree:a,row:b,col:c,node:this.cb[a][b][c].Ra})},to:function(a,
b,c){this.c.i("show_tooltip",{tree:a,row:b,col:c,node:this.cb[a][b][c].Ra})},so:function(){t.$()}};function bf(a){var b=new Ld(6);this.bb=a;this.b=b.l[0];this.zb=[document.createElement("div"),document.createElement("div"),document.createElement("div"),document.createElement("div")];b.l[0].appendChild(this.zb[0]);b.l[0].appendChild(this.zb[1]);b.l[0].appendChild(this.zb[2]);b.l[0].appendChild(this.zb[3]);this.v=document.createElement("img");this.v.className="talent_icon";this.v.src="images/transparent.gif";b.l[1].className="talent_image_div";b.l[1].appendChild(this.v);this.Bk=b.l[2];this.Bk.className=
"talent_highlight_div";this.border=b.l[3];this.border.className="talent_border_div";this.text=b.l[4];this.text.className="talent_text_div";this.Ra=b.l[5];this.Ra.style.zIndex=6;this.Ra.className="talent_event_parent";this.Ra.ondblclick=l(k);this.Ra.onmousedown=l(k);this.Ra.onmouseup=l(k);this.Ra.oncontextmenu=l(k)}m=bf.prototype;m.bb=j;m.v=j;m.Ra=j;m.text=j;m.border=j;m.zb=j;m.b=j;m.Bk=j;
m.update=function(a,b){this.bb.te()||0<this.bb.jc.V&&a?(this.v.src="images/icons/medium/"+this.bb.v+".png",this.text.innerHTML="<span>"+this.bb.jc.V+"</span>/"+this.bb.max,this.text.style.backgroundImage="url(images/talents/pointsbg.png)",this.border.style.backgroundImage="url(images/talents/gold.gif)",this.text.style.color="#FFCC00"):this.bb.Te()&&b||0<this.bb.jc.V?(this.v.src="images/icons/medium/"+this.bb.v+".png",this.text.innerHTML="<span>"+this.bb.jc.V+"</span>/"+this.bb.max,this.text.style.backgroundImage=
"url(images/talents/pointsbg.png)",this.border.style.backgroundImage="url(images/talents/green.gif)",this.text.style.color="#00DD00"):(this.v.src="images/icons/g/medium/"+this.bb.v+".png",this.text.innerHTML="<span>"+this.bb.jc.V+"</span>/"+this.bb.max,this.text.style.backgroundImage="url(images/talents/pointsbg_g.png)",this.border.style.backgroundImage="url(images/talents/grey.gif)",this.text.style.color="#999999")};window.CHARDEV_CORE_BUILD=155;
