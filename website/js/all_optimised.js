function e(a){throw a;}var f=true,i=null,l=false;function ba(){return function(){}}function ca(a){return function(b){this[a]=b}}function o(a){return function(){return a}}var p;function da(a){this.hc=this.ec=i;this.J=a}p=da.prototype;p.ec=new da(i);p.hc=new da(i);p.Vj=l;p.Uj=l;p.J=i;p.remove=function(){if(this.Uj||this.Vj)return l;this.hc.ec=this.ec;this.ec.hc=this.hc;return f};function ea(){this.Zd=new da(i);this.dc=new da(i);this.dc.hc=this.Zd;this.Zd.ec=this.dc;this.dc.Vj=f;this.Zd.Uj=f}
ea.prototype.Zd=new da(i);ea.prototype.dc=new da(i);ea.prototype.push=function(a){a=new da(a);a.ec=this.dc;a.hc=this.dc.hc;this.dc.hc.ec=a;return this.dc.hc=a};ea.prototype.clear=function(){this.Zd.ec=this.dc;this.dc.hc=this.Zd};function t(a,b){this.wk=a;this.scope=b}t.prototype.wk=i;t.prototype.scope=i;function w(a,b){a.wk.apply(a.scope,b)};var y=[6,13,14,31,32,36,37,49],fa={"-1":-1,6:0,13:1,14:2,31:3,32:4,36:5,37:6,49:7},ha={0:32,1:13,2:37,3:36,4:31,5:49,6:14,7:6},ia=[1,1,1,1,1,1,1,1],ja=[0,0,0,960,0,0,782,0],ka={0:0,1:1,2:2,3:4,4:9,5:10,6:11,7:7,8:8,9:12,10:13,11:14,12:15,13:3,14:16,15:17,16:18},la={6:4,5:3,7:2,3:1,4:0},ma=[0,4,10,9,8,6,15,11,3,5,0,7],na={1:0,2:1,3:2,16:3,5:4,4:5,20:4,19:6,9:7,10:8,6:9,7:10,8:11,21:16,14:17,28:18,24:19,15:18,22:17,23:17,25:18,26:18},oa={1:"Human",2:"Orc",3:"Dwarf",4:"Night Elf",5:"Forsaken",6:"Tauren",
7:"Gnome",8:"Troll",9:"Goblin",10:"Blood Elf",11:"Draenei",22:"Worgen"},pa={1:"Warrior",2:"Paladin",3:"Hunter",4:"Rogue",5:"Priest",6:"Death Knight",7:"Shaman",8:"Mage",9:"Warlock",11:"Druid"},qa=["head","neck","shoulders","back","chest","shirt","tabard","wrists","hands","waist","legs","feet","ring1","ring2","trinket1","trinket2","mainHand","offHand","ranged"],ra={164:"Blacksmithing",165:"Leatherworking",171:"Alchemy",182:"Herbalism",186:"Mining",197:"Tailoring",202:"Engineering",333:"Enchanting",
393:"Skinning",755:"Jewelcrafting",773:"Inscription"};function sa(a,b,c,d,g){b=(b>0?b-1:11)*100+(g-1);var h=g=0;if(c!=0&&b<ta.length){g=ta[b]*c*a;h=g*d;g-=h/2;return[g,h]}return i}function ua(a,b,c,d){if(a!=b&&c>0&&b>0&&a>0){a=Math.min(b,a+(b-a)/c*(d-1));return[a,a/b]}return i}
var va=[164,165,171,182,186,197,202,333,393,755,773],wa=i,A=i,xa=["#999999","#FFFFFF","#00DD00","#3366CC","#AA66DD","#DD6600","#E5CC80","#E5CC80"],ya={0:[0,0,0,0,0],1:[20,20,20,20,20],2:[23,17,21,17,22],3:[25,16,21,19,19],4:[16,24,20,20,20],5:[19,18,20,18,25],6:[25,16,21,16,22],7:[15,22,20,23,20],8:[21,22,21,16,21],9:[17,22,20,23,18],10:[17,22,20,23,18],11:[21,17,20,20,22],22:[23,22,20,16,19]},za=[0,0,0.00652,-0.01532,-0.00295,0.031765,0,0.02922,0.03454,0.02622,0,0.074755],Aa=[0,0,0.033355,0,0,0.012375,
0,0.02201,0.009075,0.017,0,0.018515],Ba=[0,3.75955,3.65168-3,-5.43889,-0.588581,3.18783,3.66584,1.67504,3.47569,2.04144,0,4.97143],Ca=[0,1,0,2,1,0,0,0,0,0,0,0],Da=[0,1,0,2,1,0,0,0,0,0,0,0],Ea=[0,-10,0,-20,-10,0,0,0,0,0,0,0],Fa=[[0,0,0,0,0],[2,0,0,0,0],[2,0,0,0,0],[1,1,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[2,0,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[2,0,0,0,0]],Ga=[2,2,0,0,0],Ha=[2,2,0,0,0],Ia=[2,0,0,0,0],Ja=[5,5.5,6,8],Ka=[24,24.5,25,27],La=[4,5,6,17],Ma=[5,5.5,6,8],Na=[5,5.5,6,14],Oa=[5,
5.5,6,6.5],Pa=[0,3,3,2,2,0,3,2,0,0,0,3],Qa=[0.956,0.956,0.988,0.988,0.953,0.956,0.988,0.953,0.953,0,0.972],Ra=[65.63144,65.63144,145.560408,145.560408,0,65.63144,145.560408,0,0,0,0],Sa=[65.63144,65.63144,145.560408,145.560408,150.37594,65.63144,145.560408,150.37594,150.37594,0,116.890707],B=[[0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.144231,0.192308,0.240385,0.288462,0.336538,0.384615,0.432692,0.480769,0.528846,0.576923,0.625,0.673077,0.721154,0.769231,
0.817308,0.865385,0.913462,0.961538,1.00961,1.05769,1.10577,1.15385,1.20192,1.25,1.29808,1.34615,1.39423,1.44231,1.49039,1.53846,1.58654,1.63461,1.68269,1.73077,1.77885,1.82692,1.875,1.92308,1.97115,2.01923,2.06731,2.11539,2.16346,2.21154,2.25961,2.30769,2.35577,2.40385,2.45192,2.5,2.59494,2.69737,2.80822,2.92857,3.0597,3.20313,3.36066,3.53448,3.72727,3.94231,4.24173,4.56391,4.91054,5.28351,5.68481,6.11658,6.58115,7.08101,7.61883,8.1975,10.764,14.1349,18.5689,24.3818,32.0143,12.7186,13.6846,14.724,
15.8423,17.0456,18.3402,19.7332,21.232,22.8446,24.5797,26.4466,28.4553,30.6166,32.942,35.444],[0.0576922,0.0576922,0.0576922,0.0576922,0.0576923,0.0576923,0.0576923,0.0576922,0.0576922,0.0576922,0.0865385,0.115385,0.144231,0.173077,0.201923,0.230769,0.259615,0.288462,0.317308,0.346154,0.375,0.403846,0.432692,0.461538,0.490385,0.519231,0.548077,0.576923,0.605769,0.634615,0.663462,0.692308,0.721154,0.75,0.778846,0.807692,0.836538,0.865385,0.894231,0.923077,0.951923,0.980769,1.00961,1.03846,1.06731,
1.09615,1.125,1.15385,1.18269,1.21154,1.24039,1.26923,1.29808,1.32692,1.35577,1.38461,1.41346,1.44231,1.47115,1.5,1.55696,1.61842,1.68493,1.75714,1.83582,1.92188,2.01639,2.12069,2.23636,2.36539,2.54504,2.73834,2.94633,3.17011,3.41089,3.66995,3.94869,4.2486,4.5713,4.9185,6.4584,8.48096,11.1413,14.6291,19.2086,7.63117,8.21077,8.8344,9.5054,10.2274,11.0041,11.8399,12.7392,13.7068,14.7478,15.868,17.0732,18.3699,19.7652,21.2664],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,
0.530769,0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,7.43077,7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,
27.1062,29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,195.651],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,
7.43077,7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,27.1062,29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,
195.651],[0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.398077,0.530769,0.663461,0.796154,0.928846,1.06154,1.19423,1.32692,1.45962,1.59231,1.725,1.85769,1.99038,2.12308,2.25577,2.38846,2.52115,2.65385,2.78654,2.91923,3.05192,3.18462,3.31731,3.45,3.58269,3.71538,3.84808,3.98077,4.11346,4.24615,4.37885,4.51154,4.64423,4.77692,4.90962,5.04231,5.175,5.30769,5.44038,5.57308,5.70577,5.83846,5.97115,6.10385,6.23654,6.36923,6.50192,6.63461,6.76731,6.9,7.16202,
7.44474,7.75069,8.08286,8.44478,8.84063,9.27541,9.75517,10.2873,10.8808,11.7072,12.5964,13.5531,14.5825,15.6901,16.8818,18.164,19.5436,21.028,22.6251,29.7087,39.0124,51.2501,67.2938,88.3594,35.1034,37.7696,40.6382,43.7248,47.0458,50.6191,54.4637,58.6004,63.0512,67.8401,72.9927,78.5367,84.5018,90.9199,97.8255],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,
2.88594,3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,7.5756,7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,
55.2404,59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,2.88594,3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,
7.5756,7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,55.2404,59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.461538,
0.615385,0.769231,0.923077,1.07692,1.23077,1.38461,1.53846,1.69231,1.84615,2,2.15385,2.30769,2.46154,2.61539,2.76923,2.92308,3.07692,3.23077,3.38461,3.53846,3.69231,3.84615,4,4.15385,4.30769,4.46154,4.61539,4.76923,4.92308,5.07692,5.23077,5.38461,5.53846,5.69231,5.84615,6,6.15385,6.30769,6.46154,6.61539,6.76923,6.92308,7.07692,7.23077,7.38461,7.53846,7.69231,7.84615,8,8.3038,8.63158,8.9863,9.37143,9.79105,10.25,10.7541,11.3103,11.9273,12.6154,13.5736,14.6045,15.7137,16.9072,18.1914,19.5731,21.0597,
22.6592,24.3803,26.232,34.4448,45.2318,59.4204,78.0218,102.446,40.6996,43.7908,47.1168,50.6954,54.5459,58.6888,63.1463,67.9425,73.1029,78.6552,84.6292,91.057,97.973,105.414,113.421],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,
8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,
0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,
22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,
6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,
184.475,198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.459472,0.612629,0.765786,0.918944,1.0721,1.22526,1.37842,1.53157,1.68473,1.83789,1.99104,
2.1442,2.29736,2.45052,2.60367,2.75683,2.90999,3.06315,3.2163,3.36946,3.52262,3.67577,3.82893,3.98209,4.13525,4.2884,4.44156,4.59472,4.74788,4.90103,5.05419,5.20735,5.3605,5.51366,5.66682,5.81998,5.97313,6.12629,6.27945,6.43261,6.58576,6.73892,6.89208,7.04523,7.19839,7.35155,7.50471,7.65786,7.81102,7.96418,8.26661,8.59293,8.94606,9.32947,9.7472,10.2041,10.7059,11.2597,11.8739,12.5589,13.5128,14.5391,15.6434,16.8315,18.1099,19.4854,20.9654,22.5578,24.2711,26.1145,32.5965,40.6875,50.7868,63.3928,79.1278,
45.582,49.044,52.7691,56.777,61.0893,65.7292,70.7215,76.093,81.8724,88.0909,94.7816,101.98,109.726,118.06,127.027],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,
2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,
58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,
8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,
1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,
32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.135279,0.180372,0.225465,0.270557,0.315649,0.360742,0.405835,0.450928,0.496021,0.541114,0.586207,0.6313,0.676393,0.721486,0.766579,
0.811672,0.856764,0.901856,0.946949,0.992042,1.03714,1.08223,1.12732,1.17241,1.21751,1.2626,1.30769,1.35279,1.39788,1.44297,1.48806,1.53316,1.57825,1.62334,1.66844,1.71353,1.75862,1.80371,1.84881,1.8939,1.93899,1.98409,2.02918,2.07427,2.11936,2.16446,2.20955,2.25464,2.29974,2.34483,2.43387,2.52995,2.63392,2.7468,2.86979,3.00431,3.15206,3.3151,3.49593,3.69761,3.97846,4.28063,4.60575,4.95557,5.33196,5.73693,6.17267,6.6415,7.14594,7.68869,10.0959,13.2576,17.4163,22.8685,30.0272,11.9292,12.8352,13.8101,
14.859,15.9876,17.2019,18.5084,19.9142,21.4267,23.0541,24.8051,26.6891,28.7162,30.8973,33.244],[0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.270872,0.361163,0.451454,0.541745,0.632036,0.722326,0.812617,0.902908,0.993199,1.08349,1.17378,1.26407,1.35436,1.44465,1.53494,1.62523,1.71553,1.80582,1.89611,1.9864,2.07669,2.16698,2.25727,2.34756,2.43785,2.52814,2.61843,2.70872,2.79902,2.88931,2.9796,3.06989,3.16018,3.25047,3.34076,3.43105,3.52134,3.61163,3.70192,
3.79221,3.8825,3.9728,4.06309,4.15338,4.24367,4.33396,4.42425,4.51454,4.60483,4.69512,4.87342,5.06579,5.27397,5.5,5.74627,6.01563,6.31147,6.63793,7,7.40385,7.96619,8.57124,9.22224,9.9227,10.6763,11.4872,12.3597,13.2985,14.3085,15.3953,20.2153,26.5461,34.8732,45.7902,60.1244,23.8862,25.7004,27.6524,29.7527,32.0124,34.4439,37.06,39.8748,42.9034,46.162,49.6681,53.4405,57.4994,61.8666,66.5656],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,
1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,
42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],Ta=[0.020979,0.020515,0.020079,0.019516,0.018997,0.018646,0.018314,0.017997,0.017584,0.017197,0.016551,0.015729,0.015229,
0.01458,0.014008,0.01365,0.013175,0.012832,0.012475,0.012073,0.01184,0.011494,0.011292,0.01099,0.010761,0.010546,0.010321,0.010151,0.009949,0.00974,0.009597,0.009425,0.009278,0.009123,0.008974,0.008847,0.008698,0.008581,0.008457,0.008338,0.008235,0.008113,0.008018,0.007906,0.007798,0.007713,0.007612,0.007524,0.00743,0.00734,0.007268,0.007184,0.007116,0.007029,0.006945,0.006884,0.006805,0.006747,0.006667,0.0066,0.006421,0.006314,0.006175,0.006072,0.005981,0.005885,0.005791,0.005732,0.005668,0.005596,
0.005316,0.005049,0.004796,0.004555,0.004327,0.00411,0.003903,0.003708,0.003522,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345],C={"1":[6,8,4,5,8,8,9,3,2,1,1,1,21,31,51,77,27,42,68,102,22,34,55,83,24,37,60,89,19,29,47,70,15,24,38,57,17,26,43,64,12,18,30,45,14],"2":[6,9,4,6,9,9,9,3,3,2,1,1,22,34,56,84,30,46,75,112,24,37,61,91,26,40,66,98,21,32,52,77,17,26,42,
63,19,29,47,70,13,20,33,49,15],"3":[7,9,4,6,9,10,12,4,3,2,1,1,24,37,61,91,32,50,81,122,26,41,66,99,28,44,71,107,22,34,56,84,18,28,46,69,20,31,51,76,14,22,35,53,16],"4":[7,10,5,6,10,11,12,4,3,2,1,1,26,40,65,98,35,54,87,131,28,44,71,106,31,47,76,115,24,37,60,90,20,30,49,74,22,34,54,82,15,24,38,57,18],"5":[8,10,5,7,10,12,15,5,4,3,2,2,28,43,70,105,38,57,94,141,31,46,76,115,33,50,82,123,26,39,65,97,21,32,53,79,24,36,59,88,17,25,41,62,19],"6":[8,11,5,7,11,12,15,5,4,3,2,2,30,46,75,113,40,61,100,150,33,50,
81,122,35,53,88,131,28,42,69,103,23,34,56,84,25,38,63,94,18,27,44,66,20],"7":[9,11,6,7,11,13,18,6,4,3,2,3,32,49,80,120,43,65,106,160,35,53,86,130,38,57,93,140,30,45,73,110,24,37,60,90,27,41,66,100,19,28,46,70,22],"8":[9,12,6,8,12,14,21,7,5,4,2,3,34,52,85,127,45,69,113,169,37,56,92,137,39,60,99,148,31,47,78,116,25,39,64,95,28,43,71,106,20,30,49,74,23],"9":[10,13,6,8,13,15,21,7,5,4,2,3,36,55,89,134,48,73,119,179,39,59,97,145,42,64,104,157,33,50,82,123,27,41,67,101,30,46,74,112,21,32,52,78,24],"10":[10,
13,7,9,13,16,24,8,6,4,2,3,38,58,94,141,50,77,125,188,41,63,102,153,44,67,109,165,34,53,86,129,28,43,70,106,31,48,78,118,22,34,55,82,25],"11":[11,14,7,9,14,16,24,8,6,5,3,4,40,61,99,149,53,81,132,198,43,66,107,161,46,71,116,173,36,56,91,136,30,46,74,111,33,51,83,124,23,35,58,87,27],"12":[11,15,7,10,15,17,27,9,7,5,3,4,42,64,104,156,56,85,138,208,46,69,112,169,49,74,121,182,39,58,95,143,32,48,78,117,35,53,86,130,25,37,60,91,28],"13":[12,16,8,10,16,18,27,9,7,5,3,4,44,67,108,163,58,89,145,217,47,72,118,
176,51,78,127,190,40,61,100,149,33,50,82,122,36,56,91,136,25,39,63,95,29],"14":[12,16,8,11,16,19,30,10,8,6,3,4,45,69,113,170,61,93,151,227,50,76,123,184,53,81,132,199,42,64,104,156,34,52,85,128,38,58,94,142,27,41,66,99,31],"15":[13,17,9,11,17,20,33,11,8,6,3,5,47,72,118,177,63,96,157,236,51,78,128,192,55,84,137,207,43,66,108,162,35,54,88,133,39,60,98,148,28,42,69,103,32],"16":[14,18,9,12,18,21,33,11,8,6,4,5,49,75,123,184,66,100,164,246,54,81,133,200,58,88,144,215,45,69,113,169,37,56,92,138,41,63,103,
154,29,44,72,108,33],"17":[14,19,9,12,19,22,36,12,9,7,4,5,51,78,128,192,68,104,170,255,55,85,138,207,60,91,149,223,47,72,117,175,38,59,96,143,43,65,106,159,30,46,74,112,34],"18":[15,19,10,13,19,23,36,12,9,7,4,5,53,81,132,199,71,108,176,265,58,88,143,215,62,95,154,232,49,74,121,182,40,61,99,149,44,68,110,166,31,47,77,116,36],"19":[15,20,10,13,20,24,39,13,10,7,4,6,55,84,137,206,73,112,183,275,59,91,149,223,64,98,160,241,50,77,126,189,41,63,103,155,46,70,114,172,32,49,80,120,37],"20":[16,21,10,14,21,
25,42,14,10,8,4,6,57,87,142,213,76,116,189,284,62,94,154,231,67,102,165,249,52,80,130,195,43,65,106,160,48,73,118,178,33,51,83,124,38],"21":[16,21,11,14,21,26,42,14,11,8,5,6,59,90,147,220,79,120,195,294,64,98,158,239,69,105,171,257,54,83,134,202,44,68,110,165,49,75,122,184,35,53,85,129,40],"22":[17,22,11,14,22,27,45,15,11,8,5,6,61,93,151,227,81,124,202,303,66,101,164,246,71,109,177,265,56,85,139,208,46,70,114,170,51,78,126,189,35,54,88,133,41],"23":[17,23,11,15,23,28,45,15,12,9,5,7,63,96,156,235,
84,128,208,313,68,104,169,254,74,112,182,274,58,88,143,215,47,72,117,176,53,80,130,196,37,56,91,137,42],"24":[18,23,12,15,23,29,48,16,12,9,5,7,65,99,161,242,86,132,215,322,70,107,175,262,75,116,188,282,59,91,148,221,48,74,121,181,54,83,134,201,38,58,94,141,43],"25":[19,24,12,16,24,30,51,17,12,9,5,7,67,102,166,249,89,136,221,332,72,111,180,270,78,119,193,291,61,94,152,228,50,77,124,187,56,85,138,208,39,60,97,145,45],"26":[19,25,13,17,25,30,51,17,13,10,5,7,68,105,170,256,91,139,227,342,74,113,184,278,
80,122,199,299,63,96,156,235,51,78,128,192,57,87,142,214,40,61,99,150,46],"27":[20,26,13,17,26,31,54,18,13,10,6,8,70,108,175,263,94,143,234,351,76,116,190,285,82,125,205,307,65,98,161,241,53,80,132,197,59,89,146,219,41,63,102,154,47],"28":[21,27,14,18,27,32,54,18,14,10,6,8,72,110,180,270,96,147,240,361,78,119,195,293,84,129,210,316,66,101,165,248,54,83,135,203,60,92,150,226,42,64,105,158,48],"29":[22,29,14,19,29,32,57,19,14,11,6,8,74,113,185,278,99,151,246,370,80,123,200,301,87,132,215,324,68,104,
169,254,56,85,138,208,62,94,154,231,43,66,108,162,50],"30":[23,30,15,20,30,33,60,20,15,11,6,8,76,116,190,285,102,155,253,380,83,126,206,309,89,136,221,333,70,107,174,261,57,87,142,214,64,97,158,238,45,68,111,166,51],"31":[24,31,16,20,31,34,60,20,15,11,6,9,78,119,194,292,104,159,259,389,85,129,210,316,91,139,227,340,72,109,178,267,59,89,146,219,65,99,162,243,46,70,113,170,52],"32":[25,32,16,21,32,34,63,21,16,12,7,9,80,122,199,299,107,163,265,399,87,132,215,324,94,143,232,349,74,112,182,274,60,92,149,
224,67,102,166,249,47,71,116,175,54],"33":[25,33,17,22,33,35,63,21,16,12,7,9,82,125,204,306,109,167,272,408,89,136,221,332,95,146,238,357,75,115,187,281,61,94,153,230,68,104,170,255,48,73,119,179,55],"34":[26,34,17,23,34,36,66,22,16,12,7,9,84,128,209,314,112,171,278,418,91,139,226,340,98,150,243,366,77,118,191,287,63,96,156,235,70,107,174,261,49,75,122,183,56],"35":[27,35,18,23,35,37,69,23,17,13,7,10,86,131,213,321,114,175,285,428,93,142,232,348,100,153,249,375,78,120,196,294,64,98,160,241,71,109,
178,268,50,77,125,187,57],"36":[28,36,18,24,36,38,69,23,17,13,7,10,88,134,218,328,117,178,291,437,95,145,236,355,102,156,255,382,80,122,200,300,66,100,164,246,73,111,182,273,51,78,127,191,59],"37":[28,37,19,24,37,39,72,24,18,13,8,10,90,137,223,335,119,182,297,447,97,148,241,363,104,159,260,391,82,125,204,307,67,102,167,251,74,114,186,279,52,80,130,196,60],"38":[29,38,19,25,38,40,72,24,18,14,8,10,92,140,228,342,122,186,304,456,99,151,247,371,107,163,266,399,84,128,209,314,69,105,171,257,76,116,190,
285,53,81,133,200,61],"39":[29,38,19,25,38,41,75,25,19,14,8,11,93,143,233,349,125,190,310,466,102,154,252,379,109,166,271,408,86,131,213,320,70,107,174,262,78,119,194,291,55,83,136,204,63],"40":[30,39,20,26,39,42,78,26,19,14,8,11,95,146,237,357,127,194,316,475,103,158,257,386,111,170,277,416,87,133,217,327,71,109,178,267,79,121,198,297,56,85,138,208,64],"41":[31,40,20,26,40,43,78,26,20,15,8,11,97,149,242,364,130,198,323,485,106,161,262,394,114,173,283,424,89,136,222,333,73,111,182,273,81,124,202,
303,57,87,141,212,65],"42":[31,41,21,27,41,44,81,27,20,15,8,11,99,151,247,371,132,202,329,495,107,164,267,402,116,177,288,433,91,139,226,340,74,114,185,278,83,126,206,309,58,88,144,217,66],"43":[32,41,21,27,41,45,81,27,20,15,9,12,101,154,252,378,135,206,336,504,110,167,273,410,118,180,294,441,93,142,231,347,76,116,189,284,84,129,210,315,59,90,147,221,68],"44":[32,42,21,28,42,47,84,28,21,16,9,12,103,157,256,385,137,210,342,514,111,171,278,418,120,184,299,450,94,144,235,353,77,118,192,289,86,131,214,
321,60,92,150,225,69],"45":[33,43,22,29,43,48,84,28,21,16,9,12,105,160,261,392,140,214,348,523,114,174,283,425,123,187,305,458,96,147,239,360,79,120,196,294,88,134,218,327,61,94,152,229,70],"46":[34,44,22,29,44,50,87,29,22,16,9,12,107,163,266,400,142,218,355,533,115,177,288,433,124,191,311,466,98,150,244,366,80,123,200,300,89,136,222,333,62,95,155,233,71],"47":[34,45,23,30,45,51,90,30,22,17,9,13,109,166,271,407,145,221,361,542,118,180,293,440,127,193,316,474,100,152,248,373,82,124,203,305,91,138,
226,339,63,97,158,237,73],"48":[35,45,23,30,45,52,90,30,23,17,10,13,111,169,276,414,148,225,367,552,120,183,298,449,130,197,321,483,102,155,252,380,83,127,206,311,93,141,229,345,65,98,161,242,74],"49":[35,46,23,31,46,53,93,31,23,17,10,13,113,172,280,421,150,229,374,561,122,186,304,456,131,200,327,491,103,157,257,386,84,129,210,316,94,143,234,351,66,100,164,245,75],"50":[36,47,24,31,47,54,93,31,24,18,10,13,115,175,285,428,153,233,380,571,124,189,309,464,134,204,333,500,105,160,261,393,86,131,214,321,
96,146,238,357,67,102,166,250,77],"51":[37,48,24,32,48,54,96,32,24,18,10,14,116,178,290,435,155,237,386,581,126,193,314,472,136,207,338,508,107,163,265,399,87,133,217,327,97,148,241,363,68,104,169,254,78],"52":[37,49,25,32,49,55,99,33,24,18,10,14,118,181,295,443,158,241,393,590,128,196,319,479,138,211,344,516,109,166,270,406,89,136,221,332,99,151,246,369,69,105,172,258,79],"53":[38,49,25,33,49,57,99,33,25,19,11,14,120,183,297,445,160,243,396,593,130,197,322,482,140,213,347,519,110,167,272,408,90,
137,223,334,100,152,248,371,70,106,173,259,80],"54":[38,50,25,33,50,58,102,34,25,19,11,14,122,184,299,447,162,246,398,596,132,200,323,484,142,215,348,522,111,169,274,410,91,138,224,335,101,154,249,373,71,108,174,261,81],"55":[39,51,26,34,51,59,102,34,26,19,11,15,123,186,301,450,165,248,401,600,134,202,326,488,144,217,351,525,113,171,276,413,93,140,226,338,103,155,251,375,72,109,175,263,83],"56":[40,52,26,34,52,61,105,35,26,20,11,15,125,188,303,452,167,251,404,603,136,204,328,490,146,220,354,528,115,
173,278,415,94,141,227,339,104,157,253,377,73,110,177,264,84],"57":[40,53,27,35,53,62,108,36,27,20,11,15,127,190,305,455,169,253,407,606,137,206,331,492,148,221,356,530,116,174,280,417,95,142,229,341,106,158,254,379,74,111,178,265,85],"58":[50,65,33,43,65,85,139,46,34,25,14,19,157,223,342,497,210,297,456,663,171,241,371,539,184,260,399,580,144,204,314,456,118,167,257,373,131,186,285,414,92,130,200,290,105],"59":[51,67,34,44,67,88,142,47,36,27,15,20,163,229,349,505,217,305,465,674,176,248,378,548,
190,267,407,590,149,210,320,463,122,172,262,379,136,191,291,421,95,133,203,295,109],"60":[53,68,35,45,68,91,148,49,37,28,16,21,171,240,365,513,228,320,487,684,185,260,396,556,200,280,426,599,157,220,335,470,128,180,274,385,143,200,304,428,100,140,213,299,114],"61":[54,70,36,47,70,94,154,51,39,29,16,22,181,254,386,533,242,338,515,711,197,275,418,578,212,296,451,622,166,232,354,489,136,190,290,400,151,211,322,444,106,148,225,311,121],"62":[55,72,36,48,72,97,160,53,40,30,17,22,192,269,409,578,255,358,
545,771,207,291,443,626,223,313,477,675,175,246,375,530,143,201,307,434,159,224,341,482,112,157,238,337,128],"63":[56,73,37,49,73,100,163,54,41,31,17,23,203,284,433,623,270,379,577,831,219,308,469,675,236,332,505,727,186,261,397,571,152,213,325,467,169,237,361,519,118,166,252,364,135],"64":[58,75,38,50,75,104,166,55,42,31,18,24,214,301,458,668,286,401,611,890,232,326,496,723,250,351,535,779,197,276,420,612,161,226,344,501,179,251,382,556,125,175,267,389,143],"65":[60,78,40,52,78,109,172,57,43,32,
18,24,227,318,485,713,302,424,647,950,245,345,526,772,264,371,566,831,208,292,445,653,170,239,364,534,189,265,404,594,132,186,283,416,151],"66":[62,81,41,54,81,113,175,58,44,33,18,25,240,337,514,757,320,449,685,1010,260,365,557,821,280,393,599,884,220,309,471,694,180,253,385,568,200,281,428,631,140,196,300,442,160],"67":[65,84,43,56,84,117,178,59,45,34,19,25,254,356,544,802,338,475,725,1070,275,386,589,869,296,416,634,936,232,327,498,736,190,267,408,602,211,297,453,669,148,208,317,468,169],"68":[91,
119,61,79,119,168,253,84,62,47,26,36,361,498,749,1091,482,664,998,1454,392,540,811,1181,422,581,873,1272,331,457,686,1E3,271,374,561,818,301,415,624,909,211,291,437,636,241],"69":[93,121,62,81,121,172,262,87,64,48,27,37,375,518,779,1144,500,691,1039,1526,406,561,844,1240,438,605,909,1335,344,475,714,1049,281,389,584,858,313,432,649,954,219,302,455,668,250],"70":[95,124,63,82,124,175,271,90,67,50,28,39,389,539,811,1198,519,718,1082,1597,422,583,879,1298,454,628,947,1397,357,494,744,1098,292,404,609,
898,324,449,676,998,227,314,473,699,260],"71":[97,127,65,84,127,179,280,93,69,52,29,40,404,560,845,1252,539,746,1126,1669,438,606,915,1356,472,653,985,1460,371,513,774,1147,303,420,633,939,337,466,704,1043,236,326,493,730,270],"72":[99,129,66,86,129,183,292,97,72,54,30,42,419,582,879,1306,559,776,1172,1741,454,631,952,1415,489,679,1026,1523,384,534,806,1197,314,437,659,979,349,485,733,1088,245,340,513,762,280],"73":[102,132,68,88,132,187,304,101,75,56,32,43,435,605,915,1359,580,806,1220,1813,471,
655,991,1473,508,705,1068,1586,399,554,839,1246,326,453,686,1020,363,504,763,1133,254,353,534,793,290],"74":[104,135,69,90,135,191,313,104,78,58,33,45,451,628,952,1414,601,838,1269,1885,488,681,1031,1532,526,733,1110,1649,413,576,872,1296,338,471,714,1060,376,524,793,1178,263,367,555,825,301],"75":[106,138,71,92,138,196,325,108,81,60,34,46,468,653,990,1468,624,870,1320,1957,507,707,1073,1590,546,761,1155,1712,429,598,908,1345,351,489,743,1101,390,544,825,1223,273,381,578,856,312],"76":[109,141,72,
94,141,200,340,113,84,63,35,48,485,678,1030,1522,647,904,1373,2029,526,735,1116,1649,566,791,1201,1775,445,622,944,1395,364,509,772,1141,404,565,858,1268,283,396,601,888,324],"77":[111,145,74,96,145,205,352,117,87,65,37,50,503,704,1071,1576,670,939,1429,2102,544,763,1161,1708,586,822,1250,1839,461,646,982,1445,377,528,804,1182,419,587,893,1314,293,411,625,920,335],"78":[114,148,76,99,148,210,364,121,90,68,38,52,521,731,1114,1631,695,975,1486,2174,565,792,1207,1766,608,853,1300,1902,478,670,1022,1495,
391,548,836,1223,434,609,929,1359,304,427,650,951,348],"79":[117,152,78,101,152,215,380,126,94,71,40,54,534,751,1146,1660,713,1001,1528,2213,579,813,1242,1798,624,876,1337,1936,490,688,1051,1521,401,563,860,1245,446,626,955,1383,312,438,669,968,357],"80":[120,156,80,104,156,220,395,131,97,73,41,56,546,762,1156,1668,729,1016,1541,2224,592,826,1252,1807,638,889,1348,1946,501,699,1059,1529,410,572,867,1251,456,635,963,1390,319,445,674,973,365],"81":[225,293,150,195,293,414,928,308,229,172,97,132,813,
1017,1390,1875,1084,1356,1854,2500,881,1102,1506,2031,949,1187,1622,2188,745,932,1275,1719,610,763,1043,1406,678,848,1159,1563,474,593,811,1094,542],"82":[262,353,175,235,353,498,1108,368,273,205,116,158,829,1062,1485,2034,1105,1416,1981,2713,898,1151,1610,2204,967,1239,1733,2374,760,974,1362,1865,622,797,1114,1526,691,885,1238,1696,483,620,867,1187,553],"83":[309,417,206,278,417,590,1310,435,323,242,137,186,844,1104,1577,2189,1125,1472,2102,2919,914,1196,1708,2372,984,1288,1839,2554,773,1012,1445,
2007,633,828,1182,1642,703,920,1314,1824,492,644,920,1277,563],"84":[336,454,224,302,454,641,1425,473,351,263,149,203,852,1126,1624,2271,1136,1501,2166,3028,923,1220,1760,2460,994,1313,1895,2650,781,1032,1489,2082,639,844,1218,1703,710,938,1354,1893,497,657,948,1325,568],"85":[362,489,241,326,489,691,1533,509,378,284,160,218,858,1145,1668,2346,1145,1527,2224,3128,930,1241,1807,2542,1002,1336,1946,2737,787,1050,1529,2151,644,859,1251,1760,716,954,1390,1955,501,668,973,1369,573]},ta=[23.3107,24.1651,
24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,237.558,246.991,256.628,266.467,276.51,286.755,297.203,307.853,318.707,329.763,341.022,352.484,364.149,376.016,388.086,400.36,412.835,425.514,478.257,491.95,512.169,532.943,554.279,576.187,598.672,621.743,
645.407,669.673,694.546,720.036,746.15,772.895,800.278,828.309,856.993,886.339,916.355,947.048,978.425,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,34.6214,35.4356,35.5984,35.8589,36.038,36.2139,36.3562,36.4902,37.8794,38.6922,39.413,40.0417,40.5784,42.3805,44.1849,45.9759,47.738,49.4556,51.1132,52.6953,54.4846,56.2322,57.9299,59.5701,61.1453,62.6485,64.0733,65.4135,66.6632,67.8171,
70.2758,72.7271,75.1662,77.5882,79.9881,82.3611,84.7021,87.0064,89.2691,91.4851,94.5168,97.5646,100.626,103.699,106.78,109.868,112.959,116.052,119.144,122.232,125.314,128.387,131.45,134.499,137.532,140.547,143.541,293.024,327.008,332.962,354.075,375.985,398.707,422.256,446.646,471.89,498.002,524.997,552.889,581.691,611.418,642.083,673.701,706.285,739.849,774.407,809.974,846.562,884.185,922.858,943.72,964.814,986.142,1007.7,1029.49,1051.52,1073.77,1096.26,1118.98,1141.93,1165.11,1188.51,1212.15,1236.02,
1260.12,1284.45,1309,1333.79,1358.8,1384.04,5.2216,5.7727,6.27696,6.74717,7.1928,7.72152,8.5082,9.33304,10.196,11.0972,12.0365,13.0139,14.0295,15.5282,17.1514,18.9051,20.7947,22.826,25.0047,27.3363,29.7556,32.3265,35.0535,37.9411,40.9935,44.215,47.6099,51.1823,54.9364,58.8762,63.0058,67.3291,71.8499,76.5723,81.4999,86.6366,91.9859,97.5516,103.337,109.346,116.451,123.889,131.668,139.798,148.289,157.15,166.392,176.025,186.057,196.501,207.366,218.662,230.4,242.591,255.245,268.373,281.986,296.095,338.963,
355.055,376.742,399.409,423.086,447.802,473.588,500.474,528.491,557.67,588.043,619.643,652.502,686.653,722.129,758.966,797.196,836.855,877.979,920.602,964.762,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,37.2971,38.6641,39.5754,40.1829,40.588,41.398,43.4485,45.4989,47.5494,49.5998,51.6503,53.7007,55.7512,59.5064,63.4644,67.6252,71.9888,76.5552,81.3244,86.2964,90.3279,94.4277,98.5882,
102.802,107.061,111.358,115.686,120.036,124.402,128.775,133.148,137.513,141.863,146.19,150.486,154.745,158.957,163.117,167.215,171.245,182.128,193.477,205.302,217.615,230.425,243.742,257.576,271.937,286.836,302.283,318.287,334.86,352.01,369.749,388.086,407.032,426.597,446.79,510.141,532.946,552.215,571.938,592.122,612.77,633.888,655.481,677.554,700.112,723.161,746.704,770.748,795.297,820.357,845.932,872.028,898.65,925.802,953.49,981.719,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,
1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,22.555,22.8271,22.8815,22.9686,23.0284,23.0872,23.1348,23.1796,23.5733,23.9155,24.209,24.4536,24.6495,25.7049,26.7761,27.8523,28.923,29.9776,31.0057,31.9966,33.6486,35.3325,37.0434,38.7764,40.5265,42.2887,44.0578,45.8288,47.5965,49.3556,52.144,55.0287,58.0102,61.0891,64.2659,67.5409,70.9147,74.3878,77.9607,81.6337,84.8264,88.0704,91.3642,94.7066,98.0965,101.533,105.013,108.538,112.105,115.713,119.361,
123.047,126.771,130.531,134.326,138.154,142.015,291.813,328.421,336.625,355.277,374.585,394.558,415.208,436.546,458.581,481.326,504.79,528.985,553.92,579.607,606.055,633.277,661.281,690.078,719.679,750.095,781.334,813.409,846.328,865.675,885.235,905.007,924.992,945.189,965.597,986.215,1007.04,1028.08,1049.33,1070.78,1092.45,1114.32,1136.39,1158.68,1181.16,1203.86,1226.75,1249.85,1273.16,23.3107,24.1651,24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,
39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,235.578,242.875,250.212,257.585,264.988,272.417,279.866,287.33,294.804,302.283,309.762,317.236,324.699,332.148,339.576,346.978,354.35,361.687,402.533,409.958,432.076,454.951,478.595,503.02,528.24,554.267,581.114,608.793,637.318,666.7,696.953,728.089,760.121,793.062,826.923,861.719,897.461,934.163,971.836,
1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,30.0793,30.7255,30.8547,31.0615,31.2037,31.3433,31.4562,31.5626,32.6485,33.3104,33.8949,34.4021,34.832,36.3846,37.9444,39.4977,41.0304,42.5288,43.9789,45.367,46.6013,47.7707,48.8674,49.8842,50.8144,51.6517,52.3907,53.0262,53.5537,53.9691,55.3766,56.7193,57.9908,59.1841,60.2929,61.3102,62.2297,63.0445,63.7481,64.3338,66.6823,69.059,71.4627,
73.892,76.3458,78.8229,81.3219,83.8416,86.3809,88.9384,91.5129,94.1033,96.7081,99.3263,101.957,104.598,107.248,219.815,246.45,251.971,274.168,297.331,321.476,346.622,372.788,399.993,428.254,457.591,488.021,519.562,552.234,586.053,621.039,657.21,694.583,733.177,773.01,814.099,856.463,900.12,920.54,941.187,962.061,983.161,1004.49,1026.04,1047.82,1069.82,1092.05,1114.5,1137.18,1160.08,1183.2,1206.55,1230.12,1253.91,1277.92,1302.15,1326.61,1351.28,31.0214,31.4306,31.5124,31.6433,31.7334,31.8217,31.8933,
31.9606,32.5713,33.0673,33.4947,33.8535,34.1437,35.6445,37.1693,38.7032,40.231,41.7376,43.208,44.6273,46.8581,49.1244,51.4189,53.7345,56.064,58.4003,60.7361,63.0644,65.378,67.6698,71.3599,75.1661,79.0884,83.1267,87.2807,91.5504,95.9356,100.436,105.052,109.783,113.1,116.4,119.677,122.928,126.146,129.329,132.47,135.565,138.61,141.599,144.529,147.394,150.189,152.911,155.554,158.114,160.585,325.929,362.339,366.621,384.399,402.743,421.66,441.159,461.248,481.937,503.232,525.144,547.679,570.847,594.656,
619.113,644.228,670.008,696.462,723.597,751.422,779.945,809.174,839.117,858.338,877.77,897.413,917.266,937.33,957.603,978.085,998.776,1019.67,1040.78,1062.09,1083.61,1105.33,1127.26,1149.39,1171.72,1194.26,1217,1239.94,1263.08,32.2214,32.7267,32.8278,32.9895,33.1006,33.2098,33.2981,33.3813,34.1745,34.7479,35.2466,35.6706,36.0198,37.5977,39.1938,40.7928,42.3796,43.939,45.4558,46.9148,48.8949,50.8768,52.8527,54.8151,56.7566,58.67,60.5484,62.3851,64.1734,65.907,68.9589,72.0684,75.233,78.4502,81.7176,
85.0327,88.393,91.7962,95.2397,98.7212,101.446,104.135,106.785,109.391,111.947,114.45,116.894,119.274,121.587,123.827,125.989,128.069,130.062,131.964,133.769,135.473,137.072,277.12,306.629,308.962,328.7,349.192,370.449,392.487,415.318,438.956,463.412,488.702,514.837,541.831,569.697,598.448,628.097,658.656,690.139,722.558,755.927,790.257,825.563,861.855,881.517,901.397,921.494,941.807,962.336,983.08,1004.04,1025.21,1046.6,1068.2,1090.02,1112.04,1134.28,1156.73,1179.39,1202.26,1225.35,1248.64,1272.13,
1295.84,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25.7771,26.4755,26.6152,26.8387,26.9923,27.1432,27.2653,27.3802,28.5971,29.2692,29.8687,30.3957,30.8502,32.1517,33.4634,34.773,36.0683,37.3369,38.5667,39.7455,41.294,42.8351,44.3625,45.8701,47.3519,48.8023,50.2157,51.5869,52.9107,54.1822,56.5272,58.9058,61.3156,63.7541,66.2189,68.7075,71.2174,
73.7463,76.2916,78.851,81.422,84.0022,86.5891,89.1804,91.7735,94.3661,96.9557,99.5399,102.116,104.683,107.236,109.775,112.296,114.797,117.276,119.73,122.157,249.109,277.898,282.633,303.65,325.525,348.274,371.914,396.46,421.927,448.333,475.691,504.019,533.332,563.645,594.974,627.334,660.742,695.212,730.76,767.402,805.152,844.027,884.04,904.113,924.408,944.926,965.665,986.626,1007.81,1029.21,1050.83,1072.68,1094.74,1117.02,1139.52,1162.24,1185.17,1208.33,1231.7,1255.28,1279.08,1303.1,1327.33,3,3,4,
4,5,5,6,7,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,18,19,20,20,21,21,22,23,23,24,24,25,26,26,27,27,28,28,29,30,30,31,31,32,33,33,34,34,35,36,36,37,37,54,55,56,57,59,60,61,63,68,70,89,93,96,100,104,107,112,116,120,125,305,338,375,407,443,1083,1200,1330,1446,1573,3847,4262,4722,5135,5584,13659,15134,16767,18234,19829],Ua=[["Consumable",["Consumable","Potion","Elixir","Flask","Scroll","Food & Drink","Item Enhancement","Bandage","Other"]],["Container",["Bag","Soul Bag","Herb Bag","Enchanting Bag",
"Engineering Bag","Gem Bag","Mining Bag","Leatherworking Bag","Inscription Bag","Tackle Box"]],["Weapon",["One-Handed Axes","Two-Handed Axes","Bows","Guns","One-Handed Maces","Two-Handed Maces","Polearms","One-Handed Swords","Two-Handed Swords","Obsolete","Staves","One-Handed Exotics","Two-Handed Exotics","Fist Weapons","Miscellaneous","Daggers","Thrown","Spears","Crossbows","Wands","Fishing Poles"]],["Gem",["Red","Blue","Yellow","Purple","Green","Orange","Meta","Simple","Prismatic","Hydraulic","Cogwheel"]],
["Armor",["Miscellaneous","Cloth","Leather","Mail","Plate","Bucklers","Shields","Librams","Idols","Totems","Sigils","Relic"]],["Reagent",["Reagent"]],["Projectile",["Wand(OBSOLETE)","Bolt(OBSOLETE)","Arrow","Bullet","Thrown(OBSOLETE)"]],["Trade Goods",["Trade Goods","Parts","Explosives","Devices","Jewelcrafting","Cloth","Leather","Metal & Stone","Meat","Herb","Elemental","Other","Enchanting","Materials","Item Enchantment","Weapon Enchantment - Obsolete"]],["Generic(OBSOLETE)",["Generic(OBSOLETE)"]],
["Recipe",["Book","Leatherworking","Tailoring","Engineering","Blacksmithing","Cooking","Alchemy","First Aid","Enchanting","Fishing","Jewelcrafting","Inscription"]],["Money",["Money(OBSOLETE)"]],["Quiver",["Quiver(OBSOLETE)","Quiver(OBSOLETE)","Quiver","Ammo Pouch"]],["Quest",["Quest"]],["Key",["Key","Lockpick"]],["Permanent(OBSOLETE)",["Permanent"]],["Miscellaneous",["Junk","Reagent","Pet","Holiday","Other","Mount"]],["Glyph",{"1":"Warrior","2":"Paladin","3":"Hunter","4":"Rogue","5":"Priest","6":"Death Knight",
"7":"Shaman","8":"Mage","9":"Warlock","11":"Druid"}]],Va={"164":[164,"Schmiedekunst","Eine hohe Schmiedefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schmiedepl\u00e4ne zu benutzen. Pl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schmiedepl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],"165":[165,"Lederverarbeitung","Eine hohe Lederverarbeitungsfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],"171":[171,"Alchemie","Eine hohe Alchemiefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Rezepte zu benutzen. Alchemierezepte k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Rezepte oder Ihr erhaltet sie als Questbelohnung.",[]],"182":[182,"Kr\u00e4uterkunde","Eine hohe Kr\u00e4uterkundefertigkeit erm\u00f6glicht es Euch, schwierigere Kr\u00e4uter zu ernten. Wenn Ihr ein bestimmtes Kraut nicht ernten k\u00f6nnt, steigert Eure Kr\u00e4uterkundefertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Kr\u00e4uter erntet.",
[[22119,[81708,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],i,0,0,[0,12E4,0],[[0,10,0,0,11,0,0,26,0,0,0,0,0,68781],[0,6,189,0,5,0,0,0,917504,0,0,0,0,87571],i],i,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 5 haste rating for $time(20). Can be used while stealthed or invisible.",
l,i,i,[0,32,16384,0,0,0,0,0,0,0],i,i,i,0],0,0,1,55428],[19355,[55428,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],i,0,0,[0,12E4,0],[[0,10,0,0,29,0,0,61,0,0,0,0,0,48361],[0,6,189,0,15,0,0,0,917504,0,0,0,0,87572],i],i,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 15 haste rating for $time(20). Can be used while stealthed or invisible.",
l,i,i,[0,32,16384,0,0,0,0,0,0,0],i,i,i,0],0,0,75,55480],[19356,[55480,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],i,0,0,[0,12E4,0],[[0,10,0,0,47,0,0,97,0,0,0,0,0,48439],[0,6,189,0,35,0,0,0,917504,0,0,0,0,87573],i],i,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 35 haste rating for $time(20). Can be used while stealthed or invisible.",
l,i,i,[0,32,16384,0,0,0,0,0,0,0],i,i,i,0],0,0,150,55500],[19357,[55500,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],i,0,0,[0,12E4,0],[[0,10,0,0,71,0,0,145,0,0,0,0,0,48442],[0,6,189,0,55,0,0,0,917504,0,0,0,0,87574],i],i,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 55 haste rating for $time(20). Can be used while stealthed or invisible.",
l,i,i,[0,32,16384,0,0,0,0,0,0,0],i,i,i,0],0,0,225,55501],[19358,[55501,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],i,0,0,[0,12E4,0],[[0,10,0,0,89,0,0,181,0,0,0,0,0,48443],[0,6,189,0,70,0,0,0,917504,0,0,0,0,87575],i],i,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 70 haste rating for $time(20). Can be used while stealthed or invisible.",
l,i,i,[0,32,16384,0,0,0,0,0,0,0],i,i,i,0],0,0,300,55502],[19359,[55502,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],i,0,0,[0,12E4,0],[[0,10,0,0,119,0,0,241,0,0,0,0,0,48444],[0,6,189,0,120,0,0,0,917504,0,0,0,0,87576],i],i,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 120 haste rating for $time(20). Can be used while stealthed or invisible.",
l,i,i,[0,32,16384,0,0,0,0,0,0,0],i,i,i,0],0,0,375,55503],[19360,[55503,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],i,0,0,[0,12E4,0],[[0,10,0,0,359,0,0,721,0,0,0,0,0,48445],[0,6,189,0,240,0,0,0,917504,0,0,0,0,87577],i],i,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 240 haste rating for $time(20). Can be used while stealthed or invisible.",
l,i,i,[0,32,16384,0,0,0,0,0,0,0],i,i,i,0],0,0,450,74497],[21619,[74497,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],i,0,0,[0,12E4,0],[[0,10,0,0,719,0,0,1441,0,0,0,0,0,74358],[0,6,189,0,480,0,0,0,917504,0,0,0,0,87594],i],i,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 480 haste rating for $time(20). Can be used while stealthed or invisible.",
l,i,i,[0,32,16384,0,0,0,0,0,0,0],i,i,i,0],0,0,525,0]]],"186":[186,"Bergbau","Eine hohe Bergbaufertigkeit erm\u00f6glicht es Euch, schwierigere Erzvorkommen abzubauen. Wenn Ihr ein bestimmtes Erzvorkommen nicht abbauen k\u00f6nnt, steigert Eure Bergbaufertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Erzvorkommen abbaut.",[[17987,[53120,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],
i,0,0,i,[[0,6,29,0,3,0,0,0,2,0,0,0,0,45755],i,i],i,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 3.",l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,75,53121],[17988,[53121,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],i,0,0,i,[[0,6,29,0,5,0,0,0,2,0,0,0,0,45756],i,i],i,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 5.",
l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,150,53122],[17989,[53122,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],i,0,0,i,[[0,6,29,0,7,0,0,0,2,0,0,0,0,45757],i,i],i,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 7.",l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,225,53123],[17990,[53123,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],i,0,0,i,[[0,6,29,0,10,0,0,0,2,0,0,0,0,45758],i,i],i,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 10.",l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,300,53124],[17991,[53124,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],i,0,0,i,[[0,6,29,0,30,0,0,0,2,0,0,0,0,45759],i,i],i,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 30.",
l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,375,53040],[17984,[53040,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],i,0,0,i,[[0,6,29,0,60,0,0,0,2,0,0,0,0,45636],i,i],i,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 60.",l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,450,74496],[21618,[74496,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],i,0,0,i,[[0,6,29,0,120,0,0,0,2,0,0,0,0,74357],i,i],i,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 120.",l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,525,0]]],"197":[197,"Schneiderei","Eine hohe Schneiderfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],"202":[202,"Ingenieurskunst","Eine hohe Ingenieursfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Baupl\u00e4ne zu benutzen. Baupl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Baupl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],"333":[333,"Verzauberkunst","Eine hohe Verzauberungsfertigkeit erm\u00f6glicht es Euch, m\u00e4chtigere Formeln zu benutzen. Verzauberungsformeln k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben und auch bei toten Gegnern und beim Questen finden.",
[]],"393":[393,"K\u00fcrschnerei","Eine hohe K\u00fcrschnerfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Monster zu h\u00e4uten. Sobald Euer Fertigkeitswert 100 \u00fcbersteigt, ist die maximale Stufe der Monster, die Ihr h\u00e4uten k\u00f6nnt, Euer Fertigkeitswert geteilt durch 5.",[[17993,[53125,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],i,0,0,i,[[0,6,189,
0,3,0,0,0,1792,0,0,0,0,45760],i,i],i,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 3.",l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,75,53662],[18277,[53662,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],i,0,0,i,[[0,6,189,0,6,0,0,0,1792,0,0,0,0,46349],i,i],i,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 6.",
l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,150,53663],[18278,[53663,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],i,0,0,i,[[0,6,189,0,9,0,0,0,1792,0,0,0,0,46350],i,i],i,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 9.",l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,225,53664],[18279,[53664,"Master of Anatomy",
"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],i,0,0,i,[[0,6,189,0,12,0,0,0,1792,0,0,0,0,46351],i,i],i,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 12.",l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,300,53665],[18280,[53665,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.",
"inv_misc_organ_01",0,[0,0,0,0],i,0,0,i,[[0,6,189,0,20,0,0,0,1792,0,0,0,0,46352],i,i],i,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 20.",l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,375,53666],[18281,[53666,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],i,0,0,i,[[0,6,189,0,40,0,0,0,1792,0,0,0,0,46353],i,
i],i,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 40.",l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,450,74495],[21617,[74495,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],i,0,0,i,[[0,6,189,0,80,0,0,0,1792,0,0,0,0,74356],i,i],i,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 80.",
l,i,i,[80,0,0,0,0,0,0,0,0,0],i,i,i,0],0,0,525,0]]],"755":[755,"Juwelenschleifen","Eine hohe Juwelenschleiferfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Vorlagen zu benutzen. Vorlagen bekommt Ihr bei allen Juwelierskunstlehrern, von toten Gegnern und als Questbelohnung.",[]],"773":[773,"Inschriftenkunde","Eine h\u00f6here Inschriftenfertigkeit erm\u00f6glicht es Euch, fortgeschrittenere Inschriften zu erlernen. Inschriften k\u00f6nnt Ihr bei den gelehrten Schreibern \u00fcberall in der Welt erwerben.",
[]]};var Wa=i;function D(a,b){if(!a){Xa("TextIO.sprintf: Called with empty or no String");return b.join(" ")}var c;for(c=0;c<b.length;c++){if(a.search(/\$/)==-1){for(Xa("TextIO.sprintf: Format parameter count did not match (Expected: "+b.length+", found: "+c+")");c<b.length;c++)a+=" "+b[c];break}a=a.replace(/\$/,b[c])}return a}
function E(a,b){if(!a){Xa("TextIO.sprintf: Called with empty or no String");return String(b)}if(a.search(/\$/)==-1&&b){Xa("TextIO.sprintf: Format parameter count did not match (Expected: 1, found: 0)");return a}return a.replace(/\$/,String(b))}function F(a){var b="?",c,d,g=0;for(c in a){if(g>0)b+="&";b+=c;d=a[c];if(d!=="")b+="="+encodeURIComponent(String(d));g++}return b}function Xa(a){Wa&&Wa.appendChild(document.createTextNode(a))}function Ya(a){Xa("Error code: "+a)}
function Za(a,b){if(!a)return[""];var c,d,g;for(g=a;d=a.match(/\$(\?.*)$/i);){a=a.replace(d[0],$a(d[1],b?b.ba:i));if(a==g)break;g=a}a=a.replace(/\$G(\w+):(\w+);/i,"$1 / $2");if(b){d=b.g;g=b.z;a=a.replace(/\$pl\b/gi,String(b.j));a=a.replace(/\$max\b/gi,"Math.max");a=a.replace(/\$hnd\b/gi,g.H(16)?g.H(16).Aa==17&&i==g.H(17)?"2":"1":"1");a=a.replace(/\$ap\b/gi,String(Math.floor(d.bb)));a=a.replace(/\$rap\b/gi,String(Math.floor(d.lc)));a=a.replace(/\$ar\b/gi,String(Math.floor(d.ya[0])));a=a.replace(/\$sp\b/gi,
String(Math.floor(d.n[0])));a=a.replace(/\$MWS\b/gi,ab(d.Hb,2));a=a.replace(/\$z\b/gi,"[Location]")}else{a=a.replace(/\$pl\b/gi,"[Player Level]");a=a.replace(/\$max\b/gi,"[Maximum]");a=a.replace(/\$hnd\b/gi,"[Hands]");a=a.replace(/\$ap\b/gi,"[AP]");a=a.replace(/\$rap\b/gi,"[rAP]");a=a.replace(/\$ar\b/gi,"[Armor]");a=a.replace(/\$sph\b/gi,"[SpDmg Holy]");a=a.replace(/\$spn\b/gi,"[SpDmg Nature]");a=a.replace(/\$spfr\b/gi,"[SpDmg Frost]");a=a.replace(/\$spfi\b/gi,"[SpDmg Fire]");a=a.replace(/\$sps\b/gi,
"[SpDmg Shadow]");a=a.replace(/\$spa\b/gi,"[SpDmg Arcane]");a=a.replace(/\$sp\b/gi,"[SpDmg]");a=a.replace(/\$MWS\b/gi,"[Wpn Speed]");a=a.replace(/\$mwb\b/g,"[Wpn minDmg]");a=a.replace(/\$MWB\b/g,"[Wpn maxDmg]");a=a.replace(/\$rwb\b/g,"[rWpn minDmg]");a=a.replace(/\$RWB\b/g,"[rWpn maxDmg]");a=a.replace(/\$mw\b/g,"[Wpn minDmg]");a=a.replace(/\$MW\b/g,"[Wpn maxDmg]");a=a.replace(/\$z/gi,"[Location]")}for(;c=a.match(/\$?\{([^{]*)\}(?:\.([\d]*))?/);)try{a=a.replace(c[0],function(){return Math.abs(G.floor(parseFloat(eval("("+
c[1]+")")),c[2]?parseInt(c[2],10):0))})}catch(h){a=a.replace(c[0],"<span class='yellow'>"+c[1]+"</span>")}return a.split("|")}function bb(a,b){var c="",d="";c="";var g,h=a.match(/^\?(!?)(a|s)(\d+)(.+)?$/i);if(!h)return["",a];g=cb(h[4],b);c=g[0];g=cb(g[1],b);d=g[0];if(h[1]=="!"){var j=c;c=d;d=j}c=b!=i&&b.kb(h[3])?c:d;return[c,g[1]]}function cb(a,b){var c=a.match(/^(?:(\[([^\]]*)\])|(\?))(.*)$/i);if(c[1])return[c[2],c[4]];return bb(a,b)}function $a(a,b){var c=bb(a,b);return c[0]+c[1]}
function db(a,b){if(a>0)return D(locale.ydRange2,[a,b]);return E(locale.ydRange,b)}function ab(a,b){var c="";for(a=Math.round(a*Math.pow(10,b));b>0;b--)if(a%10==0){c="0"+c;a/=10}else break;if(b==0)return Math.floor(a)+"."+c;return Math.floor(a)/Math.pow(10,b)+c}function H(a){var b;a=Math.round(a*100);b=a%10+"";a/=10;b=Math.floor(a%10)+b;return b=Math.floor(a/10)+"."+b}function eb(a){a=Math.round(a*10);return Math.floor(a/10)+"."+a%10}
function fb(a){a=Math.round(a*10)/10;return a%3600==0?a/3600+" "+locale.h:a%60==0?a/60+" "+locale.m:a+" "+locale.s};var K={};K.ek=function(a,b){var c=i,d="";if(a.status==200)if(a.getResponseHeader("error"))d=a.responseText;else try{c=eval("("+a.responseText+")")}catch(g){d=g.name+": "+g.message}else d=E(gb,a.status);w(b,[c,d])};K.uk=function(a,b,c){var d=i,g="";if(a.status==200)if(a.getResponseHeader("error"))g=a.responseText;else try{d=eval("("+a.responseText+")");c.Wg=hb(c)}catch(h){g=h.name+": "+h.message}else g=E(gb,a.status);w(b,[d,g])};
K.Qn=function(a,b,c,d){L("php/interface/profiles/get_armory_profile.php"+F({name:a,server:b,region:c}),new t(K.ek,K),[d])};K.xo=function(a,b,c,d){L("php/interface/profiles/set_profile.php"+F({id:0,name:a,password:MD5(b),serialized:JSON.stringify(hb(c))}),new t(K.uk,K),[d,c])};K.Jk=function(a,b,c){L("php/interface/profiles/set_profile.php"+F({id:a,session_id:g_settings.sessionId,serialized:JSON.stringify(hb(b))}),new t(K.uk,K),[c,b])};
K.Rn=function(a,b){L("php/interface/profiles/get_profile.php"+F({id:a}),new t(K.ek,K),[b])};K.Om=function(a,b){L("php/interface/profiles/delete_profile.php"+F({id:a}),b,[a])};var M={};M.Ao="DatabaseIO: Error - ";M.Pm=function(a,b,c){L("php/interface/get_character_class.php"+F({"class":a,lang:g_settings.language}),new t(M.Qm,M),[b,c])};M.Qm=function(a,b,c){var d=i;if(a.status==200)(d=parseInt(a.getResponseHeader("error"),10))?Ya(d):ib(b,new jb(eval("("+a.responseText+")")));c&&w(c,[d])};M.Rm=function(a,b,c){L("php/interface/get_character_race.php"+F({race:a,lang:g_settings.language}),new t(M.Sm,M),[b,c])};
M.Sm=function(a,b,c){var d=i;if(a.status==200)if(d=parseInt(a.getResponseHeader("error"),10))Ya(d);else{a=new kb(b,eval("("+a.responseText+")"));b.Ma=a;ib(b,i);b.B.uh.update()}c&&w(c,[d])};M.ao=function(a,b,c,d,g,h,j){L("php/interface/user/save_stat_weights.php"+F({name:b,description:c,chr_class_mask:h,"public":d?1:0,serialized:JSON.stringify(a),overwrite:g?1:0}),new t(M.bo,M),[j])};
M.bo=function(a,b){var c="",d=l;if(a.status==200){d=eval("("+a.responseText+")");c=d[0];d=d[1]}else c="Wrong HTTP Response code: "+a.status;b&&w(b,[c,d])};M.Wn=function(a,b,c){L("php/interface/user/remove_stat_weights.php"+F({name:b,user_id:a}),new t(M.Xn,M),[c])};M.Xn=function(a,b){var c="";c=a.status==200?eval("("+a.responseText+")"):"Wrong HTTP Response code: "+a.status;b&&w(b,[c])};function lb(a){if(a==1)return 64;else if(a==2)return 297;else if(a==4)return 308;else if(a==8)return 282;else if(a==32)return 1024;return 319}function mb(a,b){if(b>=75)return 6;if(a==165||a==182||a==186){if(b>=55)return 5;if(b>=40)return 4;if(b>=25)return 3;if(b>=10)return 2;return 1}if(b>=65)return 5;if(b>=50)return 4;if(b>=35)return 3;if(b>=20)return 2;if(b>=10)return 1;if(b>=5)return 0;return-1}function nb(a,b){var c=mb(a,b);if(c<0)return 0;return(c+1)*75};function P(a,b,c,d,g){function h(j){g?c.apply(d,g):c.apply(d,[j])}if(document.addEventListener)a.addEventListener(b,h,l);else document.attachEvent&&a.attachEvent("on"+b,h)};var G={};G.vo=function(a){if(a<0)a=~a+1;return a};G.Io=function(a){return(""+a).replace(/\\/ig,"\\\\").replace(/\'/ig,"\\'").replace(/"/ig,'"')};G.Ya=function(a){var b=document.createElement("div");b.style.clear="both";a.appendChild(b)};G.va=function(a){if(a)for(;a.firstChild;)a.removeChild(a.firstChild)};G.Po=function(a,b){var c;if(a){for(;a.firstChild;)a.removeChild(a.firstChild);for(c=0;c<b.length;c++)b[c]&&a.appendChild(b[c])}};G.Fo=function(a,b){var c;if(a)for(c=0;c<b.length;c++)b[c]&&a.appendChild(b[c])};
G.ha=function(a,b){if(a){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(b)}};G.Qo=function(a,b,c,d,g){c=G.floor(c,g);d=G.floor(d,g);if(c==d)G.va(a);else{G.ha(b,document.createTextNode("["+c+"]"));a.className=c>d?"compare_green":"compare_red"}G.ha(b,document.createTextNode(d))};G.floor=function(a,b){if(b)return Math.floor(Math.pow(10,b)*a)/Math.pow(10,b);return Math.floor(a)};G.ceil=function(a,b){if(b)return Math.ceil(Math.pow(10,b)*a)/Math.pow(10,b);return Math.ceil(a)};
G.f=function(a){return"<tr><td colspan='2'>"+a+"</td></tr>"};G.jb=function(a,b){return"<tr><td vAlign='bottom'>"+a+"</td><td vAlign='bottom' style='white-space:nowrap; padding-left:50px' align='right'>"+b+"</td></tr>"};G.Ho=function(a){document.body.appendChild(document.createTextNode(a));document.body.appendChild(document.createElement("br"))};var ob=[{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:-1},{x:0,y:1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:0}];
G.outline=function(a){for(var b=[],c=document.createElement("div"),d=0;d<9;d++){b[d]=document.createElement("div");b[d].innerHTML=a;b[d].style.position="absolute";b[d].style.textAlign="right";b[d].style.top=ob[d].y+"px";b[d].style.right=ob[d].x+"px";b[d].style.zIndex=d;c.appendChild(b[d]);switch(d){case 8:b[d].style.color="#FFFFFF";break;default:b[d].style.color="#000000"}}c.style.position="relative";return c};
G.sj=function(a,b){b["default"]||e("Default css class missing!");a.className=b["default"];a.Xh=l;if(b.focus){a.onfocus=function(){this.Xh=f;this.className=b["default"]+" "+b.focus};a.onblur=function(){this.Xh=l;this.className=b["default"]}}if(b.hover){a.onmouseover=b.focusHover?function(){this.className=this.Xh?b["default"]+" "+b.focusHover:b["default"]+" "+b.hover}:function(){this.className=b["default"]+" "+b.hover};a.onmouseout=function(){this.className=this.Xh?b["default"]+" "+b.focus:b["default"]}}};var pb=350;
function qb(){function a(m){for(var r=0,n=0,v=m.offsetWidth,s=m.offsetHeight;m!=i;){n+=m.offsetTop;r+=m.offsetLeft;m=m.offsetParent}return[r,n,v,s]}function b(m){if(g==i){h=document.createElement("div");g=document.createElement("div");g.className="tooltip_div";var r=new Q(3,3);r.d[0][0].innerHTML="<div class='tt_bg_lt'></div>";r.d[0][1].className="tt_bg_t";r.d[0][2].innerHTML="<div class='tt_bg_rt'></div>";r.d[1][0].className="tt_bg_l";r.d[1][1].appendChild(h);h.className="tt_bg";r.d[1][2].className="tt_bg_r";
r.d[2][0].innerHTML="<div class='tt_bg_lb'></div>";r.d[2][1].className="tt_bg_b";r.d[2][2].innerHTML="<div class='tt_bg_rb'></div>";g.appendChild(r.b);document.body.appendChild(g)}g.style.width="";g.style.whiteSpace="nowrap";h.innerHTML=m;g.style.display="block";g.offsetWidth>pb&&c(pb)}function c(m){g.style.whiteSpace="normal";g.style.width=m+"px";if(g.firstChild.offsetWidth>m)g.style.width=g.firstChild.offsetWidth+"px"}function d(m,r){var n=R.Cg(),v=Math.max(document.documentElement.scrollTop,document.body.scrollTop);
if(g){if(r+g.offsetHeight>n[1]+v)r=n[1]+v-g.offsetHeight;if(m+g.offsetWidth>document.body.scrollLeft+document.body.offsetWidth)m-=g.offsetWidth+20}return[Math.max(0,m),Math.max(0,r)]}var g=i,h=i,j=0,k=0,q=0,x=0;this.Wd=document.createElement("div");this.Wd.className="tt_msg_c";this.Jo=function(){return pb};this.vk=function(m){if(!m)m=window.event;if(document.all&&document.getElementById){q=m.clientX+document.documentElement.scrollLeft;x=m.clientY+document.documentElement.scrollTop}else{q=m.pageX;
x=m.pageY}};this.move=function(){var m=d(q+10,x+10);if(g){g.style.left=m[0]+"px";g.style.top=m[1]+"px"}};this.Hk=function(m,r,n,v,s){var u=m.q[r][n][v],z=u.N==0?i:u.Q[u.N-1],I=u.N==u.Ca?i:u.Q[u.N],X=[],J="<table cellpadding='0px' cellspacing='0px'>",aa=g_settings.isPlanner?S.l:i;if(z!=i){J+=G.f("<span class='tooltip_talent_name'>"+z.getName()+"</span>");J+=G.f("<span class='tooltip_talent_rank'>"+locale.Rank+" "+u.N+"/"+u.Ca+"</span>");J+=G.f(z.ab(aa,1,[]));if(I!=i)J+=G.f("<div class='tooltip_talent_next_rank'>"+
locale.Nextrank+"</div>")}else J+=G.jb("<span class='tooltip_talent_name'>"+I.getName()+"</span>","<span class='tooltip_talent_rank'>"+locale.Rank+" "+u.N+"/"+u.Ca+"</span>");if(I!=i){for(z=0;z<3;z++){var N=u.td[z];if(N)if(N.N!=N.Ca)X[X.length]=N.Ca>1?D(locale.requires_points_in,[N.Ca,N.getName()]):E(locale.requires_point_in,N.getName())}if(m.Wa[r]<n*5)X[X.length]=D(locale.requires_points_in_tree,[n*5,m.ve[r]]);J+=G.f(I.ab(aa,1,X))}J+="</table>";m=a(s);b(J);rb(g,250);g.style.left=r==1&&v>1||r==2?
m[0]-g.offsetWidth-10+"px":m[0]+m[2]+10+"px";g.style.top=n>5?m[1]+m[3]-g.offsetHeight+"px":m[1]+"px"};this.qo=function(m,r){var n=a(r);b(m);n=d(n[0]+n[2]+10,n[1]);g.style.left=n[0]+"px";g.style.top=n[1]+"px"};this.no=function(m){if(m!=i){b(m.ab(void 0));this.move()}};this.Fk=function(m){b(S.l.z.k[m][0].ab())};this.Gk=function(m){var r=wa.H(m),n=i;if(r){if(g_settings.isPlanner)n=S.l;b(r.ab(n));this.move()}else{j=m;wa.Fd(m,new t(this.Gk,this),[m])}};this.Ek=function(m){var r=wa.H(m),n=i,v=-1;if(r){if(g_settings.isPlanner){n=
S.l;if(n!=i){v=n.B.Ia;v!=-1&&n.ze(r,v,-1)}}b(r.ab(n));this.move()}else{j=m;wa.Fd(m,new t(this.Im,this),[m,v])}};this.tf=function(m){var r=A.H(m);if(r){b(r.ab(g_settings.isPlanner?S.l:i));this.move()}else{k=m;A.Fd(m,new t(this.Jm,this),[m])}};this.fi=function(m){b(m.ab(g_settings.isPlanner?S.l:i));this.move()};this.mo=function(m){var r=A.H(m),n;if(r){if(S.kl&&S.l!=i){m=S.l;n=m.B.Ia;if(n!=-1){m.z.tc();var v=m.z;if(v.k[n][0]!=i){var s=i;if(r!=i&&r.O[0]!=i&&r.O[0].Vb)s=r.O[0].Vb;v.yi=s;v.Li=sb(v.k[n][0],
s);v.qd=n;v.xi=f}tb(m.ic,f);ub(m.B)}}b(r.ab(g_settings.isPlanner?S.l:i));this.move()}else{k=m;A.Fd(m,new t(this.Gm,this),[m])}};this.Gm=function(m){if(m==k){k=0;this.tf(m)}};this.Jm=function(m){if(m==k){k=0;this.tf(m)}};this.Im=function(m){if(m==j){j=0;this.Ek(m)}};this.ei=function(m){var r=wa.H(m),n=i,v=-1,s=-1;if(r){if(g_settings.isPlanner){n=S.l;s=S.w.Kb.Xb;if(n!=i){v=n.B.Ia;v!=-1&&s!=-1&&n.ze(r,v,s)}}b(r.ab(n));this.move()}else{j=m;wa.Fd(m,new t(this.Hm,this),[m])}};this.Hm=function(m){if(m==
j){j=0;this.ei(m)}};this.ro=function(m,r,n,v){var s=v.g,u="<table style='line-height:125%' class='tt_stat_text'>";switch(m){case 0:u+=G.f("<span class='tt_stat_title'>"+locale.CS_Stats[m][r]+" "+Math.floor(s.Qb[r])+"</span>");switch(r){case 0:u+=G.f(locale.TT_StatText.Health);break;case 1:u+=G.f(locale.TT_StatText.Mana);break;case 2:u+=G.f(locale.TT_StatText.Rage);break;case 3:u+=G.f(locale.TT_StatText.Energy);break;case 4:u+=G.f(locale.TT_StatText.Focus);break;case 5:u+=G.f(locale.TT_StatText.RunicPower);
break;case 6:u+=G.f(locale.TT_StatText.ItemLevel)}break;case 1:var z=Math.floor(s.De[r]),I=Math.floor(s.R[r]),X=I-z,J=Math.floor(s.Gg[r]),aa=Math.floor(s.Ih[r]),N=Math.round(s.If[r]*100)/100,ga=Math.round(s.Lh[r]*100)/100;u+=G.f("<span class='tt_stat_title'>"+locale.CS_Stats[m][r]+" "+I+(X>0?" ("+z+"+<span class='green'>"+X+"</span>)":"")+"</span>");if((r==3||r==4)&&!vb(v))u+=G.f("<span class='tt_stat_no_benefit'>"+locale.TT_StatText.NoBenefit+"</span>");else{v="";if(r==2)v+=(v?"<br />":"")+E(locale.TT_StatText.IncreasesHealth,
Math.floor(s.Pg));else if(r==3)v+=(v?"<br />":"")+E(locale.TT_StatText.IncreasesMana,Math.floor(s.Zg));else if(r==4)v+=(v?"<br />":"")+E(locale.TT_StatText.IncreasesManaRegen,Math.floor(s.$g));if(J>0)v+=(v?"<br />":"")+E(locale.TT_StatText.IncreasesAP,J);if(aa>0)v+=(v?"<br />":"")+E(locale.TT_StatText.IncreasesSP,aa);if(N>0)v+=(v?"<br />":"")+E(locale.TT_StatText.IncreasesCrit,H(N));if(ga>0)v+=(v?"<br />":"")+E(locale.TT_StatText.IncreasesSpellCrit,H(ga));if(v)u+=G.f(v)}break;case 2:switch(r){case 0:u+=
G.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");u+=G.jb(locale.TT_StatText.AttackSpeed,ab(s.Hb/1E3,2));u+=G.jb(locale.TT_StatText.Damage,Math.floor(s.Sb)+" - "+Math.ceil(s.Rb));u+=G.jb(locale.TT_StatText.DamagePerSecond,ab(s.Ji,1));if(s.fc>0){u+=G.f("<div style='padding:5px'></div>");u+=G.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.OffHand+"</span>");u+=G.jb(locale.TT_StatText.AttackSpeed,ab(s.fc/1E3,2));u+=G.jb(locale.TT_StatText.Damage,Math.floor(s.Ec)+" - "+
Math.ceil(s.Dc));u+=G.jb(locale.TT_StatText.DamagePerSecond,ab(s.Ki,1))}break;case 1:u+=G.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+"</span>");break;case 2:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.MeleeAp,Math.floor(s.bb)+(Math.floor(s.Ld)>0?" ("+(Math.floor(s.bb)-Math.floor(s.Ld))+"<span class='green'>+"+Math.floor(s.Ld)+"</span>)":""))+"</span>");u+=G.f(E(locale.TT_StatText.IncreasesMeleeDamage,ab(s.bb/14,1)));break;case 3:u+=G.f("<span class='tt_stat_title'>"+
E(locale.TT_StatTitle.AttackSpeed,ab(s.aa[3][0]/1E3,2)+(s.aa[3][1]!=i?" / "+ab(s.aa[3][1]/1E3,2):""))+"</span>");break;case 4:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.Haste,H(s.aa[4]))+"</span>");u+=G.f(locale.TT_StatText.IncreasesAttackSpeed);u+=G.f(D(locale.TT_StatText.IncreasesHaste,[s.Yf,H(s.Yf/B[17][v.j-1])]));break;case 5:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.HitChance,ab(s.aa[5],2))+"</span>");u+=G.f(D(locale.TT_StatText.HitRating,[Math.floor(s.hd[1]),
ab(s.hd[1]/B[5][v.j-1],2)]));r="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";if(s.fc>0){r+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_NormalAttacks+"</td></tr>";for(m=0;m<4;m++)r+="<tr><td class='tt_miss_level'>"+(v.j+m)+"</td><td class='tt_miss'>"+H(Math.max(0,Ka[m]-s.aa[5]))+"%</td></tr>";
r+="<tr><td colspan='2'>"+wb(Ka[3],s.aa[5],B[5][v.j-1])+"</td></tr>";r+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_SpecialAttacks+"</td></tr>"}for(m=0;m<4;m++)r+="<tr><td class='tt_miss_level'>"+(v.j+m)+"</td><td class='tt_miss'>"+H(Math.max(0,Ja[m]-s.aa[5]))+"%</td></tr>";r+="<tr><td colspan='2'>"+wb(Ja[3],s.aa[5],B[5][v.j-1])+"</td></tr>";r+="</table>";u+=G.f(r);break;case 6:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.CritChance,H(s.aa[6]))+"</span>");u+=G.f(locale.TT_StatText.ExtraDamage);
u+=G.f(D(locale.TT_StatText.CritRating,[Math.floor(s.gd[1]),H(s.gd[1]/B[8][v.j-1])]));break;case 7:J=0.25*s.aa[7][0];aa=s.aa[7][1]==i?i:0.25*s.aa[7][1];N=B[23][v.j-1]/0.25;u+=G.f("<span class='tt_stat_title'>"+locale.CS_Stats[m][r]+" "+s.aa[7][0]+(aa!=i?" / "+s.aa[7][1]:"")+"</span>");u+=G.f(E(locale.TT_StatText.ReduceDodgeParry,H(J)+"%"+(aa!=i?"/"+H(aa)+"%":"")));u+=G.f(D(locale.TT_StatText.ExpertiseRating,[Math.floor(s.Yc[1]),Math.floor(s.Yc[1]/B[23][v.j-1])]));r="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup>";
r+="<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_DodgeChance+"</td></tr>";r+=xb(v.j,Oa,J,aa);r+="<tr><td colspan='2'>"+wb(Oa[3],J,N)+"</td></tr>";r+="<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_ParryChance+"</td></tr>";r+=xb(v.j,Na,J,aa);r+="<tr><td colspan='2'>"+wb(Na[3],J,N)+"</td></tr>";r+="</table>";u+=G.f(r);break;case 8:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.Mastery,
H(s.aa[8]))+"</span>");u+=G.f(D(locale.TT_StatText.MasteryRating,[Math.floor(s.Bc),H(s.Bc/B[25][v.j-1])]))}break;case 3:switch(r){case 0:u+=G.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");u+=G.jb(locale.TT_StatText.AttackSpeed,H(s.sd/1E3));u+=G.jb(locale.TT_StatText.Damage,Math.floor(s.dg)+" - "+Math.ceil(s.cg));u+=G.jb(locale.TT_StatText.DamagePerSecond,eb(s.th));break;case 1:u+=G.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+"</span>");break;case 2:u+=G.f("<span class='tt_stat_title'>"+
E(locale.TT_StatTitle.RangedAp,Math.floor(s.lc))+"</span>");u+=G.f(E(locale.TT_StatText.IncreasesRangedDamage,eb(s.lc/14)));break;case 3:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.AttackSpeed,H(s.ra[3]/1E3))+"</span>");break;case 4:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.Haste,H(s.ra[4]))+"</span>");u+=G.f(locale.TT_StatText.IncreasesAttackSpeedAndFocus);u+=G.f(D(locale.TT_StatText.IncreasesHaste,[s.gg,H(s.gg/B[18][v.j-1])]));break;case 5:u+=G.f("<span class='tt_stat_title'>"+
E(locale.TT_StatTitle.HitChance,H(s.ra[5]))+"</span>");u+=G.f(D(locale.TT_StatText.HitRating,[Math.floor(s.hg),H(s.hg/B[6][v.j-1])]));r="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(m=0;m<4;m++)r+="<tr><td class='tt_miss_level'>"+(v.j+m)+"</td><td class='tt_miss'>"+H(Math.max(0,Ma[m]-s.ra[5]))+"%</td></tr>";
r+="<tr><td colspan='2'>"+wb(Ma[3],s.ra[5],B[6][v.j-1])+"</td></tr>";r+="</table>";u+=G.f(r);break;case 6:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.CritChance,H(s.ra[6]))+"</span>");u+=G.f(locale.TT_StatText.ExtraDamage);u+=G.f(D(locale.TT_StatText.CritRating,[Math.floor(s.fg),H(s.fg/B[9][v.j-1])]));break;case 7:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.Mastery,H(s.ra[7]))+"</span>");u+=G.f(D(locale.TT_StatText.MasteryRating,[Math.floor(s.Bc),H(s.Bc/B[25][v.j-1])]))}break;
case 4:switch(r){case 0:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.SpellPower,Math.floor(s.n[0]))+"</span>");u+=G.f(locale.TT_StatText.IncreasesDamageAndHealing);break;case 1:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.Haste,H(s.n[1]))+"</span>");u+=G.f(locale.TT_StatText.IncreasesSpellCasting);u+=G.f(D(locale.TT_StatText.IncreasesHaste,[s.rg,H(s.rg/B[19][v.j-1])]));break;case 2:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.HitChance,H(s.n[2]))+"</span>");
u+=G.f(D(locale.TT_StatText.HitRating,[Math.floor(s.sg),H(s.sg/B[7][v.j-1])]));r="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(m=0;m<4;m++)r+="<tr><td class='tt_miss_level'>"+(v.j+m)+"</td><td class='tt_miss'>"+H(Math.max(0,La[m]-s.n[2]))+"%</td></tr>";r+="<tr><td colspan='2'>"+wb(La[3],s.n[2],B[7][v.j-
1])+"</td></tr>";r+="</table>";u+=G.f(r);break;case 4:u+=G.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.ManaRegen+"</span>");u+=G.f(E(locale.TT_StatText.ManaRegen,Math.floor(s.n[4])));break;case 5:u+=G.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.CombatRegen+"</span>");u+=G.f(E(locale.TT_StatText.CombatRegen,Math.floor(s.n[5])));break;case 6:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.CritChance,H(s.n[6]))+"</span>");u+=G.f(D(locale.TT_StatText.CritRating,[Math.floor(s.pg),
H(s.pg/B[10][v.j-1])]));break;case 7:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle.Mastery,H(s.n[7]))+"</span>");u+=G.f(D(locale.TT_StatText.MasteryRating,[Math.floor(s.Bc),H(s.Bc/B[25][v.j-1])]))}break;case 5:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_StatTitle_Defense[r],r==4||r==0?s.ya[r]:H(s.ya[r]))+"</span>");switch(r){case 0:v=v.j;s=v>=81?s.ya[0]/(s.ya[0]+2167.5*v-158167.5):v>=60?s.ya[0]/(s.ya[0]+467.5*v-22167.5):s.ya[0]/(s.ya[0]+85*v+400);u+=G.f(E(locale.TT_StatText.ReducesPhysical,
H(s*100)));break;case 1:u+=G.f(D(locale.TT_StatText.DodgeRating,[s.C[2],H(s.C[2]/B[2][v.j-1])]));break;case 2:u+=G.f(D(locale.TT_StatText.ParryRating,[s.We,H(s.We/B[3][v.j-1])]));break;case 3:u+=G.f(D(locale.TT_StatText.BlockRating,[s.C[4],H(s.C[4]/B[4][v.j-1])]));break;case 4:u+=G.f(E(locale.TT_StatText.Resilience,H(s.ya[4]/B[15][v.j-1])))}break;case 6:u+=G.f("<span class='tt_stat_title'>"+E(locale.TT_ResistanceTitle[r],s.Kc[r])+"</span>");u+=G.f(E(locale.TT_Resistance[r],0))}b(u+"</table>");n=a(n);
g.style.left=n[0]+n[2]+"px";g.style.top=n[1]+"px";g.offsetWidth>300&&c(300)};this.na=function(){k=j=i;if(g!=i)g.style.display="none"};this.xk=function(){this.na();S.l.tc()};this.So=function(m){b(m);this.move()};this.Ro=function(m){m=S.parse(m);for(var r="",n=0;n<m.length;n++){if(n)r+="<br/>";r+=m[n]}b("<div class='tooltip_buff'>"+r+"</div>");this.move()};this.po=function(m){b("<div class='tooltip_shape'>"+Za(m,S.l).join("<br/>")+"</div>");this.move()};this.so=function(m){b(m);this.move()}}
function wb(a,b,c){a=Math.floor((a-b)*c);if(a!=0){if(a>0)return"<div class='tt_hit_cap'>"+E(locale.TillCap,a)+"</div>";return"<div class='tt_hit_cap'>"+E(locale.OverCap,Math.abs(a))+"</div>"}return""}function xb(a,b,c,d){var g,h="";for(g=0;g<4;g++)h+="<tr><td class='tt_miss_level'>"+(a+g)+"</td><td class='tt_miss'>"+H(Math.max(0,b[g]-c))+(d!=i?"/"+H(Math.max(0,b[g]-d)):"")+"%</td></tr>";return h}
function rb(a,b){b=b?b:pb;a.style.width=a.firstChild.offsetWidth+"px";if(a.offsetWidth>b){a.style.whiteSpace="normal";a.style.width=b+"px";if(a.firstChild.offsetWidth>b)a.style.width=a.firstChild.offsetWidth+"px"}}p=qb.prototype;p.V=i;p.Ud=l;p.Pf=l;p.Wd=i;
p.Wh=function(){if(this.V==i)this.V=document.getElementById("tt_overlay");var a=R.Cg();this.V.style.width=Math.max(a[0],document.body.scrollWidth)+"px";this.V.style.height=Math.max(a[1],document.body.scrollHeight)+"px";this.V.style.display="block";this.Ud=f;this.V.onclick=i};p.sa=function(){G.va(this.V);this.V.style.display="none";this.Pf=this.Ud=l};
p.rj=function(a){var b=a.scrollHeight,c=R.Cg(),d=document.body.scrollTop;a.style.marginLeft=Math.max(0,document.body.scrollLeft+(c[0]-a.scrollWidth>>1))+"px";a.style.marginTop=Math.max(0,d+(c[1]-b>>1))+"px"};p.uc=function(a){this.Wh();G.ha(this.V,a);this.rj(a)};
function T(a,b){var c='<span class="tt_error_msg">'+b+"</span>";if(a.Pf)a.Wd.innerHTML=c+"<br />"+a.Wd.innerHTML;else{a.Pf=f;a.Wd.innerHTML=c+'<br /><span class="tt_close_notice">Left click or hit escape to continue.</span>'}a.uc(a.Wd);a.V.onclick=function(){U.sa()}}
function yb(a,b){var c=document.createElement("div");c.innerHTML='<span class="tt_msg">'+b+'</span><br/><span class="tt_close_notice">Left click or hit escape to continue.</span>';c.className="tt_msg_c";a.uc(c);a.V.onclick=function(){U.sa()}}p.La=function(){var a=document.createElement("div");a.className="tt_loading";a.innerHTML="Loading";this.uc(a)};p.je=i;p.Um=function(a){a.keyCode==27&&this.Ud&&this.sa()};var U=new qb;
function zb(){window.g_moveTooltip=function(){U.move()};window.g_hideTooltip=function(){U.na()};window.g_showItemWithoutPreview=function(a){U.Gk(a)};window.g_showItemBySlot=function(a){U.Fk(a)};window.g_showErrorTooltip=function(a){T(U,a)};window.g_showHTMLTooltip=function(a){yb(U,a)};window.g_enable=function(){U.sa()};window.g_disable=function(){U.Wh()};window.g_loading=function(){U.La()}}window.__tooltip_init=function(){zb()};var Ab=[],Bb=-1,Cb=f;function Db(){Cb=l;if(Ab.length<1)Cb=f;else{var a=i;Bb=Bb==-1?0:(Bb+1)%Ab.length;a=Ab[Bb];a==i&&e("NullPointerException in JobManager.resumeJobs, Current job is null");a.Ck(250);a.yk()&&Ab.splice(Bb,1);window.setTimeout(Db,50)}}window.__jobmanager_init=ba();function Eb(){}Eb.prototype.Ck=ba();Eb.prototype.yk=o(f);function Fb(){}Fb.prototype.zc=0;function Gb(){}p=Gb.prototype;p.Dg=1E4;p.Be=25;p.Xa=i;p.Tc=i;p.Fb=[];p.Rf=0;p.i=i;p.Jg=i;p.Xi=i;function Hb(a,b,c){a.Fb=b;a.Jg=c;b.length!=a.Be&&e("Individual count doesn't match!");Ab.push(new Ib(a));Cb&&Db()}function Jb(a,b){a.Xi=b}function Ib(a){this.Ea=a;this.al=0}Ib.prototype=new Eb;Ib.prototype.Ea=i;Ib.prototype.al=0;
Ib.prototype.Ck=function(a){a=(new Date).getTime()+a;this.Ea.Xi&&w(this.Ea.Xi,[this.Ea.Rf*100/this.Ea.Dg]);do{var b=this.Ea,c=[],d=void 0,g=void 0,h=void 0;d=void 0;for(h=b.Be-1;h>=0;h--){d=b.Fb[h];g=d.Mb();Math.random()<0.3&&Kb(d);Math.random()<0.3&&Kb(g);if(Math.random()<0.2){var j=d,k=g,q=j.xc,x=k.xc,m=1+Math.floor(Math.random()*18);j.xc=q.slice(0,m).concat(x.slice(m));k.xc=x.slice(0,m).concat(q.slice(m));Lb(j);Lb(k)}c.push(d,g)}g=void 0;j=c.length;k=void 0;q=void 0;x=[];for(d=0;d<=3;d++)x[d]=
[];for(h=0;h<j;h++){k=c[h];q=k.zc;for(d=g=0;d<3;d++)q<c[Math.floor(Math.random()*j)].zc||g++;x[g].push(k)}b.Fb=x[3];for(h=2;h>=0;h--){b.Fb=b.Fb.concat(x[h]);if(b.Fb.length>=b.Be)break}b.Fb.splice(b.Be,b.Fb.length-b.Be);b.Rf++}while(this.Ea.Rf<this.Ea.Dg&&(new Date).getTime()<a);if(this.Ea.Rf>=this.Ea.Dg){a=this.Ea.Fb[0];for(b=0;b<this.Ea.Fb.length;b++)if(this.Ea.Fb[b].zc>a.zc)a=this.Ea.Fb[b];w(this.Ea.Jg,[a])}};Ib.prototype.yk=function(){return this.Ea.Rf>=this.Ea.Dg};function Mb(a,b,c){this.og=b;this.zc=0;this.xc=a.slice(0);c||Lb(this)}Mb.prototype=new Fb;p=Mb.prototype;p.C=[];p.og=[];p.xc=[];p.zc=0;function Lb(a){var b,c,d=[0,0,0,0,0,0,0,0],g=a.og[1],h=a.og[2];for(c=0;c<19;c++){b=a.xc[c];if(!(!b||b[0]==-1)){d[b[0]]-=b[3];d[b[1]]+=b[4]}}a.zc=Math.min(d[0],g[0])-h[0]+Math.min(d[1],g[1])-h[1]+Math.min(d[2],g[2])-h[2]+Math.min(d[3],g[3])-h[3]+Math.min(d[4],g[4])-h[4]+Math.min(d[5],g[5])-h[5]+Math.min(d[6],g[6])-h[6]+Math.min(d[7],g[7])-h[7]}
function Kb(a){var b=Math.floor(Math.random()*19),c=a.og[0][b];if(c){a.xc[b]=c[Math.floor(Math.random()*c.length)];Lb(a)}}p.Mb=function(){var a=new Mb(this.xc,this.og,f);a.zc=this.zc;return a};function Nb(){this.Na=[];this.Qa=[];this.Jd=[];this.Te=[];for(var a=0;a<21;a++){this.Na[a]=[0,0,0,0,0,0,0,0,0];this.Qa[a]=[0,0,0,0,0,0,0,0,0];this.Te[a]=[0,0,0,0,0,0,0,0];this.Jd[a]=[[-1,-1,0]]}this.C=[0,0,0,0,0,0,0];this.Ze=[0,0,0,0,0,0,0];this.Xa=[0,0,0,0,0,0,0,0];this.Tc=[0,0,0,0,0,0,0,0];this.Eg=[0,0,0,0,0,0,0,0];this.Jf=[];this.Ab=i;this.S=new Ob(["started","finished","progress_change","values_change"])}p=Nb.prototype;p.S=i;p.i=i;p.Jd=[];p.Te=[];p.Na=[];p.Qa=[];p.C=[];p.Ze=[];p.Xa=[];p.Tc=[];
p.Eg=[];p.Jf=[];p.Ab=[];
function Pb(a){var b=0,c=0,d=0,g=0,h=i;c=0;var j,k;a.Jd=[];a.Ze=[0,0,0,0,0,0,0];a.C=Qb(a.i.g);for(c=0;c<19;c++){for(d=0;d<y.length;d++)a.Na[c][d]=0;if(h=a.i.z.H(c)){a.Te[c]=[0,0,0,0,0,0,0,0];a.Jf[c]=[-1,-1,0,0,0];if(h.W!=-1){a.Ze[fa[h.W]]-=h.qa;a.Ze[fa[h.ca]]+=h.qa;a.Na[c][fa[h.W]]-=h.qa;a.Na[c][fa[h.ca]]+=h.qa;a.Jf[c]=[fa[h.W],fa[h.ca],h.qa,h.qa*a.Xa[fa[h.W]],h.qa*a.Xa[fa[h.ca]]]}a.Jd[c]=[[-1,-1,0,0,0]];j=[];k=[];for(d=0;d<y.length;d++){g=Rb(h,y[d]);if(g>0){j[d]=g;a.Te[c][d]+=g}else a.Xa[d]>0&&k.push(d)}for(d in j)for(b in k){g=
Math.floor(j[d]*0.4)*a.Xa[d];h=Math.floor(j[d]*0.4)*a.Xa[k[b]];g==0&&h==0||a.Tc[d]<=0&&h-g<0||a.Jd[c].push([parseInt(d,10),parseInt(k[b],10),Math.floor(j[d]*0.4),g,h])}}else{a.Jf[c]=i;a.Jd[c]=i;a.Te[c]=i}}Sb(a);for(c=0;c<19;c++){if(a.Ab){for(d=0;d<y.length;d++)a.Qa[c][d]=0;if(a.Ab[c]&&a.Ab[c][0]!=-1){a.Qa[c][a.Ab[c][0]]-=a.Ab[c][2];a.Qa[c][a.Ab[c][1]]+=a.Ab[c][2]}}a.Na[c][y.length+1]=0;for(d=a.Qa[c][y.length+1]=0;d<y.length;d++){a.Na[c][y.length+1]+=a.Na[c][d]*a.Xa[d];a.Qa[c][y.length+1]+=a.Qa[c][d]*
a.Xa[d]}}for(d=0;d<y.length;d++){a.Na[19][d]=0;for(c=a.Qa[19][d]=0;c<19;c++){a.Na[19][d]+=a.Na[c][d];a.Qa[19][d]+=a.Qa[c][d]}if(a.Tc[d]>0){c=a.Tc[d]-a.C[d]+a.Ze[d];a.Na[20][d]=Tb(a.Na[19][d],c,a.Xa[d]);a.Qa[20][d]=Tb(a.Qa[19][d],c,a.Xa[d])}else{a.Na[20][d]=a.Na[19][d]*a.Xa[d];a.Qa[20][d]=a.Qa[19][d]*a.Xa[d]}}a.S.Za("values_change",[a])}function Tb(a,b,c){if(b<0){if(a<b)return(a-b)*c}else if(b==0){if(a<0)return a*c}else if(a<0)return a*c;else if(a>0)return Math.min(b,a)*c;return 0}
p.yj=function(a){this.Xa=a;Pb(this)};p.uj=function(a){this.Tc=a;Sb(this);Pb(this)};function Sb(a){for(var b=0;b<y.length;b++)a.Eg[b]=a.Tc[b]>0?a.Tc[b]-(a.C[b]-a.Ze[b]):99999}function Ub(a){var b=new Gb,c,d,g;d=[];g=[];for(c=0;c<y.length;c++){d[c]=Math.min(a.Eg[c],0)*a.Xa[c];g[c]=a.Eg[c]*a.Xa[c]}d=[a.Jd,g,d];g=[];for(c=0;c<b.Be;c++)g.push(new Mb(a.Jf,d,l));Jb(b,new t(function(h){this.S.Za("progress_change",[h])},a));Hb(b,g,new t(a.fm,a));a.S.Za("started",[])}
p.fm=function(a){this.Ab=a.xc;Pb(this);this.S.Za("finished",[])};p.update=function(a){this.i=a;Pb(this)};p.pa=function(a,b){this.S.pa(a,b)};function Ob(a){Vb(this,a)}Ob.prototype.Xd={};Ob.prototype.pa=function(a,b){this.Xd[a]||e("Unknown event "+a+" tried to listen to");this.Xd[a].push(b)};Ob.prototype.Za=function(a,b){this.Xd[a]||e("Unknown event "+a+" fired!");for(var c in this.Xd[a])w(this.Xd[a][c],b?b:[])};function Vb(a,b){a.Xd={};for(var c in b)a.Xd[b[c]]=[]};function Wb(){}p=Wb.prototype;p.c=0;p.v="";p.G=[];p.rb=[];p.Mb=o(i);function Xb(a){this.c=a[0];this.v=a[1];this.G=[];for(var b=0;b<5;b++)this.G[b]=a[2+b]?new Yb(a[2+b]):i;this.rb=a}Xb.prototype=new Wb;Xb.prototype.Mb=function(){return new Xb(this.rb)};function Zb(a){this.c=0-a[0];this.v=a[1];this.G=[];for(var b=0;b<5;b++)if(a[2+b]){this.G[b]=new Yb(a[2+b][1]);this.G[b].$b(a[2+b][0])}else this.G[b]=i;this.rb=a}Zb.prototype=new Wb;Zb.prototype.Mb=function(){return new Zb(this.rb)};function $b(a){var b;this.c=a[0];this.v=a[1];this.nl=a[2];this.Ee=[];for(b=0;b<a[3].length;b++)this.Ee[b]=a[3][b]!=i?new V(a[3][b]):i;this.cj=a[4];this.ml=a[5];this.k=a[6]}p=$b.prototype;p.c=-1;p.v="";p.nl=[];p.Ee=[];p.cj=[];p.$a=function(a){for(var b=0;b<8;b++){var c;if(c=this.Ee[b]!=i){c=0;for(var d=i,g=0;g<19;g++){d=a.z.H(g);d!=i&&d.oa!=i&&d.oa.c==this.c&&c++}c=c>=this.cj[b]}c&&a.ba.add(this.Ee[b])}};function ac(a){this.bc=new Yb(a[0]);this.lg=a[1]}ac.prototype.bc=i;ac.prototype.lg=0;function bc(a){var b;this.D=[i,i,i];this.G=[];this.Gj=85;this.rb=a;this.c=a[0];this.Ga=a[1];this.U=a[2];this.pk=this.da=a[3];this.Aa=a[4];this.Ef=a[5];this.j=a[6];this.Jb=a[7];this.pm=a[8];this.af=a[9];this.gk=a[10];this.ik=a[11];this.zm=a[12];this.g=a[13];this.db=a[14];this.Q=[];for(b=0;b<a[15].length;b++)this.Q[b]=a[15][b]!=i?new V(a[15][b]):i;this.Bj=a[17];this.mj=this.v=a[18];this.oa=a[19]!=i?new $b(a[19]):i;this.Ng=a[20];this.ga=a[21];this.re=a[22]!=i?new Yb(a[22]):i;this.I=a[23];this.Nc=a[24];
this.we=a[25];this.Uk=a[26];this.ej=a[27];this.ac=a[28];this.rf=a[29];this.hk=a[30];this.ij=a[31];this.ym=a[32];this.hj=a[33];this.xm=a[34];this.wm=a[35];this.la=a[36]!=i?new ac(a[36]):i;this.Z=a[37];this.Pb=a[38];this.jd=a[39];this.fd=a[40];this.Ib=i;if(a[41]){this.Ib=[];for(b=0;b<a[41].length;b++)this.Ib[b]=new Xb(a[41][b])}else if(a[42]){this.Ib=[];for(b=0;b<a[42].length;b++)this.Ib[b]=new Zb(a[42][b])}this.qc=a[43];this.qf=a[44];this.wi=a[45];this.ck=a[46];this.ol=a[47];this.pl=a[48];this.Xk=
a[49]}p=bc.prototype;p.D=[];p.G=[];p.Y=i;p.Eb=i;p.Gj=85;p.rb=[];p.c=0;p.Ga=0;p.U=0;p.da=0;p.Aa=0;p.Ef=0;p.j=0;p.Jb=0;p.pm=0;p.af=0;p.gk=0;p.ik=0;p.zm=0;p.g=[];p.db=0;p.Q=[];p.Bj=0;p.v="";p.oa=i;p.Ng=0;p.ga=[];p.re=i;p.I="";p.Nc="";p.we=0;p.qf=0;p.Uk=0;p.ej=0;p.ac=0;p.rf=0;p.hk="";p.ij=[];p.ym=[];p.hj=[];p.xm=[];p.wm=[];p.Z="";p.la=i;p.Pb=0;p.jd=0;p.fd=0;p.wi=0;p.ca=-1;p.qa=-1;p.W=-1;p.Jc=-1;p.Ib=i;p.mj="";p.qc=i;p.pk=0;p.ck=0;p.ol=0;p.pl=0;p.Xk=0;p.$e=0;p.om=0;p.rm=0;p.nm=i;p.qm=i;
function cc(a,b){if(!(a.Y&&b==a.Y.c)){a.restore();if(b==0){a.Y=i;a.v=a.mj}else{if(a.Ib)for(var c=0;c<a.Ib.length;c++)if(a.Ib[c].c==b){a.Y=a.Ib[c].Mb();a.v=a.mj+" "+a.Y.v;return}T(U,"Unable to set random property (ID:"+b+")")}}}
function dc(a,b){if(a.qc!=i){var c=0,d=0,g=0;b=Math.min(b,a.qc[21]);if(a.g[c]!=i&&a.g[c][0]>50){a.g[9]=a.g[c];a.g[c]=i}if(a.U==4){switch(a.Aa){case 1:a.ac=C[b][19+a.da];d=C[b][7];break;case 3:a.ac=C[b][11+a.da];d=C[b][8];break;case 5:case 20:a.ac=C[b][15+a.da];d=C[b][7];break;case 7:a.ac=C[b][23+a.da];d=C[b][7];break;case 11:d=C[b][9];break;case 12:d=C[b][8];break;case 16:a.ac=C[b][44];d=C[b][9]}switch(a.pk){case 4:a.da=b>=40?4:3;a.Nc[0]=locale.a_armor[a.da];break;case 3:a.da=b>=40?3:2;a.Nc[0]=locale.a_armor[a.da]}}else if(a.U==
2){var h=1<<a.da;if(h&262156){d=C[b][10];g=C[b][4]}else if(h&43153){d=C[b][11];g=C[b][a.qf&512?2:0]}else if(h&1185122){d=C[b][7];g=C[b][a.qf&512?3:1]}}if(d){for(h=0;h<10;h++)if(a.qc[h]>0)a.g[c++]=[a.qc[h],Math.floor(a.qc[h+10]*d/1E4)];if(a.qf&512&&a.U==2&&C[b][6]>0)a.g[c++]=[45,C[b][6]]}if(g){a.Pb=g;a.jd=Math.floor(a.Pb*a.db*(1-a.wi/2)/1E3);a.fd=Math.floor(a.Pb*a.db*(1+a.wi/2)/1E3)}}}
function sb(a,b){if(!b)return i;for(var c=0;c<a.G.length;c++){var d=a.G[c];if(d.ea[0]==7&&b.ea[0]==7||d.ea[0]!=7&&b.ea[0]!=7){a.G[c]=b;return d}}a.G.push(b);return i}
function ec(a,b,c,d){if(b){if(!d&&a.Eb!=i&&(b.rf>0||(b.we&524288)!=0==f)&&(a.D[c]==i||a.D[c].c!=b.c)){var g;a:{g=a.Eb.z;var h,j,k,q;for(h=0;h<g.k.length;h++){k=g.k[h][0];if(k!=i)for(j=0;j<k.D.length;j++){q=k.D[j];if(q!=i)if(q.c==b.c){g=l;break a}}}g=f}if(!g){T(U,E(locale.ERR_UniqueGem,b.v));return}}if(a.ga[c]!=1&&b.da==6||a.ga[c]==1&&b.da!=6)return;if(b.la&&b.la.lg>a.j){d||T(U,E(locale.ERR_GemRequiresMinItemLevel,b.la.lg));return}fc(b,a.Eb)}a.D[c]=b}p.ai=function(a){this.D[a]=i};
p.$a=function(){var a=this.Eb.ba,b,c;for(b=0;b<5;b++)(c=this.Q[b])&&this.ij[b]==1&&a.add(this.Q[b]);for(b=0;b<3;b++)(c=this.D[b])&&c.$a(a);for(b=0;b<this.G.length;b++)this.G[b].$a(a);this.re!=i&&gc(this)&&this.re.$a(a);this.la!=i&&this.la.bc.kb(this.Eb)&&this.la.bc.$a(a)};
function gc(a){if(!a.re)return l;for(var b=0;b<3;b++)if(a.ga[b]){if(a.D[b]==i)return l;switch(a.ga[b]){case 1:if(a.D[b].da!=6)return l;break;case 2:if(!(Math.pow(2,a.D[b].da)&297))return l;break;case 4:if(!(Math.pow(2,a.D[b].da)&308))return l;break;case 8:if(!(Math.pow(2,a.D[b].da)&282))return l}}return f}function hc(a){return a.db%1E3==0?a.db/1E3+".00":a.db%100==0?a.db/1E3+"0":Math.floor(a.db/10)/100+""}function ic(a){return Math.floor(a.Pb*10)/10+(Math.floor(a.Pb*10)%10==0?".0":"")}p.Mb=function(){return new bc(this.rb)};
p.toString=function(){return"Class Item "+this.c};
p.ab=function(a,b){var c="",d,g,h="",j="",k=85,q=i,x="",m="";if(a)q=a;else if(this.Eb)q=this.Eb;k=q!=i?q.j:85;dc(this,k);for(d=0;d<this.g.length;d++)if(!(!this.g[d]||this.g[d][1]==0))if(this.g[d]&&this.g[d][0]>11&&this.g[d][0]<50)j+=G.f(jc(this,k,this.g[d][0],this.g[d][1]));else h+=G.f(kc(this,this.g[d][0],this.g[d][1]));if(this.ca>-1)if(this.ca<=11)h+=G.f("<div class='green'>"+kc(this,this.ca,this.qa)+"</div>");else j+=G.f("<div class='green'>"+jc(this,k,this.ca,this.qa)+"</div>");for(d=0;d<this.G.length;d++){g=
this.G[d];c=G.f(g.ab(q));if(g.ea[0]==7&&g.Q[0])m+=c;else x+=c}g="<table cellpadding='0px' cellspacing='0px' class='tooltip_table'>";g+=G.f("<div class='tooltip_title' style='color:"+xa[this.Ga]+"; white-space:nowrap;'>"+this.v+"</div>");if(this.we&8)g+=G.f("<span class='green'>"+locale.Heroic+"</span>");if(this.we&134217728)g+=G.f(locale.boa);else switch(this.Bj){case 1:g+=G.f(locale.bop);break;case 2:g+=G.f(locale.boe);break;case 3:g+=G.f(locale.bou)}if(this.rf==1)g+=G.f(locale.Unique);else if(this.rf>
1)g+=G.f(E(locale.UniqueMultiple,this.rf));if(this.la&&this.la.lg)g+=G.f(E(locale.RequiresItemLevel,this.la.lg));if(this.we&524288)g+=G.f(locale.UniqueEquipped);if(this.ck)g+=G.f(locale.This_Item_Begins_a_Quest);if(this.Nc)switch(this.U){case 4:if(this.Aa!=0)g+=this.Aa==0||this.da==0?G.f(locale.a_slot[this.Aa]):this.la==i?G.jb(locale.a_slot[this.Aa],"<span"+((q!=i?lc(q,this):1)?"":" class='red'")+">"+this.Nc[0]+"</span>"):G.f(this.Nc[0]);break;case 2:g+=G.jb(locale.a_slot[this.Aa],this.Nc[0]);break;
case 1:g+=G.f(this.Nc[0])}if(this.W!=-1)g+=G.f("<span class='green'>"+locale.Reforged+"</span><span class='tooltip_reforge_info'>: "+this.qa+" "+locale.ItemStatNames[this.W]+" \u21e8 "+this.qa+" "+locale.ItemStatNames[this.ca]+"</span>");if(this.Aa==24)g+=G.f(E(locale.Adds,ic(this)));else if(this.Pb){g+=G.jb(Math.floor(this.jd)+" - "+Math.ceil(this.fd)+" "+locale.damage,locale.Speed+" "+hc(this));g+=G.f("("+E(locale.dps,Math.floor(this.Pb*10)/10+(Math.floor(this.Pb*10)%10==0?".0":""))+")")}if(this.ac>
0)g+=G.f(E(locale.armor,this.ac));g+=h;if(this.Ib)if(this.Y!=i)for(d=0;d<this.Y.G.length;d++){if(c=this.Y.G[d])g+=G.f(c.Z)}else g+=G.f("<span class='green'>&lt;"+locale.RandomEnchantment+"&gt;</span>");g+=x;for(d=0;d<3;d++)if(this.D[d]!=i)g+=G.f("<div class='tooltip_gem' style='background-image:url(images/icons/gem/"+this.D[d].I+".png);'>"+this.D[d].la.bc.ab(q)+"</div>");else if(this.ga[d])g+=this.ga[d]==14?G.f("<div class='tooltip_socket_empty' style='background-image:url(images/socket_prismatic.png);'>"+
locale.PrismaticSocket+"</div>"):G.f("<div class='tooltip_socket_empty' style='background-image:url(images/socket_"+Math.log(this.ga[d])/Math.log(2)+".png);'>"+locale.a_socket[Math.log(this.ga[d])/Math.log(2)]+"</div>");if(this.re)g+=G.f("<span class='"+(gc(this)?"green":"grey")+"'>"+locale.socketBonus+": "+this.re.Z+"</span>");if(this.la)g+=G.f(this.la.bc.Z);if(this.Ng)g+=G.f(locale.Durability+": "+this.Ng+"/"+this.Ng);if(this.Ef!=0&&this.Ef<2048&&this.Ef>0){c="";for(d=0;d<11;d++)if((this.Ef&1<<
d)!=0)c+=(c?", ":"")+locale.a_class[d];if(c)g+=G.f(locale.Classes+": "+c)}if(this.Jb||this.Ga==7)g+=this.qc?G.f(D(locale.RequiredLevelScaling,[Math.max(1,this.qc[20]),this.qc[21],Math.min(this.qc[21],k)])):G.f("<span class='"+(k>=this.Jb?"white":"red")+"'>"+E(locale.reqLevel,this.Jb)+"</span>");if(this.om)g+=G.f("<span class='red'>"+locale.req+" "+this.nm+" ("+this.$e+")</span>");if(this.rm)g+=G.f("<span class='red'>"+locale.req+" "+this.qm+"</span>");if(this.gk)g+=G.f("<span class='red' style='white-space:nowrap'>"+
locale.req+" "+this.hk+" - "+locale.a_reputation[this.ik]+"</span>");if(this.j&&(this.U==2||this.U==4))g+=G.f(E(locale.itemLevel,this.j));g+=j;for(d=0;d<5;d++)if(this.Q[d]!=i){c=mc(this.Q[d]);k=j="";if(c){switch(this.ij[d]){case 0:k=locale.use;if(this.hj[d]>0)j="("+fb(this.hj[d]/1E3)+" "+locale.Cooldown+")";break;case 1:k=locale.equip;break;case 2:k=locale.hit}g+=G.f("<span class='green'>"+k+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+this.Q[d].c+"'>")+Za(c,q).join("<br/>")+
" "+(g_settings.isPlanner?"":"</a>")+j+"</span>")}}g+=m;if(this.la!=i&&this.la.bc.Wc)for(d=0;d<5;d++){m="#888888";if(nc(this.la.bc,d,q!=i?q.z.Zc:i))m="#FFFFFF";c=this.la.bc.Wc;j=c[1][d]?c[1][d]:0;k=c[3][d]?c[3][d]:0;x=c[4][d]?c[4][d]:0;switch(c[2][d]?c[2][d]:0){case 0:if(x!=0)g+=G.f("<div class='tt_meta_condition' style='color:"+m+"'>"+(x>1?D(locale.Meta_RequiresExactlyPl,[x,locale.Meta_Category[j]]):E(locale.Meta_RequiresExactly,locale.Meta_Category[j]))+"</div>");break;case 2:g+=G.f("<div class='tt_meta_condition' style='color:"+
m+"'>"+D(locale.Meta_RequiresMore,[locale.Meta_Category[k],locale.Meta_Category[j]])+"</div>");break;case 3:g+=x==0?G.f("<div class='tt_meta_condition' style='color:"+m+"'>"+D(locale.Meta_RequiresMore,[locale.Meta_Category[j],locale.Meta_Category[k]])+"</div>"):G.f("<div class='tt_meta_condition' style='color:"+m+"'>"+(x+1>1?D(locale.Meta_RequiresAtLeastPl,[x+1,locale.Meta_Category[j]]):E(locale.Meta_RequiresAtLeast,locale.Meta_Category[j]))+ +"</div>");break;case 5:if(j>0)g+=G.f("<div class='tt_meta_condition' style='color:"+
m+"'>"+(x>1?D(locale.Meta_RequiresAtLeastPl,[x,locale.Meta_Category[j]]):E(locale.Meta_RequiresAtLeast,locale.Meta_Category[j]))+"</div>")}}if(this.Z)g+=G.f("<span style='color:#DDDD00'>\""+this.Z+'"</span>');if((b&1)!=1){if(this.oa!=i){j=this.oa.ml;m=0;k=[];if(q!=i)for(d=0;d<20;d++){c=q.z.H(d);if(c!=i&&c.oa!=i&&c.oa.c==this.oa.c){for(x=0;x<j;x++)if(this.oa.k[x]&&this.oa.k[x][0]==c.Aa)k[x]=c.v;m++}}g+=G.f("<div class='tooltip_set_name'>"+this.oa.v+" ("+m+"/"+j+")</div>");for(d=0;d<j;d++)g+=G.f("<span class='"+
(k[d]?"tooltip_set_item_active":"tooltip_set_item_inactive")+"'>"+(k[d]?k[d]:this.oa.k[d]&&this.oa.k[d][1]?this.oa.k[d][1]:locale.Unknown)+"</span>");g+=G.f("<div class='tooltip_set_bonus_spacing'></div>");for(d=0;d<8;d++)if(c=this.oa.cj[d])g+=G.f("<div class='"+(m>=c?"tooltip_set_bonus_active":"tooltip_set_bonus_inactive")+"'>("+c+") "+locale.Set+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+this.oa.Ee[d].c+"'>")+Za(mc(this.oa.Ee[d]),q)+(g_settings.isPlanner?"":
"</a>")+"</div>")}if(this.ej>0){d=this.ej;q="<span class='tooltip_sell_price'>";if(d>1E4){q+=Math.floor(d/1E4)+"<img alt='g' class='tooltip_coint' align='center' src='images/tooltip/UI-GoldIcon.png' />";d%=1E4}if(d>100){q+=Math.floor(d/100)+"<img alt='s' class='tooltip_coint' align='center' src='images/tooltip/UI-SilverIcon.png' />";d%=100}if(d)q+=d+"<img alt='c' class='tooltip_coint' align='center' src='images/tooltip/UI-CopperIcon.png' />";g+=G.f(E(locale.SellPrice,q+"</span>"))}if(g_settings.isPlanner==
f&&this.Ib!=i)g+=G.f("<span style='white-space: normal; color:#808080; font-size:11px'>See Enchants to change the random enchantment</span>")}g+="</table>";return g};function kc(a,b,c){if(a.Eb)if(a=a.Eb.g.jj[b])return"+"+c+" "+locale.ItemStatNames[b]+"<span class='tt_stat_with_mods'>("+Math.floor(c*(1+a/100))+")</span>";return"+"+c+" "+locale.ItemStatNames[b]}
function jc(a,b,c,d){var g=0,h="";c-=11;switch(c){case 20:g=Math.floor(d/B[5][b-1]*100)/100;b=Math.floor(d/B[7][b-1]*100)/100;h=(g>0?"m:"+H(g)+"%":"")+(b>0?(g>0?", ":"")+"s:"+H(b)+"%":"");break;case 27:if(a.Eb){g=a.Eb.g.xf;b=d*(1+g/100);h=(g>0?Math.floor(b)+", ":"")+eb(b/14)+" "+locale.dps2}break;default:if(c<=10)g=B[c][b-1];else switch(c){case 21:g=B[8][b-1];break;case 24:g=B[15][b-1];break;case 25:g=B[17][b-1];break;case 26:g=B[23][b-1];break;case 38:g=B[25][b-1]}b=g>0?Math.floor(d/g*100)/100:0;
h=b>0?H(b)+"%":""}return"<span class='green'>"+locale.equip+": "+E(locale.imprStats[c],d)+(h?"<span class='tt_rating_percent'>("+h+")<span>":"")+"</span>"}function fc(a,b){a.Eb=b;for(var c=0;c<3;c++)a.D[c]&&fc(a.D[c],b)}function Rb(a,b){var c,d;for(c=0;c<a.g.length;c++)if(a.g[c])if(a.g[c][0]==b){if(a.W!=b)return a.g[c][1];return a.Jc}if(a.Y)for(c=0;c<a.Y.G.length;c++)if((d=a.Y.G[c])&&d.ea[0]==5)if(d.Va[0]==b){if(a.W!=b)return d.ua[0];return a.Jc}return 0}
function oc(a,b,c){var d,g=l,h=-1,j=-1;if(a.W!=-1)T(U,"This item was already reforged!");else if(a.j<200)T(U,"Item must be level 200 or higher!");else{for(d=0;d<y.length;d++)if(b==y[d])g=f;if(g){for(d=0;d<a.g.length;d++)if(a.g[d])if(a.g[d][0]==c){T(U,locale.ItemStatNames[c]+" is already present on "+a.v+"!");return}else if(a.g[d][0]==b)h=d;if(a.Y)for(d=0;d<a.Y.G.length;d++)if((g=a.Y.G[d])&&g.ea[0]==5)if(g.Va[0]==c){T(U,locale.ItemStatNames[c]+" is already present on "+a.v+"!");return}else if(g.Va[0]==
b)j=d;if(h==-1&&j==-1)T(U,locale.ItemStatNames[b]+" is not present on "+a.v+"!");else{a.W=b;a.ca=c;if(h!=-1){a.Jc=a.g[h][1];a.qa=Math.floor(a.g[h][1]*0.4);a.g[h][1]-=a.qa}else if(j!=-1){g=a.Y.G[j];b=g.ua[0];a.Jc=b;a.qa=Math.floor(b*0.4);g.$b(b-a.qa)}}}else T(U,"Invalid stat selected for reforging!")}}
p.restore=function(){var a;if(this.W!=-1){for(a=0;a<this.g.length;a++)if(this.g[a]&&this.g[a][0]==this.W){this.g[a][1]=this.Jc;break}if(this.Y)for(a=0;a<this.Y.G.length;a++){var b=this.Y.G[a];b&&b.ea[0]==5&&b.Va[0]==this.W&&b.$b(this.Jc)}}this.Jc=this.W=this.qa=this.ca=-1};p.ye=function(a){for(var b=0,c=0;c<10;c++)if(this.g[c]!=i&&this.g[c][0]>0)b+=a[this.g[c][0]]*this.g[c][1];if(this.la)b+=this.la.bc.ye(a);return b};
p.Vm=function(){for(var a=0,b=0,c=0;c<3;c++){this.D[c]&&b++;this.ga[c]&&a++}return b>a};function pc(a){this.c=a[0];this.v=a[1];this.Vk=a[2]}pc.prototype.c=0;pc.prototype.v="";pc.prototype.Vk=0;function qc(a){this.c=a[0];this.n=a[1]?new V(a[1]):i;this.lm=a[2];this.Gf=a[3];this.$e=a[4];this.mm=a[5]}p=qc.prototype;p.c=0;p.n=i;p.Gf=0;p.lm=0;p.$e=0;p.mm=0;function rc(a){var b,c;this.c=a[0];this.r=[];for(b=0;b<a[1].length;b++){c=new V(a[1][b]);this.r.push(new sc(c,1));A.F(c)}this.ba=[];for(b=0;b<a[2].length;b++)this.ba.push(new V(a[2][b]))}rc.prototype.r=[];rc.prototype.ba=[];rc.prototype.c=0;function tc(a){this.km=a[0];this.yf=a[1];this.Of=a[2];this.gm=a[3];this.J=a[4];this.Cm=a[5];this.$k=a[6];this.Kj=a[7];this.Vb=this.yf==53?new Yb(a[8]):a[8];this.rk=a[9];this.hm=a[10];this.Hi=a[11];this.qh=a[12];this.c=a[13];this.zj=this.J}p=tc.prototype;p.c=0;p.km=0;p.yf=0;p.Of=0;p.gm=0;p.J=0;p.Cm=0;p.$k=0;p.Kj=0;p.Vb=i;p.rk=0;p.hm=0;p.Hi=0;p.qh=0;p.zj=0;p.wa=function(a){if(this.Hi!=0)this.J=Math.floor(this.zj+this.Hi*(a-1))};
p.ye=function(a){var b=0,c;switch(this.Of){case 22:for(c=0;c<7;c++)if((this.Vb&1<<c)!=0)switch(c){case 0:b+=a[50]*this.J;break;case 1:b+=a[53]*this.J;break;case 2:b+=a[51]*this.J;break;case 3:b+=a[55]*this.J;break;case 4:b+=a[52]*this.J;break;case 5:b+=a[54]*this.J;break;case 6:b+=a[55]*this.J}break;case 29:switch(this.Vb){case 0:b+=a[4]*this.J;break;case 1:b+=a[3]*this.J;break;case 2:b+=a[7]*this.J;break;case 3:b+=a[5]*this.J;break;case 4:b+=a[6]*this.J;break;case -1:for(c=3;c<=7;c++)b+=a[c]*this.J}break;
case 34:b+=a[1]*this.J;break;case 35:if(this.Vb==0)b+=a[2]*this.J;break;case 85:b+=a[43]*this.J;break;case 99:b+=a[38]*this.J;break;case 124:b+=a[39]*this.J;break;case 189:for(c=0;c<32;c++)if((this.Vb&1<<c)!=0)if(c<=19)b+=a[c+11]*this.J;else if(c==23)b+=a[37]*this.J;else if(c==25)b+=a[49]*this.J}return b};function uc(a){this.Fj=a[0];this.Ej=a[1];this.Tj=a[2];this.Xc=a[3];this.ui=a[4];this.Lj=a[5]}p=uc.prototype;p.Fj=0;p.Ej=0;p.Tj=0;p.ui=0;p.Lj=0;p.Xc=0;function vc(a){this.sb=a[0];this.jm=a[1];this.im=a[2]}vc.prototype={sb:0,jm:0,im:0};function wc(a){this.wc=a[0]}wc.prototype.wc=0;function xc(a){this.wc=a[0];this.jf=a[1];this.se=a[2]}xc.prototype.wc=0;xc.prototype.jf=0;xc.prototype.se=0;function yc(a){this.el=a[0];this.fl=a[1];this.Bi=a[2];this.gl=a[3];this.hl=a[4]}p=yc.prototype;p.el=0;p.fl=0;p.Bi=0;p.gl=0;p.hl=0;function V(a){var b,c=a[17],d=i;if(c!=i)for(b=0;b<c.length;b++){d=c[b];!d||A.contains(d[0])||A.F(new V(d))}this.j=85;this.rb=a;this.c=a[0];this.v=a[1];this.bl=a[2];this.I=a[3];this.Mj=a[4];this.ob=a[5];this.Td=a[6];this.Je=a[7];this.Df=a[8];this.Mg=a[9];this.gj=this.Mg==i?0:Math.max(this.Mg[0],this.Mg[1])/1E3;this.O=Array(3);for(b=0;b<3;b++)this.O[b]=a[10][b]?new tc(a[10][b]):i;this.wd=a[11]?new uc(a[11]):i;this.Dj=a[12]?a[12]:"";this.tm=a[13];this.Eh=a[14]?new yc(a[14]):i;this.yb=a[15]?new xc(a[15]):
i;this.Cb=[];for(b=0;b<a[16].length;b++)this.Cb[b]=G.vo(a[16][b]);this.Md=a[18]?new vc(a[18]):i;this.Yk=a[19]?new wc(a[19]):i;this.Vd=a[20];this.wa(this.j)}p=V.prototype;p.j=0;p.rb=i;p.c=i;p.v=i;p.bl=i;p.I=i;p.Mj=i;p.ob=i;p.Td=i;p.Je=i;p.Df=i;p.Mg=i;p.gj=0;p.O=i;p.wd=i;p.Dj=i;p.tm=l;p.Eh=i;p.yb=i;p.Md=i;p.Yk=i;p.Cb=i;p.Vd=0;p.oe=0;
function mc(a){for(var b=a.Dj,c,d,g;(c=b.match(/\$(s|m|M)\(-?(\d+),(-?\d+),(-?\d+),(-?\d+),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?)\)/i))!=i;){g=parseFloat(c[8]);d=ua(parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],10),a.j);d=sa(d?d[1]:1,parseInt(c[5],10),parseFloat(c[6]),parseFloat(c[7]),a.j);b=b.replace(c[0],Math.floor(g*(Math.abs(d[0])+(c[1]=="M"?Math.abs(d[1]):0))))}for(;(c=b.match(/\$d\((\d+),(\d+),(\d+),(\d+(?:\.\d+)?)\)/i))!=i;){d=ua(parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],
10),a.j);b=b.replace(c[0],d[0])}for(;c=b.match(/(\${[^}]*)\$time\((-?\d+(?:\.\d+)?)\)([^}]*})/i);)b=b.replace(c[0],c[1]+c[2]+c[3]);for(;c=b.match(/\$time\((-?\d+(?:\.\d+)?)\)/i);)b=b.replace(c[0],fb(c[1]));return b.replace(/\$pl/ig,a.j)}p.getName=function(){return this.v};
p.wa=function(a){var b,c;this.j=a;if(this.wd!=i){a=ua(this.wd.Fj,this.wd.Ej,this.wd.Tj,this.j);if(a!=i)this.Df=a[0];for(c=0;c<this.O.length;c++)if(this.O[c]!=i){b=sa(a!=i?a[1]:1,this.wd.Xc,this.wd.ui[c],this.wd.Lj[c],this.j);if(b!=i){this.O[c].J=b[0];this.O[c].Kj=b[1]}}}else for(c=0;c<this.O.length;c++)this.O[c]!=i&&this.O[c].wa(a)};
p.ab=function(a,b,c){this.wa(a!=i?a.j:85);var d="<table cellpadding = 0 cellspacing = 0 style='vertical-align: top'>",g="",h="",j="";if(!b||(b&1)==0)d+=G.f("<span class='tooltip_title'>"+this.getName()+"</span>");h="";if(this.oe&&this.Je==5){if(this.oe[0])h+=this.oe[0]+" "+locale.Blood;if(this.oe[1])h+=(h?", ":"")+this.oe[1]+" "+locale.Unholy;if(this.oe[2])h+=(h?", ":"")+this.oe[2]+" "+locale.Frost}else if(this.Td){g=this.Je==1||this.Je==6?this.Td[0]/10:this.Td[0];if(a!=i){g=Math.max(G.floor(g,2),
Math.floor(this.Td[1]*a.g.Hg/100));if(g>0)h=g+" "+locale.energy2[this.Je]}else if(g>0)h=g+" "+locale.energy2[this.Je];else if(this.Td[1]>0)h=G.floor(this.Td[1],2)+"% "+locale.ofBaseMana}h=h?"<span style='white-space:nowrap'>"+h+"</span>":"";j="";if(this.ob!=i&&this.ob[1]>0)j=this.ob[3]>0&&(this.ob[1]!=this.ob[3]||this.ob[0]!=this.ob[2])?E(locale.RangeEnemy,db(this.ob[0],this.ob[1]))+"<br />"+E(locale.RangeFriendly,db(this.ob[2],this.ob[3])):db(this.ob[0],this.ob[1]);if(h&&j)d+=G.jb(h,j);else if(h||
j)d+=G.f(h?h:j);g=this.gj;j="";if(this.gj)j=fb(g)+" "+locale.cooldown;h="";if(this.Df>0||j)h="<span style='white-space:nowrap'>"+(this.Df>0?E(locale.cast,G.ceil(this.Df/1E3,2)):locale.instantCast)+"</span>";if(j)d+=G.jb(h,j);else if(h)d+=G.f(h);if(b&1)for(b=0;b<c.length;b++)d+=G.f("<span class='tooltip_talents_required'>"+c[b]+"</span");d+=G.f("<span class='tooltip_spell_description'>"+Za(mc(this),a).join("<br/>")+"</span>");return d+"</table>"};function zc(a){return(a.Cb[0]&64)!=0&&a.Mj<=0}
p.Mb=function(){return new V(this.rb)};p.toString=function(){return"Spell ["+this.c+"]: "+mc(this)};p.ye=function(a){var b=0;if(!zc(this))return 0;for(var c=0;c<3;c++)if(this.O[c])b+=this.O[c].ye(a);return b};function Ac(a){for(var b=0;b<3;b++)if(a.O[b]&&a.O[b].Of==23)return A.H(a.O[b].qh)};function Yb(a){var b;this.c=a[0];this.ea=[];this.ua=[];this.Va=[];for(b=0;b<5;b++){this.ea[b]=a[1][b];this.ua[b]=a[2][b];this.Va[b]=a[3][b]}this.Q=[];for(b=0;b<3;b++)this.Q[b]=this.ea[b]==1||this.ea[b]==3||this.ea[b]==7?new V(a[4][b]):a[4][b];this.Z=a[5];this.Wc=a[6];this.Ah=a[7]?new pc(a[7]):i;this.af=a[8];this.Jb=a[9];this.jf=a[10]}p=Yb.prototype;p.c=0;p.ea=[];p.ua=[];p.Va=[];p.Z="";p.vg="";p.Wc=i;p.Ah=i;p.af=0;p.Jb=0;p.Q=[];p.jf=0;
function Bc(a,b){if(b!=i&&a.Wc!=i)for(var c=0;c<5;c++)if(!nc(a,c,b.z.Zc))return l;return f}function nc(a,b,c){var d=a.Wc[1][b];d||(d=0);var g=a.Wc[2][b];g||(g=0);var h=a.Wc[3][b];h||(h=0);(a=a.Wc[4][b])||(a=0);if(!c)return l;if(g==0&&a!=0)if(c[d]!=a)return l;if(g==2)if(c[d]>=c[h])return l;if(g==3)if(a>0){if(c[d]<a+1)return l}else if(c[d]<=c[h])return l;if(d>0&&g==5&&c[d]<a)return l;return f}
p.$b=function(a){if(this.ea[0]==5||this.ea[0]==4)this.ua[0]=a;else if(this.ea[0]==3)if(this.Q[0]!=i&&this.Q[0].O[0]!=i)this.Q[0].O[0].J=a;if(!this.vg)this.vg=this.Z;this.Z=this.vg.replace(/\$i/g,a)};function Cc(a,b){if(a.Ah&&a.af>0){if(b){var c=Dc(b,a.Ah.c);if(c!=i&&c.j>=a.af)return f}return l}return f}p.kb=function(a){return(this.Jb<=1||a!=i&&this.Jb<=a.j)&&Cc(this,a)&&Bc(this,a)};
p.ab=function(a){var b="<table cellpadding = 0 cellspacing = 0>",c=this.Jb<=1||a!=i&&this.Jb<=a.j,d=Cc(this,a);a=Bc(this,a);b+=G.f("<span "+(d&&c?a?"class='green'":"class='grey'":"class='red'")+">"+(this.ea[0]==7&&this.Q[0]?locale.use+": "+mc(this.Q[0]):this.Z)+"</span>");c||(b+=G.f("<span class='red'>"+E(locale.reqLevel,this.Jb)+"</span>"));d||(b+=G.f("<span class='red'>"+locale.req+" "+this.Ah.v+" ("+this.af+")</span>"));return b+"</table>"};p.$a=function(a){for(var b=0;b<3;b++)this.ea[b]==3&&a.add(this.Q[b])};
p.ye=function(a){for(var b=0,c=0;c<3;c++)switch(this.ea[c]){case 5:switch(this.Va[c]){case 0:b+=a[2]*this.ua[c];break;default:b+=a[this.Va[c]]*this.ua[c]}break;case 4:switch(this.Va[c]){case 0:b+=a[50]*this.ua[c];break;case 1:b+=a[53]*this.ua[c];break;case 2:b+=a[51]*this.ua[c];break;case 3:b+=a[55]*this.ua[c];break;case 4:b+=a[52]*this.ua[c];break;case 5:b+=a[54]*this.ua[c];break;case 6:b+=a[56]*this.ua[c]}break;case 3:b+=this.Q[c].ye(a)}return b};function Ec(a,b){this.c=b[0];this.v=b[1];this.Z=b[2];this.Ig=[];for(var c=0;c<b[3].length;c++){var d=new qc(b[3][c]);if(d){this.Ig.push(d);A.F(d.n)}}this.i=a;this.wa(nb(this.c,a.j))}p=Ec.prototype;p.c=0;p.v="";p.Z="";p.Ig=[];p.j=0;p.i=i;p.wa=function(a){var b=nb(this.c,this.i.j);this.j=a>b?b:a};function Fc(){this.b=document.createElement("div");this.M=document.createElement("div");this.u=document.createElement("div");this.b.appendChild(this.M);this.b.appendChild(this.u);this.M.Mo=o(l);this.M.onmousedown=o(l);P(this.M,"click",this.Id,this,[])}p=Fc.prototype;p.b=i;p.u=i;p.M=i;p.Ja=f;p.collapse=function(){this.u.style.display="none";this.Ja=l};p.expand=function(){this.u.style.display="block";this.Ja=f};p.Id=function(){this.Ja?this.collapse():this.expand()};function Gc(a){this.t=Array(a);for(var b=0;b<a;b++){this.t[b]=document.createElement("div");if(b==0)this.t[b].style.position="relative";else{this.t[b].style.position="absolute";this.t[b].style.zIndex=b;this.t[0].appendChild(this.t[b])}}}Gc.prototype.t=i;function Hc(a,b,c,d){var g=document.createElement("div");this.b=document.createElement("div");this.b.className=b+"_sel";this.vi=b;this.cd=[];for(var h=0;h<a.length;h++){this.cd[h]=document.createElement("a");this.cd[h].className=b+"_i"+h+(h==0?"_a":"");this.cd[h].innerHTML="<span class='"+b+"_l_f'>"+a[h]+"</span>";P(this.cd[h],"click",c,d,[h]);this.b.appendChild(this.cd[h])}g.className="clear_both";G.Ya(g)}p=Hc.prototype;p.vi="";p.cd=i;p.b=i;p.pe=0;
p.select=function(a){this.cd[this.pe].className=this.vi+"_i"+this.pe;this.cd[a].className=this.vi+"_i"+a+"_a";this.pe=a};function Ic(a){this.b=document.createElement("select");this.b.className="single_select";this.F(a)}p=Ic.prototype;p.b=i;p.fa=[];p.vj=function(a){this.b.name=a};p.F=function(a){var b;for(this.fa=[];this.b.firstChild;)this.b.removeChild(this.b.firstChild);for(b=0;b<a.length;b++){this.fa[b]=document.createElement("option");this.fa[b].value=a[b][0];this.fa[b].innerHTML=a[b][1];this.b.appendChild(this.fa[b])}};
p.select=function(a){for(var b=0;b<this.fa.length;b++)this.fa[b].selected=this.fa[b].value==a!=0};p.vb=function(){return this.b.options[this.b.selectedIndex].value};function Jc(a,b){var c;this.b=document.createElement("select");this.b.className="multi_select";this.b.multiple="true";this.b.name=b+"[]";this.fa=[];for(c=0;c<a.length;c++){this.fa[c]=document.createElement("option");this.fa[c].value=a[c][0];this.fa[c].innerHTML=a[c][1];this.b.appendChild(this.fa[c])}}Jc.prototype.b=i;Jc.prototype.fa=[];Jc.prototype.select=function(a){if(a!=(1<<this.fa.length+1)-1)for(var b=0;b<this.fa.length;b++)this.fa[b].selected=(a&1<<parseInt(this.fa[b].value,10))!=0};
Jc.prototype.vb=function(){var a=0,b,c,d=0;for(b=0;b<this.fa.length;b++){c=1<<parseInt(this.fa[b].value,10);d+=c;if(this.fa[b].selected==f)a+=c}if(a==0)a=d;return a};function Kc(a){this.k=Array(a);this.b=document.createElement("div");for(var b=0;b<a;b++){this.k[b]=document.createElement("div");this.k[b].style.display=b==0?"block":"none";this.k[b].style.width="100%";this.k[b].style.height="100%";this.b.appendChild(this.k[b])}this.Ja=0}p=Kc.prototype;p.k=i;p.b=i;p.Ja=0;p.$=i;p.show=function(a){if(a!=this.Ja){var b=this.Ja;this.k[a].style.display="block";this.k[b].style.display="none";this.Ja=a;this.$&&this.$[0].apply(this.$[1],[a,b])}};
p.wb=function(a,b){this.$=[a,b]};function Q(a,b){var c=document.createElement("colgroup"),d;this.b=document.createElement("table");this.b.cellSpacing="0";this.b.cellPadding="0";this.X=Array(a);this.d=Array(a);this.K=Array(b);this.b.appendChild(c);for(d=0;d<b;d++){this.K[d]=document.createElement("col");c.appendChild(this.K[d])}this.tg=document.createElement("tbody");this.b.appendChild(this.tg);for(c=0;c<a;c++){this.X[c]=document.createElement("tr");this.tg.appendChild(this.X[c]);this.d[c]=Array(b);for(d=0;d<b;d++){this.d[c][d]=document.createElement("td");
this.X[c].appendChild(this.d[c][d])}}}function Lc(a,b){var c,d;a.oj=b;for(c=0;c<a.d.length;c++)for(d=0;d<a.d[c].length;d++)a.d[c][d].vAlign=b}function Mc(a){var b=a.X.length,c;a.X[b]=document.createElement("tr");a.d[b]=[];for(c=0;c<a.K.length;c++){a.d[b][c]=document.createElement("td");a.d[b][c].vAlign=a.oj;a.X[b].appendChild(a.d[b][c])}a.tg.appendChild(a.X[b]);return b}
function Nc(a){var b=a.X.length,c=i,d;a.X[b]=document.createElement("tr");a.d[b]=[];c=document.createElement("td");c.colSpan=a.K.length;c.vAlign=a.oj;a.X[b].appendChild(c);for(d=0;d<a.K.length;d++)a.d[b][d]=c;a.tg.appendChild(a.X[b]);return b}p=Q.prototype;p.d=[];p.X=[];p.K=[];p.b=i;p.tg=i;p.oj="";function Oc(a,b,c){this.uf=new Kc(a.length);this.gi=new Hc(b,c,this.show,this);this.b=this.uf.b;this.bh=this.gi.b;for(b=0;b<a.length;b++)this.uf.k[b].appendChild(a[b])}p=Oc.prototype;p.bh=i;p.b=i;p.$=i;p.Ja=0;p.gi=i;p.uf=i;p.show=function(a){this.Ja=a;this.uf.show(a);this.gi.select(a)};p.wb=function(a,b){this.uf.wb(a,b)};function Pc(){}p=Pc.prototype;p.V=i;p.Ud=l;p.Pf=l;p.Wd=i;p.Wh=function(){if(this.V==i){this.V=document.createElement("div");this.V.className="overlay";document.getElementById("tt_overlay_w").appendChild(this.V)}var a=R.Cg();this.V.style.width=Math.max(a[0],document.body.scrollWidth)+"px";this.V.style.height=Math.max(a[1],document.body.scrollHeight)+"px";this.V.style.display="block";this.Ud=f;this.V.onclick=i};p.sa=function(){G.va(this.V);this.V.style.display="none";this.Pf=this.Ud=l};
p.rj=function(a){var b=a.scrollHeight,c=a.scrollWidth,d=R.Cg(),g=document.body.scrollLeft,h=document.body.scrollTop;if(b>d[1]){a.style.height=d[1]+"px";a.style.width=c*d[1]/b+"px"}if(c>d[0]){a.style.width=d[0]+"px";a.style.height=b*d[0]/c+"px"}a.style.marginLeft=g+(d[0]-c>>1)+"px";a.style.marginTop=h+(d[1]-b>>1)+"px"};p.uc=function(a){this.Wh();G.ha(this.V,a);this.rj(a)};function Qc(a,b){this.Ue={};if(a)for(var c in a)this.Ue[c]=a[c];this.bg=b;this.Yd=document.createElement("input");P(this.Yd,"change",this.Pi,this,[]);P(this.Yd,"keyup",this.Pi,this,[]);P(this.Yd,"blur",this.Pi,this,[])}Qc.prototype={Ue:i,bg:i,Yd:i,filter:function(a){G.va(this.bg);for(var b in this.Ue)if(!a||RegExp(a,"i").exec(b))this.bg.appendChild(this.Ue[b])},lo:function(){G.va(this.bg);for(var a in this.Ue)this.bg.appendChild(this.Ue[a])},Pi:function(){this.filter(this.Yd.value)}};function Rc(){this.He=[]}Rc.prototype.He=[];Rc.prototype.F=function(a){this.He[a.c]=a};Rc.prototype.contains=function(a){if(this.He[a])return f;return l};Rc.prototype.H=function(a){return this.He[a]};function Sc(){this.He=[];this.Sf=new t(this.qj,this)}Sc.prototype=new Rc;Sc.prototype.Sf=i;Sc.prototype.Fd=function(a,b,c){this.H(a)?w(b,c):Tc("php/interface/get_item.php"+F({item:a,lang:g_settings.language}),this.Sf,[b,c,this])};Sc.prototype.qj=function(a,b,c,d){if(a!=i){d.F(new bc(a));w(b,c)}};function Uc(){this.He=[];this.Sf=new t(this.qj,this)}Uc.prototype=new Rc;Sc.prototype.Sf=i;Uc.prototype.Fd=function(a,b,c){this.H(a)?w(b,c):Tc("php/interface/get_spell.php"+F({spell:a,lang:g_settings.language}),this.Sf,[b,c,this,a])};Uc.prototype.qj=function(a,b,c,d,g){if(a!=i){d.F(new V(a));w(b,c)}else e("SpellContainer::asyncGet failed! Requested Spell #"+g)};function Vc(a){this.i=a;this.le();this.Fg=l}p=Vc.prototype;p.i=i;p.Qb=[];p.R=[];p.De=[];p.Gg=[];p.Ih=[];p.If=[];p.Lh=[];p.C=[];p.ma=[];p.Kc=[];p.aa=[];p.n=[];p.ya=[];p.ui=[];p.jj=[];p.Og=0;p.Yg=0;p.li=0;p.Hg=0;p.Oh=0;p.rg=0;p.Mh=0;p.sg=0;p.Nh=0;p.kf=0;p.Ve=0;p.pg=0;p.Kh=0;p.zd=[];p.Zg=0;p.Pg=0;p.$g=0;p.Bc=0;p.ed=0;p.xf=0;p.bb=0;p.Ld=0;p.ah=0;p.Yf=0;p.Xf=0;p.hd=[];p.ee=[];p.gd=[];p.de=[];p.Yc=[];p.yc=[];p.Sb=0;p.Rb=0;p.Hb=0;p.Ec=0;p.Dc=0;p.fc=0;p.lc=0;p.Zi=0;p.gg=0;p.xh=0;p.wh=0;p.fg=0;p.$i=0;
p.hg=0;p.dg=0;p.cg=0;p.sd=0;p.th=0;p.We=0;p.Nf=0;p.Mf=0;p.lh=0;p.oi=0;p.Se=0;p.ji=0;p.Pj=0;p.cl=0;p.dl=0;p.Fg=l;
p.le=function(){var a;this.Qb=[0,0,0,0,0,0,0];this.R=[0,0,0,0,0];this.De=[0,0,0,0,0];this.Gg=[0,0,0,0,0];this.Ih=[0,0,0,0,0];this.If=[0,0,0,0,0];this.Lh=[0,0,0,0,0];this.C=[];for(a=0;a<40;a++)this.C[a]=0;this.aa=[0,0,0,0,0,0,0,0,0,0];this.ra=[0,0,0,0,0,0,0,0];this.n=[0,0,0,0,0,0,0,0];this.ya=[0,0,0,0,0];this.Kc=[0,0,0,0,0];this.Nh=this.sg=this.Mh=this.rg=this.Oh=this.li=this.Hg=this.Yg=this.Og=0;this.zd=[];this.Xf=this.Yf=this.ah=this.Ld=this.bb=this.xf=this.$g=this.Pg=this.Zg=this.Kh=this.pg=this.Ve=
this.kf=0;this.hd=[0,0,0];this.ee=[0,0,0];this.gd=[0,0,0];this.de=[0,0,0];this.hg=this.$i=this.fg=this.wh=this.xh=this.gg=this.Zi=0;this.Yc=[0,0,0,0];this.yc=[0,0,0,0];for(a=this.Pj=this.th=this.sd=this.cg=this.dg=this.lc=this.ji=this.oi=this.lh=this.Mf=this.Nf=this.We=this.Ki=this.fc=this.Dc=this.Ec=this.Ji=this.Hb=this.Rb=this.Sb=this.ed=this.Bc=0;a<6;a++)this.zd[a]=0;for(a=0;a<7;a++)this.ma[a]=0;this.Se=0;this.jj=[0,0,0,0,0,0,0,0]};
function tb(a,b){a.Fg&&e("Concurring calls of Stats::calculate");a.Fg=f;Wc(a.i.z);var c,d,g,h,j;h=0;var k=a.i.z,q=k.H(17)!=i&&k.H(17).U==2,x=k.H(18)!=i&&k.H(18).U==2,m=a.i.j,r,n=a.i.ba,v=[],s={},u=n.i.z,z,I;z=i;n.Qk=ma[n.i.e?n.i.e.c:0];n.ba=[];n.r=[];Xc(n,n.O);n.Ce={};n.Cf={};n.ii={};n.Vf=[-1,-1];n.Zf=[-1,-1];n.ig=[-1,-1];n.i.$a();for(I=0;I<20;I++)if(z=u.H(I)){z.$a();if(I==16)n.Vf=[z.U,z.da];if(I==17)n.Zf=[z.U,z.da];if(I==18)n.ig=[z.U,z.da];if(z.oa!=i)if(s[z.oa.c]!==f){s[z.oa.c]=f;v[v.length]=z.oa}}for(I=
0;I<v.length;I++)v[I].$a(n.i);n.ad={};for(I=0;I<n.ba.length;I++)Yc(n,n.ba[I],1,l,l);for(I=0;I<n.r.length;I++){z=n.r[I];z.Re||n.ii[z.n.c]||Yc(n,z.n,z.sb,f,z.ll)}r=n.O;n=r[0];v=r[1];s=r[2];u=r[3];g=a.i.Ma==i?0:a.i.Ma.c;var X=a.i.e;I=l;var J=z=0,aa=-1,N=c=i;if(X){I=f;z=X.c;J=X.Sa;aa=X.q.L;c=X.Tk;if(c[m])N=c[m]}X=[0,0,0,0,0];var ga=Fa[z];if(z==11&&J>0)switch(J){case 1:ga=Ga;break;case 5:ga=Ha;break;case 31:ga=Ia}a.le();if(!I||!N)N=[0,0,0,0,0,0,0,0,0,0,0];a.li=N[5];a.Hg=N[6];for(c=0;c<5;c++){X[c]=ya[g][c]+
(I?N[c]:0);a.De[c]=Math.floor(X[c]*(1+n[137][c]/100))}if(J==1||J==5||J==8)if(a.i.ba.kb(17002))n[49]+=2;else if(a.i.ba.kb(24866))n[49]+=4;if(a.i.ba.kb(48411)){if(J==1)n[290]+=4;if(J==5||J==8)n[79][0]+=4}a.ji=n[142][0]/100;for(c=0;c<19;c++){j=Zc(a.i,c);g=b?k.H(c):k.k[c][0];if(g!=i){dc(g,m);if(c!=5&&c!=6){h++;a.Se+=g.j}d=a;var O=g,Z=void 0;for(Z=0;Z<O.g.length;Z++)if(O.g[Z]!=i)if(O.g[Z][0]>=50)switch(O.g[Z][0]){case 50:d.ma[0]+=O.g[Z][1];break;case 51:d.ma[2]+=O.g[Z][1];break;case 52:d.ma[4]+=O.g[Z][1];
break;case 53:d.ma[1]+=O.g[Z][1];break;case 54:d.ma[5]+=O.g[Z][1];break;case 55:d.ma[3]+=O.g[Z][1];break;case 56:d.ma[6]+=O.g[Z][1]}else if(O.g[Z][0]>=11)d.C[O.g[Z][0]-11]+=O.g[Z][1];else d.R[la[O.g[Z][0]]]+=O.g[Z][1];if(O.ca!=-1&&O.qa!=-1)if(O.ca>=11)d.C[O.ca-11]+=O.qa;else d.R[la[O.ca]]+=O.qa;d.ma[0]+=O.ac;if(O.U==4&&O.da>0)d.ma[0]+=O.ac*d.ji;for(d=0;d<3;d++)if(g.D[d]){if(g.ga[d]<=0)if(j)j=l;else continue;$c(a,g.D[d].la.bc)}gc(g)&&$c(a,g.re);for(d=0;d<g.G.length;d++){j=g.G[d];j!=i&&$c(a,j)}if(g.Y){g=
g.Y.G;for(d=0;d<5;d++){j=g[d];j!=i&&$c(a,j)}}}}a.ma[0]=Math.round((a.ma[0]+n[22][0]+n[143][0])*(1+n[101][0]/100));for(c=1;c<a.ma.length;c++)a.ma[c]=Math.round((a.ma[c]+n[22][c]+n[143][c])*(1+n[142][c]/100));a.Se=h>0?a.Se/h:0;a.jj=[0,n[133],n[132],n[137][1],n[137][0],n[137][3],n[137][4],n[137][2]];for(c=0;c<5;c++){a.R[c]+=n[29][c];a.R[c]*=1+n[137][c]/100;a.R[c]+=a.De[c];a.R[c]=Math.floor(a.R[c]);if(ga[c]>0)a.Gg[c]=a.R[c]>=10*ga[c]?a.R[c]*(n[268][c]/100+ga[c])-10*ga[c]:0;for(d=0;d<32;d++)a.C[d]+=Math.floor(n[220][d][c]/
100*(a.R[c]-X[c]))}a.If[1]+=za[z]*100+a.R[1]*N[7];a.Lh[3]+=Aa[z]*100+a.R[3]*N[8];a.Yc[0]=a.C[26];for(c=0;c<4;c++){a.Yc[c]+=r[c][189][23];a.yc[c]+=a.Yc[c]/B[23][m-1]+r[c][240];if(c>0){a.yc[c]+=a.yc[0];a.Yc[c]+=a.Yc[0]}}a.cl=Math.ceil((Oa[3]-a.yc[1]*0.25)*B[23][m-1]/0.25);a.dl=Math.ceil((Na[3]-a.yc[1]*0.25)*B[23][m-1]/0.25);if(m>=80){a.Bc=a.C[38]+n[189][25];a.ed=8+a.Bc/B[25][m-1]}a.Pg=(m<80?10:10+(m-80)*0.8)*Math.max(0,a.R[2]-20)+(a.R[2]>=20?20:a.R[2]);a.Og=a.Pg+a.li*(1+n[282]/100)+n[34]+n[230];a.Og*=
1+n[133]/100;a.Zg=15*Math.max(0,a.R[3]-20)+(a.R[3]>=20?20:a.R[3]);a.Yg=a.Zg+a.Hg+n[35][0];a.Yg*=1+n[132]/100;a.Yf=a.C[17]+a.C[25]+n[189][17];a.Xf=a.Yf/B[17][m-1];a.gg=a.C[18]+a.C[25]+n[189][18];a.xh=a.gg/B[18][m-1];a.Ld=n[99]+a.C[27];a.bb+=a.Ld;a.xf+=n[166];a.bb+=Pa[z]*m;for(c=0;c<5;c++)a.bb+=a.Gg[c];a.Ld*=1+a.xf/100;a.bb*=1+a.xf/100;a.lc=n[124]+a.C[27]+Ca[z]*a.R[1]+Da[z]*m+Ea[z];for(c=0;c<5;c++)a.lc+=a.R[c]*(n[212][c]/100);a.lc*=1+n[167]/100;a.hd[0]=a.C[5]+a.C[20];a.gd[0]=a.C[8]+a.C[21];for(d=0;d<
a.R.length;d++)a.de[0]+=a.If[d];for(c=0;c<3;c++){a.hd[c]+=r[c][189][5]+r[c][189][20];a.ee[c]+=a.hd[c]/B[5][m-1]+r[c][54];a.gd[c]+=r[c][189][8]+r[c][189][21];a.de[c]+=a.gd[c]/B[8][m-1]+r[c][52]+r[c][290]+r[c][71][0];if(c>0){a.ee[c]+=a.ee[0];a.hd[c]+=a.hd[0];a.de[c]+=a.de[0];a.gd[c]+=a.gd[0]}}a.Pj=Math.ceil((Ja[3]-a.ee[1])*B[5][m-1]);a.hg=a.C[6]+a.C[20];a.$i=a.hg/B[6][m-1]+n[54]+u[54];a.fg=a.C[9]+a.C[21];a.wh=a.fg/B[9][m-1]+n[290]+n[71][0]+n[52]+u[290]+u[71][0]+u[52];for(d=0;d<a.R.length;d++)a.wh+=
a.If[d];if(z==11&&J==5){a.Hb=2500;if(h=k.H(16)){a.Sb=h.jd*2500/h.db;a.Rb=h.fd*2500/h.db}}else if(z==11&&J==1){a.Hb=1E3;if(h=k.H(16)){a.Sb=h.jd*1E3/h.db;a.Rb=h.fd*1E3/h.db}}else if(h=k.H(16)){a.Hb=h.db;a.Sb=h.jd;a.Rb=h.fd}else{a.Hb=2E3;a.Sb=22.6;a.Rb=22.6}a.Sb+=a.bb/14*a.Hb/1E3;a.Rb+=a.bb/14*a.Hb/1E3;a.Hb/=(1+a.Xf/100)*(1+n[138]/100+v[138]/100)*(1+n[319]/100+v[319]/100)*(1+n[192]/100+v[192]/100)*(1+n[193]/100+v[193]/100);a.ah=((1+a.Xf/100)*(1+n[138]/100)*(1+n[319]/100)*(1+n[192]/100)*(1+n[193]/100)-
1)*100;a.Sb+=n[13][0]+v[13][0];a.Rb+=n[13][0]+v[13][0];a.Sb*=1+(n[79][0]+v[79][0])/100;a.Rb*=1+(n[79][0]+v[79][0])/100;a.Ji=(a.Sb+a.Rb)*500/a.Hb;if(q){h=k.H(17);a.fc=h.db;a.Ec=h.jd+a.bb/14*a.fc/1E3;a.Dc=h.fd+a.bb/14*a.fc/1E3;a.fc/=(1+a.Xf/100)*(1+n[138]/100+s[138]/100)*(1+n[319]/100+s[319]/100)*(1+n[192]/100+s[192]/100)*(1+n[193]/100+s[193]/100);a.Ec+=n[13][0]+s[13][0];a.Dc+=n[13][0]+s[13][0];a.Ec*=1+(n[79][0]+s[79][0])/100;a.Ec*=1+(n[122]+s[122])/100;a.Ec>>=1;a.Dc*=1+(n[79][0]+s[79][0])/100;a.Dc*=
1+(n[122]+s[122])/100;a.Dc>>=1;a.Ki=(a.Ec+a.Dc)*500/a.fc}if(x){h=k.H(18);a.sd=h.db;a.dg=h.jd+a.lc/14*a.sd/1E3+n[13][0]+u[13][0];a.cg=h.fd+a.lc/14*a.sd/1E3+n[13][0]+u[13][0];a.sd/=(1+a.xh/100)*(1+(n[140]+u[140])/100)*(1+(n[141]+u[141])/100)*(1+(n[320]+u[320])/100)*(1+(n[192]+u[192])/100)*(1+(n[193]+u[193])/100);a.th=(a.dg+a.cg)*500/a.sd}a.Zi=((1+a.xh/100)*(1+n[140]/100)*(1+n[141]/100)*(1+n[320]/100)*(1+n[192]/100)*(1+n[193]/100)-1)*100;a.Ih[3]=Math.max(0,a.R[3]-10);a.Oh=a.Ih[3]+a.C[34]+n[238][1]/100*
a.bb+n[135][1];a.Oh*=1+n[317]/100;a.rg=a.C[19]+a.C[25]+n[189][19];a.Mh=((1+a.rg/B[19][m-1]/100)*(1+n[65]/100)*(1+n[193]/100)-1)*100;a.sg=a.C[7]+a.C[20]+n[189][7]+n[189][20];a.Nh=a.sg/B[7][m-1]+Math.min(n[55][1],n[55][2],n[55][3],n[55][4],n[55][5],n[55][6]);a.pg=a.C[10]+a.C[21]+n[189][10]+n[189][21];a.Kh=a.Lh[3]+a.pg/B[10][m-1]+n[57]+n[290]+Math.max(v[57],s[57]);for(c=0;c<6;c++)a.zd[c]=Math.abs(a.C[36])+Math.abs(n[123][c]);if(vb(a.i)){a.$g=5*(0.0010+Math.sqrt(a.R[3])*a.R[4]*Ta[m-1]);a.kf=a.$g;a.Ve=
n[85]+a.C[32]+a.kf*(n[134]/100);for(c=0;c<5;c++)a.Ve+=n[219][c]/100*a.R[c]}else{a.Ve=0;a.kf=0}a.kf+=N[10];a.Ve+=N[10];if((1<<z&134)!=0)a.oi=5+n[51]+(z==2&&aa==1?2.25*a.ed:0)+(z==1&&aa==2?1.5*a.ed:0)+(a.C[4]+n[189][4])/B[4][m-1];a.Nf=a.C[2]+n[189][2];if(I){a.Mf=z==2||z==1||z==6?n[49]+5+1/(Qa[z-1]/(a.Nf/B[2][m-1]+N[9])+(Sa[z-1]?1/Sa[z-1]:0)):n[49]+Ba[z]+a.De[1]*N[9]+1/(Qa[z-1]/(a.Nf/B[2][m-1]+N[9]*(a.R[1]-a.De[1]))+(Sa[z-1]?1/Sa[z-1]:0));if((1<<z&94)!=0){a.We=a.C[3]+n[189][3];switch(z){case 1:case 2:case 6:a.We+=
(a.R[0]-X[0])*0.27}a.lh=5+n[47]+1/(Qa[z-1]/(a.We/B[3][m-1])+(Ra[z-1]?1/Ra[z-1]:0))}}else a.Mf=n[49]+a.Nf/B[2][m-1];a.Qb[0]=a.Og;a.Qb[1]=a.Yg;a.Qb[2]=100;a.Qb[3]=100+n[35][3]+Math.min(v[35][3],s[35][3]);a.Qb[4]=100;a.Qb[5]=Math.floor(100+n[35][6]/10);a.Qb[6]=a.Se;a.aa[0]=[[Math.floor(a.Sb),Math.ceil(a.Rb)],q?[Math.floor(a.Ec),Math.ceil(a.Dc)]:i];a.aa[1]=[a.Ji,q?a.Ki:i];a.aa[2]=a.bb;a.aa[3]=[a.Hb,q?a.fc:i];a.aa[4]=a.ah;a.aa[5]=a.ee[1];a.aa[6]=a.de[1];a.aa[7]=[Math.floor(a.yc[1]),q?Math.floor(a.yc[2]):
i];a.aa[8]=a.ed;if(x){a.ra[0]=[Math.floor(a.dg),Math.ceil(a.cg)];a.ra[1]=a.th;a.ra[3]=a.sd}else{a.ra[0]=i;a.ra[1]=i;a.ra[3]=i}a.ra[2]=a.lc;a.ra[4]=a.Zi;a.ra[5]=a.$i;a.ra[6]=a.wh;a.ra[7]=a.ed;a.n[0]=a.Oh;a.n[1]=a.Mh;a.n[2]=a.Nh;a.n[3]=Math.min(a.zd[1],a.zd[2],a.zd[3],a.zd[4],a.zd[5]);a.n[4]=a.kf;a.n[5]=a.Ve;a.n[6]=a.Kh;a.n[7]=a.ed;a.ya[0]=a.ma[0];a.ya[1]=a.Mf;a.ya[2]=a.lh;a.ya[3]=a.oi;a.ya[4]=a.C[24]+Math.min(a.C[14]+n[189][14],a.C[15]+n[189][15],a.C[16]+n[189][16]);a.Kc[0]=a.ma[6];a.Kc[1]=a.ma[2];
a.Kc[2]=a.ma[3];a.Kc[3]=a.ma[4];a.Kc[4]=a.ma[5];a.Fg=l}function $c(a,b){var c;if(b.kb(a.i))for(c=0;c<b.ea.length;c++)if(b.ea[c]==5)if(b.Va[c]>=11)a.C[b.Va[c]-11]+=b.ua[c];else a.R[la[b.Va[c]]]+=b.ua[c];else if(b.ea[c]==4)a.ma[b.Va[c]]+=b.ua[c]}
function Qb(a){var b=[],c=a.i.j;b[0]=a.R[4];b[1]=a.Mf*B[2][c-1];b[2]=a.lh*B[3][c-1];if(ad(a.i)){b[3]=a.Nh*B[7][c-1];b[4]=a.Kh*B[10][c-1];b[5]=a.Mh*B[19][c-1]}else{b[3]=a.ee[1]*B[5][c-1];b[4]=a.de[1]*B[8][c-1];b[5]=a.ah*B[17][c-1]}b[6]=a.yc[1]*B[23][c-1];b[7]=a.ed*B[25][c-1];return b};function bd(a){this.k=Array(19);this.wg=[1,2,3,16,[20,5],4,19,9,10,6,7,8,11,11,12,12,[21,17,13],[23,22,14,13,17],[28,26,25,15]];this.Zc=[0,0,0,0,0];this.i=a;for(a=0;a<this.k.length;a++)this.k[a]=[i,i,i,i,i]}p=bd.prototype;p.k=[];p.wg=[];p.oh=i;p.qd=0;p.ph=-1;p.Li=i;p.Yj=i;p.xi=l;p.yi=i;p.Zc=[];p.i=i;function cd(a,b){for(var c=a.k[b].length-1;c>0;c--)a.k[b][c]=a.k[b][c-1];a.k[b][0]=i}
function dd(a,b,c){c==16&&!ed(a.i)&&b.Aa==17&&a.k[17][0]!=i&&cd(a,17);c==17&&!ed(a.i)&&a.k[16][0]&&a.k[16][0].Aa==17&&cd(a,16)}p.tc=function(){if(this.qd>-1){if(this.ph>-1){ec(this.k[this.qd][0],this.Yj,this.ph,f);Wc(this)}if(this.xi){var a=this.k[this.qd][0],b=this.yi;if(b)for(var c=0;c<a.G.length;c++)if(a.G[c].c==b.c){a.G.splice(c,1);break}sb(this.k[this.qd][0],this.Li)}}this.oh=this.Li=i;this.ph=this.qd=-1;this.xi=l;this.yi=i};
p.F=function(a,b){var c=l,d;if(typeof this.wg[a]=="object")for(d=0;d<this.wg[a].length;d++){if(b.Aa==this.wg[a][d])c=f}else if(b.Aa==this.wg[a])c=f;dc(b,this.i.j);if(!lc(this.i,b)){T(U,"Your Character does not fit the requirements to wear "+b.v+"!");return l}if(fd(this,b,a)){dd(this,b,a);if(c){cd(this,a);(this.k[a][0]=b)&&fc(b,this.i)}}return c};
function fd(a,b,c){var d;if(b.rf||(b.we&524288)!=0==f)for(d=0;d<a.k.length;d++)if(d!=c)if(a.k[d][0]!=i&&b.c==a.k[d][0].c){T(U,E(locale.ERR_UniqueItem,b.v));return l}return f}p.remove=function(a){this.k[a][0]!=i&&cd(this,a)};p.H=function(a){if(this.qd==a&&this.oh!=i)return this.oh;if(a>=0&&a<this.k.length)return this.k[a][0];return i};
function Wc(a){var b=i,c=i;c=-1;a.Zc=[0,0,0,0,0];for(var d=0;d<19;d++)if(b=a.H(d))for(var g=0;g<3;g++)if(c=b.D[g]){c=c.da;c==6&&a.Zc[1]++;if(c==0||c==3||c==5||c==8)a.Zc[2]++;if(c==2||c==4||c==5||c==8)a.Zc[3]++;if(c==1||c==3||c==4||c==8)a.Zc[4]++}}p.ai=function(a){var b,c;for(b=0;b<this.k.length;b++)if(this.k[b][0]!=i)for(c=0;c<3;c++)this.k[b][0].D[c]&&this.k[b][0].D[c].c==a&&ec(this.k[b][0],i,c,l)};
p.Ag=function(a,b){var c,d,g,h;for(c=0;c<this.k.length;c++)if(this.k[c][0]!=i){h=Zc(this.i,c);for(d=0;d<3;d++){g=this.k[c][0].ga[d];if((g>0||h)&&(!b||(g&b)!=0)){if(g<=0)h=l;ec(this.k[c][0],wa.H(a),d,l)}}}};p.ci=function(){var a;for(a=0;a<19;a++)this.k[a][0]&&this.k[a][0].restore()};p.$h=function(a){this.ci();for(var b in a)this.k[b][0]&&oc(this.k[b][0],a[b][0],a[b][1])};
p.tj=function(a,b){var c,d,g,h,j,k="",q;if(a.length==0)T(U,"No stats for reduction selected!");else if(b.length==0)T(U,"No stats to add selected!");else for(c=0;c<19;c++){q=this.k[c][0];if(q==i)k+="No item found in slot "+c+".<br />";else if(q.j<200)k+="Item level to low.<br />";else if(q.W!=-1)k+="Item '<span style='color:"+xa[q.Ga]+"'>"+q.v+"</span>' is already reforged.<br />";else{k+="<span style='color:"+xa[q.Ga]+"'>"+q.v+"</span>";for(d=0;d<a.length;d++){k+="Trying to reduce "+locale.ItemStatNames[a[d]]+
"<br />";for(g=0;g<q.g.length;g++)if(q.g[g]&&q.g[g][0]==a[d]){k+="Found "+locale.ItemStatNames[a[d]]+"<br />";for(h=0;h<b.length;h++){j=f;for(g=0;g<q.g.length;g++)if(q.g[g]&&q.g[g][0]==b[h])j=l;if(j){oc(q,a[d],b[h]);k+="Reforge successful reduced "+locale.ItemStatNames[a[d]]+" and added "+locale.ItemStatNames[b[h]]+"<br />";break}k+=locale.ItemStatNames[b[h]]+" is already present <br />"}break}k+="No modification<br />"}}}};function kb(a,b){this.i=a;this.c=b[0];this.v=b[1];this.eg=[];for(var c=0;c<b[2].length;c++)this.eg[c]=new qc(b[2][c]);if(1<<this.c&4196506)this.jl=f}p=kb.prototype;p.i=i;p.c=-1;p.v=-1;p.eg=[];p.jl=l;p.$a=function(a){for(var b,c,d=0;d<this.eg.length;d++){b=this.eg[d];if(b.n!=i){c=this.i.e;if(c!=i&&1<<c.c-1&b.Gf||b.Gf<=0)a.add(b.n)}}};p.toString=function(){return"CharacterRace ("+this.v+","+this.eg+")"};function gd(a){var b;this.N=0;this.c=a[0];this.kk=a[1];this.Ij=a[2];this.Q=Array(5);for(b=this.Ca=0;b<a[3].length;b++)if(a[3][b]){this.Q[b]=new V(a[3][b]);A.F(this.Q[b]);this.Ca++}else this.Q[b]=i;this.I=this.Q[0].I;this.jk=a[4];this.td=[i,i,i];this.fb=a[5]}p=gd.prototype;p.c=0;p.Q=i;p.fb=i;p.Ca=0;p.jk=0;p.N=0;p.kk=0;p.Ij=0;p.c=0;p.td=[];p.I="Temp";function hd(a){for(var b=0;b<3;b++)if(a.td[b]!=i&&a.td[b].Ca!=a.td[b].N)return l;return f}p.getName=function(){return this.Q[0]?this.Q[0].getName():i};
function id(a,b,c){if(c==4){if(b==3||b==31||b==35||b==41){if((a.fb[0]&212992||a.fb[0]==0)&&(a.fb[1]&2147483648||a.fb[1]==0))return f;return l}if(a.fb[0]&21238021||a.fb[0]==0)return f;return l}if(c==1){if(b==7||b==37||b==44){if((a.fb[0]&2064||a.fb[0]==0)&&(a.fb[1]&268435456||a.fb[1]==0))return f;return l}if((a.fb[0]&42476576||a.fb[0]==0)&&(a.fb[1]&201326592||a.fb[1]==0))return f;return l}return f};function jd(a,b,c){var d,g,h,j,k,q;this.c=a;this.mh=-1;this.tb=(this.be=c)?1:3;this.X=c?6:11;this.K=4;this.dh=c?20:10;this.nh=c?3:5;this.Wj=c?4:1;this.ug=[];this.ve=[];this.Wa=[0,0,0];this.L=c?0:-1;this.Bd=[];this.ib=[];this.q=[];this.lj=[];this.Bb=[];this.Wf=[];this.qg=[];this.j=85;this.b=document.createElement("div");this.ue=[];this.Cd=[];this.Ph=document.createElement("span");this.Ph.className="ts_total";this.mg=document.createElement("a");this.Lf=document.createElement("div");this.yh=document.createElement("span");
this.zh=document.createElement("span");this.Wb=[];this.Oc=[];this.me=[];this.Jh=[];this.Hc=[];this.qi=c?["fe","te","cu"]:["wa","pa","hu","ro","pr","dk","sh","ma","wl","","dr"];this.Hf=this.Xc=i;this.Fe="";this.rb=b;this.Fi=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];for(d=0;d<this.tb;d++){k=new Q(this.X,this.K);k.b.cellSpacing=0;k.b.cellPadding=0;k.b.className="talent_tree_table";this.ve[d]=b[d][0];this.q[d]=Array(this.X);this.ib[d]=Array(this.X);for(a=0;a<this.X;a++){this.q[d][a]=Array(this.K);
this.ib[d][a]=Array(this.K)}this.Bd[d]=k;for(a=0;a<b[d][3].length;a++)kd(this,b[d][3][a],d);for(a=0;a<this.X;a++)for(g=0;g<this.K;g++)if(this.q[d][a][g]!=i){k=this.q[d][a][g];for(j=0;j<3;j++)if(h=k.jk[j])k.td[j]=this.lj[h]}this.Wf[d]=[];for(a=0;a<b[d][4].length;a++)this.Wf[d][a]=b[d][4][a]!=i?new V(b[d][4][a]):i;this.Bb[d]=[];for(a=0;a<b[d][5].length;a++)this.Bb[d][a]=new V(b[d][5][a])}k=new Q(1,3);d=new Q(1,1);d.b.className="align_center";k.b.className="talent_table";(new Q(1,3)).b.className="align_center";
this.mg.className="talent_reset_link";this.mg.appendChild(document.createTextNode("[x]"));P(this.mg,"click",this.Nl,this);this.yh.className="talent_remaining_points";this.zh.className="talent_required_level";q=new Q(1,2);q.d[0][0].appendChild(this.yh);q.d[0][1].appendChild(this.zh);q.d[0][1].appendChild(this.Ph);q.d[0][1].appendChild(this.mg);q.d[0][1].className="text_align_right";q.b.style.width="100%";this.Ad=new Kc(2);this.Ad.k[0].className="text_align_center";this.Ad.k[0].appendChild(document.createTextNode(E(locale.ChooseYourSpericalization,
locale.a_class[this.c-1])));this.Ad.k[1].appendChild(q.b);this.Ad.b.className="ts_title";d.d[0][0].appendChild(this.Ad.b);for(a=0;a<this.tb;a++){this.ue[a]=document.createElement("a");this.Cd[a]=document.createElement("span");this.Wb[a]=document.createElement("div");this.Oc[a]=document.createElement("div");j=a==0?"#D0A000":a==1?"#A00000":"#2E4D99";q=new Q(1,3);this.ug[a]=document.createElement("img");this.ug[a].className="talent_tree_icon";if(!this.be)this.ug[a].src="images/icons/medium/"+b[a][2]+
".png";this.Cd[a].className="talent_tree_spent";this.ue[a].appendChild(document.createTextNode(this.ve[a]));P(this.ue[a],"click",this.ak,this,[a]);h=document.createElement("div");h.className="talent_tree_title";g=document.createElement("h3");g.appendChild(this.ue[a]);g.appendChild(this.Cd[a]);g.className="talent_tree_name";this.me[a]=document.createElement("a");this.me[a].className="talent_tree_reset_link";this.me[a].appendChild(document.createTextNode("[x]"));P(this.me[a],"click",this.Ol,this,[a]);
q.d[0][0].appendChild(this.ug[a]);q.d[0][1].appendChild(g);q.d[0][1].style.width="100%";q.d[0][1].vAlign="center";q.d[0][2].appendChild(this.me[a]);q.b.style.width="100%";h.appendChild(q.b);this.Oc[a].appendChild(h);this.Oc[a].appendChild(this.Bd[a].b);this.Oc[a].className="talent_tree_node";if(!c){g=document.createElement("h3");g.className="talent_select_title";h=document.createElement("a");h.appendChild(document.createTextNode(this.ve[a]));P(h,"click",this.ak,this,[a]);this.Jh[a]=h;g.appendChild(h);
this.Wb[a].appendChild(g);this.Wb[a].style.borderColor=j;h=document.createElement("div");h.className="talent_select_icon_div";h.style.backgroundImage="url(images/icons/large/"+b[a][2]+".png)";g=document.createElement("div");g.className="talent_select_circle_div";g.style.backgroundImage="url(images/talents/talent_select_circle_grey.png)";h.appendChild(g);this.Wb[a].appendChild(h);h=document.createElement("div");h.className="talent_spells_parent";q=new Q(this.Bb[a].length,2);Lc(q,"middle");this.qg[a]=
[];this.Hc[a]=[];for(g=0;g<this.Bb[a].length;g++){j=new Gc(3);this.Hc[a][g]=document.createElement("span");this.Hc[a][g].innerHTML+=this.Bb[a][g].getName();this.Hc[a][g].onmouseout=function(){U.na()};this.Hc[a][g].onmousemove=function(){U.move()};P(this.Hc[a][g],"mouseover",U.fi,U,[this.Bb[a][g]]);j.t[0].className="ts_primary_icon"+(g!=0?"_s":"");j.t[0].style.backgroundImage="url(images/icons/"+(g==0?"half":"small")+"/"+this.Bb[a][g].I+".png)";j.t[1].className="ts_primary_border"+(g!=0?"_s":"");j.t[2].className=
"ts_primary_event"+(g!=0?"_s":"");j.t[2].onmouseout=function(){U.na()};j.t[2].onmousemove=function(){U.move()};P(j.t[2],"mouseover",U.fi,U,[this.Bb[a][g]]);this.qg[a][g]=j;q.d[g][0].appendChild(j.t[0]);q.d[g][1].appendChild(this.Hc[a][g])}h.appendChild(q.b);this.Wb[a].appendChild(h);h=document.createElement("div");h.className="talent_select_description";h.appendChild(document.createTextNode(Za(b[a][1],i).join(" ")));this.Wb[a].appendChild(h);this.Wb[a].className="talent_select_div";this.Oc[a].appendChild(this.Wb[a])}k.d[0][a].appendChild(this.Oc[a])}this.Lf.className=
"talent_link_div";d.d[0][0].appendChild(k.b);this.pf=document.createElement("a");this.pf.innerHTML=locale.ViewTalentTrees;this.pf.className="talent_switch_link";P(this.pf,"click",this.$l,this,[a]);b=document.createElement("div");b.className="text_align_center";b.appendChild(this.pf);d.d[0][0].appendChild(b);d.d[0][0].appendChild(this.Lf);this.b.appendChild(d.b);ld(this,-1);this.update()}p=jd.prototype;p.ib=i;p.Bd=i;p.q=[];p.lj=i;p.be=l;p.mh=0;p.c=0;p.tb=3;p.X=11;p.K=4;p.dh=10;p.Wj=1;p.Oa=i;p.j=-1;
p.Xc=i;p.rb=i;p.ve=[];p.ug=i;p.Wa=[];p.L=-1;p.sk=f;p.Hf=i;p.Fe="";p.b=i;p.ue=i;p.Cd=i;p.Ph=i;p.mg=i;p.me=i;p.Lf=i;p.yh=i;p.zh=i;p.qi=i;p.Wb=i;p.Oc=i;p.pf=i;p.Ad=i;p.qg=i;p.Jh=i;p.Hc=i;p.Qi=i;p.Bb=i;p.Wf=i;p.Fi=i;p.zl=function(a,b,c){this.ib[a][b][c].Qg.className="talent_highlight_div_hover";U.Hk(this,a,b,c,this.ib[a][b][c].zb)};p.yl=function(a,b,c){this.ib[a][b][c].Qg.className="talent_highlight_div";U.na()};p.Ol=function(a){md(this,a,l);this.update();nd(this);this.Oa&&w(this.Oa,[])};p.Nl=function(){this.le(l)};
p.ak=function(a){if(this.L==-1){ld(this,a);this.update()}};p.$l=function(){this.sk?od(this,l):od(this,f)};
function ld(a,b){for(var c=0;c<a.tb;c++){a.Oc[c].style.borderColor=c==b?"#FFCC00":"";a.Bd[c].b.style.backgroundImage=c==b?"url(images/talents/talent_tree_glow.png)":"";a.me[c].style.visibility=b==-1?"hidden":"visible";a.Cd[c].style.visibility=b==-1?"hidden":"visible";for(var d=0;d<a.Bb[c].length;d++){a.qg[c][d].t[0].style.backgroundImage="url(images/icons/"+(b==-1||c==b?"":"g/")+(d==0?"half":"small")+"/"+a.Bb[c][d].I+".png)";a.qg[c][d].t[1].style.backgroundImage="url(images/icon_border"+(d==0?"_smaller":
"_smallest")+(b==-1||c==b?"":"_g")+".png)";a.Hc[c][d].className="ts_primary_name"+(b==c||b==-1?"":"_g")}}a.L=b;if(b==-1){od(a,f);a.Ad.show(0)}else{od(a,l);a.Ad.show(1)}od(a,b==-1);c=b==-1;for(d=0;d<a.tb;d++)if(c){a.ue[d].className="talent_tree_name_link";a.Jh[d].className="talent_select_link"}else{a.ue[d].className="talent_tree_name_link_inactive";a.Jh[d].className="talent_select_link_inactive"}a.le(f);a.Qi&&w(a.Qi,[b])}
function od(a,b){for(var c=0;c<a.Wb.length;c++)a.Wb[c].style.display=b?"block":"none";a.sk=b;a.pf.innerHTML=b?locale.ViewTalentTrees:locale.ViewSummaries}function pd(a){return a.j<a.dh?0:Math.floor(qd(a)-rd(a))}function qd(a){return a.j<a.dh?0:a.be?Math.floor((a.j-a.dh)/a.Wj+1):1+Math.min(35,a.j-9>>1)+Math.max(0,a.j-80)}function rd(a){for(var b=0,c=0;c<a.tb;c++)b+=a.Wa[c];return b}
function sd(a){var b,c,d,g,h,j,k;for(b=0;b<a.tb;b++){for(c=g=0;c<a.X;c++)for(d=0;d<a.K;d++){k=a.q[b][c][d];if(k!=i)g+=k.N}a.Wa[b]=g}j=pd(a)<=0;for(b=0;b<a.tb;b++){g=0;h=a.L==-1||b!=a.L&&a.Wa[a.L]<31;a.Oc[b].style.backgroundImage="url(images/talents/bg/"+(h?"g/":"")+(1<<a.c-1)+"_"+b+".jpg)";for(c=0;c<a.X;c++)for(d=0;d<a.K;d++){k=a.q[b][c][d];if(k!=i){k=a.q[b][c][d];if(k!=i){a.ib[b][c][d].update(j||h,hd(k)&&g>=c*a.nh&&!j&&!h);for(var q=0;q<3;q++)if(k.td[q]){var x=a,m=b,r=c,n=d,v=k.td[q],s=void 0,u=
"",z=v.kk;v=v.Ij;if(x.q[m][z][v].Ca==x.q[m][z][v].N)if(x.q[m][r][n].Ca==x.q[m][r][n].N||x.q[m][r][n].Ca!=x.q[m][r][n].N&&pd(x)!=0&&x.Wa[m]>=x.nh*r)u="_active";if(n!=v){if(n<v)x.ib[m][z][v].Ob[0].className="talent_arrow_left_start"+u;else x.ib[m][z][v].Ob[2].className="talent_arrow_right_start"+u;for(s=Math.min(n,v)+1;s<Math.max(n,v);s++)x.Bd[m].d[v][s].className="talent_arrow_horizontal"+u;if(r!=z)x.Bd[m].d[z][n].className=n<v?"talent_arrow_left_corner"+u:"talent_arrow_right_corner"+u;else if(n<v)x.ib[m][r][n].Ob[2].className=
"talent_arrow_left_end"+u;else x.ib[m][r][n].Ob[0].className="talent_arrow_right_end"+u}if(r!=z){if(n==v)x.ib[m][z][v].Ob[3].className="talent_arrow_vertical_start"+u;for(s=Math.min(r,z)+1;s<Math.max(r,z);s++)x.Bd[m].d[s][n].className="talent_arrow_vertical"+u;x.ib[m][r][n].Ob[1].className="talent_arrow_vertical_end"+u}}g+=k.N}}}}}
function nd(a){var b="";a.Xc=[];a.Hf=[];a.Fe="";var c=b=0,d=-1,g="",h,j,k;for(h=0;h<a.tb;h++)for(j=0;j<a.X;j++)for(k=0;k<a.K;k++)if(a.q[h][j][k]!=i){a.Hf[b++]=a.q[h][j][k].N;a.Xc[c++]=a.q[h][j][k].N;if(d==-1)d=a.q[h][j][k].N;else{d=d*6+a.q[h][j][k].N;g+=td(a,d);d=-1}}else a.Xc[c++]=0;if(d!=-1)g+=td(a,d*6);for(j=0;j<g.length;j++)if(g.charCodeAt(j)==48){for(b=0;g.charCodeAt(j)==48&&j<g.length;){j++;b++}if(j!=g.length){j--;a.Fe+=","+td(a,b)}}else a.Fe+=g.charAt(j);a.Ph.innerHTML=rd(a)+"/"+qd(a);a.Cd[0].innerHTML=
a.Wa[0];a.Cd[1].innerHTML=a.Wa[1];a.Cd[2].innerHTML=a.Wa[2];b=a.be?"?p="+a.qi[Math.log(a.c)/Math.LN2]+a.Fe+"&pid="+a.mh:"?t="+a.qi[Math.log(a.c)/Math.LN2]+a.Fe;a.Lf.innerHTML="<a class='talent_link' target='_blank' href='"+b+"'>http://chardev.org/"+b+"</a><br/>";b="http://www.wowarmory.com/talent-calc.xml?"+(a.be?"pid="+a.mh:"cid="+(Math.log(a.c)/Math.LN2+1))+"&tal="+a.Hf.join("");a.be||(a.Lf.innerHTML+="<a class='talent_link' target='_blank' href='"+b+"'>http://www.wowarmory.com/</a>");if(!a.Oa){b=
rd(a);b=b==0?0:10+Math.max(0,Math.min(71,(b-1)*2-1))+Math.max(0,b-37);a.zh.innerHTML=E(locale.Required_Level,"<span class='ts_level'>"+(b==0?"-":b+"")+"</span>")}a.yh.innerHTML=E(locale.Remaining_Points,"<span class='ts_remaining'>"+pd(a)+"</span>")}
p.Xj=function(a,b,c,d){U.na();if(this.L!=-1&&this.q[a][b][c]!=i&&this.q[a][b][c].N+d<=this.q[a][b][c].Ca&&this.q[a][b][c].N+d>=0&&pd(this)-d>=0&&this.Wa[a]>=this.nh*b&&(this.Wa[this.L]>=31||a==this.L)&&(this.L!=a||this.Wa[a]+d>=31||rd(this)==this.Wa[a])){this.q[a][b][c].N+=d;this.Wa[a]+=d;var g;a:{g=0;var h,j,k,q=[];for(h=0;h<this.X;h++){q[h]=[];for(j=0;j<this.K;j++){q[h][j]=-1;k=this.q[a][h][j];if(k!=i&&k.N>0){if(g<h*this.nh){g=l;break a}if(!hd(k)){g=l;break a}g+=k.N}}}g=f}if(g)sd(this);else{this.q[a][b][c].N-=
d;this.Wa[a]-=d}nd(this);this.Oa&&w(this.Oa,[])}U.Hk(this,a,b,c,this.ib[a][b][c].zb);return l};function kd(a,b,c){var d=b[1],g=b[2];if(!a.q[c][d][g]){b=new gd(b);if(!(a.be&&!id(b,a.mh,a.c))){a.q[c][d][g]=b;a.lj[b.c]=b;b=new ud(a.q[c][d][g]);b.b.className="talent_border";P(b.zb,"click",a.Xj,a,[c,d,g,1]);P(b.zb,"contextmenu",a.Xj,a,[c,d,g,-1]);P(b.zb,"mouseover",a.zl,a,[c,d,g]);P(b.zb,"mouseout",a.yl,a,[c,d,g]);G.ha(a.Bd[c].d[d][g],b.b);a.ib[c][d][g]=b}}}
function md(a,b,c){if(!c&&b==a.L&&rd(a)!=a.Wa[b])a.le(f);else for(c=0;c<a.X;c++)for(var d=0;d<a.K;d++)if(a.q[b][c][d]!=i)a.q[b][c][d].N=0}function td(a,b){b=b>9?b>35?65+b-36:97+b-10:48+b;return unescape("%"+a.Fi[Math.floor(b/16)]+a.Fi[Math.floor(b%16)])}p.le=function(a){for(var b=0;b<this.tb;b++)md(this,b,f);a||ld(this,-1);this.update();nd(this);this.Oa&&w(this.Oa,[])};p.update=function(){sd(this);nd(this)};
p.$a=function(a){var b=i,c,d,g;for(c=0;c<this.tb;c++){for(d=0;d<this.X;d++)for(g=0;g<this.K;g++)if(this.q[c][d][g]!=i){b=this.q[c][d][g].N==0?i:this.q[c][d][g].Q[this.q[c][d][g].N-1];b!=i&&a.add(b)}if(c==this.L){for(d=0;d<this.Bb[c].length;d++)a.add(this.Bb[c][d]);for(d=0;d<this.Wf[c].length;d++)a.add(this.Wf[c][d])}}};p.wa=function(a){this.j=a;pd(this)<0&&this.le(f);this.update()};p.wb=ca("Oa");function jb(a){var b,c=0;this.rb=a;this.g=[];this.j=-1;this.qe=i;this.T=[[i,i,i],[i,i,i],[i,i,i]];this.c=a[0];this.v=a[1];this.q=new jd(a[0],a[2],l);this.Tk=a[3];this.Fh={};this.si=[];for(b=0;b<a[4].length;b++)this.si[b]=new qc(a[4][b]);this.ki=[[],[],[]];for(c=0;c<a[5].length;c++)for(b=0;b<a[5][c].length;b++)this.ki[c][b]=new vd(a[5][c][b]);if(a[6]){this.qe=[];for(b=0;b<a[6].length;b++){this.qe[b]=new rc(a[6][b]);this.Fh[this.qe[b].c]=this.qe[b]}}if(a[7]){this.ge=[];for(b=0;b<a[7].length;b++){c=
new V(a[7][b]);this.ge.push(c);A.F(c)}}if(a[9]){this.ge=[];for(b=0;b<a[9].length;b++)A.F(new V(a[9][b]))}this.Lg=a[8];this.md=[];this.pj=[];for(b=0;b<56;b++){this.md[b]=1;this.pj[b]=0}}p=jb.prototype;p.rb=i;p.g=[];p.q=i;p.c=-1;p.v="";p.j=-1;p.qe=i;p.Sa=0;p.T=i;p.ki=i;p.zf=0;p.Fh=i;p.ge=i;p.Lg=i;p.Dh=i;p.pd=i;p.md=[];p.pj=[];p.wa=function(a){this.j=a;this.q.wa(a);for(a=this.zf=a<25?0:a<50?1:a<75?2:3;a<3;a++){this.T[0][a]=i;this.T[1][a]=i;this.T[2][a]=i}};
p.Yh=function(){var a=this.q.L;switch(this.c){case 2:switch(a){case 2:a=this.pj.slice(0);a[3]=0.81;a[4]=2.27;a[31]=1.72;a[32]=0.95;a[36]=0.81;a[37]=1.25;a[38]=1.03;a[49]=1.01;return a}}return this.md.slice(0)};p.Hd=function(a){if(a==0)this.pd=i;else{for(var b=0;b<this.ge.length;b++)if(this.ge[b].c==a){this.pd=new sc(this.ge[b],1);return}e("CharacterClass::setPresence: Unable to set presence "+a)}};p.Sc=function(a){this.Sa=a;return this.Dh=this.Sa!=0?this.Fh[this.Sa]:i};
function wd(a,b,c){var d,g=-1;a.zf==0&&T(U,"You can't use glyphs until reaching level 25.");if(c!=i)for(d=0;d<a.zf;d++)if(a.T[b][d]==i)g=g==-1?d:g;else if(a.T[b][d].c==c.c){T(U,'The glyph "'+c.n.getName()+'" is already active!');return}if(g==-1)T(U,"All your "+locale.GlyphTypes[b]+" slots are used, remove a glyph by right clicking it!");else a.T[b][g]=c}
p.$a=function(a){var b,c;if(this.Sa!=0){b=this.Fh[this.Sa];for(c=0;c<b.r.length;c++)xd(a,b.r[c]);for(c=0;c<b.ba.length;c++)a.add(b.ba[c])}this.pd&&xd(a,this.pd);this.q.$a(a);for(c=0;c<this.T.length;c++)for(b=0;b<this.T[c].length;b++)this.T[c][b]&&a.add(this.T[c][b].n);for(c=0;c<this.si.length;c++){b=this.si[c];if(b.n!=i){if(b.n.Cb[8]&1048576)switch(this.c){case 1:if(b.n.c==86101&&this.q.L!=0||b.n.c==86110&&this.q.L!=1||b.n.c==86535&&this.q.L!=2)continue;break;case 2:if(b.n.c==86103&&this.q.L!=0||
b.n.c==86102&&this.q.L!=1||b.n.c==86539&&this.q.L!=2)continue;break;case 6:if(b.n.c==86537&&this.q.L!=0||b.n.c==86536&&this.q.L!=1||b.n.c==86113&&this.q.L!=2)continue;break;case 7:if(b.n.c==86100&&this.q.L!=0||b.n.c==86099&&this.q.L!=1||b.n.c==86108&&this.q.L!=2)continue;break;case 11:if(b.n.c==86093&&this.q.L!=0||b.n.c==86096&&(this.q.L!=1||(1<<this.Sa&288)==0)||b.n.c==86097&&(this.q.L!=1||(1<<this.Sa&2)==0)||b.n.c==86104&&this.q.L!=2)continue}if(1<<this.c-1&b.Gf||b.Gf<=0)a.add(b.n)}}};function yd(a){this.i=a;this.O=[zd(),zd(),zd(),zd()];this.Vf=[-1,-1];this.Zf=[-1,-1];this.ig=[-1,-1];this.Cf=this.Ce=this.ad=i}p=yd.prototype;p.i=i;p.Qk=0;p.ba=[];p.r=[];p.O=[];p.Vf=[-1,-1];p.Zf=[-1,-1];p.ig=[-1,-1];p.ad={};p.Ce={};p.Cf={};p.ii={};
function zd(){var a=Array(321);a[13]=Array(7);a[22]=Array(7);a[29]=Array(5);a[30]=Array(96);a[35]=Array(7);a[55]=Array(7);a[71]=Array(7);a[79]=Array(7);a[98]=Array(96);a[101]=Array(25);a[107]=Array(25);a[108]=Array(25);a[123]=Array(7);a[135]=Array(7);a[137]=Array(7);a[142]=Array(7);a[143]=Array(7);a[174]=Array(7);for(var b=0;b<7;b++)a[174][b]=Array(5);a[175]=Array(5);a[189]=Array(38);a[199]=Array(7);a[212]=Array(5);a[219]=Array(5);a[220]=[];for(b=0;b<32;b++)a[220][b]=[0,0,0,0,0];a[237]=Array(7);a[238]=
Array(7);a[268]=Array(5);return a}function Xc(a,b){if(b)for(var c=0;c<b.length;c++)if(typeof b[c]==="object")Xc(a,b[c]);else b[c]=0}p.add=function(a){if(!(!a||this.Ce[a.c])){this.ba.push(a);this.Ce[a.c]=f}};function xd(a,b){if(!(!b||a.Cf[b.n.c])){a.r.push(b);a.Cf[b.n.c]=f}}p.kb=function(a){return this.Ce[a]||this.Cf[a]?f:l};
function Yc(a,b,c,d,g){if(b){b.wa(a.i.j);if(!(b.Eh&&b.Eh.Bi!=0&&(b.Eh.Bi&1<<(a.i.e?a.i.e.Sa-1:0))==0))if(d||zc(b)){a.ii[b.c]=f;if(b.yb!=i&&b.yb.wc!=-1){b.yb.wc==a.Vf[0]&&b.yb.se&1<<a.Vf[1]&&Ad(a,b,a.O[1],c,d,g);b.yb.wc==a.Zf[0]&&b.yb.se&1<<a.Zf[1]&&Ad(a,b,a.O[2],c,d,g);b.yb.wc==a.ig[0]&&b.yb.se&1<<a.ig[1]&&Ad(a,b,a.O[3],c,d,g);if(b.yb.wc==4){var h,j,k=f;for(h=0;h<32&&k;h++)if(b.yb.jf&1<<h){j=na[h];(j=a.i.z.k[j][0])&&j.U==b.yb.wc&&b.yb.se&1<<j.da||(k=l)}k&&Ad(a,b,a.O[0],c,d,g)}}else Ad(a,b,a.O[0],
c,d,g)}}}
function Ad(a,b,c,d,g,h){b=b.O;var j=0,k=l;if(g&&!h)for(g=0;g<3;g++)if(b[g]!=i&&b[g].yf==65){k=f;break}for(g=0;g<3;g++){h=b[g];if(h!=i){j=h.c;if(!(k&&h.yf!=65)){switch(j){case 68368:if(a.ad[47203])continue;break;case 47203:if(a.ad[68368])continue;break;case 44537:if(a.ad[90962])continue;break;case 90962:if(a.ad[44537])continue;break;case 3549:case 45922:case 48552:if(!Bd(a,[3549,45922,48552]))continue;break;case 86186:case 97691:case 48553:if(!Bd(a,[86186,97691,48553]))continue}a.ad[j]=f;Cd(a,c,h.Of,
h.J*d,h.Vb,h.rk,j)}}}}function Bd(a,b){for(var c in b)if(a.ad[b[c]])return l;return f}
function Cd(a,b,c,d,g,h,j){var k;k=a.i.e?a.i.e.Sa:0;switch(j){case 81812:d=120;break;case 88002:case 88004:case 88006:if(k!=5&&k!=8)return;c=142;g=1;break;case 8697:case 8700:case 8694:if(k!=5&&k!=8)return;c=137;h=4;break;case 8699:case 8696:case 8693:if(k!=1)return;c=166}switch(c){case 13:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 22:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 29:if(g==-1)for(k=0;k<5;k++)Cd(a,b,c,d,k,h,j);else b[c][g]+=d;break;case 30:b[c][g]+=
d;break;case 35:b[c][g]+=d;break;case 55:if(g==0)g=127;for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 71:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 79:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 98:b[c][g]+=d;break;case 99:b[c]+=d;break;case 101:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 107:b[c][g]+=d;break;case 108:b[c][g]+=d;break;case 123:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 124:b[c]+=
d;break;case 135:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 137:for(k=0;k<b[c].length;k++)if(h&1<<k||h==-1)b[c][k]=((1+b[c][k]/100)*(1+d/100)-1)*100;break;case 142:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]=((1+b[c][k]/100)*(1+d/100)-1)*100;break;case 143:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]=Math.max(d,b[c][k]);break;case 174:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k][h]+=d;break;case 175:b[c][g]+=d;break;case 189:for(k=0;k<b[c].length;k++)if(g&
Math.pow(2,k))b[c][k]+=d;break;case 199:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 212:b[c][g]+=d;break;case 219:b[c][g]+=d;break;case 220:for(k=0;k<32;k++)if(g&1<<k)b[c][k][h]+=d;break;case 237:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 238:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 240:if(j==21444&&a.kb(56416))d+=10;b[c]+=d;break;case 268:if(g==-1)for(k=0;k<5;k++)Cd(a,b,c,d,k,h,j);else b[c][g]+=d;break;default:b[c]+=d}};function Dd(){var a;this.S=new Ob(["stat_weights_change","stat_caps_change","level_change","class_change","character_load","selected_tree_change","calculate_stats"]);this.Pa=new Ed(Fd);this.$d=new Ed(Gd);this.Ie=new Hd(Id);this.ka=[i,i];this.g=new Vc(this);this.ic=new Vc(this);this.z=new bd(this);this.ba=new yd(this);this.r=new Jd;this.r.wb(new t(this.sl,this));this.B=new Kd(this);this.B.Rd.io(new t(this.r.remove,this.r));this.B.Rd.co(new t(this.r.Vh,this.r));this.B.Xe.wb(new t(this.Hd,this));this.of=
[];this.Qh="";this.nk=[];for(a=0;a<19;a++){this.of[a]="";this.nk[a]=""}this.wa(85);this.ok=new t(this.am,this);this.Bm=new t(function(){this.Ae(this.e.Yh())},this);this.md=[];for(a=0;a<56;a++)this.md[a]=1;this.Ae(this.md.slice(0));this.Wg=hb(this)}p=Dd.prototype;p.S=i;p.ba=i;p.r=i;p.e=i;p.Ma=i;p.z=i;p.Ie=i;p.$d=i;p.Pa=i;p.g=i;p.ic=i;p.j=85;p.v="";p.Z="";p.c=-1;p.Dm=-1;p.ka=[];p.B=i;p.ok=i;p.ri=i;p.Ii=i;p.Ni=i;p.of=[];p.Qh="";p.nk=[];p.Ka=[];p.md=[];p.lf=i;p.Wg=i;
function ad(a){var b=a.e?a.e.c:0;a=a.e?a.e.q.L:-1;return b==9||b==5||b==8||b==11&&a!=1||b==7&&a!=1||b==2&&a!=2}p.vj=ca("v");p.Yh=function(){return this.Ka};p.Ae=function(a){this.Ka=a;this.S.Za("stat_weights_change",[this.Ka]);this.Pa.Ae(a)};function Ld(a){return a.lf!=i?a.lf:Md(a)}function Nd(a){a.lf=i;a.S.Za("stat_caps_change",[Ld(a)])}
function Md(a){if(ad(a)){ja[3]=Math.floor(La[3]*B[7][a.j-1]);ja[6]=0}else{ja[3]=Math.floor(Ja[3]*B[5][a.j-1]);ja[6]=Math.floor(Oa[3]*B[23][a.j-1]/0.25)}return ja}
function Od(a,b){switch(b){case 0:return 2;case 1:return 4;case 2:return 8;case 3:return 65536;case 4:return 1048608;case 5:return 16;case 6:return 524288;case 7:return 512;case 8:return 1024;case 9:return 64;case 10:return 128;case 11:return 256;case 12:return 2048;case 13:return 2048;case 14:return 4096;case 15:return 4096;case 16:if(a.e!=i)switch(a.e.c){case 4:break;default:return 2236416}return 2105344;case 17:if(a.e!=i)switch(a.e.c){case 1:return 8404992|(a.e.q.L==1?4202496:0)|(ed(a)?131072:
0);case 2:return 8404992;case 3:return 12591104;case 4:return 12591104;case 6:return 12591104;case 7:return 8404992|(a.e.q.L==1?4202496:0)}return 8388608}return 0}function Pd(a){if(a.e!=i)switch(a.e.c){case 1:return(a.j>=40?31:15)+64;case 2:return(a.j>=40?31:15)+64+2048;case 6:return(a.j>=40?31:15)+2048;case 3:return a.j>=40?15:7;case 7:return(a.j>=40?15:7)+64+2048;case 11:return 2055;case 4:return 7;case 5:case 8:case 9:return 3}return 31}
function Qd(a,b){switch(b){case 0:case 2:case 4:case 7:case 8:case 9:case 10:case 11:var c=31;if(a.e!=i)switch(a.e.c){case 1:c=a.j>=40?16:8;break;case 2:c=a.j>=40?16:8;break;case 3:c=a.j>=40?8:4;break;case 4:c=4;break;case 5:c=2;break;case 6:c=16;break;case 7:c=a.j>=40?8:4;break;case 8:c=2;break;case 9:c=2;break;case 11:c=4}return[4,c];case 3:return[4,2];case 5:case 6:return[4,3];case 1:case 12:case 13:case 14:case 15:return[4,1];case 18:if(a.e!=i)switch(a.e.c){case 9:case 8:case 5:return[2,524288];
case 1:case 3:case 4:return[2,327692];case 2:case 7:case 6:case 11:return[4,2048]}return[100,1]}return[-1,0]}function lc(a,b){if(b.U==4){if((1<<b.da&Pd(a))!=0)return f}else if(b.U==2)return f;return l}
p.load=function(a){var b,c=0,d,g;if(a!=i){U.La();this.v=a[0][0];this.Z=a[0][1];this.Ma=new kb(this,a[0][2]);ib(this,i);this.B.uh.update();ib(this,new jb(a[0][3]));this.wa(a[0][4]);this.Sc(a[0][5]?a[0][5]:0);b=a[0][6]?a[0][6]:0;if(b==0&&this.e!=i&&this.e.c==6)switch(a[4]){case 0:b=48263;break;case 1:b=48266;break;case 2:b=48265;break;default:b=48263}this.Hd(b);if(this.e){if(a[4]===2||a[4]===1||a[4]===0)ld(this.e.q,a[4]);if(a[2]){b=this.e.q;c=a[2];var h=0,j,k,q;g=[];for(k=0;k<b.tb;k++)for(d=g[k]=0;d<
b.X;d++)for(q=0;q<b.K;q++)if(b.q[k][d][q]!=i){j=parseInt(c[h],10);j=isNaN(j)?0:j;g[k]+=j;h++}h=0;j=-1;for(d=0;d<b.tb;d++){if(g[d]>=31){j=d;break}if(g[d]>h){j=d;h=g[d]}}j!=-1&&ld(b,j);for(k=h=0;k<b.tb;k++)for(d=0;d<b.X;d++)for(q=0;q<b.K;q++)if(b.q[k][d][q]!=i){j=parseInt(c[h],10);b.q[k][d][q].N=isNaN(j)?0:j;h++}b.update()}if(a[5])for(b=0;b<a[5].length;b++)if(a[5][b]){c=a[5][b][0];this.ka[b]=c>0?new Ec(this,Va[c]):i;this.ka[b].wa(a[5][b][1]);Rd(this.B)}for(b=0;b<a[3].length;b++)if(a[3][b]){c=new vd(a[3][b]);
wd(this.e,c.Cb,c)}}for(b=0;b<19;b++)if(a[1][b]){if(a[1][b][0]){d=new bc(a[1][b][0]);this.z.F(b,d);for(c=0;c<3;c++)if(a[1][b][1+c]){g=new bc(a[1][b][1+c]);ec(d,g,c,l);wa.F(g.Mb())}a[1][b][4]&&sb(d,new Yb(a[1][b][4]));a[1][b][6]!=0&&cc(d,a[1][b][6]);a[1][b][5]&&a[1][b][5][0]!=-1&&a[1][b][5][1]!=-1&&oc(d,a[1][b][5][0],a[1][b][5][1]);if(a[1][b][7])for(c=0;c<a[1][b][7].length;c++)sb(d,new Yb(a[1][b][7][c]));wa.F(d.Mb())}else this.z.remove(b);this.B.Da[b].update()}for(b in a[6]){c=new V(a[6][b][0]);A.F(c);
this.r.F(new sc(c,a[6][b][1]))}this.B.gf.update();this.B.Xe.update(this);W(this);this.Wg=hb(this);this.Ni&&w(this.Ni,[this]);U.sa()}};
function hb(a){var b=[],c,d,g,h=a.e?a.e.Sa:0,j=a.e!=i&&a.e.pd!=i?a.e.pd.n.c:0;a.Sc(0);a.Hd(0);b[0]=[a.v,a.Z,a.Ma?a.Ma.c:0,a.e?a.e.c:0,a.j,h,j];b[1]=[];for(c=0;c<19;c++){g=a.z.k[c][0];if(g==i)b[1][c]=i;else{b[1][c]=[];b[1][c][0]=g.c;b[1][c][1]=g.D[0]?g.D[0].c:0;b[1][c][2]=g.D[1]?g.D[1].c:0;b[1][c][3]=g.D[2]?g.D[2].c:0;b[1][c][4]=g.G.length>0?g.G[0].c:i;b[1][c][5]=[g.W,g.ca];b[1][c][6]=g.Y?g.Y.c:0;b[1][c][7]=[];for(d=1;d<g.G.length;d++)b[1][c][7].push(g.G[d].c)}}b[2]=a.e?a.e.q.Hf:[];b[3]=[];if(a.e)for(c=
0;c<a.e.T.length;c++)for(d=0;d<a.e.T[c].length;d++)a.e.T[c][d]&&b[3].push(a.e.T[c][d].c);b[4]=a.e?a.e.q.L:-1;b[5]=[i,i];for(c=0;c<2;c++){d=a.ka[c];b[5][c]=d?[d.c,d.j]:i}b[6]=[];d=a.r.r;for(c in d)!d[c]||d[c].Re||b[6].push([d[c].n.c,d[c].sb]);a.Sc(h);a.Hd(j);return b}function vb(a){if(a.e==i)return l;return(1<<a.e.c&90)==0}
p.wa=function(a){if(a>=1&&a<=85){if(this.e!=i){if(this.e.c==6&&a<55)a=55;this.e.wa(a)}this.j=a;for(a=0;a<2;a++)if(this.ka[a])if(0==nb(this.ka[a].c,this.j))this.ka[a]=i;else{var b=this.ka[a];b.wa(b.j)}Rd(this.B);W(this);this.Ii&&w(this.Ii,[this]);Sd(this.Pa.A,"canbeusedwithlvl","canbeusedwithlvl.eq."+this.j+";");Td(this,"canbeusedwithlvl","canbeusedwithlvl.eq."+this.j+";")}Ud(this.B,this.j);Nd(this)};
function ib(a,b){if(a.e){a.Sc(0);a.Hd(0)}if(a.e=b){if(b.c==1)a.Sc(17);else b.c==6&&a.Hd(48263);a.e.q.wb(a.ok);a.e.q.Qi=a.Bm;a.e.wa(a.j);Vd(a.B.Da[18],f);a.Ae(a.e.Yh())}else{Vd(a.B.Da[18],l);a.Ae(a.md.slice(0))}a.B.gf.update();a.B.Xe.update(a);Wd(a.B,a.e!=i?a.e.c:0);Ud(a.B,a.j);var c=a.B,d=b!=i?b.c:0,g=0;if(d>0&&Xd[d])g=Xd[d];g|=64;for(d=0;d<c.rc.length;d++)(1<<d&g)!=0?c.rc[d].collapse():c.rc[d].expand();a.B.uh.update();Sd(a.Pa.A,"usablebyclass",a.e!=i?"usablebyclass.eq."+(1<<a.e.c-1)+";":"");Td(a,
"usablebyclass",a.e!=i?"usablebyclass.eq."+(1<<a.e.c-1)+";":"");Nd(a);a.ri&&w(a.ri,[a])}function Td(a,b,c){for(var d=0;d<19;d++)a.of[d]=a.of[d].replace(RegExp("\\b"+b+"\\.\\w+\\.[^;]+;","g"),"")+c}p.Sc=function(a){if(this.e){var b=this.e.Dh;a=this.e.Sc(this.e.Sa==a?0:a);var c;if(b)for(c=0;c<b.r.length;c++)this.r.bi(b.r[c].n.c,f);if(a)for(c=0;c<a.r.length;c++)this.r.Uh(a.r[c].n.c,this.e.c==1,f);this.B.Rd.update();W(this)}};
p.Hd=function(a){if(this.e){this.e.pd&&this.r.bi(this.e.pd.n.c,f);this.e.Hd(a);a&&this.r.Uh(a,f,f)}W(this);this.B.Xe.update(this)};p.sl=function(a,b){var c=l,d;if(a===2&&this.e!=i)if(d=this.e.Dh)if(typeof b==="object")for(var g in b){if(b[g]==d.r[0].n.c){c=f;break}}else if(typeof b==="number"){if(b==d.r[0].n.c)c=f}else e("Event arguments in Character._onBuffsChange have the wrong Type. (Found: "+typeof b+", Expected: object, number)");if(c)this.Sc(0);else{(a&8)==0&&W(this);this.B.Rd.update()}};
function Yd(a,b){if(a.ba.kb(b)&&!a.r.kb(b))a.r.Uh(b,l,f);else!a.ba.kb(b)&&a.r.kb(b)&&a.r.bi(b,l)}
p.$a=function(){var a=this.r.r,b=0;this.e&&this.e.$a(this.ba);this.Ma&&this.Ma.$a(this.ba);for(b=0;b<2;b++)if(this.ka[b]){var c;c=this.ka[b];for(var d=0,g=i,h=0;h<c.Ig.length;h++){var j=c.Ig[h];if(j.$e>d&&j.$e<=c.j){d=j.$e;g=j}}(c=g!=i?g.n:i)&&this.ba.add(c)}if(this.e)switch(this.e.c){case 1:Yd(this,29801);break;case 3:Yd(this,53290);break;case 4:Yd(this,51701);Yd(this,31223);break;case 6:Yd(this,55610);break;case 7:Yd(this,51470);break;case 11:this.ba.kb(17007)&&this.e!=i&&(1<<this.e.Sa&290)!=0?
this.r.Uh(24932,l,l):this.r.bi(24932,l)}this.B.Rd.update();for(b in a)xd(this.ba,a[b])};function Zc(a,b){var c=Dc(a,164);if((b==7||b==8)&&a.z.H(b)!=i&&a.z.H(b).j>=60&&c!=i&&c.j>=400)return f;if(b==9&&a.j>=70&&a.z.H(b)!=i&&a.z.H(b).j>=80)return f;return l}function ed(a){return a.e!=i&&a.e.c==1&&a.e.q.q[1][6][1].N>0}
function W(a){Zd(a.B);tb(a.g,l);var b=a.B,c;c=b.i.e;b.g[0][1].b.style.display=c!=i&&(1<<c.c&90)==0?"block":"none";b.g[0][2].b.style.display=c!=i&&(c.c==1||c.c==11&&c.Sa==5)?"block":"none";b.g[0][3].b.style.display=c!=i&&(c.c==4||c.c==11&&c.Sa==1)?"block":"none";b.g[0][4].b.style.display=c!=i&&c.c==3?"block":"none";b.g[0][5].b.style.display=c!=i&&c.c==6?"block":"none";for(c=0;c<b.g[0].length;c++)b.g[0][c].$b(b.i.g.Qb[c]);for(c=0;c<b.g[1].length;c++)b.g[1][c].$b(b.i.g.R[c]);for(c=0;c<b.g[6].length;c++)b.g[6][c].$b(b.i.g.Kc[c]);
for(c=0;c<b.g[4].length;c++)b.g[4][c].$b(b.i.g.n[c]);for(c=0;c<b.g[5].length;c++)b.g[5][c].$b(b.i.g.ya[c]);for(c=0;c<b.g[2].length;c++)b.g[2][c].$b(b.i.g.aa[c]);for(c=0;c<b.g[3].length;c++)b.g[3][c].$b(b.i.g.ra[c]);a.S.Za("calculate_stats",[a.g])}p.ze=function(a,b,c){this.z.tc();var d=this.z;if(c>-1){d.Yj=d.k[b][0].D[c];ec(d.k[b][0],a,c,f)}else(d.oh=a)&&fc(a,d.i);d.qd=b;d.ph=c;tb(this.ic,f);ub(this.B)};p.tc=function(){this.z.tc();Zd(this.B)};p.ai=function(a){this.z.ai(a)};
p.Ag=function(a,b){this.z.Ag(a,b);W(this)};p.ci=function(){this.z.ci();W(this)};p.tj=function(a,b){this.z.tj(a,b);W(this)};p.$h=function(a){this.z.$h(a);W(this)};p.am=function(){switch(this.e.c){case 11:this.e.q.q[0][2][1].Ca==this.e.q.q[0][2][1].N!=this.B.gf.fj&&this.B.gf.update()}W(this)};function Dc(a,b){if(a.ka[0]&&a.ka[0].c==b)return a.ka[0];else if(a.ka[1]&&a.ka[1].c==b)return a.ka[1];return i}p.pa=function(a,b){this.S.pa(a,b)};function vd(a){this.c=a[0];this.Cb=a[1];this.n=a[2]?new V(a[2]):i}vd.prototype.c=0;vd.prototype.Cb=0;vd.prototype.n=i;function sc(a,b){this.n=a;this.sb=b;this.Vg=l;this.ce=f;this.Re=this.ll=l;this.Vd=0;this.mk=this.n.Md&&this.n.Md.sb>1}sc.prototype={n:i,sb:0,Vg:l,ce:f,Re:l,Vd:0,mk:l,Vh:function(){this.n.Md&&this.n.Md.sb>this.sb&&this.sb++},Vn:function(){this.sb>1&&this.sb--},jo:ca("Vg"),ko:function(a){this.Re=(this.ce=a)?l:this.Re},fo:ca("Vd"),eo:function(a){this.ce=(this.Re=a)?l:this.ce}};function Jd(){this.r={}}
Jd.prototype={r:{},$:i,wb:ca("$"),F:function(a){this.r[a.n.c]=a;this.$&&w(this.$,[1,a.n.c])},Vh:function(a){var b=this.r[a];b&&b.Vh();this.$&&w(this.$,[4,a])},Uh:function(a,b,c){A.Fd(a,new t(this.Aj,this),[a,b,f,f,c,0])},add:function(a,b){A.Fd(a,new t(this.Aj,this),[a,l,l,b,l,0])},Aj:function(a,b,c,d,g,h){d=l;switch(a){case 79060:case 79062:this.Ub([79060,79062])||(d=f);break;case 80353:case 32182:this.Ub([80353,32182])||(d=f);break;case 79104:case 6307:case 469:this.Ub([79104,6307,469])||(d=f);break;
case 79101:case 53138:case 30808:case 19506:this.Ub([79101,53138,30808,19506])||(d=f);break;case 79057:case 54424:this.Ub([79057,54424])||(d=f);break;case 77747:case 53646:this.Ub([77747,53646])||(d=f);break;case 2895:case 49868:case 24907:this.Ub([24907,49868,2895])||(d=f);break;case 53290:case 8515:case 55610:this.Ub([8515,55610,53290])||(d=f);break;case 51701:case 29801:case 51470:case 24932:this.Ub([51701,29801,51470,24932])||(d=f);break;case 6673:case 8076:case 57330:case 93435:this.Ub([6673,
8076,57330,93435])||(d=f)}var j=A.H(a),k=[];if(j.Vd){for(var q in this.r)(this.r[q].n.Vd&j.Vd)!=0&&k.push(this.r[q].n.c);d=!this.Ub(k)}if(!d)if(this.r[a]!=i&&this.r[a].ce==(c?l:f)&&this.r[a].mk)this.r[a].Vh();else{this.r[a]=new sc(j,1);this.r[a].jo(b);this.r[a].ko(c?l:f);this.r[a].fo(h);this.r[a].eo(g)}if(this.$)w(this.$,[1|(c?8:0),a])},bi:function(a,b){if(b&&(!this.r[a]||!this.r[a].ce))delete this.r[a];else this.fk(a,f)},remove:function(a){this.fk(a,l)},fk:function(a,b){if(this.r[a])if(!this.r[a].Vg)if(!(b&&
this.r[a].ce)){if(this.r[a]&&this.r[a].sb>1)this.r[a].Vn();else delete this.r[a];if(this.$)w(this.$,[2|(b?8:0),a])}},Ub:function(a){for(var b=0;b<a.length;b++){if(this.r[a[b]]&&this.r[a[b]].Vg)return l;delete this.r[a[b]]}return f},kb:function(a){return this.r[a]?f:l}};var $d=[3,4,5,6,7,13,14,15,31,32,35,36,37,38,43,45,49,50];
function ae(){this.V=new Pc;this.b=document.createElement("div");this.b.className="swi_p";this.Xg=document.createElement("div");this.Xg.className="swi_lp";this.dd=new be;this.dd.Rc(new t(this.ze,this));this.dd.wj(new t(this.Ll,this));var a=new Q(2,2),b,c;a.b.className="swi_layout_t";a.K[0].className="swi_layout_lc";a.K[1].className="swi_layout_rc";Lc(a,"top");c=new Q($d.length,2);c.b.className="swi_stats_t";this.$c=[];for(b=0;b<$d.length;b++){this.$c[b]=document.createElement("input");this.$c[b].className=
"input swi_in";this.$c[b].name=$d[b];c.d[b][0].innerHTML=locale.ItemStatNames[$d[b]];c.d[b][0].className="swi_stats";c.d[b][1].appendChild(this.$c[b]);c.d[b][1].className="swi_input_p"}a.d[0][0].appendChild(c.b);c=document.createElement("input");c.type="button";c.value="Apply";P(c,"click",this.Rk,this,[]);b=document.createElement("input");b.type="button";b.value="Restore Current";P(b,"click",this.sm,this,[]);this.Xg.appendChild(this.dd.b);a.d[0][0].appendChild(c);a.d[0][0].appendChild(b);a.d[0][1].appendChild(this.Xg);
b=document.createElement("div");c=document.createElement("input");c.type="button";c.value="Refesh";P(c,"click",function(){ce(this)},this,[]);b.appendChild(c);b.className="swi_ref_p";a.d[0][1].appendChild(b);this.bd=document.createElement("input");this.bd.type="checkbox";this.bd.checked=f;this.pc=document.createElement("div");this.bd=document.createElement("input");this.bd.type="checkbox";this.bd.checked=f;this.df=document.createElement("div");this.df.className="swi_save_error";this.Lc=new Fc;this.Lc.Id();
this.Lc.b.className="collapse swi_save_coll";this.Lc.M.innerHTML="Save";this.Lc.M.className="collapse_h swi_save_coll_h";b=document.createElement("input");b.type="button";b.value="save";P(b,"click",this.Sl,this,[]);this.Z=document.createElement("input");this.Z.className="input swi_save_in";this.v=document.createElement("input");this.v.className="input swi_save_in";this.Lc.u.className="collapse_c";c=document.createElement("div");c.innerHTML="Name";this.pc.appendChild(c);this.pc.appendChild(this.v);
c=document.createElement("div");c.innerHTML="Description";this.pc.appendChild(c);this.pc.appendChild(this.Z);c=document.createElement("div");c.className="swi_save_ctrls";c.appendChild(document.createTextNode("Public"));c.appendChild(this.bd);c.appendChild(b);this.pc.appendChild(c);this.pc.appendChild(this.df);b=document.createElement("input");b.type="button";b.value=locale.Yes;P(b,"click",this.$j,this,[f]);c=document.createElement("input");c.type="button";c.value=locale.No;P(c,"click",this.$j,this,
[l]);this.bj=document.createElement("div");this.kg=document.createElement("div");this.kg.appendChild(this.bj);this.kg.appendChild(b);this.kg.appendChild(c);this.ud=document.createElement("div");this.ud.appendChild(this.pc);this.Lc.u.appendChild(this.ud);a.d[1][0].appendChild(this.Lc.b);a.d[1][0].className="swi_layout_llc";a.d[1][1].className="swi_layout_lrc";b=document.createElement("div");b.className="ol_top";c=document.createElement("div");c.innerHTML="Stat Weights";c.className="ol_top_l";b.appendChild(c);
c=document.createElement("a");c.className="ol_top_r";P(c,"click",this.V.sa,this.V,[]);b.appendChild(c);this.b.appendChild(b);b=document.createElement("input");b.type="button";b.value="Close";P(b,"click",this.V.sa,this.V,[]);a.d[1][1].appendChild(b);b=document.createElement("div");b.className="ol_detail";b.appendChild(a.b);this.b.appendChild(b);a=[];for(b=0;b<56;b++)a[b]=1;this.F(a)}p=ae.prototype;p.V=i;p.b=i;p.$c=[];p.mi=i;p.Xg=i;p.bd=i;p.Z=i;p.v=i;p.df=i;p.pc=i;p.ud=i;p.kg=i;p.bj=i;p.Ti=i;p.i=i;
p.Gi=0;p.Lc=i;function ce(a){if(a.i==i||a.i.e==i){a.dd.na();a.Gi=0}else{a.dd.show();a.dd.F("chrclass.eq."+a.i.e.c+";",i,i);a.dd.update();a.Gi=a.i.e.c}}p.show=function(){if(this.i==i||this.i.e==i)T(U,"Select a class first!");else{this.i.e.c!=this.Gi&&ce(this);this.V.uc(this.b)}};p.F=function(a){this.mi=a;this.ze(this.mi)};p.ze=function(a){for(var b=0;b<$d.length;b++)this.$c[b].value=H(a[$d[b]])};
p.H=function(){var a=[],b;for(b=0;b<56;b++)a[b]=0;for(b=0;b<$d.length;b++)a[parseInt(this.$c[b].name,10)]=parseFloat(this.$c[b].value);return a};p.Sl=function(){this.oc(l)};p.Tl=function(a,b){b||G.ha(this.ud,this.pc);if(a)this.df.innerHTML=a;else if(b){this.bj.innerHTML='A stat weight configuration named "'+this.v.value+'" already exists. Do you want to overwrite it?';G.ha(this.ud,this.kg)}else{this.dd.update();this.v.value="";this.Z.value="";this.Lc.collapse()}};
p.$j=function(a){a?this.oc(f):G.ha(this.ud,this.pc)};
p.oc=function(a){var b=this.H(),c=this.v.value,d=this.Z.value,g=this.bd.checked;this.df.innerHTML="";this.v.className="input swi_save_in";if(c){if(this.i)this.i!=i&&this.i.e==i&&T(U,"You have to select a character class first!");else T(U,"No character set!");G.va(this.ud);this.ud.innerHTML="<div class='swi_loading'></div>";M.ao(b,c,d,g,a,this.i.e.c,new t(this.Tl,this))}else{this.df.innerHTML+="Name for the stat weights is missing";this.v.className="input swi_save_in swi_save_in_error"}};p.sm=function(){this.ze(this.mi)};
p.Rk=function(){this.Ti&&w(this.Ti,[this.H()])};p.Ll=function(a,b){g_settings.userId==a&&confirm("Do you really want to delete the stat weight configuration "+b+"?")&&M.Wn(a,b,new t(this.Ml,this))};p.Ml=function(a){a?T(U,a):ce(this)};function de(){var a,b,c;this.S=new Ob(["show_stat_weights_interface","stat_weight_change","stat_cap_change","stat_caps_reset","use_optimised_reforge","optimise"]);this.b=document.createElement("form");c=document.createElement("div");this.b.onsubmit=o(l);this.b.action="#";P(this.b,"submit",this.S.Za,this.S,["optimise",i]);this.Pc=document.createElement("input");this.Pc.value=locale.RF_Apply;this.Pc.type="button";this.Pc.disabled=f;P(this.Pc,"click",this.S.Za,this.S,["use_optimised_reforge",i]);this.Qc=
[];this.vc=[];for(a=0;a<y.length;a++){this.Qc[a]=document.createElement("input");this.Qc[a].className="input rf_op_in";this.Qc[a].value=ia[a];P(this.Qc[a],"blur",this.cm,this,[a]);this.vc[a]=document.createElement("input");this.vc[a].className="input rf_op_in";this.vc[a].value=ja[a];P(this.vc[a],"blur",this.tl,this,[a])}this.P=new Q(25,10);this.P.b.className="rf_op_table";for(a=1;a<=19;a++){this.P.d[a][0].className="rf_op_cell rf_op_itm";for(b=1;b<9;b++)this.P.d[a][b].className="rf_op_cell";this.P.d[a][9].className=
"rf_op_cell rf_op_tot"}this.P.d[20][0].innerHTML=locale.RF_Sum;this.P.d[21][0].innerHTML=locale.RF_WeightedSum;this.P.d[22][0].innerHTML=locale.RF_Weights;this.P.d[23][0].innerHTML=locale.RF_Caps;this.P.d[24][0].innerHTML=locale.RF_Ratings;for(a=1;a<9;a++){this.P.d[0][a].innerHTML=locale.RF_Stats[a-1];this.P.d[0][a].className="rf_op_cell rf_op_stat rf_op_header";this.P.d[20][a].className="rf_op_cell rf_op_sum";this.P.d[21][a].className="rf_op_cell rf_op_sum";this.P.d[24][a].className="rf_op_cell";
this.P.d[22][a].appendChild(this.Qc[a-1]);this.P.d[23][a].appendChild(this.vc[a-1])}this.P.d[0][9].innerHTML=locale.RF_Total;this.P.d[0][9].className="rf_op_cell rf_op_tot rf_op_header";this.P.d[20][9].className="rf_op_cell rf_op_tot";this.P.d[21][9].className="rf_op_cell rf_op_tot";c.appendChild(this.P.b);a=document.createElement("input");a.type="button";a.value="Reset Caps";P(a,"click",this.S.Za,this.S,["stat_caps_reset",i]);b=document.createElement("input");b.type="submit";b.value=locale.RF_Optimise;
c.appendChild(b);c.appendChild(this.Pc);b=document.createElement("input");b.value="Manage Stat Weights";b.type="button";P(b,"click",this.S.Za,this.S,["show_stat_weights_interface",i]);c.appendChild(b);c.appendChild(a);this.b.appendChild(c);c=document.createElement("div");c.zo="rf_op_notice";this.b.appendChild(c)}p=de.prototype;p.S=i;p.b=i;p.P=i;p.Qc=[];p.vc=[];p.Pc=i;p.cm=function(a){this.S.Za("stat_weight_change",[y[a],parseFloat(this.Qc[a].value)])};
p.tl=function(a){this.S.Za("stat_cap_change",[a,parseFloat(this.vc[a].value)])};
p.update=function(a){for(var b,c,d=0;d<19;d++){G.va(this.P.d[d+1][0]);if(b=a.z.H(d)){c=document.createElement("a");c.className="rf_op_itm";c.innerHTML=b.v.length>12?b.v.substring(0,10)+"...":b.v;c.style.color=xa[b.Ga];c.onmouseout=function(){U.na()};c.onmousemove=function(){U.move()};P(c,"mouseover",U.Fk,U,[d]);this.P.d[d+1][0].appendChild(c)}else this.P.d[d+1][0].innerHTML=locale.RF_NotEquipped}this.Pc.disabled=f;ee(this,Qb(a.g))};
function fe(a,b){var c,d,g,h,j=0,k=0,q=b.Na,x=b.Ab?b.Qa:i,m=b.Te;for(c=0;c<19;c++)for(d=0;d<y.length;d++){g=q[c][d];h=x!=i&&x[c][d]!=q[c][d];a.P.d[c+1][d+1].innerHTML="";if(m[c]&&m[c][d]>0)a.P.d[c+1][d+1].innerHTML="<span class='rf_op_value'>"+m[c][d]+"</span>";if(h){if(g>0)a.P.d[c+1][d+1].innerHTML+="<span class='rf_op_added_old'>+"+g+"</span> ";else if(g<0)a.P.d[c+1][d+1].innerHTML+="<span class='rf_op_reduce_old'>"+g+"</span> ";g=x[c][d]}if(g>0)a.P.d[c+1][d+1].innerHTML+="<span class='rf_op_added"+
(h?"_new":"")+"'>+"+g+"</span>";else if(g<0)a.P.d[c+1][d+1].innerHTML+="<span class='rf_op_reduce"+(h?"_new":"")+"'>"+g+"</span>"}for(d=0;d<y.length;d++){g=Math.round(q[19][d]);c=x!=i?Math.round(x[19][d]):0;a.P.d[20][d+1].innerHTML=ge(g,c,x!=i);g=Math.round(q[20][d]);c=x!=i?Math.round(x[20][d]):0;a.P.d[21][d+1].innerHTML=ge(g,c,x!=i);j+=g;k+=c}ee(a,b.C);a.P.d[21][y.length+1].innerHTML=ge(j,k,x!=i);a.Pc.disabled=x?l:f}
function ee(a,b){for(var c=0;c<y.length;c++)a.P.d[24][c+1].innerHTML=Math.floor(b[c])}function ge(a,b,c){var d=c&&a!=b,g="";if(d)g+=a>0?"<span class='rf_op_added_old'>+"+a+"</span> ":a<0?"<span class='rf_op_reduce_old'>"+a+"</span> ":"<span class='rf_op_value_old'>"+a+"</span> ";a=c?b:a;g+=a>0?"<span class='rf_op_added"+(d?"_new":"")+"'>+"+a+"</span>":a<0?"<span class='rf_op_reduce"+(d?"_new":"")+"'>"+a+"</span>":"<span "+(d?" class='rf_op_value_new' ":"")+">"+a+"</span>";return g}
p.yj=function(a){for(var b=0;b<y.length;b++)this.Qc[b].value=a[b]};p.uj=function(a){for(var b=0;b<y.length;b++)this.vc[b].value=a[b]};p.pa=function(a,b){this.S.pa(a,b)};function he(){var a=new Q(2,2);Lc(a,"top");var b=new Q(y.length,2),c,d,g;this.pb=new de;this.b=document.createElement("div");this.jg=document.createElement("div");this.Kd=document.createElement("div");this.$f=document.createElement("div");this.fe=document.createElement("div");this.M=document.createElement("div");this.M.className="rf_header";this.mc=document.createElement("input");this.mc.type="button";this.mc.value=locale.RF_Reforge;P(this.mc,"click",this.Il,this);this.ne=document.createElement("input");
this.ne.type="button";this.ne.value=locale.RF_Restore;P(this.ne,"click",this.Pl,this);a.b.width="100%";a.K[0].width="50%";a.K[1].width="50%";a.d[0][0].appendChild(this.jg);a.d[0][1].appendChild(this.Kd);a.d[1][0].appendChild(this.$f);a.d[1][1].appendChild(this.fe);this.ia=new Fc;this.ia.Id();this.ia.M.appendChild(document.createTextNode(locale.RF_BatchHeader));this.ia.M.className="collapse_h ba_collapse_h";this.ia.u.className="collapse_c ba_collapse_c";this.ia.b.className="collapse ba_collapse";d=
new Fc;d.Id();d.b.className="ba_op_container";d.M.innerHTML=locale.RF_RestoreAll;d.M.className="ba_op_title";d.u.className="ba_op_content";c=document.createElement("input");c.type="button";c.value=locale.RF_RestoreAll;d.u.appendChild(c);P(c,"click",this.Ql,this,i);this.ia.u.appendChild(d.b);d=new Fc;d.Id();d.b.className="ba_op_container";d.M.innerHTML=locale.RF_ReforgeAll;d.M.className="ba_op_title";d.u.className="ba_op_content";d.u.innerHTML="<div class='ba_op_help'>"+locale.RF_ReforgeAllHelp+"</div>";
b.d[0][0].innerHTML=locale.RF_ChooseReduce2;b.d[0][1].innerHTML=locale.RF_ChooseAdd2;this.Db=[];this.gb=[];for(c=0;c<y.length-1;c++){this.Db[c]=document.createElement("select");this.gb[c]=document.createElement("select");this.Db[c].className="single_select rf_batch_select";this.gb[c].className="single_select rf_batch_select";b.d[c+1][0].appendChild(this.gb[c]);b.d[c+1][1].appendChild(this.Db[c]);P(this.gb[c],"change",this.Zj,this,[this.gb]);P(this.Db[c],"change",this.Zj,this,[this.Db])}b.b.className=
"align_center";d.u.appendChild(b.b);ie(this,1);ie(this,0);b=document.createElement("input");b.type="button";b.value=locale.RF_Clear;P(b,"click",this.Zk,this,i);d.u.appendChild(b);b=document.createElement("input");b.type="button";b.value=locale.RF_BatchReforge;P(b,"click",this.Jl,this,i);d.u.appendChild(b);this.ia.u.appendChild(d.b);d=new Fc;d.Id();d.b.className="ba_op_container";d.M.innerHTML=locale.RF_WoWReforgeImport;d.M.className="ba_op_title";d.u.className="ba_op_content";d.u.innerHTML="<div class='ba_op_help'>"+
locale.RF_WoWReforgeImportHelp+"</div>";b=document.createElement("div");c=document.createElement("form");c.onsubmit=o(l);c.action="#";P(c,"submit",this.Em,this,[]);g=document.createElement("input");g.type="submit";g.value=locale.RF_ImportWoWReforge;this.Sh=document.createElement("input");this.Sh.className="input rf_wowreforgeurl";b.appendChild(this.Sh);b.appendChild(g);c.appendChild(b);d.u.appendChild(c);this.ia.u.appendChild(d.b);d=new Fc;d.b.className="ba_op_container";d.M.innerHTML=locale.RF_Optimise;
d.M.className="ba_op_title";d.u.className="rf_op_coll_content";d.u.innerHTML="<div class='ba_op_help'>"+locale.RF_OptimiseHelp+"</div>";d.u.appendChild(this.pb.b);this.ia.u.appendChild(d.b);this.b.appendChild(this.ia.b);d=new Fc;d.M.appendChild(document.createTextNode(locale.RF_WoWReforgeExport));d.M.className="collapse_h ba_collapse_h";d.u.className="collapse_c ba_collapse_c";d.b.className="collapse ba_collapse";b=document.createElement("div");b.className="rf_wowreforge_export_note";b.innerHTML=
"Notice: A new browser window will open, showing your current profile at wowreforge.com. Once you're finished, press 'Apply changes to chardev profile'.";this.sc=document.createElement("form");this.sc.method="POST";this.sc.action="http://wowreforge.com/import";this.sc.name="wowreforge_export";this.sc.target="_blank";c=document.createElement("input");c.type="hidden";c.value="chardev";c.name="src";this.sc.appendChild(c);this.yg=document.createElement("input");this.yg.type="hidden";this.yg.name="profile";
this.sc.appendChild(this.yg);this.xg=document.createElement("input");this.xg.type="hidden";this.xg.name="profile-id";this.sc.appendChild(this.xg);c=document.createElement("a");c.innerHTML="Export to wowreforge.com";c.className="rf_wowreforge_export_l";c.target="_blank";P(c,"click",this.dm,this,[]);d.u.appendChild(c);d.u.appendChild(this.sc);d.u.appendChild(b);g_settings.debug&&this.b.appendChild(d.b);this.Fa=document.createElement("div");this.Fa.className="rf_main";this.Fa.appendChild(this.M);this.Fa.appendChild(a.b);
b=document.createElement("div");b.className="rf_button_parent";b.appendChild(this.mc);b.appendChild(this.ne);this.Fa.appendChild(b);this.b.appendChild(this.Fa)}p=he.prototype;p.xg=i;p.yg=i;p.sc=i;p.b=i;p.jg=i;p.Kd=i;p.fe=i;p.$f=i;p.Fa=i;p.mc=i;p.ne=i;p.$=i;p.Sh=i;p.Qc=i;p.vc=i;p.P=i;p.Pc=i;p.ia=i;p.gb=[];p.Db=[];p.Uf=i;p.W=-1;p.ke=-1;p.ca=-1;p.pb=i;
p.Em=function(){var a=this.Sh.value;if(a){var b=a.match(/reforge=((?:\d|-){34})/i);if(b[1]){a=b[1];b=[];for(var c=0;c<17;c++)a[c*2]=="-"||a[c*2+1]=="-"||(b[ka[c]]=[ha[parseInt(a[c*2],10)],ha[parseInt(a[c*2+1],10)]]);S.l.$h(b)}else T(U,E(locale.RF_WoWReforge_UnableToParse,a))}};p.Ql=function(){S.l.ci();this.$&&this.$[0].apply(this.$[1],[])};
p.Jl=function(){var a=[],b=[],c,d;for(c=0;c<y.length-1;c++){d=this.gb[c].selectedIndex;if(d>0)a[a.length]=parseInt(this.gb[c].options[d].value,10);d=this.Db[c].selectedIndex;if(d>0)b[b.length]=parseInt(this.Db[c].options[d].value,10)}S.l.tj(a,b);this.$&&this.$[0].apply(this.$[1],[])};p.Zj=function(){ie(this,1);ie(this,0)};p.Zk=function(){var a;for(a=0;a<this.gb.length;a++){this.gb[a].options[0].selected=f;this.Db[a].options[0].selected=f}ie(this,1);ie(this,0)};
function ie(a,b){var c,d,g,h,j=[],k=-1,q=b==0?a.Db:a.gb;for(g=0;g<a.gb.length;g++){j=[];k=-1;if(q[g].selectedIndex>0)k=parseInt(q[g].options[q[g].selectedIndex].value,10);G.va(q[g]);for(c=0;c<a.gb.length;c++){if(c!=g||b!=1){d=a.gb[c].selectedIndex;if(d>0)j[j.length]=parseInt(a.gb[c].options[d].value,10)}if(c!=g||b!=0){d=a.Db[c].selectedIndex;if(d>0)j[j.length]=parseInt(a.Db[c].options[d].value,10)}}d=document.createElement("option");q[g].appendChild(d);for(c=0;c<y.length;c++){h=f;for(d=0;d<j.length;d++)if(j[d]==
y[c]){h=l;break}if(h){d=document.createElement("option");d.innerHTML=locale.ItemStatNames[y[c]];d.value=y[c];if(y[c]==k)d.selected=f;q[g].appendChild(d)}}}}
p.update=function(a){var b="";this.mc.disabled=f;this.ne.disabled=f;this.fe.innerHTML="";this.$f.innerHTML="";this.jg.innerHTML="";this.Kd.innerHTML="";this.M.innerHTML="";this.Uf=a;this.ca=this.ke=this.W=-1;if(a==i)this.Fa.style.display="none";else{this.Fa.style.display="block";this.M.innerHTML=a.v;this.M.style.color=xa[a.Ga];this.M.style.backgroundImage="url(images/icons/half/"+a.I+".png)";if(a.W==-1){b=[];var c,d,g;for(c=0;c<y.length;c++){d=je(a,y[c]);d!=-1&&b.push([y[c],d])}this.jg.innerHTML=
"<div class='rf_help'>"+locale.RF_ChooseReduce+"</div>";d=document.createElement("select");g=document.createElement("option");g.innerHTML=locale.RF_ReduceStat;d.appendChild(g);if(b.length>0)for(c=0;c<b.length;c++){g=document.createElement("option");g.innerHTML=locale.ItemStatNames[b[c][0]]+"("+Math.floor(b[c][1]*0.4)+")";g.value=b[c][0]+" "+b[c][1];d.appendChild(g)}else d.disabled=f;this.jg.appendChild(d);P(d,"change",this.Hl,this,[d]);b="<div class='rf_title'>"+locale.RF_Current+"</div><div class='rf_stats'>";
b+=ke(this,a,l,l);b+="</div>";this.$f.innerHTML=b;this.Kd.innerHTML="<div class='rf_help'>"+locale.RF_ChooseAdd+"</div><select disabled='true'><option>"+locale.RF_AddStat+"</option></select>"}else{this.mc.disabled=f;this.ne.disabled=l;b="<div class='rf_title'>"+locale.RF_Current+"</div><div class='rf_stats'>";b+=ke(this,a,l,l);b+="</div><div class='rf_reduced'>+"+a.qa+" "+locale.ItemStatNames[a.ca]+"</div>";this.$f.innerHTML=b;b="<div class='rf_title'>"+locale.RF_Restore+"</div>";b+=ke(this,a,l,f);
b+="</div>";this.fe.innerHTML=b}}};p.wb=function(a,b){this.$=[a,b]};
function le(a){var b,c=document.createElement("select"),d;a.Kd.innerHTML="<div class='rf_help'>"+locale.RF_ChooseAdd+"</div>";d=document.createElement("option");d.innerHTML=locale.RF_AddStat;c.appendChild(d);for(b=0;b<y.length;b++)if(je(a.Uf,y[b])==-1){d=document.createElement("option");d.innerHTML=locale.ItemStatNames[y[b]]+"("+a.ke+")";d.value=y[b];c.appendChild(d)}a.Kd.appendChild(c);P(c,"change",a.rl,a,[c]);a.fe.innerHTML="<div class='rf_title'>"+locale.RF_Reforge+"</div><div class='rf_notice'></div"}
p.Hl=function(a){this.mc.disabled=f;if(a.selectedIndex<1){this.ca=this.ke=this.W=-1;this.Kd.innerHTML="<div class='rf_help'>"+locale.RF_ChooseAdd+"</div><select disabled='true'></select>";this.fe.innerHTML="<div class='rf_title'>"+locale.RF_Reforge+"</div><div class='rf_notice'></div"}else{a=a.options[a.selectedIndex].value.split(" ");this.ke=Math.floor(parseInt(a[1],10)*0.4);this.W=parseInt(a[0],10);le(this)}};
p.rl=function(a){if(a.selectedIndex<1){this.ca=-1;le(this);this.mc.disabled=f}else{this.ca=parseInt(a.options[a.selectedIndex].value,10);a="<div class='rf_title'>"+locale.RF_Reforge+"</div><div class='rf_stats'>";a+=ke(this,this.Uf,f,l);a+="</div><div class='rf_added'>+"+this.ke+" "+locale.ItemStatNames[this.ca]+"</div>";this.fe.innerHTML=a;this.mc.disabled=l}};p.Il=function(){oc(this.Uf,this.W,this.ca);this.$&&this.$[0].apply(this.$[1],[])};
p.Pl=function(){this.Uf.restore();this.$&&this.$[0].apply(this.$[1],[])};
function ke(a,b,c,d){var g="",h;for(h=0;h<b.g.length;h++)if(b.g[h])g+=c&&b.g[h][0]==a.W?"<div class='rf_reduced'>+"+(b.g[h][1]-a.ke)+" "+locale.ItemStatNames[b.g[h][0]]+"</div>":d&&b.g[h][0]==b.W?"<div class='rf_added'>+"+b.Jc+" "+locale.ItemStatNames[b.W]+"</div>":"<div>+"+b.g[h][1]+" "+locale.ItemStatNames[b.g[h][0]]+"</div>";if(b.Y)for(h=0;h<b.Y.G.length;h++){var j=b.Y.G[h];if(j)g+=c&&j.ea[0]==5&&j.Va[0]==a.W?"<div class='rf_reduced'>"+j.vg.replace(/\$i/,j.ua[0]-a.ke)+"</div>":d&&j.ea[0]==5&&j.Va[0]==
b.W?"<div class='rf_added'>"+j.vg.replace(/\$i/,b.Jc)+"</div>":"<div>"+j.Z+"</div>"}return g}function je(a,b){var c;for(c=0;c<a.g.length;c++)if(a.g[c]&&a.g[c][0]==b)return a.g[c][1];if(a.Y)for(c=0;c<a.Y.G.length;c++){var d=a.Y.G[c];if(d&&d.ea[0]==5&&d.Va[0]==b)return d.ua[0]}return-1}
p.dm=function(){var a=document.createElement("div"),b;a.innerHTML="Preparing temporary profile...";a.className="tt_msg_c tt_msg";U.uc(a);b=me();b.open("GET","php/interface/wowreforge/get.php",l);b.send(i);b=eval("("+b.responseText+")");a=this.yg;var c;c=S.l;var d=c.e!=i?c.e.q:i,g=i,h=[],j={},k=[],q,x,m,r;for(q=0;q<19;q++){r=c.z.k[q][0];if(r==i)j[qa[q]]=i;else{m=[];for(x=0;x<r.G.length;x++)m.push(r.G[x].c);x=r.W!=-1&&r.ca!=-1?{from:r.W,to:r.ca}:i;if(r.Vm)switch(q){case 7:m.push(3717);break;case 8:m.push(3723);
break;case 9:m.push(3729)}j[qa[q]]={id:r.c,gems:[r.D[0]?r.D[0].c:0,r.D[1]?r.D[1].c:0,r.D[2]?r.D[2].c:0],enchants:m,randomEnchant:r.Y?r.Y.c:0,reforging:x}}}for(q=0;q<2;q++)(m=c.ka[q])&&h.push({skill:ra[m.c],level:m.j});if(c.e)for(q=0;q<c.e.T.length;q++)for(x=0;x<c.e.T[q].length;x++)c.e.T[q][x]?k.push(c.e.T[q][x].c):k.push(0);if(d!=i)g={specialization:d.L!=-1?d.ve[d.L]:"None",talents:d.Xc.join(""),glyphs:k};c=JSON.stringify({name:c.v,description:c.Z,basedOn:i,meta:{source:{url:g_settings.profileId?
"http://chardev.org/?profile="+g_settings.profileId:"http://chardev.org/?planner",origin:"chardev.org",data:{profileId:g_settings.profileId}}},character:{race:c.Ma!=i?oa[c.Ma.c]:"None","class":c.e!=i?pa[c.e.c]:"None",level:c.j,gender:"Female"},builds:{primary:g,secondary:i},gear:j,professions:h});a.value=c;this.xg.value=b;this.sc.submit();a=document.createElement("div");a.innerHTML='Waiting for wowreforge.com to finish...<br /><span class="tt_close_notice">Abort by hitting escape!</span>';a.className=
"tt_msg_c tt_msg";U.uc(a);this.tk(b)};p.tk=function(a){L("php/interface/wowreforge/pull.php"+F({id:a}),new t(this.em,this),[a])};p.em=function(a,b){var c=ne(a);if(c){U.sa();T(U,c)}else if(U.Ud)if(c=eval("("+a.responseText+")"))yb(U,c);else{var d=this;window.setTimeout(function(){d.tk.apply(d,[b])},2E3)}};function oe(){var a;this.b=document.createElement("div");this.te=document.createElement("div");this.Hh=new Q(1,3);this.Hh.b.className="si_socket_parent";this.Ua=[new Gc(5),new Gc(5),new Gc(5)];this.ni=document.createElement("div");this.ia=new Fc;this.ia.Id();this.Fa=document.createElement("div");this.Fa.className="si_main";this.Fa.style.display="block";this.Fa.appendChild(this.te);this.Fa.appendChild(this.Hh.b);this.b.appendChild(this.ni);this.b.appendChild(this.Fa);this.ni.appendChild(this.ia.b);
this.ia.M.appendChild(document.createTextNode(locale.SI_BatchHeader));this.ia.M.className="collapse_h ba_collapse_h";this.ia.u.className="collapse_c ba_collapse_c";this.ia.b.className="collapse ba_collapse";a=document.createElement("a");a.className="ba_simple_op_link";a.innerHTML=locale.SI_RemoveAllGems;P(a,"click",this.eh,this,[pe]);this.ia.u.appendChild(a);this.Od=document.createElement("a");this.Od.className="ba_simple_op_link";P(this.Od,"click",this.eh,this,[qe]);this.ia.u.appendChild(this.Od);
this.Pd=document.createElement("a");this.Pd.className="ba_simple_op_link";P(this.Pd,"click",this.eh,this,[re]);this.ia.u.appendChild(this.Pd);this.Qd=document.createElement("a");this.Qd.className="ba_simple_op_link";P(this.Qd,"click",this.eh,this,[se]);this.ia.u.appendChild(this.Qd);for(a=0;a<3;a++){this.Ua[a].t[0].className="si_unselected_border";this.Ua[a].t[1].className="si_bg";this.Ua[a].t[2].className="si_no_highlight";this.Ua[a].t[4].className="si_event";this.Ua[a].t[4].oncontextmenu=o(l);P(this.Ua[a].t[4],
"mouseover",this.Xl,this,[a]);P(this.Ua[a].t[4],"mouseout",this.Wl,this,[a]);P(this.Ua[a].t[4],"click",this.Vl,this,[a]);P(this.Ua[a].t[4],"contextmenu",this.Yl,this,[a]);this.Ua[a].t[4].onmousemove=function(){U.move()}}this.Dd=document.createElement("div");this.Dd.className="si_used_parent";this.b.appendChild(this.Dd);te(this,-1)}p=oe.prototype;p.Xb=-1;p.te=i;p.b=i;p.Fa=i;p.Ua=[];p.ni=i;p.Ri=i;p.Si=i;p.hh=i;p.ih=i;p.ia=i;p.Mc=0;p.i=i;p.Dd=i;p.Od=i;p.Pd=i;p.Qd=i;
p.update=function(a,b,c){if(!(b<0||a==i)){var d=a.z.k[b][0],g,h,j={},k;this.Mc=b;this.i=a;te(this,c);G.va(this.te);if(d!=i){this.Fa.style.display="block";this.te.innerHTML=d.ab(a,1);this.te.className="tt_small";rb(this.te);g=Zc(a,b);for(b=0;b<d.ga.length;b++){G.va(this.Hh.d[0][b]);if(d.ga[b]>0||g){if(d.ga[b]<=0){g=l;h="prismatic"}else h=d.ga[b]==14?"prismatic":Math.log(d.ga[b])/Math.log(2);c=this.Ua[b];c.t[1].style.backgroundImage="url(images/socket_interface/socket_"+h+"_large.png)";if(d.D[b]==i){c.t[3].className=
"si_braces";c.t[3].style.backgroundImage="url(images/socket_interface/socket_"+h+"_braces_open.png)";G.va(c.t[1])}else{var q=document.createElement("img");q.src="images/icons/large/"+d.D[b].I+".png";q.className="si_gem_icon";G.ha(c.t[1],q);c.t[3].className="si_braces";c.t[3].style.backgroundImage="url(images/socket_interface/socket_"+h+"_braces_closed.png)"}this.Hh.d[0][b].appendChild(c.t[0])}}}else this.Fa.style.display="none";for(b=0;b<19;b++){d=a.z.k[b][0];if(d!=i)for(c=0;c<d.D.length;c++){k=d.D[c];
if(k!=i)j[k.c]=k}}this.Dd.innerHTML="<span class='si_used_title_fix'>"+locale.SI_UsedGems+": </span>";for(var x in j){k=j[x];a=document.createElement("a");a.className="si_used_gem";a.style.backgroundImage="url(images/icons/small/"+k.I+".png)";a.onmouseout=function(){U.na()};a.onmousemove=function(){U.move()};a.onmouseover=function(){U.ei(k.c)};P(a,"mouseover",U.ei,U,[k.c]);P(a,"click",this.bm,this,[k.c]);this.Dd.appendChild(a)}G.Ya(this.Dd)}};
p.bm=function(a){this.ih&&this.ih[0].apply(this.ih[1],[wa.H(a)])};p.Xl=function(a){this.Ua[a].t[2].className="si_highlight";var b=this.i.z.k[this.Mc][0];b!=i&&b.D[a]!=i&&U.no(b.D[a])};p.Wl=function(a){this.Ua[a].t[2].className="si_no_highlight";U.na()};p.Vl=function(a){te(this,a);this.Si&&this.Ri!=i&&this.Ri.apply(this.Si,[a])};p.Yl=function(a){this.hh&&this.hh[0].apply(this.hh[1],[a])};var pe=0,re=1,se=2,qe=3;
oe.prototype.eh=function(a){if(a==pe){a=this.i;a.z.Ag(0,void 0);W(a)}else{var b=this.i.z.k[this.Mc][0],c=b.D[this.Xb].c;switch(a){case qe:this.i.ai(c);break;case re:this.i.Ag(c);break;case se:this.i.Ag(c,b.ga[this.Xb])}}this.update(this.i,this.Mc,this.Xb)};
function te(a,b){a.Od.style.display="none";a.Pd.style.display="none";a.Qd.style.display="none";if(b!=-1){var c=a.i.z.k[a.Mc][0],d=c.D[b];a.Dd.style.display="block";a.Ua[b].t[0].className="si_selected_border";if(d!=i){a.Od.style.display="block";a.Pd.style.display="block";a.Od.innerHTML=E(locale.SI_RemoveGems,d.v);a.Pd.innerHTML=E(locale.SI_SocketAll,d.v);if(c.ga[b]>0){a.Qd.innerHTML=D(locale.SI_SocketAllColor,[d.v,locale.SI_SocketColors[c.ga[b]]]);a.Qd.style.display="block"}}}else a.Dd.style.display=
"none";if(a.Xb!=-1&&a.Xb!=b)a.Ua[a.Xb].t[0].className="si_unselected_border";a.Xb=b};var ue=[2,0,1];
function ve(){var a,b,c,d=new Q(1,2),g,h;Lc(d,"top");this.b=document.createElement("div");this.b.className="gi_p";this.Ac=document.createElement("div");this.Ac.className="gi_list";this.Tf=[];this.T=[];for(a=0;a<3;a++){b=ue[a];this.Tf[b]=document.createElement("div");this.T[b]=[];for(c=0;c<3;c++){g=document.createElement("div");g.className="gi_slot";h=new Q(1,1);Lc(h,"middle");this.T[b][c]=h.d[0][0];this.T[b][c].className="gi_glyph_td";g.appendChild(h.b);h=document.createElement("div");h.className=
"gi_border gi_border_"+(a==0?"p":a==1?"m":"i");g.appendChild(h);this.Tf[b].appendChild(g)}this.Tf[b].className="gi_p_glyph";g=document.createElement("div");g.innerHTML=locale.GlyphTypes[b];g.className="gi_glyph_t";d.d[0][0].appendChild(g);d.d[0][0].appendChild(this.Tf[b])}d.b.className="align_center";d.d[0][1].appendChild(this.Ac);this.b.appendChild(d.b)}p=ve.prototype;p.b=i;p.Tf=[];p.Ac=i;p.T=[];p.fh=[];p.kd=[];p.Wk=-1;
p.update=function(a){var b=a.e?a.e.ki:i,c=a.e?a.e.T:i,d,g,h,j;G.va(this.Ac);if(b!=i&&this.Wk!=a.e.c){for(d=0;d<3;d++){h=ue[d];j=document.createElement("div");j.innerHTML=locale.GlyphTypes[h];j.className="gi_type_title";this.Ac.appendChild(j);for(g=0;g<b[h].length;g++){j=document.createElement("a");j.className="gi_list_item";j.onmousemove=function(){U.move()};j.onmouseout=function(){U.na()};P(j,"click",this.ag,this,[h,b[h][g]]);P(j,"mouseover",U.fi,U,[b[h][g].n]);j.innerHTML=b[h][g].n.getName();this.Ac.appendChild(j);
this.Ac.appendChild(document.createElement("br"))}}this.Ac.style.display="block"}else this.Ac.style.display="none";if(c)for(d=0;d<3;d++)for(g=0;g<c[d].length;g++){this.T[d][g].style.backgroundImage="";this.T[d][g].innerHTML="";if(g>=a.e.zf)this.T[d][g].innerHTML="<div class='gi_glyph gi_unavailable'>"+E(locale.GI_NotAvailable,(g+1)*25)+"</div>";else if(c[d][g]){this.T[d][g].style.backgroundImage="url(images/icons/half/"+c[d][g].n.I+".png)";j=document.createElement("a");j.className="gi_used";j.onmousemove=
function(){U.move()};j.oncontextmenu=o(l);j.onmouseout=function(){U.na()};P(j,"mouseover",U.fi,U,[c[d][g].n]);P(j,"contextmenu",this.Oi,this,[d,g]);j.innerHTML=c[d][g].n.getName();this.T[d][g].appendChild(j)}else this.T[d][g].innerHTML="<div class='gi_glyph gi_unused'>"+locale.GI_Empty+"</div>"}};p.Rc=function(a,b){this.fh=[a,b]};p.wj=function(a,b){this.kd=[a,b]};p.ag=function(a,b){this.fh&&this.fh[0].apply(this.fh[1],[a,b])};p.Oi=function(a,b){this.kd&&this.kd[0].apply(this.kd[1],[a,b])};function we(){this.b=document.createElement("div");this.Vc=document.createElement("div");this.Di=document.createElement("div");this.kj=document.createElement("div");this.Vi=document.createElement("div");this.b.appendChild(this.Di);this.b.appendChild(this.Vi);this.b.appendChild(this.kj);this.b.appendChild(this.Vc);this.Cj=new t(this.il,this)}p=we.prototype;p.Sj=l;p.b=i;p.Vc=i;p.Di=i;p.Vi=i;p.hi=i;p.Cj=i;
p.update=function(a){if(this.Sj){var b,c,d,g,h,j,k=new Fc,q=new Fc,x=0,m=0,r=[];q.M.className="collapse_h bi_collapse_h";q.u.className="collapse_c bi_collapse_c";q.b.className="collapse bi_collapse";k.M.className="collapse_h bi_collapse_h";k.u.className="collapse_c bi_collapse_c";k.b.className="collapse bi_collapse";G.ha(this.Di,q.b);G.ha(this.Vi,k.b);for(c=0;c<19;c++)if(b=a.z.H(c)){for(d=0;d<b.Q.length;d++){g=b.Q[d];if(g!=i){for(h=0;h<3;h++)if(j=g.O[h])if(j.Of==42){j=j.qh<=0?i:A.H(j.qh);if(j){k.u.appendChild(xe(this,
j.I,j.c,f,j.getName()));m++}}if(!zc(g)){q.u.appendChild(xe(this,g.I,g.c,f,g.getName()));x++}}}for(d=0;d<b.G.length;d++){g=b.G[d];if(g.ea[0]==1){j=g.Q[0];k.u.appendChild(xe(this,j.I,j.c,f,j.getName()))}}}G.Ya(q.u);q.M.innerHTML="Items (Use-Effects)<span class='bi_cb_count'>("+x+")</span>";G.Ya(k.u);k.M.innerHTML="Item Procs<span class='bi_cb_count'>("+m+")</span>";G.va(this.kj);if(a.e!=i&&a.e.Lg!=i)for(c=0;c<a.e.Lg.length;c++){b=a.e.Lg[c];a.ba.Ce[b[1]]&&r.push(b[0])}ye(this,r,"Talent Buffs",this.kj,
0,f)}else{U.La();Tc("php/interface/get_buffs.php",this.Cj,[a])}};p.il=function(a,b){var c=a[0],d;for(d=0;d<c.length;d++)locale.a_class[d]&&ye(this,a[0][d],locale.a_class[d],this.Vc,0,l);ye(this,a[1][0],"Elixirs",this.Vc,0,l);ye(this,a[1][1],"Battle Elixirs",this.Vc,0,l);ye(this,a[1][2],"Guardian Elixirs",this.Vc,0,l);ye(this,a[1][3],"Flasks",this.Vc,0,l);ye(this,a[2],"Food",this.Vc,1,l);this.Sj=f;this.update(b);U.sa()};
function ye(a,b,c,d,g,h){var j=new Fc,k,q,x,m=i;m={};var r=document.createElement("div"),n;j.M.className="collapse_h bi_collapse_h";j.u.className="collapse_c bi_collapse_c";j.b.className="collapse bi_collapse";for(k=q=0;k<b.length;k++)if(b[k]){q++;if(g==1){x=new bc(b[k]);if(x.Q[0]!=i&&Ac(x.Q[0])){n=Ac(x.Q[0]);A.F(x.Q[0]);m[x.v+mc(n)]=xe(a,x.I,n.c,l,x.v)}}else{x=new V(b[k]);m[x.getName()+mc(x)]=xe(a,x.I,x.c,l,x.getName());A.F(x)}}j.M.innerHTML=c+"<span class='bi_cb_count'>("+q+")</span>";a=document.createElement("div");
a.innerHTML="Filter: ";a.className="bi_fcc_parent";m=new Qc(m,r);m.Yd.className="input input_small bi_fcc_f";m.lo();a.appendChild(m.Yd);j.u.appendChild(a);j.u.appendChild(r);G.Ya(j.u);h||j.collapse();q&&d.appendChild(j.b)}
function xe(a,b,c,d,g){var h=document.createElement("div"),j=document.createElement("div");j.style.backgroundImage="url(images/icons/small/"+b+".png)";j.className="bi_buff";h.className="bi_buff_p";h.appendChild(j);h.appendChild(document.createTextNode(g.length>20?g.substr(0,20)+"...":g));h.onmouseout=function(){U.na()};h.onmousemove=function(){U.move()};P(h,"mouseover",U.tf,U,[c,d]);P(h,"click",a.ql,a,[c]);return h}p.ql=function(a){this.hi&&w(this.hi,[a])};function ze(){this.b=document.createElement("div")}p=ze.prototype;p.b=i;p.Ra=i;p.Oa=i;
p.update=function(a){var b=[],c=a.Ib;G.va(this.b);if(c){b[0]=[0,""];for(var d=0;d<c.length;d++){for(var g="",h=0;h<5;h++)if(c[d].G[h])g+=(g?", ":"")+c[d].G[h].Z;b[d+1]=[c[d].c,"..."+c[d].v+": "+g]}this.Ra=new Ic(b);a.um&&this.Ra.select(a.um.c);P(this.Ra.b,"change",this.Mi,this,[a]);this.b.className="rpi_parent";this.b.innerHTML="<div class='rpi_title'>"+locale.RPI_SelectRandomEnchant+"</div>";a=document.createElement("div");a.className="rpi_content";a.appendChild(this.Ra.b);this.Ra.b.className="rpi_select";
this.b.appendChild(a)}};p.Mi=function(a){cc(a,parseInt(this.Ra.vb(),10));this.Oa&&this.Oa[0].apply(this.Oa[1],[])};p.wb=function(a,b){this.Oa=[a,b]};var Ae=[[0,0,0],[0,0,0,0,0],[68,96,0,65,16,24,16,64,256],[132,160,0,129,16,24,16,256],[0,16,24,0,0,0,16,256],[0,16,16,16,0],[0,0,0,0,0]];
function Be(a,b,c){this.Nj=b;this.Rj=c;var d=document.createElement("div");d.className="stat_table_value_div";this.b=document.createElement("div");this.b.className="stat_table_name_div";this.b.innerHTML=locale.CS_Stats[b][c];this.b.appendChild(d);this.Sd=document.createElement("span");this.Sd.className="stat_table_stat_compare_span";this.Ed=document.createElement("span");this.Ed.className="stat_table_stat_span";this.Ed.innerHTML=0;d.appendChild(this.Sd);d.appendChild(this.Ed);P(this.b,"mouseover",
U.ro,U,[b,c,this.b,a]);this.b.onmouseout=function(){U.na()};this.lb=Ae[this.Nj][this.Rj]}p=Be.prototype;p.Nj=-1;p.Rj=-1;p.v="";p.te="";p.b=i;p.J=0;p.Ed=i;p.$b=function(a){this.J=a;this.Ed.innerHTML="";if(a===i&&this.lb&128)this.Ed.innerHTML+="N/A";else if(this.lb&64){Ce(this,a[0]);if(a[1]!=i){this.Ed.innerHTML+="/";Ce(this,a[1])}}else Ce(this,a)};
function Ce(a,b){a.Ed.innerHTML+=a.lb&16?(a.lb&8?"+":"")+ab(b,2)+"%":a.lb&32?ab(b,1):a.lb&256?ab(b,2):a.lb&1?ab(b/1E3,2):a.lb&4?b[0]+"-"+b[1]:Math.floor(b)}function De(a,b){var c,d;a.Sd.innerHTML="";if(!(b===i&&a.lb&128))if(a.lb&64){if(!(a.lb&4)){c=Ee(a,b[0],a.J[0]);if(b[1]!=i){d=Ee(a,b[1],a.J[1]);if(c||d)a.Sd.innerHTML=(c?c:"0")+"/"+(d?d:"0")}else if(c!=i)a.Sd.innerHTML=c}}else{c=Ee(a,b,a.J);a.Sd.innerHTML=c?c:""}}
function Ee(a,b,c){b=(272&a.lb)!=0?Math.floor((b-c)*100)/100:Math.floor(b-c);if(b!=0){if(a.lb&1)return"<span class='"+(b>0?"compare_red":"compare_green")+"'>"+(b>0?"+":"-")+H(Math.abs(b)/1E3)+"</span>";return"<span class='"+(b>0?"compare_green":"compare_red")+"'>"+(b>0?"+":"-")+((a.lb&16)!=0?H(Math.abs(b)):Math.abs(b))+"</span>"}return i};var Fe=[[38,5,5],[16,0,0],[16,0,32],[16,32,32],[16,32,0]];
function Ge(a,b){this.b=document.createElement("div");this.mb=[];this.xb=[];this.ja=[];this.I=[];this.i=b;this.z=b.z;this.gh=i;this.Mc=a;var c=32,d=0,g=0;this.b.className="character_sheet_item_parent";for(var h=0;h<5;h++){c=Fe[h][0];d=Fe[h][1];g=Fe[h][2];this.I[h]=document.createElement("img");this.I[h].className="character_sheet_item_image";this.I[h].style.width=c+"px";this.I[h].style.height=c+"px";this.mb[h]=document.createElement("div");this.mb[h].className="character_sheet_item_image_div";this.mb[h].style.zIndex=
3*(5-h)-2;this.mb[h].style.top=d+"px";this.mb[h].style.left=g+"px";this.mb[h].style.width=c+"px";this.mb[h].style.height=c+"px";this.xb[h]=document.createElement("div");this.xb[h].className="character_sheet_item_border";this.xb[h].style.zIndex=3*(5-h)-1;this.xb[h].style.top=d-1+"px";this.xb[h].style.left=g-1+"px";this.xb[h].style.width=c+"px";this.xb[h].style.height=c+"px";this.ja[h]=document.createElement("div");this.ja[h].className="character_sheet_item_highlight";this.ja[h].oncontextmenu=o(l);
P(this.ja[h],"mouseover",this.tn,this,[a,h]);P(this.ja[h],"mouseout",this.sn,this,[a,h]);P(this.ja[h],"click",this.fn,this,[a,h]);P(this.ja[h],"contextmenu",this.gn,this,[a,h]);this.ja[h].ondblclick=o(l);this.ja[h].onmousedown=o(l);this.ja[h].onmouseup=o(l);this.ja[h].style.zIndex=3*(5-h);this.ja[h].style.top=d+"px";this.ja[h].style.left=g+"px";this.ja[h].style.width=c+"px";this.ja[h].style.height=c+"px";this.mb[h].appendChild(this.I[h]);this.b.appendChild(this.mb[h]);this.b.appendChild(this.xb[h]);
this.b.appendChild(this.ja[h])}this.update()}p=Ge.prototype;p.b=i;p.mb=[];p.xb=[];p.ja=[];p.I=[];p.i=i;p.Mc=-1;p.z=i;p.gh=i;p.Ga=-1;p.pe=l;p.tn=function(a,b){var c=this.z.k[a][b];if(c!=i){if(b>0){this.mb[b].style.zIndex=26;this.xb[b].style.zIndex=27;this.ja[b].style.zIndex=28;this.i.ze(c,a,-1)}U.qo(c.ab(this.i),this.ja[b])}};
p.sn=function(a,b){this.mb[b].style.zIndex=3*(5-b)-2;this.xb[b].style.zIndex=3*(5-b)-1;this.ja[b].style.zIndex=3*(5-b);b>0&&this.i.tc();this.ja[b].style.backgroundImage="url(images/site/item_slot_shadow.png)";U.na()};p.Rc=ca("gh");p.fn=function(a,b){this.gh&&w(this.gh,[a,b]);if(b>0)if(this.z.k[a][b]){var c=this.z;if(fd(c,c.k[a][b],a)){dd(c,c.k[a][b],a);var d=c.k[a][0];c.k[a][0]=c.k[a][b];c.k[a][b]=d}W(this.i);this.update()}};p.gn=function(a){this.i.z.remove(a);W(this.i);this.update();return l};
function Vd(a,b){a.b.style.display=b?"block":"none"}p.select=function(){this.b.style.backgroundImage="url(images/site/item_border_hover.png)";this.pe=f};
p.update=function(){for(var a=i,b=0;b<5;b++){a=this.z.k[this.Mc][b];if(a==i){if(b>0){this.xb[b].style.display="none";this.mb[b].style.display="none";this.ja[b].style.display="none"}else this.b.style.backgroundImage="url(images/site/item_border.png)";this.I[b].src="images/charsheet/"+this.Mc+".jpg"}else{if(b>0){this.xb[b].style.display="block";this.mb[b].style.display="block";this.ja[b].style.display="block"}else{this.Ga=a.Ga;this.b.style.backgroundImage=this.pe?"url(images/site/item_border_hover.png)":
this.Ga>-1?"url(images/site/item_border_q"+this.Ga+".png)":"url(images/site/item_border.png)"}this.I[b].src="images/icons/large/"+a.I+".png"}}};function He(a){this.i=a;this.b=document.createElement("div")}p=He.prototype;p.i=i;p.b=i;p.fj=l;p.bn=function(a){this.i.Sc(a);this.update()};
p.update=function(){var a,b=this.i.e,c,d;G.va(this.b);if(b!=i&&b.qe!=i){c=document.createElement("div");a=b.qe;for(var g=0;g<a.length;g++)if(a[g].c==31&&this.i.e.q.q[0][2][1].N==0)this.fj=l;else{d=document.createElement("div");d.className="cs_shape";d.style.backgroundImage="url(images/icons/"+(a[g].c==b.Sa?"":"g/")+"small/"+a[g].r[0].n.I+".png)";c.appendChild(d);P(d,"mouseover",U.po,U,[mc(a[g].r[0].n)]);d.onmouseout=function(){U.na()};d.onmousemove=function(){U.move()};P(d,"click",this.bn,this,[a[g].c]);
this.fj=f}this.b.appendChild(c);G.Ya(this.b)}};function Ie(){this.b=document.createElement("div")}Ie.prototype.update=function(a){G.va(this.b);if(a.e){var b=a.e.ge;switch(a.e.c){case 6:for(var c=0;c<b.length;c++){var d=document.createElement("div");d.className="ps_presence";d.style.backgroundImage="url(images/icons/"+(a.ba.kb(b[c].c)?"":"g/")+"small/"+b[c].I+".png)";this.b.appendChild(d);P(d,"mouseover",U.tf,U,[b[c].c]);d.onmouseout=function(){U.na()};d.onmousemove=function(){U.move()};P(d,"click",this.Mi,this,[b[c].c])}}G.Ya(this.b)}};
Ie.prototype.wb=ca("Oa");Ie.prototype.Mi=function(a){this.Oa&&w(this.Oa,[a])};var Je={1:447,2:493,3:511,4:1213,5:445,6:1143,7:441,8:1533,9:509,10:447,11:247,22:1469},Ke=[[1,3,4,7,11,22],[2,5,6,8,10,9]];
function Le(a){var b=new Q(1,2),c=new Q(7,2);this.i=a;this.b=document.createElement("div");this.b.className="rcs_parent";this.ff=document.createElement("div");this.ff.className="rcs_icon_race_container";this.xd=document.createElement("div");this.xd.className="rcs_icon_container";this.nb=document.createElement("div");this.nb.className="character_race_icon";this.nb.style.backgroundImage="url(images/site/race_class/medium/empty.png)";this.Ye=document.createElement("img");this.Ye.className="rcs_icon_s";
this.Ye.src="images/site/race_class/medium/empty.png";this.nb=new Gc(4);this.nb.t[0].appendChild(this.Ye);this.nb.t[0].className="rcs_icon_l";this.nb.t[1].className="rcs_shadow";this.nb.t[2].className="rcs_border";this.nb.t[3].className="rcs_event_l";b.d[0][0].appendChild(this.nb.t[0]);this.Ff=document.createElement("img");this.Ff.className="rcs_icon_s";this.Ff.src="images/site/race_class/medium/empty.png";this.U=new Gc(4);this.U.t[0].appendChild(this.Ff);this.U.t[0].className="rcs_icon_l";this.U.t[1].className=
"rcs_shadow";this.U.t[2].className="rcs_border";this.U.t[3].className="rcs_event_l";b.d[0][1].appendChild(this.U.t[0]);this.b.appendChild(b.b);a=document.createElement("div");a.className="rcs_select_header";a.innerHTML="Select a Race:";b=document.createElement("div");b.className="rcs_close";b.onclick=function(){U.sa()};this.ff.appendChild(a);this.ff.appendChild(b);c.d[0][0].innerHTML="<div class='rcs_faction_alliance'>Alliance</div>";c.d[0][1].innerHTML="<div class='rcs_faction_horde'>Horde</div>";
for(a=0;a<2;a++)for(b=0;b<Ke[a].length;b++){var d=document.createElement("div");d.className="rcs_race_icon";d.style.backgroundImage="url(images/site/race_class/medium/chr_race_"+Ke[a][b]+".png)";P(d,"click",this.Gl,this,[Ke[a][b]]);c.d[1+b][a].appendChild(d)}this.ff.appendChild(c.b);P(this.U.t[3],"click",this.Dk,this,[]);P(this.nb.t[3],"click",this.oo,this,[]);P(this.U.t[3],"mouseover",this.Zh,this,[1,1]);P(this.nb.t[3],"mouseover",this.Zh,this,[0,1]);P(this.U.t[3],"mouseout",this.Zh,this,[1,0]);
P(this.nb.t[3],"mouseout",this.Zh,this,[0,0]);this.dk=new t(this.Fl,this);this.Hj=new t(this.ul,this)}p=Le.prototype;p.b=i;p.ff=i;p.xd=i;p.nb=i;p.Ye=i;p.U=i;p.Ff=i;p.i=i;p.dk=i;p.Hj=i;p.Zh=function(a,b){if(a)this.U.t[2].style.backgroundPosition=b!=1?"0px 0px":"48px 0px";else this.nb.t[2].style.backgroundPosition=b!=1?"0px 0px":"48px 0px"};
p.update=function(){var a,b;if(this.i.Ma!=i){this.Ye.src="images/site/race_class/medium/chr_race_"+this.i.Ma.c+".png";this.Ff.src=this.i.e!=i?"images/site/race_class/medium/"+this.i.e.c+".png":"images/site/race_class/medium/empty.png";G.va(this.xd);a=document.createElement("div");a.className="rcs_select_header";a.innerHTML="Select a Class:";b=document.createElement("div");b.className="rcs_close";b.onclick=function(){U.sa()};this.xd.appendChild(a);this.xd.appendChild(b);for(a=0;a<11;a++)if((Je[this.i.Ma.c]&
1<<a)!=0){b=document.createElement("div");b.className="rcs_icon";b.style.backgroundImage="url(images/site/race_class/medium/"+(a+1)+".png)";P(b,"click",this.vl,this,[a+1]);this.xd.appendChild(b)}a=document.createElement("div");a.className="clear_both";this.xd.appendChild(a)}else this.Ye.src="images/site/race_class/medium/empty.png"};p.vl=function(a){M.Pm(a,this.i,this.Hj);U.La()};p.Gl=function(a){M.Rm(a,this.i,this.dk);U.La()};p.ul=function(){U.sa();W(this.i)};p.Fl=function(){this.Dk();W(this.i)};
p.Dk=function(){this.i.Ma!=i?U.uc(this.xd):T(U,"Select a Race first!")};p.oo=function(){U.uc(this.ff)};function Me(a){this.b=document.createElement("div");this.b.className="bb_p";this.i=a}
Me.prototype={i:i,b:i,aj:i,ti:i,update:function(){var a=this.i.r.r;G.va(this.b);for(var b in a)this.vm(a[b]);G.Ya(this.b)},vm:function(a){var b=document.createElement("img");b.className="bb_buff";b.src="images/icons/small/"+a.n.I+".png";b.oncontextmenu=o(l);P(b,"contextmenu",this.Kl,this,[a.n.c]);P(b,"click",this.ag,this,[a.n.c]);b.onmouseout=function(){U.na()};b.onmousemove=function(){U.move()};a.n.Md&&a.n.Md.sb>1&&b.appendChild(G.outline(a.sb));P(b,"mouseover",U.tf,U,[a.n.c]);A.F(a);this.b.appendChild(b)},
Kl:function(a){this.aj&&w(this.aj,[a]);this.update()},ag:function(a){this.ti&&w(this.ti,[a]);this.update()},io:ca("aj"),co:ca("ti")};var Xd={1:24,2:8,3:52,4:56,5:44,6:24,7:40,8:44,9:44,11:8};
function Kd(a){var b,c,d,g;this.i=a;this.uh=new Le(a);this.gf=new He(a);this.Xe=new Ie;this.Rd=new Me(a);this.b=document.createElement("div");d=document.createElement("div");d.className="cs_level_parent";this.j=document.createElement("select");this.j.className="single_select";d.appendChild(this.j);P(this.j,"change",this.xl,this,i);Wd(this,a.e?a.e.c:0);Ud(this,a.j);c=document.createElement("div");c.className="cs_t";c.appendChild(this.uh.b);c.appendChild(this.Rd.b);c.appendChild(d);G.Ya(c);c.appendChild(this.gf.b);
c.appendChild(this.Xe.b);this.b.appendChild(c);b=new Q(1,2);Lc(b,"top");d=document.createElement("div");d.className="cs_m_grid_t";d.appendChild(b.b);this.b.appendChild(d);b.b.className="cs_m_grid";b.K[0].width="195px";b.K[1].width="148px";d=document.createElement("div");d.className="cs_m_grid_sl";g=new Q(8,2);this.Da=[];for(c=0;c<19;c++)this.Da[c]=new Ge(c,a);for(c=0;c<8;c++){g.d[c][0].style.paddingRight="8px";g.d[c][1].style.paddingLeft="8px";g.d[c][0].appendChild(this.Da[c].b);g.d[c][1].appendChild(this.Da[c+
8].b)}g.b.className="align_center";d.appendChild(g.b);c=new Q(1,3);d.appendChild(c.b);c.d[0][0].appendChild(this.Da[16].b);c.d[0][1].appendChild(this.Da[17].b);c.d[0][2].appendChild(this.Da[18].b);c.b.className="cs_w_grid";c=document.createElement("div");c.className="cs_m_grid_lb";d.appendChild(c);b.d[0][0].appendChild(d);this.g=[];this.rc=[];for(c=0;c<locale.CS_StatGroups.length;c++){this.rc[c]=new Fc;c==6&&this.rc[c].Id();this.g[c]=[];d=document.createElement("div");d.className="stat_title";d.appendChild(document.createTextNode(locale.CS_StatGroups[c]));
this.rc[c].M.appendChild(d);for(d=0;d<locale.CS_Stats[c].length;d++){this.g[c][d]=new Be(a,c,d);this.rc[c].u.appendChild(this.g[c][d].b)}d=document.createElement("div");d.className="cs_st_t";b.d[0][1].appendChild(d);this.rc[c].b.className="cs_st_m";b.d[0][1].appendChild(this.rc[c].b);d=document.createElement("div");d.className="cs_st_b";b.d[0][1].appendChild(d)}this.Ic=new Q(0,2);this.Ic.b.className="cs_prof_grid";Nc(this.Ic);Mc(this.Ic);Mc(this.Ic);this.Ic.d[0][0].innerHTML="<div class='cs_prof_title'>"+
locale.Professions+"</div>";this.rd=[i,i];this.jc=[i,i];for(c=0;c<2;c++){a=[[0,""]];for(d=0;d<va.length;d++){g=va[d];a.push([g,locale.PrimaryProfessions[g]])}this.rd[c]=new Ic([]);this.rd[c].b.className="single_select cs_prof_sel";P(this.rd[c].b,"change",this.Al,this,[c]);this.jc[c]=new Ic([]);this.jc[c].b.className="single_select cs_prof_level_sel";P(this.jc[c].b,"change",this.Bl,this,[c])}Rd(this);for(c=0;c<2;c++){this.Ic.d[1+c][0].appendChild(this.rd[c].b);this.Ic.d[1+c][1].appendChild(this.jc[c].b)}b.d[0][0].appendChild(this.Ic.b);
d=document.createElement("div");d.className="cs_m_grid_b";this.b.appendChild(d);Vd(this.Da[18],l)}p=Kd.prototype;p.b=i;p.i=i;p.Rd=i;p.Da=[];p.g=[];p.Ia=-1;p.rc=[];p.j=i;p.gf=i;p.Xe=i;p.Ic=i;p.rd=[];p.jc=[];
function Rd(a){for(var b=[a.i.ka.length>0?a.i.ka[0]:i,a.i.ka.length>1?a.i.ka[1]:i],c,d,g,h=0;h<2;h++){c=[[0,""]];for(d=0;d<va.length;d++){g=va[d];mb(va[d],a.i.j)<0||h==0&&b[1]&&b[1].c==g||h==1&&b[0]&&b[0].c==g||c.push([g,locale.PrimaryProfessions[g]])}a.rd[h].F(c);a.rd[h].select(b[h]?b[h].c:0);if(b[h]){var j=b[h];a.jc[h].b.style.display="block";g=nb(b[h].c,a.i.j);c=[];for(d=1;d<=g;d++)c.push([d,d]);a.jc[h].F(c);a.jc[h].select(j.j)}else a.jc[h].b.style.display="none"}}
p.Al=function(a){var b=this.i,c=parseInt(this.rd[a].vb(),10);b.ka[a]=c>0?new Ec(b,Va[c]):i;W(this.i);Rd(this)};p.Bl=function(a){this.i.ka[a].wa(parseInt(this.jc[a].vb(),10));W(this.i);Rd(this)};function Ud(a,b){for(var c=0;c<a.j.options.length;c++)if(parseInt(a.j.options[c].value,10)==b){a.j.options[c].selected="true";break}}function Wd(a,b){var c;c=b==6?55:1;G.va(a.j);for(var d=c;d<=85;d++){c=document.createElement("option");c.value=d;c.innerHTML=d;a.j.appendChild(c)}}
function ub(a){var b;for(b=0;b<a.g[0].length;b++)De(a.g[0][b],a.i.ic.Qb[b]);for(b=0;b<a.g[1].length;b++)De(a.g[1][b],a.i.ic.R[b]);for(b=0;b<a.g[6].length;b++)De(a.g[6][b],a.i.ic.Kc[b]);for(b=0;b<a.g[4].length;b++)De(a.g[4][b],a.i.ic.n[b]);for(b=0;b<a.g[5].length;b++)De(a.g[5][b],a.i.ic.ya[b]);for(b=0;b<a.g[2].length;b++)De(a.g[2][b],a.i.ic.aa[b]);for(b=0;b<a.g[3].length;b++)De(a.g[3][b],a.i.ic.ra[b])}
function Zd(a){var b,c;for(b=0;b<a.g.length;b++)for(c=0;c<a.g[b].length;c++)a.g[b][c].Sd.innerHTML=""}p.xl=function(){this.i.wa(parseInt(this.j.options[this.j.selectedIndex].value,10))};var Ne=0,Y=1,Oe=2,Pe=3,$=0,Qe=[["gt","&gt;"],["ge","&ge;"],["lt","&lt;"],["le","&le;"],["eq","="]],Re=[["wlike","is"]],Se=[["eq","="]];function Te(){this.Qf=new ea;this.xa=[];this.nf=[];this.Ge=document.createElement("div")}p=Te.prototype;p.Qf=new ea;p.nf=[];p.xa=[];p.Me={};p.Nb="";p.Ge=document.createElement("div");p.Un="[remove]";p.Tn="";
function Ue(a,b,c){var d=i;switch(b[1]){case Y:d=new Ve(b[0],b[2]);break;case Ne:d=new We(b[0]);break;case Oe:d=new Xe(b[0],b[2]);break;case Pe:d=new Ye(b[0],b[2]);break;default:e("Invalid filter type (var:"+b[0]+") "+b[1])}if(c)if(d.F(c))a.Nb=a.Nb.replace(c,"");return d}
p.F=function(a,b,c){this.Nb=c;this.xa=a;for(this.Qf.clear();this.Ge.firstChild;)this.Ge.removeChild(this.Ge.firstChild);this.nf=[];for(a=0;a<b.length;a++)if(b[a]){c=RegExp("(?:^|;)("+b[a][0]+"\\.(?:\\w+)\\.(?:[^;]+);)").exec(this.Nb);c=Ue(this,b[a],c?c[1]:i);this.Qf.push(c);this.Me[b[a][0]]||(this.nf[a]=c)}b=0;for(var d;(a=/(^|;)([^;]+;)/.exec(this.Nb))!=i;){d=this.Nb;if(c=/^(\w+)\.(\w+)\.([^;]+);/.exec(a[2])){this.Th(c[1],a[2]);b++;if(d==this.Nb)this.Nb=this.Nb.replace(a[0],a[1])}else this.Nb=this.Nb.replace(a[0],
a[1])}};
p.Th=function(a,b){var c=i,d=0,g,h=document.createElement("select"),j=document.createElement("span"),k=document.createElement("div"),q=i,x=-1,m=f,r=f;m=i;h.className="single_select fm_sel";for(var n=0;n<this.xa.length;n++){m=f;g=this.xa[n][0];switch(g){case 2:g=document.createElement("option");g.value=-1;h.appendChild(g);break;case 0:c!=i&&d>0&&h.appendChild(c);c=document.createElement("optgroup");c.label=this.xa[n][1];d=0;break;case 1:g=document.createElement("option");g.innerHTML=this.xa[n][1];g.value=
n;if(a&&a==this.xa[n][2][0]){g.selected=f;x=n}if(this.Me[this.xa[n][2][0]])if(x==n)r=l;else m=l;if(m){d++;c!=i?c.appendChild(g):h.appendChild(g)}break;default:e("Invalid custom select option: "+g)}}c!=i&&d>0&&h.appendChild(c);if(!(a&&x==-1)){if(x!=-1)q=Ue(this,this.xa[x][2],b);m=this.Qf.push(q);if(r){j.appendChild(h);q&&j.appendChild(q.b);P(h,"change",this.hn,this,[j,h,m]);k.appendChild(j);c=document.createElement("a");c.innerHTML=this.Un;c.className=this.Tn;c.href="#";c.onclick=o(l);k.appendChild(c);
P(c,"click",function(v,s){s!=i&&s.remove();v.parentNode&&v.parentNode.removeChild(v)},window,[k,m]);this.Ge.appendChild(k)}}};p.hn=function(a,b,c){var d=i;c.J&&a.removeChild(c.J.b);b=parseInt(b.options[b.selectedIndex].value,10);if(b!=-1){d=Ue(this,this.xa[b][2],i);a.appendChild(d.b)}c.J=d};p.ub=function(){for(var a="",b=this.Qf.Zd;(b=b.ec).ec!=i;)if(b.J!=i)a+=b.J.zg();return a};function Ze(a,b){this.Lb=a;this.b=document.createElement("span");this.Cb=b}p=Ze.prototype;p.Lb="";p.b=i;p.Cb=-1;p.xe=$;
p.F=function(){e("Unimplemented set Method of FilterBase was called")};p.vb=function(){e("Unimplemented getValue Method of FilterBase was called")};p.zg=function(){e("Unimplemented getArgumentString Method of FilterBase was called")};
function Ve(a,b){Ze.call(this,a,Y);this.xe=b;var c=i;switch(this.xe){case 2:c=new Ic(Re);c.b.style.display="none";break;case 3:c=new Ic(Se);c.b.style.display="none";break;default:c=new Ic(Qe)}this.jh=c;this.b.appendChild(this.jh.b);this.ae=document.createElement("input");this.ae.className="input fm_in";if(this.xe==$)this.ae.value="0";this.b.appendChild(this.ae)}Ve.prototype=new Ze("",0);p=Ve.prototype;p.xe=$;p.jh=i;p.ae=i;
p.vb=function(){switch(this.xe){case 3:case $:var a=parseFloat(this.ae.value);if(isNaN(a))a="";return a;default:return this.ae.value}};
p.F=function(a){switch(this.xe){case $:a=RegExp("^"+this.Lb+"\\.(eq|gt|lt|ge|le)\\.(\\d+(?:\\.\\d+)?);$").exec(a);break;case 3:a=RegExp("^"+this.Lb+"\\.(eq)\\.(\\d+(?:\\.\\d+)?);$").exec(a);break;case 2:a=RegExp("^"+this.Lb+"\\.(wlike|is)\\.([^;]+);$").exec(a);break;default:a=RegExp("^"+this.Lb+"\\.(w+).([^;]+);$").exec(a)}if(a){this.jh.select(a[1]);this.ae.value=a[2];return f}return l};p.zg=function(){return this.Lb+"."+this.jh.vb()+"."+this.vb()+";"};
function We(a){Ze.call(this,a,Ne);this.Qe=document.createElement("input");this.Qe.className="input fm_in_min";this.Qe.maxLength="5";this.Pe=document.createElement("input");this.Pe.className="input fm_in_max";this.Pe.maxLength="5";this.b.appendChild(this.Qe);this.b.appendChild(document.createTextNode(" - "));this.b.appendChild(this.Pe)}We.prototype=new Ze("",0);p=We.prototype;p.xe=$;p.Qe=i;p.Pe=i;
p.zg=function(){var a=parseFloat(this.Qe.value),b=parseFloat(this.Pe.value);return this.Lb+".btw."+(isNaN(a)?"":""+a)+"-"+(isNaN(b)?"":""+b)+";"};p.F=function(a){if(a=RegExp("^"+this.Lb+"\\.btw\\.(\\d*(?:\\.\\d+)?)-(\\d*(?:\\.\\d+)?);$").exec(a)){this.Qe.value=a[1];this.Pe.value=a[2];return f}return l};function Xe(a,b){Ze.call(this,a,Oe);this.fa=b;this.Ra=new Ic(b);this.b.appendChild(this.Ra.b)}Xe.prototype=new Ze("",0);p=Xe.prototype;p.fa=[];p.Ra=i;p.vb=function(){return this.Ra.vb()};
p.F=function(a){if(a=RegExp("^"+this.Lb+"\\.eq\\.([^;]+);$").exec(a)){this.Ra.select(a[1]);return f}return l};p.zg=function(){return this.Lb+".eq."+this.vb()+";"};function Ye(a,b){Ze.call(this,a,Pe);this.fa=b;this.Ra=new Jc(b,"");this.b.appendChild(this.Ra.b)}Ye.prototype=new Ze("",0);p=Ye.prototype;p.fa=[];p.Ra=i;p.vb=function(){return this.Ra.vb()};p.F=function(a){if(a=RegExp("^"+this.Lb+"\\.ba\\.([^;]+);$").exec(a)){this.Ra.select(parseInt(a[1],10));return f}return l};
p.zg=function(){return this.Lb+".ba."+this.vb()+";"};function $e(){}p=$e.prototype;p.b=i;p.vf=i;p.ef=i;p.za=i;p.kc=i;p.Ke=i;p.Yi=i;p.Gb=i;
p.Gd=function(){this.za=new Te;this.b=document.createElement("form");this.b.onsubmit=o(l);this.b.action="#";this.b.method="post";P(this.b,"submit",this.Zl,this,i);this.vf=document.createElement("input");this.vf.value=locale.F_AddFilter;this.vf.type="button";P(this.vf,"click",this.Th,this,i);this.ef=document.createElement("input");this.ef.value=locale.F_Search;this.ef.type="submit";this.ef.className="fm_search";this.kc=document.createElement("input");this.kc.type="checkbox";this.ef.className="fm_propagate";
P(this.kc,"change",this.El,this,i);this.Gb=new Q(1,4);Lc(this.Gb,"top");this.Gb.K[0].width="100%";this.b.appendChild(this.Gb.b);Nc(this.Gb);this.Gb.d[1][0].appendChild(this.za.Ge);this.Gb.d[1][0].appendChild(this.vf);this.Gb.b.className="fm_layout_t";this.b.appendChild(this.ef)};p.Zl=function(){this.update(this.za.ub());this.Ke&&w(this.Ke,[])};p.Th=function(){this.za.Th("","")};function af(a,b){a.za.Me[b]=f}p.El=function(){this.Yi&&w(this.Yi,[])};p.ub=function(){return this.za.ub()};
function Sd(a,b,c){var d=a.za.ub();d=d.replace(RegExp("\u0008"+b+"\\.\\w+\\.[^;]+;"),"")+c;a.update(d)}function bf(a,b){var c=document.createElement("div");c.innerHTML="<span class='if_in_title'>"+a+":</span>";c.appendChild(b);return c}function cf(a,b){var c=document.createElement("div");c.innerHTML="<div class='if_sel_title'>"+a+"</div>";c.appendChild(b);return c}p.update=function(){e("Unimplemented function Filter.update")};var df=[8919044,1116154,2026,2026,2026],ef=[[0,locale.a_quality[0]],[1,locale.a_quality[1]],[2,locale.a_quality[2]],[3,locale.a_quality[3]],[4,locale.a_quality[4]],[5,locale.a_quality[5]],[7,locale.a_quality[7]]],ff=[[1,locale.a_class[0]],[2,locale.a_class[1]],[4,locale.a_class[2]],[8,locale.a_class[3]],[16,locale.a_class[4]],[32,locale.a_class[5]],[64,locale.a_class[6]],[128,locale.a_class[7]],[256,locale.a_class[8]],[1024,locale.a_class[10]]];
function gf(a){this.Gd();if(a==Fd){a=document.createElement("div");a.className="if_propagate";a.appendChild(this.kc);a.appendChild(document.createTextNode(" "+locale.F_Propagate));this.b.appendChild(a)}}gf.prototype=new $e;p=gf.prototype;
p.xa=[[2],[0,locale.F_General],[1,locale.F_ItemClass,["class",Oe,[[4,"Armor"],[3,"Gem"],[2,"Weapon"]]]],[0,locale.F_Stats],[1,locale.CS_Stats[1][0],["str",Y,$]],[1,locale.CS_Stats[1][1],["agi",Y,$]],[1,locale.CS_Stats[1][2],["sta",Y,$]],[1,locale.CS_Stats[1][3],["int",Y,$]],[1,locale.CS_Stats[1][4],["spi",Y,$]],[0,locale.F_Ratings],[1,locale.ItemStatNames[31],["hit",Y,$]],[1,locale.ItemStatNames[32],["crit",Y,$]],[1,locale.ItemStatNames[35],["res",Y,$]],[1,locale.ItemStatNames[36],["haste",Y,$]],
[1,locale.ItemStatNames[49],["mast",Y,$]],[0,locale.F_Defense],[1,locale.ItemStatNames[13],["dod",Y,$]],[1,locale.ItemStatNames[14],["par",Y,$]],[1,locale.ItemStatNames[15],["blo",Y,$]],[0,locale.F_Melee],[1,locale.ItemStatNames[38],["ap",Y,$]],[0,locale.F_Spell],[1,locale.ItemStatNames[45],["sp",Y,$]],[0,locale.F_Requirements],[1,"Usable by ",["usablebyclass",Oe,ff]],[1,locale.F_CanBeUsedWithLevel,["canbeusedwithlvl",Y,3]],[1,locale.F_RequiresReputation,["reqrepu",Oe,[[1,locale.F_Yes],[0,locale.F_No]]]],
[0,locale.F_Miscellaneous],[1,locale.F_SocketableGem,["issocketablegem",Oe,[[1,locale.F_Yes],[0,locale.F_No]]]],[1,locale.F_GemReqItemLevel,["gemreqitemlvl",Y,$]]];p.Gc=0;p.ie=0;p.he=-1;p.di=function(a,b){this.he=a;this.Gc=b};p.xj=ca("ie");
p.update=function(a){var b=i,c=i,d=i,g=i,h=[],j=l;switch(this.he){case 4:if(this.Gc&2048)c=hf(this,[11]);else{j=f;c=hf(this,[0,1,2,3,4])}break;case 3:this.za.Me.subclass=l;if(this.Gc&64){af(this,"subclass");c=hf(this,[6])}else if(this.Gc&1024){af(this,"subclass");c=hf(this,[10])}else c=hf(this,[0,1,2,3,4,5,7,8]);break;case 2:if(this.Gc==0)j=f;else c=hf(this,i)}if((this.ie&6463488)!=0||this.he==2){d=["dps",Ne];g=["delay",Ne]}if(j||this.ie!=0){b=[];j=-1;var k=0,q;if(this.he==4)if(this.Gc==0)j&=df[0]|
df[1]|df[2]|df[3]|df[4];else{for(q=0;q<5;q++)if(this.Gc&1<<q)k|=df[q];j&=k}else if(this.he==2)if(this.Gc==0)j&=6463488;if(this.ie)this.ie&=j;else this.ie=j;for(q=1;q<=28;q++)if((this.ie&1<<q)!=0)b[b.length]=[q,q==14?locale.F_ShieldHand:locale.a_slot[q]];b=["slot",Pe,b]}h[0]=["name",Y,2];h[1]=["quality",Pe,ef];if(d){h[2]=d;h[3]=g}if(b)h[4]=b;if(c)h[5]=c;h[6]=["lvl",Ne];h[7]=["reqlvl",Ne];this.za.F(this.xa,h,a);a=this.za.nf;c=this.Gb.d[0];for(d=0;d<c.length;d++)c[d].innerHTML="";d=bf(locale.F_Name,
a[0].b);d.className="if_in_later";c[0].appendChild(d);d=bf(locale.F_ItemLevel,a[6].b);d.className="if_in_later";c[0].appendChild(d);d=bf(locale.F_RequiredLevel,a[7].b);d.className="if_in_later";c[0].appendChild(d);d=cf(locale.F_Quality,a[1].b);d.className="if_in_later";c[3].appendChild(d);if(a[2]){d=bf(locale.F_DPS,a[2].b);d.className="if_in_later";c[0].appendChild(d)}if(a[3]){d=bf(locale.F_Speed,a[3].b);d.className="if_in_later";c[0].appendChild(d)}a[4]&&c[1].appendChild(cf(locale.F_InventorySlot,
a[4].b));a[5]&&c[2].appendChild(cf(locale.F_ItemClass,a[5].b))};function hf(a,b){var c=[],d;if(b)for(d=0;d<b.length;d++)c[c.length]=[b[d],Ua[a.he][1][b[d]]];else for(d=0;d<32;d++)if((1<<d&a.Gc)!=0)c[c.length]=[d,Ua[a.he][1][d]];return["subclass",Pe,c]};function jf(){this.Gd();this.za=new Te}jf.prototype.xa=[[3],[1,locale.CS_Stats[1][0],["str",Y,$]],[1,locale.CS_Stats[1][1],["agi",Y,$]],[1,locale.CS_Stats[1][2],["sta",Y,$]],[1,locale.CS_Stats[1][3],["int",Y,$]],[1,locale.CS_Stats[1][4],["spi",Y,$]],[1,locale.F_IsEnchant,["isenchant",Oe,[[1,locale.F_Yes],[0,locale.F_No]]]],[1,locale.F_Description,["description",Y,2]]];jf.prototype=new $e;
jf.prototype.update=function(a){this.za.F(this.xa,[["name",Y,2]],a);var b=this.za.nf,c;a=this.Gb.d[0];for(c=0;c<a.length;c++)a[c].innerHTML="";b=bf(locale.F_Name,b[0].b);b.className="if_in_later";a[0].appendChild(b)};function kf(){this.Gd()}kf.prototype=new $e;kf.prototype.xa=[[2],[1,locale.F_ShowDeleted,["showdeleted",[[1,locale.F_Yes],[0,locale.F_No]]]],[1,locale.F_CharacterLevel,["lvl",Y,$]]];kf.prototype.Gb=i;kf.prototype.ub=function(){return $e.prototype.ub.call(this)};kf.prototype.update=function(a){this.za.F(this.xa,[["ismine",Oe,[[1,"Yes"],[0,"No"]]]],a);var b=this.za.nf,c;a=this.Gb.d[0];for(c=0;c<a.length;c++)a[c].innerHTML="";b=cf(locale.F_MyProfiles,b[0].b);b.className="if_in_later";a[0].appendChild(b)};var lf=[[1,locale.a_class[0]],[2,locale.a_class[1]],[3,locale.a_class[2]],[4,locale.a_class[3]],[5,locale.a_class[4]],[6,locale.a_class[5]],[7,locale.a_class[6]],[8,locale.a_class[7]],[9,locale.a_class[8]],[11,locale.a_class[10]]];function mf(){this.Gd()}mf.prototype=new $e;mf.prototype.Am=[];mf.prototype.xa=[[1,"Character Class ",["chrclass",Oe,lf]]];mf.prototype.ub=function(){return $e.prototype.ub.call(this)};mf.prototype.update=function(a){this.za.F(this.xa,this.Am,a)};var nf=0;
function of(a){this.S=new Ob([]);this.b=document.createElement("div");this.b.className="il";this.u=document.createElement("div");this.u.className="il_c";this.eb=new Fc;this.eb.M.innerHTML=locale.L_Filter;this.eb.M.className="collapse_h if_collapse_h";this.eb.u.className="collapse_c if_collapse_c";this.eb.b.className="collapse if_collapse";this.eb.b.style.display="none";this.ta=new Q(1,3);this.ta.b.width="100%";this.ta.K[0].width="33%";this.ta.K[1].width="34%";this.ta.K[2].width="33%";this.od=document.createElement("a");
this.od.className="il_page_btn il_prev_page";this.od.style.display="none";P(this.od,"click",this.vn,this,i);this.kh=document.createElement("span");this.kh.className="il_curr_page";this.nd=document.createElement("a");this.nd.className="il_page_btn il_next_page";this.nd.style.display="none";P(this.nd,"click",this.un,this,i);this.ta.d[0][0].appendChild(this.od);this.ta.d[0][1].appendChild(this.kh);this.ta.d[0][1].className="text_align_center";this.ta.d[0][2].appendChild(this.nd);this.ta.b.className=
"il_page_p";this.wf=document.createElement("div");this.b.appendChild(this.eb.b);this.b.appendChild(this.wf);this.b.appendChild(this.u);this.b.appendChild(this.ta.b);this.Fc=a;this.Zb=new t(this.Jg,this)}p=of.prototype;p.S=i;p.b=i;p.u=i;p.ta=i;p.od=i;p.kh=i;p.nd=i;p.eb=i;p.Tb=1;p.wf=i;p.Fc="";p.Ba=1;p.Cc=1;p.nc="";p.gc=i;p.ld=i;p.Zb=i;
function pf(a,b,c){var d=document.createElement("a");d.innerHTML=b+(c==a.Fc?a.Tb==nf?" \u25bc":" \u25b2":"");d.className="il_sort_link"+(c==a.Fc?"_active":"");P(d,"click",a.Ul,a,[c]);return d}p.Ul=function(a){if(a==this.Fc)this.Tb=this.Tb==nf?1:nf;this.Fc=a;this.update()};p.Jg=function(a,b){if(b==this.nc){this.Kf(a);this.ld&&this.ld[0].apply(this.ld[1],[this]);this.nc=""}};p.un=function(){this.Ba=this.Ba<this.Cc?this.Ba+1:this.Cc;this.update()};p.vn=function(){this.Ba=this.Ba>1?this.Ba-1:1;this.update()};
p.filter=function(){this.Ba=1;this.update()};p.Rc=ca("gc");function qf(a,b){a.Cc=b;if(a.Cc>a.Ba){a.nd.innerHTML=locale.next;a.nd.style.display=""}else a.nd.style.display="none";if(a.Ba>1){a.od.innerHTML=locale.previous;a.od.style.display=""}else a.od.style.display="none";a.kh.innerHTML=D(locale.L_PageOf,[a.Ba,a.Cc]);a.ta.b.style.display="table"}p.update=ba();p.F=ba();p.Kf=ba();p.na=function(){this.b.style.display="none"};p.show=function(){this.b.style.display="block"};
p.La=function(){this.u.style.display="block";this.u.innerHTML="<div class='li_loading'>"+locale.L_Loading+"</div>";this.ta.b.style.display="none"};p.pa=function(a,b){this.S.pa(a,b)};var rf="level",Fd=0,Gd=1;
function Ed(a){var b,c;of.call(this,rf);Vb(this.S,["stat_weights_change","stat_caps_change","level_change","class_change","character_load","selected_tree_change","calculate_stats","show_stat_weights_interface"]);this.A=new gf(a);this.A.Ke=new t(this.filter,this);G.ha(this.eb.u,this.A.b);this.yd=document.createElement("input");this.yd.type="checkbox";P(this.yd,"click",this.update,this,i);b=document.createElement("input");b.value="Manage Stat Weights";b.type="button";P(b,"click",this.S.Za,this.S,["show_stat_weights_interface",
i]);c=document.createElement("span");c.innerHTML="show stat weight based score";c.className="il_swb";a=document.createElement("div");a.className="il_swb_p";a.appendChild(this.yd);a.appendChild(c);a.appendChild(b);this.wf.appendChild(a);this.u.style.display="none";this.wf.style.display="none";this.Tb=nf}Ed.prototype=new of(rf);p=Ed.prototype;p.k=i;p.se=0;p.U=0;p.jf=0;p.A=i;p.hf=l;p.Zb=i;p.Ka=i;p.yd=i;p.Kg=i;p.Ae=ca("Ka");p.xj=function(a){this.jf=a;this.A.xj(a)};
p.di=function(a,b){this.U=a;this.se=b;this.A.di(a,b)};p.F=function(a){this.Ai=0;this.Cc=this.Ba=1;this.nc="";this.eb.b.style.display="block";this.A.update(a);this.update();this.ta.b.style.display="none"};
p.update=function(){var a="php/interface/get_items.php"+F({a:this.A.ub(),o:this.Fc+"."+(this.Tb==1?"asc":"desc")+";",p:this.Ba,weights:this.yd.checked?JSON.stringify(this.Ka):JSON.stringify(i)});this.show();this.nc=a;Tc(a,this.Zb,[a]);this.u.style.display="block";this.wf.style.display="block";this.ta.b.style.display="none";this.La()};
p.Kf=function(a){var b,c,d,g,h=0,j=this.Kg?this.Kg.ye(this.Ka):0;if(a.length<2)this.u.innerHTML="<div class='il_nothing'>Nothing Found</div>";else{g=new Q(a.length,7+(this.hf?2:0)+(this.yd.checked?1:0));g.b.cellSpacing="0px";g.b.width="100%";qf(this,Math.ceil(a[0][0]/a[0][1]));g.K[h].width="26px";h++;g.d[0][h++].appendChild(pf(this,"Name","name"));if(this.hf){g.d[0][h++].appendChild(pf(this,"DpS","dps"));g.d[0][h++].appendChild(pf(this,"Spd","delay"))}g.d[0][h++].appendChild(pf(this,"iLvl",rf));g.d[0][h++].appendChild(pf(this,
"Slot","slot"));g.d[0][h++].appendChild(pf(this,"Type","itemclass"));this.yd.checked&&g.d[0][h++].appendChild(pf(this,"Score","weightedscore"));for(b=0;b<h;b++)g.d[0][b].className="il_sort_c";for(b=1;b<a.length;b++){h=0;c=new bc(a[b][0]);wa.F(c);g.X[b].className="il_row"+b%2;d=document.createElement("a");d.className="itemlist_name_link";d.style.color=xa[c.Ga];d.innerHTML=c.v;d.onmouseout=function(){U.xk()};d.onmousemove=function(){U.move()};c.la==i?P(d,"mouseover",U.Ek,U,[c.c]):P(d,"mouseover",U.ei,
U,[c.c]);if(this.gc)P(d,"click",function(k){w(this.gc,[k])},this,[c.Mb()]);else d.href="?item="+c.c;g.d[b][h++].innerHTML="<div style='background-image:url(images/icons/small/"+c.I+".png)' class='il_icon' ></div>";g.d[b][h].appendChild(d);if((c.we&8)!=0){d=document.createElement("sup");d.className="il_heroic";d.innerHTML="H";g.d[b][h].appendChild(d)}h++;if(this.hf){g.d[b][h].className="il_"+(c.qf&512?"un":"")+"imp_col";g.d[b][h++].innerHTML=c.Pb?ic(c):"";g.d[b][h].className="il_"+(c.qf&512?"un":"")+
"imp_col";g.d[b][h++].innerHTML=c.Pb?hc(c):""}g.d[b][h++].innerHTML=c.j;g.d[b][h].className=this.hf?"il_unimp_col":"il_imp_col";g.d[b][h++].innerHTML=c.Aa?locale.a_slot[c.Aa]:"";g.d[b][h].className=this.hf?"il_unimp_col":"il_imp_col";g.d[b][h++].innerHTML=c.Nc[0];if(this.yd.checked){g.d[b][h].className="il_imp_col";g.d[b][h].innerHTML=a[b][1];if(this.Kg!=i&&j>0){d=a[b][1]/j;if(d>1)g.d[b][h].style.color="#"+(d>2?"FF":Math.floor(255-192*(d-1)).toString(16))+"FF00";else if(d<1)g.d[b][h].style.color=
"#FF"+(d>2?"FF":Math.floor(255-192*(1-d)).toString(16))+"00"}h++}g.d[b][h].className="il_unimp_col";g.d[b][h++].innerHTML="<a href='http://wowhead.com/item="+c.c+"' target='_blank'></a>"}G.ha(this.u,g.b)}};var sf="enchantchrlevel",Id=0;function Hd(a){of.call(this,sf);this.A=new jf;this.A.Ke=new t(this.filter,this);G.ha(this.eb.u,this.A.b);this.Cb=a;this.Tb=nf}Hd.prototype=new of("id");p=Hd.prototype;p.Cb=2;p.A=i;p.Oj="";p.update=function(){var a="php/interface/get_spells.php"+F({a:this.A.ub()+this.Oj,o:this.Fc+"."+(this.Tb==1?"asc":"desc")+";",p:this.Ba});this.nc=a;Tc(a,this.Zb,[a]);this.La()};
p.clear=function(){this.eb.b.style.display="none";this.ta.b.display="none";if(this.Cb==Id)this.u.innerHTML="<div class='il_notice'>Select an equipped item to enchant it or to set its random property</div>"};
p.Kf=function(a){var b,c,d,g,h=0,j="";this.ta.b.display="table";if(a.length<2)this.u.innerHTML="<div class='il_nothing'>Nothing Found</div>";else{g=new Q(a.length,3);g.b.cellSpacing="1px";g.b.width="100%";qf(this,Math.ceil(a[0][0]/a[0][1]));g.K[h].width="26px";h++;g.d[0][h++].appendChild(pf(this,"Name","name"));g.d[0][h++].appendChild(pf(this,"Req. Level",sf));for(b=0;b<h;b++)g.d[0][b].className="il_sort_c";for(b=1;b<a.length;b++){h=0;c=new V(a[b]);A.F(c);g.X[b].className="il_row"+b%2;g.d[b][h++].innerHTML=
"<div style='background-image:url(images/icons/small/"+c.I+".png)' class='il_icon' ></div>";d=document.createElement("a");d.className="itemlist_name_link";d.innerHTML=c.getName();d.onmouseout=function(){U.xk()};d.onmousemove=function(){U.move()};(this.Cb=Id)?P(d,"mouseover",U.mo,U,[c.c]):P(d,"mouseover",U.tf,U,[c.c]);g.d[b][h++].appendChild(d);j="None";for(var k=0;k<c.O.length;k++)if(c.O[k]&&c.O[k].yf==53&&c.O[k].Vb!=i){j=c.O[k].Vb.Jb;break}g.d[b][h++].innerHTML=j;if(this.gc)P(d,"click",function(q){w(this.gc,
[q])},this,[c.c]);else d.href="?spell="+c.c}G.ha(this.u,g.b)}};var tf="time";function uf(){of.call(this,tf);this.A=new kf;this.A.Ke=new t(this.filter,this);G.ha(this.eb.u,this.A.b);this.Mn=i;this.u.style.display="none";this.Jj=new t(this.Dl,this)}uf.prototype=new of(tf);p=uf.prototype;p.Tb=nf;p.A=i;p.Jj=i;p.F=function(a){this.Ai=0;this.Cc=this.Ba=1;this.nc="";this.eb.b.style.display="block";this.A.update(a);this.ta.b.style.display="none"};
p.update=function(){var a="php/interface/profiles/get_profiles.php"+F({a:this.A.ub(),o:this.Fc+"."+(this.Tb==1?"asc":"desc")+";",p:this.Ba});this.nc=a;Tc(a,this.Zb,[a]);this.La()};
p.Kf=function(a){var b,c,d,g=0,h;if(a.length<2)this.u.innerHTML="<div class='il_nothing'>Nothing Found</div>";else{d=new Q(1,4);d.b.cellSpacing="0px";qf(this,Math.ceil(a[0][0]/a[0][1]));d.K[g].width="30px";g++;d.K[g].width="26px";g++;d.K[g].width="26px";g++;d.K[g].width="838px";g++;for(b=0;b<g;b++)d.d[0][b].className="il_sort_c";for(b=1;b<a.length;b++){g=0;h=Nc(d);d.d[h][0].className="pl_entry_h";c=document.createElement("a");c.innerHTML=a[b][2]?a[b][2]:"Profile #"+a[b][0];c.href="?profile="+a[b][0];
c.target="_blank";if(a[b][3]){c.onmouseout=function(){U.na()};c.onmousemove=function(){U.move()};P(c,"mouseover",U.so,U,[a[b][3]])}d.d[h][0].appendChild(c);c=document.createElement("span");c.innerHTML="&nbsp;Created: "+a[b][7]+"&nbsp;";d.d[h][0].appendChild(c);if(this.gc){c=document.createElement("a");c.innerHTML="[Import]";c.className="pl_import_link";P(c,"click",function(j){w(this.gc,[j])},this,[a[b][0]]);d.d[h][0].appendChild(c)}if(g_settings.userId==a[b][1]){c=document.createElement("a");c.innerHTML=
"[x]";c.className="pl_delete_link";P(c,"click",this.Cl,this,[a[b][0]]);d.d[h][0].appendChild(c)}h=Mc(d);d.X[h].className="il_row"+b%2;d.d[h][g++].innerHTML="<div class='text_align_center'>"+a[b][6]+"</div>";d.d[h][g++].innerHTML="<div style='background-image:url(images/site/race_class/small/chr_race_"+a[b][4]+".png)' class='il_icon' ></div>";d.d[h][g++].innerHTML="<div style='background-image:url(images/site/race_class/small/"+a[b][5]+".png)' class='il_icon' ></div>"}G.ha(this.u,d.b)}};
p.Cl=function(a){confirm(locale.sure_delete_profile)&&K.Om(a,this.Jj)};p.Dl=function(a){a.getResponseHeader("error")?T(U,a.responseText):this.update()};function be(){of.call(this,tf);this.A=new mf;this.A.Ke=new t(this.filter,this);af(this.A,"chrclass");G.ha(this.eb.u,this.A.b);this.Mn=i;this.u.style.display="none"}be.prototype=new of(tf);p=be.prototype;p.Tb=nf;p.A=i;p.kd=i;p.F=function(a){this.Ai=0;this.Cc=this.Ba=1;this.nc="";this.A.update(a);this.ta.b.style.display="none"};p.update=function(){var a="php/interface/user/get_stat_weights.php"+F({a:this.A.ub(),o:this.Fc+"."+(this.Tb==1?"asc":"desc")+";",p:this.Ba});this.nc=a;Tc(a,this.Zb,[a]);this.La()};
p.Kf=function(a){var b,c,d=0,g;if(a.length<2)this.u.innerHTML="<div class='il_nothing'>Nothing Found</div>";else{c=new Q(1,1);c.b.cellSpacing="0px";c.b.className="swl_content_grid";qf(this,Math.ceil(a[0][0]/a[0][1]));for(b=0;b<d;b++)c.d[0][b].className="il_sort_c";for(b=1;b<a.length;b++){d=0;d=Mc(c);g=document.createElement("a");g.className="swl_entry"+(b!=a.length-1?" swl_entry_b":"");g.innerHTML=a[b][1]+"<br /><span class='swl_creator'>"+a[b][5]+"</span><br /><span class='swl_entry_desc'>"+(a[b][2]?
a[b][2]:"No Description")+"</span>";g.oncontextmenu=o(l);P(g,"click",this.ag,this,[a[b][3]]);P(g,"contextmenu",this.Oi,this,[a[b][0],a[b][1]]);c.d[d][0].appendChild(g)}G.ha(this.u,c.b)}};p.ag=function(a){this.gc&&w(this.gc,[a])};p.wj=ca("kd");p.Oi=function(a,b){this.kd&&w(this.kd,[a,b])};function ud(a){var b=new Gc(6);this.hb=a;this.b=b.t[0];this.Ob=[document.createElement("div"),document.createElement("div"),document.createElement("div"),document.createElement("div")];b.t[0].appendChild(this.Ob[0]);b.t[0].appendChild(this.Ob[1]);b.t[0].appendChild(this.Ob[2]);b.t[0].appendChild(this.Ob[3]);this.I=document.createElement("img");this.I.className="talent_icon";this.I.src="images/transparent.gif";b.t[1].className="talent_image_div";b.t[1].appendChild(this.I);this.Qg=b.t[2];this.Qg.className=
"talent_highlight_div";this.Af=b.t[3];this.Af.className="talent_border_div";this.Yb=b.t[4];this.Yb.className="talent_text_div";this.zb=b.t[5];this.zb.style.zIndex=6;this.zb.className="talent_event_parent";this.zb.ondblclick=o(l);this.zb.onmousedown=o(l);this.zb.onmouseup=o(l);this.zb.oncontextmenu=o(l)}p=ud.prototype;p.hb=i;p.I=i;p.zb=i;p.Yb=i;p.Af=i;p.Ob=i;p.b=i;p.Qg=i;
p.update=function(a,b){if(this.hb.Ca==this.hb.N||this.hb.N>0&&a){this.I.src="images/icons/medium/"+this.hb.I+".png";this.Yb.innerHTML="<span>"+this.hb.N+"</span>/"+this.hb.Ca;this.Yb.style.backgroundImage="url(images/talents/pointsbg.png)";this.Af.style.backgroundImage="url(images/talents/gold.gif)";this.Yb.style.color="#FFCC00"}else if(hd(this.hb)&&b||this.hb.N>0){this.I.src="images/icons/medium/"+this.hb.I+".png";this.Yb.innerHTML="<span>"+this.hb.N+"</span>/"+this.hb.Ca;this.Yb.style.backgroundImage=
"url(images/talents/pointsbg.png)";this.Af.style.backgroundImage="url(images/talents/green.gif)";this.Yb.style.color="#00DD00"}else{this.I.src="images/icons/g/medium/"+this.hb.I+".png";this.Yb.innerHTML="<span style='margin-top:200px'>"+this.hb.N+"</span>/"+this.hb.Ca;this.Yb.style.backgroundImage="url(images/talents/pointsbg_g.png)";this.Af.style.backgroundImage="url(images/talents/grey.gif)";this.Yb.style.color="#999999"}};function vf(){var a,b,c,d,g=new Q(1,2);Lc(g,"top");var h=document.createElement("div"),j=document.createElement("div");c=document.createElement("div");this.b=document.createElement("div");this.Gh=document.createElement("div");this.Gh.className="cs_sheet_p";this.Rh=document.createElement("div");this.Ui=document.createElement("div");this.Wi=document.createElement("div");this.Ei=document.createElement("div");this.Ci=document.createElement("div");this.zi=document.createElement("div");this.lk=document.createElement("div");
this.pi=document.createElement("div");this.Bo=document.createElement("div");this.Ha=new he;this.cc=new ve;this.Bf=new we;this.pi.appendChild(this.Bf.b);this.Ha.pb.pa("show_stat_weights_interface",new t(function(){this.mf.show()},this));this.mf=new ae;this.vh=new ze;c.appendChild(this.vh.b);c.appendChild(this.zi);this.cb=new Oc([this.Ei,h,c,this.Ha.b,this.lk,this.pi],["Items","Gems","Enchants","Reforging","Sets NYI","Buffs"],"eqf");c=document.createElement("div");c.className="lp_t";c.appendChild(this.cb.bh);
d=document.createElement("div");d.className="lp_m";d.appendChild(this.cb.b);a=document.createElement("div");a.className="lp_b";g.K[0].style.width="343px";g.K[1].style.width="637px";g.d[0][0].appendChild(this.Gh);g.d[0][1].appendChild(c);g.d[0][1].appendChild(d);g.d[0][1].appendChild(a);this.vd=document.createElement("div");this.Oe=document.createElement("div");b=document.createElement("form");b.onsubmit=new Function("return false");b.action="#";P(b,"submit",this.wl,this,[]);this.Sg=document.createElement("input");
this.Sg.className="input im_sa_in";this.Ug=document.createElement("input");this.Ug.className="input im_sa_in";this.Tg=new Ic([[0,locale.US+"/"+locale.Oceanic],[1,locale.Europe],[2,locale.Korea],[3,locale.Taiwan],[4,locale.China]]);this.Tg.b.className="single_select single_select_focussable";this.Ne=document.createElement("input");this.Ne.type="submit";this.Ne.value="Import";this.Ne.className="";G.sj(this.Ne,{"default":"button im_sa_btn",focus:"im_sa_btn_hover",hover:"im_sa_btn_hover"});a=document.createElement("div");
a.className="im_sa_h";a.appendChild(document.createTextNode("Import a character from the Armory"));this.Oe.appendChild(a);a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode("Name"));d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.Sg);G.Ya(a);b.appendChild(a);a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");
c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode("Server"));d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.Ug);G.Ya(a);b.appendChild(a);a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode("Region"));d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.Tg.b);G.Ya(a);b.appendChild(a);
a=document.createElement("div");a.className="im_sa_b im_sa_add_padding";a.appendChild(this.Ne);b.appendChild(a);this.Oe.appendChild(b);this.Oe.className="im_sa_p";this.Qj=document.createElement("div");this.Oe.appendChild(this.Qj);(new Q(4,1)).b.className="align_center";(new Q(1,2)).b.cellSpacing="5px";b=document.createElement("form");b.onsubmit=new Function("return false");b.action="#";P(b,"submit",this.Rl,this,[]);this.oc=document.createElement("input");this.oc.value=locale.save_as_new;this.oc.type=
"submit";G.sj(this.oc,{"default":"button im_sa_save_btn",focus:"im_sa_save_btn_hover",hover:"im_sa_save_btn_hover"});this.cf=document.createElement("input");this.cf.className="input im_sa_in";this.bf=document.createElement("input");this.bf.className="input im_sa_in";this.Ch=document.createElement("input");this.Ch.className="input im_sa_in";this.ng=document.createElement("input");this.ng.className="input im_sa_in";this.ng.type="password";a=document.createElement("div");a.className="im_sa_h";a.appendChild(document.createTextNode("Save the current profile"));
this.vd.appendChild(a);a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode(locale.S_ProfileName));d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.cf);G.Ya(a);b.appendChild(a);a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode(locale.S_CharacterDescription));
d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.bf);G.Ya(a);b.appendChild(a);this.Nd=document.createElement("div");a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode(locale.L_UserName));d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.Ch);G.Ya(a);this.Nd.appendChild(a);a=document.createElement("div");
a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode(locale.L_Password));d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.ng);G.Ya(a);this.Nd.appendChild(a);b.appendChild(this.Nd);if(g_settings.profileId>0&&g_settings.userId>0){a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_center im_sa_add_padding";a.appendChild(c);
c.appendChild(this.oc)}else{a=document.createElement("div");a.className="im_sa_b im_sa_add_padding";a.appendChild(this.oc)}b.appendChild(a);this.vd.appendChild(b);if(g_settings.profileId>0&&g_settings.userId>0){a=document.createElement("div");a.className="im_sa_border";this.vd.appendChild(a);a=document.createElement("div");a.className="im_sa_r";a.innerHTML='<span class="im_sa_notice">Update the current profile</span>';this.vd.appendChild(a);this.sf=document.createElement("input");this.sf.value=locale.update_profile;
this.sf.type="submit";this.oc.className="im_sa_save_btn";G.sj(this.sf,{"default":"button im_sa_save_btn",focus:"im_sa_save_btn_hover",hover:"im_sa_save_btn_hover"});P(this.sf,"click",this.ld,this,i);a=document.createElement("div");a.className="im_sa_b im_sa_add_padding";a.appendChild(this.sf);this.vd.appendChild(a)}this.vd.className="im_sa_p";c=new Oc([this.Rh,this.cc.b],["Talents","Glyphs"],"ttf");j.appendChild(c.bh);j.appendChild(c.b);this.rh=new uf;this.rh.F("ismine.eq.1;","","");a=document.createElement("div");
a.className="pl_r";c=document.createElement("div");c.className="pl_t";d=document.createElement("div");d.className="pl_b";d.appendChild(this.rh.b);c.appendChild(d);a.appendChild(c);this.Wi.appendChild(a);this.Le=new Oc([g.b,j,this.Ui,this.Oe,this.vd,this.Wi],["Character Sheet","Talents","Overview","Import","Save","Browse"],"mtf");this.b.appendChild(this.Le.b);this.Kb=new oe;h.appendChild(this.Kb.b);h.appendChild(this.Ci);if(g_settings.sessionId)this.Nd.style.display="none"}p=vf.prototype;p.b=i;
p.Le=i;p.cb=i;p.Gh=i;p.Rh=i;p.Ui=i;p.rh=i;p.Wi=i;p.Ei=i;p.Ci=i;p.zi=i;p.lk=i;p.pi=i;p.Oe=i;p.vd=i;p.Sg=i;p.Ug=i;p.Tg=i;p.Ne=i;p.Qj=i;p.Rg=i;p.Nd=i;p.oc=i;p.cf=i;p.bf=i;p.Ch=i;p.ng=i;p.Bh=i;p.sf=i;p.Zb=i;p.Kb=i;p.Ha=i;p.cc=i;p.Bf=i;p.vh=i;p.mf=i;p.update=function(a){G.ha(this.Gh,a.B.b);G.ha(this.Ei,a.Pa.b);G.ha(this.Ci,a.$d.b);G.ha(this.zi,a.Ie.b);a.e!=i&&G.ha(this.Rh,a.e.q.b);this.cc.update(a);var b=this.mf;b.i=a;ce(b)};
p.wl=function(){var a=this.Sg.value,b=this.Ug.value;if(a==""||a.length<2)T(U,"The character name is empty or too short!");else if(b=="")T(U,"The server name is empty or too short!");else this.Rg&&this.Rg[0].apply(this.Rg[1],[a,b,parseInt(this.Tg.b.selectedIndex,10)])};
p.Rl=function(){var a=this.cf.value,b=this.bf.value,c=this.Ch.value,d=this.ng.value;if(!g_settings.sessionId){if(c==""||c.length<4){T(U,"The user name is empty or too short!");return}if(d==""||d.length<4){T(U,"The password is empty or too short!");return}}this.Bh&&this.Bh[0].apply(this.Bh[1],[a,b,c,d])};p.ld=function(){var a=this.cf.value,b=this.bf.value;this.Zb&&this.Zb[0].apply(this.Zb[1],[a,b])};var gb="Ajax: Error - Received bad HTTP response code: $";function L(a,b,c){wf(a,b,c,f)}function Tc(a,b,c){wf(a,b,c,l)}
function wf(a,b,c,d){var g=me();if(a)if(g){c||(c=[]);a+=-1==a.search(/\?/)?"?_="+(new Date).getTime():"&_="+(new Date).getTime();g.open("GET",a,f);g.onreadystatechange=b?function(){var h=c;if(this.readyState==4)if(!d&&this.status==200){var j=this.getResponseHeader("error");if(j)Ya(j);else{h.splice(0,0,eval("("+this.responseText+")"));w(b,h)}}else if(d){h.splice(0,0,this);w(b,h)}else Xa(E(gb,this.status))}:ba();g.setRequestHeader("Content-Type","application/x-www-form-urlencoded; Charset=utf-8");g.send(i)}else Xa("Ajax: Error - Unable to send a request because of a prior error.");
else Xa(E("Ajax: Error - Invalid URL supplied: $",a))}function me(){var a=i;if(window.XMLHttpRequest)a=new XMLHttpRequest;else if(window.yo)a=new ActiveXObject("MSXML2.XMLHTTP.3.0");else Xa("Ajax: Error - Unable to create request object.");return a}function ne(a){var b=i;if(a.status!=200)b=E(gb,a.status);else if(a.getResponseHeader("error"))b=a.getResponseHeader("error");return b};var R={Gd:function(){window.g_validateLogin=R.Ik;window.g_login=R.Ym;window.g_logout=R.Zm;window.g_checkTopic=R.Mm;window.g_checkEdit=R.Km;window.g_checkReply=R.Lm;window.g_register=R.Sn;window.g_requestPasswordChange=R.Yn;window.g_requestPasswordRecovery=R.Zn},Yn:function(a,b){try{var c=document.getElementById("password").value;if(c!=document.getElementById("password_repeat").value)T(U,locale.Password_and_repeat_differ);else if(c.length<5)T(U,locale.Password_to_short);else{L("php/interface/user/change_password.php"+
F({userId:a,password:MD5(c),guid:b}),new t(R.bk,R),i);U.La()}}catch(d){T(U,d.toString())}},Zn:function(){try{L("php/interface/user/recover_password.php"+F({user_name:encodeURIComponent(document.getElementById("user_name").value),email:encodeURIComponent(document.getElementById("email").value)}),new t(R.bk,R),i);U.La()}catch(a){T(U,a.toString())}},bk:function(a){if(a.status==200){a=eval("("+a.responseText+")");if(typeof a==="object"){if(a[0]==1){T(U,a[1]);return}yb(U,a[1]);return}}U.sa()},Sn:function(){var a=
document.getElementById("user_name").value,b=MD5(document.getElementById("password").value),c=document.getElementById("email").value;if(document.getElementById("password").value!=document.getElementById("password_repeat").value){T(U,locale.Password_and_repeat_differ);return l}if(a.length<4){T(U,locale.Username_to_short);return l}if(document.getElementById("password").value.length<5){T(U,locale.Password_to_short);return l}if(document.getElementById("email").value.search("@")==-1){T(U,locale.Invalid_email);
return l}L("php/interface/user/request_registration.php?u="+a+"&pw="+b+"&e="+c,new t(R.Pk,R),i);document.getElementById("login").disabled=f;return l},Pk:function(a){document.getElementById("login").disabled=l;if(a.status==200)if(a.responseText.search("error_username")!=-1)T(U,locale.Username_invalid_characters);else a.responseText.search("register_success")!=-1?yb(U,"An E-Mail has been sent. Before you can use your account you have to confirm your registration by following the link given in the mail."):
T(U,a.responseText)},Ik:function(){try{var a=document.getElementById("login_password").value;if(document.getElementById("login_user_name").value.length<4){T(U,"User name is too short");return l}if(a.length<4){T(U,"Password is too short");return l}document.getElementById("login_password_md5").value=MD5(a);return f}catch(b){T(U,b);return l}},Ym:function(){try{if(R.Ik()){U.La();L("php/interface/user/authenticate.php"+F({user_name:document.getElementById("login_user_name").value,password:document.getElementById("login_password_md5").value,
cookie:document.getElementById("login_cookie").checked}),new t(R.Nk,R),i)}}catch(a){T(U,a)}},Nk:function(a){if(a.status==200){a=eval("("+a.responseText+")");if(a[0]==1)T(U,a[1]);else{g_settings.sessionId=a[1];g_settings.userId=a[2];document.getElementById("ajax_login").style.display="none";document.getElementById("ajax_logout").style.display="block";document.getElementById("register_logged_out").style.display="none";document.getElementById("register_logged_in").style.display="block";document.getElementById("register_user_name").innerHTML=
a[3];g_settings.isPlanner&&S.Wm();U.sa()}}else U.sa()},Zm:function(){try{L("php/interface/user/logout.php",new t(R.Ok,R),i)}catch(a){}},Ok:function(){g_settings.sessionId="";g_settings.userId=0;g_settings.userName="";document.getElementById("ajax_login").style.display="block";document.getElementById("ajax_logout").style.display="none";document.getElementById("register_logged_out").style.display="block";document.getElementById("register_logged_in").style.display="none";g_settings.isPlanner&&S.Xm();
U.sa()},Cg:function(){if(typeof window.innerWidth!="undefined")return[window.innerWidth,window.innerHeight];var a=window.document.compatMode&&window.document.compatMode=="CSS1Compat"?window.document.documentElement:window.document.body;return[parseInt(a.clientWidth,10),parseInt(a.clientHeight,10)]},Mm:function(a){var b=document.getElementById("topic_title").value,c=document.getElementById("topic_content").value;if(b.length<2)T(U,"The title of your post is too short!");else if(c.length<2)T(U,"The content of your topic is too short!");
else{document.getElementById("topic_submit").disabled=f;L("php/interface/forum/newTopic.php?forum="+a+"&title="+encodeURIComponent(b)+"&content="+encodeURIComponent(c)+"&session_id="+g_settings.sessionId,new t(R.Mk,R),i)}},Mk:function(a){if(a.status==200){a=eval("("+a.responseText+")");if(a[0]!=0){T(U,a[1]);document.getElementById("topic_submit").disabled=l}else{document.getElementById("topic_form").onsubmit=new Function("");document.getElementById("topic_form").action="?f&topic="+a[1];document.getElementById("topic_form").submit()}}else{T(U,
a.responseText);document.getElementById("topic_submit").disabled=l}},Go:function(a){L("php/interface/forum/deleteTopic.php?topic="+a+"&session_id="+g_settings.sessionId,i,i)},Ko:function(a){L("php/interface/forum/lockTopic.php?topic="+a+"&session_id="+g_settings.sessionId,i,i)},Lm:function(a,b){var c=document.getElementById("reply_content").value;if(c.length<2)T(U,"The content of your post is too short!");else{document.getElementById("reply_submit").disabled=f;L("php/interface/forum/addPost.php?topic="+
a+"&content="+encodeURIComponent(c)+"&session_id="+g_settings.sessionId,new t(R.Lk,R),[a,b])}},Lk:function(a,b,c){if(a.status==200){a=eval("("+a.responseText+")");if(a[0]!=0){T(U,a[1]);document.getElementById("reply_submit").disabled=l}else{document.getElementById("reply_form").onsubmit=new Function("");document.getElementById("reply_form").action="?f&topic="+b+"&page="+Math.ceil(a[1]/c)+"#bottom";document.getElementById("reply_form").submit()}}else{T(U,a.responseText);document.getElementById("reply_submit").disabled=
l}},Km:function(a,b,c){var d=document.getElementById("edit_content").value;if(d.length<2)T(U,"The content of your post is too short!");else{document.getElementById("edit_submit").disabled=f;L("php/interface/forum/editPost.php?post="+a+"&content="+encodeURIComponent(d)+"&session_id="+g_settings.sessionId,new t(R.Kk,R),[a,b,c])}},Kk:function(a,b,c,d){if(a.status==200){a=eval("("+a.responseText+")");if(a[0]!=0){T(U,a[1]);document.getElementById("edit_submit").disabled=l}else{document.getElementById("edit_form").onsubmit=
new Function("");document.getElementById("edit_form").action="?f&topic="+c+"&page="+d+"#p"+b;document.getElementById("edit_form").submit()}}else{T(U,a.responseText);document.getElementById("edit_submit").disabled=l}}};window.__chardev_init=R.Gd;var S={Gj:85,Uc:[],w:i,Ta:-1,l:i,kl:l,Do:0,Dm:0,Eo:"",Co:"en",qb:new Nb,Gd:function(a){wa=new Sc;A=new Uc;Wa=document.getElementById("error_console");if(document.addEventListener)document.addEventListener("mousemove",U.vk,f);else document.body.onmousemove=U.vk;P(document.body,"keydown",U.Um,U,i);if(a.isPlanner){var b=S.Nm(),c=new vf;a.character&&b.load(a.character);S.ho(c);document.getElementById("mtf_p").className="mtf_p";document.getElementById("mm_w").className="mm_w2";document.getElementById("mtf_p").appendChild(c.Le.bh);
document.getElementById("planner_parent").appendChild(c.b);S.qb.pa("started",new t(S.Cn,S));S.qb.pa("finished",new t(S.An,S));S.qb.pa("progress_change",new t(S.Bn,S));S.qb.pa("values_change",new t(S.Dn,S));window.onbeforeunload=function(d){d=d||window.event;if(!S.pn()){if(d)d.returnValue="Are you sure? All unsaved changes will be lost, if you continue!";return"Are you sure? All unsaved changes will be lost, if you continue!"}return i}}},Pn:function(){S.Ta!=-1&&Ub(S.qb)},Cn:function(){if(S.w!=i){var a=
U;if(a.je==i){a.je=document.createElement("div");a.je.className="tt_loading";a.je.innerHTML=eb(0)+"%"}a.uc(a.je)}},An:function(){S.w!=i&&U.sa()},Bn:function(a){if(S.w!=i)if(U.je!=i)U.je.innerHTML=eb(a)+"%"},Dn:function(a){S.w!=i&&fe(S.w.Ha.pb,a)},Lo:function(a){S.w!=i&&ee(S.w.Ha.pb,Qb(a))},Fn:function(){S.w!=i&&S.w.mf.show()}};
S.Nm=function(){var a=new Dd;a.ri=new t(S.en,S);a.Ii=new t(S.qn,S);a.Ni=new t(S.cn,S);for(var b=a.B,c=new t(S.Gn,S),d=0;d<b.Da.length;d++)b.Da[d].Rc(c);a.Pa.A.Yi=new t(S.mn,S);a.Pa.Rc(new t(S.nn,S));a.Pa.ld=[S.on,S];a.$d.Rc(new t(S.zk,S));a.$d.ld=[S.ln,S];a.Ie.Rc(new t(S.jn,S));a.Ie.ld=[S.kn,S];af(a.Ie.A,"isenchant");a.pa("stat_weights_change",new t(S.Bk,S));a.pa("stat_caps_change",new t(S.Ak,S));a.Pa.pa("show_stat_weights_interface",new t(S.Fn,S));S.Uc.push(a);S.Ta==-1&&S.uo();return a};
S.uo=function(){S.Ta=0;S.l=S.Uc[S.Ta];S.qb.update(S.l);S.w!=i&&S.w.update(S.l)};S.mn=function(){var a=S.l;if(a.Pa.A.kc&&a.Pa.A.kc.checked)a.Qh=a.Pa.A.ub()};S.cn=function(){if(S.w!=i&&S.Ta!=-1){S.Bg();S.w.cc.update(S.l)}};S.Bg=function(){var a,b;if(S.w!=i&&S.Ta!=-1){a=S.l;b=a.B.Ia;b>=0?S.w.Ha.update(a.z.H(b)):S.w.Ha.update(i);S.w.Ha.pb.update(a)}a=S.qb;a.Ab=i;Pb(a)};S.Oo=function(a){var b=S.Uc[a];S.Uc.splice(a,1);return b};S.parse=function(a){return Za(a,S.l)};S.qn=function(){S.w!=i&&S.Ta!=-1&&S.w.cc.update(S.l)};
S.en=function(a){var b=-1;if(S.w!=i&&S.Ta!=-1){S.w.cc.update(S.l);if(a.e!=i){b=S.l;b.e!=i&&G.ha(S.w.Rh,b.e.q.b)}b=a.B.Ia;S.w.cb.Ja==0&&b!=-1&&S.nj(b)}};
S.nj=function(a){if(!(a<0)){var b=S.l,c,d,g;c=b.Pa;af(c.A,"usablebyclass");af(c.A,"issocketablegem");af(c.A,"canbeusedwithlvl");af(c.A,"class");af(c.A,"gemreqitemlvl");c.hf=a==16||a==17&&b.e!=i&&(1<<b.e.c&154)!=0||a==18&&b.e!=i&&(1<<b.e.c&826)!=0;if(a!=16&&a!=17&&a!=18)af(c.A,"slot");else c.A.za.Me.slot=l;if(a==1||a==12||a==13||a==14||a==15||a==6||a==5)af(c.A,"subclass");else c.A.za.Me.subclass=l;g=Od(b,a);d=Qd(b,a);c.di(d[0],d[1]);c.xj(g);a=c.A.kc&&c.A.kc.checked?b.Qh:b.of[a];a=a.replace(/\bclass\.\w+\.[^;]*;/,
"")+(d[0]>=0?"class.eq."+d[0]+";":"");a=a.replace(/\bslot\.\w+\.[^;]*;/,"")+(g>0?"slot.ba."+g+";":"");a=a.replace(/\bsubclass\.\w+\.[^;]*;/,"")+(d[1]>0?"subclass.ba."+d[1]+";":"");c.F(a,i,i);c.Kg=S.Tm()}};S.on=function(){var a=S.l,b=a.B.Ia,c=a.Pa.A.ub(),d=a.Pa.A.kc&&a.Pa.A.kc.checked;a.tc();if(d)a.Qh=c;else{S.sh("name",c);S.sh("quality",c);S.sh("lvl",c);S.sh("reqlvl",c);a.of[b]=c}};S.sh=function(a,b){var c=b.match(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;","g"));c?Td(S.l,a,c.join("")):Td(S.l,a,"")};
S.qk=function(a){var b=S.l,c=b.Ie;if(a<0)c.clear();else if(a=b.z.k[a][0]){S.w.vh.update(a);c.Oj="itemclass.ba."+(1<<a.U)+";itemsubclass.ba."+(1<<a.da)+";slot.ba."+(1<<a.Aa)+";enchantitemlevel.le."+a.j+";enchantchrlevel.le."+b.j+";isenchant.eq.1;";c.Ai=0;c.Ba=1;c.Cc=1;c.nc="";c.eb.b.style.display="block";c.A.update("");c.gc||e("Not yet implemented");c.update()}else c.clear()};
S.Gn=function(a,b){if(b==0){var c=S.l.B;a!=-1&&c.Da[a].select();if(c.Ia!=-1&&c.Ia!=a){var d=c.Da[c.Ia];d.b.style.backgroundImage=d.Ga>-1?"url(images/site/item_border_q"+d.Ga+".png)":"url(images/site/item_border.png)";d.pe=l}c.Ia=a;if(S.w.cb.Ja==0)b==0&&S.nj(a);else if(S.w.cb.Ja==1)if(S.l.z.H(a)!=i){S.w.Kb.update(S.l,a,-1);S.l.$d.na()}else S.w.cb.show(0);else if(S.w.cb.Ja==3)S.l.z.H(a)!=i?S.Bg():S.w.cb.show(0);else if(S.w.cb.Ja==2)S.l.z.H(a)!=i?S.qk(a):S.w.cb.show(0);else S.w.cb.Ja==5&&S.w.cb.show(0)}};
S.Hn=function(a){var b=S.l,c=b.B.Ia,d=b.$d;a=lb(b.z.k[c][0].ga[a]);af(d.A,"usablebyclass");af(d.A,"issocketablegem");af(d.A,"gemreqitemlvl");af(d.A,"class");d.di(3,a);d.F((b.e!=i?"usablebyclass.eq."+(1<<b.e.c-1)+";":"")+"issocketablegem.eq.1;class.eq.3;subclass.ba."+a+";gemreqitemlvl.le."+b.z.k[c][0].j+";",i,i)};S.In=function(a){var b=S.l,c=b.B.Ia;b.tc();ec(b.z.k[c][0],i,a,l);W(S.l);S.w.Kb.update(S.l,c,S.w.Kb.Xb)};
S.dn=function(a){var b=S.l.B.Ia;if(a==0)S.nj(b);else if(a==1){S.w.Kb.update(S.l,b,-1);S.l.$d.na()}else if(a==3)S.Bg();else if(a==2)S.qk(b);else a==5&&S.w.Bf.update(S.l)};S.ln=ba();S.zk=function(a){var b=S.l,c=b.B.Ia,d=S.w.Kb;b.tc();a=a.Mb();ec(b.z.k[c][0],a,d.Xb,l);W(S.l);S.w.Kb.update(S.l,c,d.Xb)};S.nn=function(a){var b=S.l.B.Ia;if(b!=-1){S.l.z.F(b,a.Mb());if(b==16)S.l.B.Da[17].update();else b==17&&S.l.B.Da[16].update();S.l.B.Da[b].update();W(S.l)}};
S.Tm=function(){if(S.Ta==-1)return i;var a=S.l,b=a.B.Ia;if(b==-1)return i;return a.z.k[b][0]};S.jn=function(a){var b=S.l,c=b.B.Ia;a=A.H(a);b.tc();sb(b.z.k[c][0],a.O[0].Vb);W(b)};S.kn=ba();
S.ho=function(a){S.w=a;a.Le.wb(S.rn,S);a.cb.wb(S.dn,S);var b=a.Kb,c=S;b.Ri=S.Hn;b.Si=c;a.Kb.ih=[S.zk,S];a.Kb.hh=[S.In,S];a.Ha.wb(S.zn,S);a.Ha.pb.pa("stat_weight_change",new t(S.Ln,S));a.Ha.pb.pa("stat_cap_change",new t(S.Jn,S));a.Ha.pb.pa("stat_caps_reset",new t(S.Kn,S));a.Ha.pb.pa("optimise",new t(S.Pn,S));a.Ha.pb.pa("use_optimised_reforge",new t(S.Nn,S));a.Rg=[S.Fm,S];a.Bh=[S.$n,S];a.Zb=[S.wo,S];a.cc.Rc(S.an,S);a.cc.wj(S.En,S);a.rh.Rc(new t(S.wn,S));a.vh.wb(S.yn,S);a.Bf.hi=new t(S.$m,S);a.mf.Ti=
new t(S.On,S);if(S.Ta!=-1){S.w.update(S.l);S.Bk(S.l.Yh());S.Ak(Ld(S.l));fe(S.w.Ha.pb,S.qb)}};S.Nn=function(){if(!(!S.qb&&S.qb.Ab)){for(var a=[],b,c=0;c<19;c++)if((b=S.qb.Ab[c])&&b[0]!=-1)a[c]=[y[b[0]],y[b[1]]];S.l.$h(a);S.Bg()}};S.yn=function(){W(S.l)};S.wn=function(a){U.La();K.Rn(a,new t(S.xn,S))};S.xn=function(a){S.l.load(a);S.w.Le.show(0);U.sa()};S.En=function(a,b){var c=S.l;if(c.e)c.e.T[a][b]=i;S.w.cc.update(c)};S.an=function(a,b){var c=S.l;c.e&&wd(c.e,a,b);S.w.cc.update(c)};
S.Fm=function(a,b,c){U.La();K.Qn(a,b,c,new t(S.Sk,S))};S.Sk=function(a,b){if(a!=i){S.l.load(a);U.sa();S.w.Le.show(0)}else T(U,b)};S.zn=function(){W(S.l);S.Bg();S.qb.update(S.l)};S.$n=function(a,b,c,d){var g=S.l;g.vj(a);g.Z=b;U.La();g_settings.sessionId?K.Jk(0,g,new t(S.dj,S)):K.xo(c,d,g,new t(S.dj,S))};S.wo=function(a,b){var c=S.l;c.vj(a);c.Z=b;U.La();g_settings.sessionId?K.Jk(g_settings.profileId,c,new t(S.dj,S)):T(U,"In order to update an existing profile, you have to be logged in!")};
S.dj=function(a,b){b?T(U,b):yb(U,"Your profile was saved.<br /><a class='tt_profile_link' href='?profile="+a+"' target='_blank'>Click here</a> to view it.")};S.Wm=function(){if(S.w!=i)S.w.Nd.style.display="none"};S.Xm=function(){if(S.w!=i)S.w.Nd.style.display="block"};
S.rn=function(a){switch(a){case 2:a=S.l;var b,c,d,g,h=l,j="<div class='ov_parent'><div class='ov_character_info'>Level "+a.j;if(a.Ma)j+=" "+a.Ma.v;if(a.e){b="";if(a.e.q.L!=-1)b="<span class='ov_spec'>"+a.e.q.ve[a.e.q.L]+"</span> ";j+=" <span class='ov_class_"+a.e.c+"'>"+b+a.e.v+"</span>"}j+="<div class='ov_avg_item_level'>"+locale.OV_AverageItemLevel+": "+Math.floor(a.g.Se)+"</div>";j+="</div>";for(b=0;b<a.z.k.length;b++){d=a.z.k[b][0];h=b==9;if(d!=i){j+="<div class='ov_item_parent'><div class='ov_slot'>"+
locale.a_slot[d.Aa]+"</div>";j+="<div><a class='ov_item' onmousemove='g_moveTooltip();' onmouseout='g_hideTooltip();' onmouseover='g_showItemBySlot("+b+");' style='color:"+xa[d.Ga]+"; white-space:nowrap;'>"+d.v+"</a> <span class='ov_item_level'>("+d.j+")</span></div>";for(c=0;c<d.D.length;c++){g=d.D[c];if(g==i&&d.ga[c]==0)if(h)h=l;else continue;j+="<div class='ov_socket'>";j+=d.ga[c]==0?locale.blacksmithingsocket+": ":d.ga[c]==14?locale.PrismaticSocket+": ":locale.a_socket[Math.log(d.ga[c])/Math.log(2)]+
": ";j+=g!=i?"<a class='ov_gem' onmousemove='g_moveTooltip();' onmouseout='g_hideTooltip();' onmouseover='g_showItemWithoutPreview("+g.c+");' style='color:"+xa[g.Ga]+"; white-space:nowrap;'>"+g.v+"</a>":locale.OV_EmptySocket;j+="</div>"}d=d.G;if(d.length>0){j+="<div class='ov_enchant'>"+locale.OV_Enchant+":";for(c=0;c<d.length;c++)j+="<div class='ov_enchant_desc'>"+d[c].Z+"</div>";j+="</div>"}j+="</div>"}}S.w.Ui.innerHTML=j+"</div>";break;case 0:S.w.cb.Ja==5&&S.w.Bf.update(S.l);break;case 4:a=S.l;
S.w.bf.value=a.Z;S.w.cf.value=a.v}};S.$m=function(a,b){S.l.r.add(a,b)};S.Jn=function(a,b){if(S.Ta!=-1){var c=S.l;if(c.lf==i)c.lf=Md(c);c.lf[a]=b;c.S.Za("stat_caps_change",[Ld(c)])}};S.Kn=function(){S.Ta!=-1&&Nd(S.l)};S.Ln=function(a,b){if(S.Ta!=-1){var c=S.l;c.Ka[a]=b;c.S.Za("stat_weights_change",[c.Ka])}};S.On=function(a){S.Ta!=-1&&S.l.Ae(a)};
S.Bk=function(a){var b=[S.l.Ka[6],S.l.Ka[13],S.l.Ka[14],S.l.Ka[31],S.l.Ka[32],S.l.Ka[36],S.l.Ka[37],S.l.Ka[49]];S.qb.yj(b);if(S.w!=i&&S.Ta!=-1){S.w.mf.F(a);S.w.Ha.pb.yj(b)}};S.Ak=function(a){S.qb.uj(a);S.w!=i&&S.Ta!=-1&&S.w.Ha.pb.uj(a)};S.pn=function(){for(var a=0;a<S.Uc.length;a++)if(S.Uc!=i&&JSON.stringify(S.Uc[a].Wg)!=JSON.stringify(hb(S.Uc[a])))return l;return f};window.__engine_init=S.Gd;window.CHARDEV_CORE_BUILD=309;
